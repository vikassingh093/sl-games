/*! v.2.0.0-rc3-live-33b6ddc */
var Game = function(t) {
    var e = {};

    function n(i) {
        if (e[i]) return e[i].exports;
        var o = e[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return t[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports
    }
    return n.m = t, n.c = e, n.d = function(t, e, i) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }, n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, n.t = function(t, e) {
        if (1 & e && (t = n(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var i = Object.create(null);
        if (n.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var o in t) n.d(i, o, function(e) {
                return t[e]
            }.bind(null, o));
        return i
    }, n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return n.d(e, "a", e), e
    }, n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, n.p = "", n(n.s = 253)
}([function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.PREPARING = "slotStatus.preparing", t.BEFORE_READY = "slotStatus.beforeReady", t.READY = "slotStatus.ready", t.SPINNING = "slotStatus.spinning", t.STOP_SPINNING = "slotStatus.stopSpinning", t.AFTER_SPIN = "slotStatus.afterSpin", t.WAITING = "slotStatus.waiting", t.TAKING = "slotStatus.taking", t.BEFORE_WINLINE_WALK = "slotStatus.beforeWinlineWalk", t.FIRST_WINLINE_WALK = "slotStatus.firstWinlineWalk", t.NTH_WINLINE_WALK = "slotStatus.nthWinlineWalk", t.FAST_WINLINE_WALK = "slotStatus.fastWinlineWalk", t.GAMBLING = "slotStatus.gambling", t.BEFORE_SCATTER = "slotStatus.beforeScatter", t.SCATTER_INTRO = "slotStatus.scatterIntro", t.SCATTER_SELECT = "slotStatus.scatterSelect", t.SCATTER_OUTRO = "slotStatus.scatterOutro", t.BEFORE_SPECIAL_WALK = "slotStatus.beforeSpecialWalk", t.BEFORE_FAST_SPECIAL_WALK = "slotStatus.beforeFastSpecialWalk", t.SPECIAL_WALK = "slotStatus.specialWalk", t.FAST_SPECIAL_WALK = "slotStatus.fastSpecialWalk"
        }(i || (i = {}))
}, function(t, e) {
    t.exports = PIXI
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.SPIN = "slotEvent.spin", t.SPIN_COMPLETE = "slotEvent.spinComplete", t.STOP_SPIN = "slotEvent.stopSpin", t.WINLINE_WALK = "slotEvent.winlineWalk", t.WINLINE_WALK_COMPLETE = "slotEvent.winlineWalkComplete", t.TAKE = "slotEvent.take", t.GAMBLE = "slotEvent.gamble", t.SETTINGS = "slotEvent.settings", t.EXIT = "slotEvent.exit", t.REEL_SPIN_START = "slotEvent.reelSpinStart", t.REEL_STOPPING = "slotEvent.reelStopping", t.REEL_ENTER_FINAL_SYMBOLS = "slotEvent.reelEnterFinalSymbols", t.STOP_AUTO_PLAY = "slotEvent.stopAutoPlay", t.BEFORE_WINLINE_WALK = "slotEvent.beforeWinlineWalk", t.BEFORE_WINLINE_WALK_COMPLETE = "slotEvent.beforeWinlineWalkComplete", t.BEFORE_SPECIAL_WALK_COMPLETE = "slotEvent.beforeSpecialWalkComplete", t.BEFORE_SPECIAL_WALK_TRANSFORM = "slotEvent.beforeSpecialWalkTransform", t.SPECIAL_MULTIPLIER = "slotEvent.specialMultiplier", t.AFTER_SPIN = "slotEvent.afterSpin", t.AFTER_SPIN_COMPLETE = "slotEvent.afterSpinComplete", t.POT_COMPLETE = "slotEvent.potComplete", t.SCATTER_INTRO_COMPLETE = "slotEvent.scatterIntroComplete", t.SCATTER_SELECT = "slotEvent.scatterSelect", t.SCATTER_SELECT_COMPLETE = "slotEvent.scatterSelectComplete", t.WINLINE_NUMBER_TAP = "slotEvent.winlineNumberTap"
        }(i || (i = {}))
}, function(t, e) {
    t.exports = GreenSockGlobals
}, function(t, e, n) {
    "use strict";
    var i = {
        hideSplashScreen: function() {
            document.getElementById("splash-screen").style.display = "none"
        },
        FPS: 60,
        MAX_MOBILE_TEXTURE_SIZE: 2048,
        MAX_DESKTOP_TEXTURE_SIZE: 8192,
        MIN_RATIO_ADJUSTMENT: .8484,
        _cache: {
            ratioAdjustment: 0,
            routeReady: !0
        },
        requestFullscreen: function() {
            var t = document.getElementById("game-container");
            t.requestFullscreen ? t.requestFullscreen() : t.msRequestFullscreen ? t.msRequestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen && t.webkitRequestFullscreen()
        },
        exitFullscreen: function() {
            document.exitFullscreen ? document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen()
        },
        hasFullscreenSupport: function() {
            var t = /Android ([0-9]+)\./.exec(navigator.userAgent),
                e = /Chrome\/([0-9]+)\./.exec(navigator.userAgent),
                n = e && e[1] <= 38,
                i = t && t[1] < 5 && n;
            return !(!(document.body.requestFullscreen || document.body.msRequestFullscreen || document.body.mozRequestFullScreen || document.body.webkitRequestFullscreen) || i)
        },
        isIPad: function() {
            return navigator.userAgent.indexOf("iPad") > -1
        },
        isIPhone: function() {
            return navigator.userAgent.indexOf("iPhone") > -1
        },
        isIOS: function() {
            return i.isIPad() || i.isIPhone()
        },
        isIE11: function() {
            return !!window.MSInputMethodContext && !!document.documentMode
        },
        reload: function() {
            location.reload()
        },
        isBigScreen: function() {
            var t = 864,
                e = screen.deviceXDPI / screen.logicalXDPI;
            return e && (t /= e), screen.width >= t && screen.height >= t
        },
        isFullscreen: function() {
            return screen.height === window.innerHeight && screen.width === window.innerWidth
        },
        isOptimalBrowser: function() {
            var t = /Chrome\/([0-9]+)\./.exec(navigator.userAgent) || /CriOS\/([0-9]+)\./.exec(navigator.userAgent);
            return t && t[1] > 39
        },
        getRatioAdjustment: function(t) {
            var e = t.width,
                n = t.height;
            if (!i._cache.ratioAdjustment) {
                var o = i._calculateRatio(screen.width, screen.height),
                    r = i._calculateTaskbarDependentRatio(),
                    a = i._calculateRatio(screen.availWidth, screen.availHeight),
                    s = i.isIPad() ? r : a,
                    u = i.hasFullscreenSupport() ? o : s,
                    l = e / n;
                i._cache.ratioAdjustment = u / l
            }
            return i._cache.ratioAdjustment
        },
        isNarrowScreen: function(t) {
            return i.getCappedRatioAdjustment({
                width: t.width,
                height: t.height
            }) < t.adjustment.narrowScreenThreshold
        },
        getCappedRatioAdjustment: function(t) {
            var e = t.width,
                n = t.height;
            return Math.max(i.getRatioAdjustment({
                width: e,
                height: n
            }), i.MIN_RATIO_ADJUSTMENT)
        },
        _calculateRatio: function(t, e) {
            return Math.max(t / e, e / t)
        },
        _calculateTaskbarDependentRatio: function() {
            var t = i._calculateTaskbarHeight(),
                e = Math.min(screen.width, screen.height),
                n = Math.max(screen.width, screen.height);
            return this._calculateRatio(n, e - t)
        },
        _calculateTaskbarHeight: function() {
            return screen.height === window.innerWidth ? screen.width - window.innerHeight : screen.width === window.innerWidth ? screen.height - window.innerHeight : Math.min(screen.width, screen.height) - Math.min(window.innerWidth, window.innerHeight)
        },
        requiresScrolling: function() {
            var t = document.body,
                e = document.documentElement;
            return Math.max(t.scrollHeight, t.offsetHeight, e.clientHeight, e.scrollHeight, e.offsetHeight) > window.innerHeight && !i.isFullscreen()
        },
        addBeforeUnloadListener: function(t, e) {
            window.history.state && window.history.state.isPrepared || window.history.pushState({
                isPrepared: !0
            }, "", window.location.href), i._cache.oldBeforeUnload || (i._cache.oldBeforeUnload = window.onbeforeunload), window.onbeforeunload = function() {
                return t()
            }, i._cache.oldPopState || (i._cache.oldPopState = window.onpopstate), window.onpopstate = function() {
                window.history.pushState({
                    isPrepared: !0
                }, "", window.location.href);
                var n = t();
                n ? alert(n) : e(), i._cache.oldPopState && i._cache.oldPopState()
            }
        },
        removeBeforeUnloadListener: function() {
            window.onbeforeunload = i._cache.oldBeforeUnload, i._cache.oldBeforeUnload = null, window.onpopstate = i._cache.oldPopState, i._cache.oldPopState = null
        },
        addClickListener: function(t, e, n) {
            i.isIPhone() || t.on("click", e, n), t.on("tap", e, n)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.REGULAR = "gameType.regular", t.SCATTER = "gameType.scatter"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    var i = {
        TEXT_COUNT_COMPLETE: "animationEvent.textCountComplete",
        SPIN_COMPLETE: "animationEvent.spinComplete",
        AFTER_SPIN_COMPLETE: "animationEvent.afterSpinComplete",
        REEL_STOPPING: "animationEvent.reelStopping",
        REEL_ENTER_FINAL_SYMBOLS: "animationEvent.reelEnterFinalSymbols",
        WINLINE_WALK_COMPLETE: "animationEvent.winlineWalkComplete",
        WINLINE_WALK: "animationEvent.winlineWalk",
        MULTIPLIER_BANNER_COMPLETE: "animationEvent.multiplierBannerComplete",
        WIN_HEADER_START: "animationEvent.winHeaderStart",
        WIN_HEADER_COMPLETE: "animationEvent.winHeaderComplete",
        SPECIAL_TRANSFORM: "animationEvent.specialTransform",
        SPECIAL_TRANSFORM_COMPLETE: "animationEvent.specialTransformComplete",
        spinCompleteForId: function(t) {
            return "".concat(i.SPIN_COMPLETE, ":").concat(t)
        },
        afterSpinCompleteForId: function(t) {
            return "".concat(i.AFTER_SPIN_COMPLETE, ":").concat(t)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.STATUS_CHANGE = "change:status", t.MAY_TURBO_CHANGE = "change:mayTurbo", t.WALKED_AMOUNT_CHANGE = "change:walkedAmount", t.WALKED_WINLINES_COUNT_CHANGE = "change:walkedWinlinesCount", t.REELS_CHANGE = "change:reels", t.TURBO_ENABLED_CHANGE = "change:turboEnabled", t.WINLINE_WINS_CHANGE = "change:winlineWins", t.SCATTER_WIN_CHANGE = "change:scatterWin", t.TAKEN_AMOUNT_CHANGE = "change:takenAmount", t.AUTO_PLAY_ENABLED_CHANGE = "change:autoPlayEnabled", t.IS_ACTIVE_CHANGE = "change:isActive", t.GAME_TYPE_CHANGE = "change:gameType", t.NEXT_GAME_TYPE_CHANGE = "change:nextGameType", t.SCATTER_MESSAGE_CHANGE = "change:scatterMessage", t.SPECIAL_SYMBOL_ID_CHANGE = "change:specialSymbolId", t.STICKY_SYMBOLS_CHANGE = "change:stickySymbols"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(1),
        o = n(4);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._model = t.model, n._config = t.config, n._assets = t.assets, n._layoutAdjuster = t.layoutAdjuster, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_onClick",
                value: function(t, e, n) {
                    o.a.addClickListener(t, e, n)
                }
            }, {
                key: "_createComponentAdder",
                value: function(t) {
                    var e = this;
                    return function(n, i) {
                        return e._addComponent(n.bind(t), i)
                    }.bind(this)
                }
            }, {
                key: "_addComponent",
                value: function(t, e) {
                    var n = this,
                        i = t.call(null, this._model);
                    return e && e.call(this, i), Array.isArray(i) ? i.forEach(function(t) {
                        n._isDisplayObject(t) && n.addChild(t)
                    }) : this._isDisplayObject(i) && this.addChild(i), i
                }
            }, {
                key: "_isDisplayObject",
                value: function(t) {
                    return !!t.updateTransform
                }
            }, {
                key: "_centerOn",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                            offsetX: 0,
                            offsetY: 0
                        },
                        i = n.offsetX,
                        o = n.offsetY;
                    return e.x = t.x + .5 * (t.width - e.width) + (i || 0), e.y = t.y + .5 * (t.height - e.height) + (o || 0), e
                }
            }, {
                key: "_moveOnTop",
                value: function(t) {
                    this.removeChild(t), this.addChild(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), i.Container.prototype.destroy.call(this)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new i.Container
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = Object.prototype.hasOwnProperty,
        o = "~";

    function r() {}

    function a(t, e, n, i, r) {
        if ("function" != typeof n) throw new TypeError("The listener must be a function");
        var a = new function(t, e, n) {
                this.fn = t, this.context = e, this.once = n || !1
            }(n, i || t, r),
            s = o ? o + e : e;
        return t._events[s] ? t._events[s].fn ? t._events[s] = [t._events[s], a] : t._events[s].push(a) : (t._events[s] = a, t._eventsCount++), t
    }

    function s(t, e) {
        0 == --t._eventsCount ? t._events = new r : delete t._events[e]
    }

    function u() {
        this._events = new r, this._eventsCount = 0
    }
    Object.create && (r.prototype = Object.create(null), (new r).__proto__ || (o = !1)), u.prototype.eventNames = function() {
        var t, e, n = [];
        if (0 === this._eventsCount) return n;
        for (e in t = this._events) i.call(t, e) && n.push(o ? e.slice(1) : e);
        return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n
    }, u.prototype.listeners = function(t) {
        var e = o ? o + t : t,
            n = this._events[e];
        if (!n) return [];
        if (n.fn) return [n.fn];
        for (var i = 0, r = n.length, a = new Array(r); i < r; i++) a[i] = n[i].fn;
        return a
    }, u.prototype.listenerCount = function(t) {
        var e = o ? o + t : t,
            n = this._events[e];
        return n ? n.fn ? 1 : n.length : 0
    }, u.prototype.emit = function(t, e, n, i, r, a) {
        var s = o ? o + t : t;
        if (!this._events[s]) return !1;
        var u, l, c = this._events[s],
            h = arguments.length;
        if (c.fn) {
            switch (c.once && this.removeListener(t, c.fn, void 0, !0), h) {
                case 1:
                    return c.fn.call(c.context), !0;
                case 2:
                    return c.fn.call(c.context, e), !0;
                case 3:
                    return c.fn.call(c.context, e, n), !0;
                case 4:
                    return c.fn.call(c.context, e, n, i), !0;
                case 5:
                    return c.fn.call(c.context, e, n, i, r), !0;
                case 6:
                    return c.fn.call(c.context, e, n, i, r, a), !0
            }
            for (l = 1, u = new Array(h - 1); l < h; l++) u[l - 1] = arguments[l];
            c.fn.apply(c.context, u)
        } else {
            var f, _ = c.length;
            for (l = 0; l < _; l++) switch (c[l].once && this.removeListener(t, c[l].fn, void 0, !0), h) {
                case 1:
                    c[l].fn.call(c[l].context);
                    break;
                case 2:
                    c[l].fn.call(c[l].context, e);
                    break;
                case 3:
                    c[l].fn.call(c[l].context, e, n);
                    break;
                case 4:
                    c[l].fn.call(c[l].context, e, n, i);
                    break;
                default:
                    if (!u)
                        for (f = 1, u = new Array(h - 1); f < h; f++) u[f - 1] = arguments[f];
                    c[l].fn.apply(c[l].context, u)
            }
        }
        return !0
    }, u.prototype.on = function(t, e, n) {
        return a(this, t, e, n, !1)
    }, u.prototype.once = function(t, e, n) {
        return a(this, t, e, n, !0)
    }, u.prototype.removeListener = function(t, e, n, i) {
        var r = o ? o + t : t;
        if (!this._events[r]) return this;
        if (!e) return s(this, r), this;
        var a = this._events[r];
        if (a.fn) a.fn !== e || i && !a.once || n && a.context !== n || s(this, r);
        else {
            for (var u = 0, l = [], c = a.length; u < c; u++)(a[u].fn !== e || i && !a[u].once || n && a[u].context !== n) && l.push(a[u]);
            l.length ? this._events[r] = 1 === l.length ? l[0] : l : s(this, r)
        }
        return this
    }, u.prototype.removeAllListeners = function(t) {
        var e;
        return t ? (e = o ? o + t : t, this._events[e] && s(this, e)) : (this._events = new r, this._eventsCount = 0), this
    }, u.prototype.off = u.prototype.removeListener, u.prototype.addListener = u.prototype.on, u.prefixed = o, u.EventEmitter = u, t.exports = u
}, function(t, e, n) {
    "use strict";
    e.a = {
        CREDITS_CHANGE: "change:credits",
        MODE_CHANGE: "change:mode",
        ERROR_CHANGE: "change:error",
        SERVER_STATUS_CHANGE: "change:serverStatus",
        BET_CHANGE: "change:bet",
        WIN_CHANGE: "change:win",
        STATUS_CHANGE: "change:status",
        MODE_TYPE_CHANGE: "change:modeType",
        POTS_CHANGE: "change:pots",
        POT_HITS_CHANGE: "change:potHits",
        POT_CONFIGS_CHANGE: "change:potConfigs",
        POT_SERVER_CONFIGS_CHANGE: "change:potServerConfigs",
        POT_WIN_CHANGE: "change:potWin",
        SCATTER_GAMES_CHANGE: "change:scatterGames",
        SELECTED_WINLINES_COUNT_CHANGE: "change:selectedWinlinesCount"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        REQUEST_FULLSCREEN: "viewEvent.requestFullscreen",
        DOUBLE_TAP: "viewEvent.doubleTap",
        CONTROLS_CHANGE: "viewEvent.controlsChange",
        INPUT_CHANGE: "viewEvent.inputChange",
        INPUT_SUBMIT: "viewEvent.inputSubmit"
    }
}, function(t, e, n) {
    "use strict";
    var i = n(3),
        o = n(4),
        r = n(1);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), u(this, l(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, r["Container"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "_onClick",
                value: function(t, e, n) {
                    o.a.addClickListener(t, e, n)
                }
            }, {
                key: "destroy",
                value: function() {
                    i.TweenLite.killTweensOf(this), i.TweenLite.killTweensOf(this.scale), this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), r.Container.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = h
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var i = n(4);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, null, [{
            key: "hasDelayer",
            value: function(e, n, i) {
                if (!i.delayer || !i.delayer.id) return !1;
                for (var o = 0; o < e.length; o += 1)
                    if (t.isDelayer(e[o], n, i)) return !0;
                return !1
            }
        }, {
            key: "hasPreWin",
            value: function(t, e, n) {
                if (!t || !t.length) return !1;
                for (var i = 0; i < t.length; i += 1)
                    if (this._hasPreWinAtPositions(t[i].positions, e, n)) return !0;
                return !1
            }
        }, {
            key: "_hasPreWinAtPositions",
            value: function(e, n, i) {
                if (!e || !e.length) return !1;
                for (var o = 0; o < e.length; o += 1) {
                    var r = t.getSymbolAtPosition(n, e[o]),
                        a = t.getIsMultiplierAt(e[o]),
                        s = t.getIsPartOfTransform(r.id, i);
                    if (a || s) return !0
                }
                return !1
            }
        }, {
            key: "isDelayer",
            value: function(e, n, i) {
                return !(!i.delayer || !i.delayer.id) && t.getSymbolAtPosition(n, e).id === i.delayer.id
            }
        }, {
            key: "getSymbolAtPosition",
            value: function(t, e) {
                return t[e.x - 1].symbols[e.y]
            }
        }, {
            key: "calculateDuration",
            value: function(t) {
                var e = t.totalFrames / t.animationSpeed / i.a.FPS;
                return Math.floor(1e3 * e)
            }
        }, {
            key: "getAnimationConfig",
            value: function(e, n) {
                var i = (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._getAnimationConfig).call(t, e, n.animations),
                    o = t._createSettingFilter(i, n);
                return {
                    id: e,
                    fps: o("fps"),
                    playOnlyOnce: o("playOnlyOnce"),
                    hideOnComplete: o("hideOnComplete"),
                    loopCutOff: o("loopCutOff"),
                    loopRepeatDelay: o("loopRepeatDelay"),
                    maxLoopCount: o("maxLoopCount"),
                    nthMaxLoopCount: o("nthMaxLoopCount"),
                    shouldEndOnFirstFrame: o("shouldEndOnFirstFrame"),
                    useAutoMaxLoopCount: o("useAutoMaxLoopCount"),
                    startFrame: o("startFrame"),
                    loopFrom: o("loopFrom")
                }
            }
        }, {
            key: "_getAnimationConfig",
            value: function(t) {
                for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n = 0; n < e.length; n++)
                    if (e[n].id === t) return e[n];
                return {}
            }
        }, {
            key: "_createSettingFilter",
            value: function(t, e) {
                return function(n) {
                    return null === t[n] || void 0 === t[n] ? e[n] : t[n]
                }
            }
        }, {
            key: "getIsMultiplierAt",
            value: function(t) {
                return t.flags && (t.flags.x3 || t.flags.x2 || t.flags.x1)
            }
        }, {
            key: "getIsPartOfComposite",
            value: function(t, e) {
                if (e.composites)
                    for (var n = 0; n < e.composites.length; n++)
                        if (e.composites[n].indexOf(t) > -1) return !0;
                return !1
            }
        }, {
            key: "getIsPartOfTransform",
            value: function(t, e) {
                return !(!e.transform || !e.transform.from) && e.transform.from.indexOf(t) > -1
            }
        }, {
            key: "reduceToUniquePositions",
            value: function(t) {
                return t.map(function(t) {
                    return t.positions
                }).reduce(function(t, e) {
                    return t.concat(e)
                }, []).reduce(function(t, e) {
                    for (var n = 0; n < t.length; n += 1)
                        if (e.x === t[n].x && e.y === t[n].y) return t;
                    return t.concat(e)
                }, [])
            }
        }, {
            key: "getAnimationConfigByPosition",
            value: function(e) {
                var n = e.reels,
                    i = e.position,
                    o = e.config,
                    r = e.id,
                    a = o.special || o,
                    s = i.isSpecial ? a : o,
                    u = t.getSymbolAtPosition(n, i),
                    l = i.flags && i.flags.highWin ? t._getHighWinAnimationConfig : t._getAnimationConfig,
                    c = r || u.id;
                return t.getAnimationConfig(c, s, l)
            }
        }, {
            key: "_getHighWinAnimationConfig",
            value: function(t) {
                for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n = 0; n < e.length; n++)
                    if (e[n].id === t) return e[n].highWin || e[n];
                return {}
            }
        }, {
            key: "getPositionsById",
            value: function(t, e) {
                for (var n = [], i = 0; i < e.length; i += 1)
                    for (var o = 0; o < e[i].symbols.length; o += 1) e[i].symbols[o].id === t && n.push({
                        x: i + 1,
                        y: o
                    });
                return n
            }
        }, {
            key: "getTransformPositions",
            value: function(e, n) {
                var i = n.transform && n.transform.from ? n.transform.from : [];
                return e.reduce(function(t, e, n) {
                    return t.concat(e.symbols.map(function(t, e) {
                        return {
                            x: n,
                            y: e,
                            symbol: t
                        }
                    }))
                }, []).filter(function(e) {
                    e.x;
                    var o = e.y,
                        r = e.symbol,
                        a = r.transformToId || i.indexOf(r.id) > -1 || r.isNewSticky,
                        s = t.getIsWithinVisibleArea(o, n);
                    return a && s
                }).sort(function(t, e) {
                    return t.symbol.transformToId && t.y < e.y ? 1 : -1
                }).map(function(t) {
                    var e = t.x,
                        n = t.y;
                    t.symbol;
                    return {
                        x: e + 1,
                        y: n
                    }
                })
            }
        }, {
            key: "getIsWithinVisibleArea",
            value: function(t, e) {
                var n = e.reels.countOfHiddenSymbolsAbove;
                return t >= n && t < n + e.reels.countOfVisibleSymbols
            }
        }, {
            key: "getWinSymbolId",
            value: function(e, n, i) {
                for (var o = 0; o < e.length; o += 1) {
                    var r = t.getSymbolAtPosition(n, e[o]);
                    if (!i.joker || i.joker.id !== r.id) return r.id
                }
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        AUTH_TOKEN_TERMINATION_NUMBER_SPACE: 100,
        INFO_ERROR: 1,
        IMPOSSIBLE_ERROR: 2,
        GAME_SELECT_ERROR: 10,
        GAME_QUIT_ERROR: 11,
        SPIN_ERROR: 21,
        TAKE_ERROR: 22,
        GAMBLE_ERROR: 23,
        GET_ACCOUNT_ERROR: 31,
        BOOK_ERROR: 32,
        RESYNC_ERROR: 99,
        INTERNAL_ERROR: 100,
        PROTOCOL_FORMAT_ERROR: 101,
        LOGIN_REQUIRED_ERROR: 110,
        LOGIN_ERROR: 150,
        CANNOT_LOGIN_ERROR: 151,
        SERVER_TIMEOUT_ERROR: 152,
        PLAYER_KICKED_ERROR: 153,
        RESUME_IMPOSSIBLE_GAME_ERROR: 154,
        ON_CASHCENTER_ERROR: 155
    }
}, function(t, e, n) {
    "use strict";
    var i = {
        padLeft: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t); i.length < e;) i = "".concat(n).concat(i);
            return i
        },
        padRight: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t); i.length < e;) i = "".concat(i).concat(n);
            return i
        },
        padBoth: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t), o = 0; i.length < e;) i = o % 2 ? "".concat(n).concat(i) : "".concat(i).concat(n), o += 1;
            return i
        },
        formatCredit: function(t, e) {
            if (isNaN(Number(t)) || !e) return String(t);
            var n = i.padLeft(Number(t), 3, "0"),
                o = n.slice(0, n.length - 2),
                r = /(-?\d+)(\d{3})/;
            if (e.thousandsSeparator)
                for (; r.test(o);) o = o.replace(r, "$1".concat(e.thousandsSeparator, "$2"));
            var a = n.slice(n.length - 2);
            return "".concat(o).concat(e.decimalMark || "").concat(a)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.PREPARING = "gambleStatus.preparing", t.READY = "gambleStatus.ready", t.SHOWING = "gambleStatus.showing"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    e.a = {
        BEFORE_READY: "bonusType.beforeReady",
        BEFORE_WINLINE_WALK: "bonusType.beforeWinlineWalk",
        NONE: "bonusType.none"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        REQUEST_FULLSCREEN: "appEvent.requestFullscreen",
        DIALOG_CONFIRM: "appEvent.dialogConfirm",
        CRITICAL_FAULT_CONFIRM: "appEvent.criticalFaultConfirm",
        BET_SETTINGS_TAP: "appEvent.betSettingsTap",
        WIN_COUNT_COMPLETE: "appEvent.winCountComplete",
        CANCEL: "appEvent.cancel",
        EXIT: "appEvent.exit"
    }
}, function(t, e, n) {
    "use strict";
    var i = {
        AUTH_TOKEN: "gc.authToken",
        AUDIO_SETTING: "gc.audioSetting",
        GAMBLE_SETTING: "gc.gambleSetting",
        TURBO_SETTING: "gc.turboSetting",
        CONTROLS_ALIGNMENT_SETTING: "gc.controlsAlignmentSetting",
        LANGUAGE_SETTING: "gc.languageSetting",
        storeAuthToken: function(t) {
            localStorage.setItem(i.AUTH_TOKEN, t)
        },
        retrieveAuthToken: function() {
            return localStorage.getItem(i.AUTH_TOKEN)
        },
        clearAuthToken: function() {
            localStorage.setItem(i.AUTH_TOKEN, "")
        },
        storeAudioSetting: function(t) {
            localStorage.setItem(i.AUDIO_SETTING, t)
        },
        retrieveAudioSetting: function() {
            var t = localStorage.getItem(i.AUDIO_SETTING);
            return i._returnRetrievedSetting(t)
        },
        _returnRetrievedSetting: function(t) {
            return null !== t ? Number(t) : null
        },
        storeGambleSetting: function(t) {
            localStorage.setItem(i.GAMBLE_SETTING, t)
        },
        retrieveGambleSetting: function() {
            var t = localStorage.getItem(i.GAMBLE_SETTING);
            return i._returnRetrievedSetting(t)
        },
        storeTurboSetting: function(t) {
            localStorage.setItem(i.TURBO_SETTING, t)
        },
        retrieveTurboSetting: function() {
            var t = localStorage.getItem(i.TURBO_SETTING);
            return i._returnRetrievedSetting(t)
        },
        storeControlsAlignmentSetting: function(t) {
            localStorage.setItem(i.CONTROLS_ALIGNMENT_SETTING, t)
        },
        retrieveControlsAlignmentSetting: function() {
            var t = localStorage.getItem(i.CONTROLS_ALIGNMENT_SETTING);
            return i._returnRetrievedSetting(t)
        },
        getPotAmount: function(t) {
            return Number(localStorage.getItem("gl.".concat(t)))
        },
        getPotConfigs: function() {
            try {
                return JSON.parse(localStorage.getItem("gl.potsConfigs"))
            } catch (t) {
                return []
            }
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    e.a = {
        SLOT: "slot",
        GAMBLE: "gamble",
        AG: "ag",
        PRELOAD: "preload",
        SETTINGS: "settings"
    }
}, function(t, e, n) {
    "use strict";

    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(92),
        r = n(94),
        a = function(t) {
            return r({}, t)
        },
        s = n(145),
        u = n(207),
        l = n(210),
        c = n(213),
        h = n(118),
        f = n(38),
        _ = n(221),
        y = n(54),
        d = n(223),
        p = n(232),
        m = n(235),
        v = n(236),
        g = n(243),
        b = n(251),
        S = n(252),
        w = /^change:/,
        k = function() {};

    function E(t, e) {
        e || (e = {}), this.cid || (this.cid = o("state")), this._events = {}, this._values = {}, this._eventBubblingHandlerCache = {}, this._definition = Object.create(this._definition), e.parse && (t = this.parse(t, e)), this.parent = e.parent, this.collection = e.collection, this._keyTree = new b, this._initCollections(), this._initChildren(), this._cache = {}, this._previousAttributes = {}, t && this.set(t, r({
            silent: !0,
            initial: !0
        }, e)), this._changed = {}, this._derived && this._initDerived(), !1 !== e.init && this.initialize.apply(this, arguments)
    }

    function T(t, e, n, o) {
        var r, a, s = t._definition[e] = {};
        if (h(n))(r = t._ensureValidType(n)) && (s.type = r);
        else {
            if (Array.isArray(n) && (n = {
                    type: (a = n)[0],
                    required: a[1],
                    default: a[2]
                }), (r = t._ensureValidType(n.type)) && (s.type = r), n.required && (s.required = !0), n.default && "object" === i(n.default)) throw new TypeError("The default value for " + e + " cannot be an object/array, must be a value or a function which returns a value/object/array");
            s.default = n.default, s.allowNull = !!n.allowNull && n.allowNull, n.setOnce && (s.setOnce = !0), s.required && void 0 === s.default && !s.setOnce && (s.default = t._getDefaultForType(r)), s.test = n.test, s.values = n.values
        }
        return o && (s.session = !0), r || (r = h(n) ? n : n.type, console.warn("Invalid data type of `" + r + "` for `" + e + "` property. Use one of the default types or define your own")), Object.defineProperty(t, e, {
            set: function(t) {
                this.set(e, t)
            },
            get: function() {
                if (!this._values) throw Error('You may be trying to `extend` a state object with "' + e + '" which has been defined in `props` on the object being extended');
                var t = this._values[e],
                    n = this._dataTypes[s.type];
                if (void 0 !== t) return n && n.get && (t = n.get(t)), t;
                var i = m(s, "default");
                (this._values[e] = i, void 0 !== i) && this._getOnChangeForType(s.type)(i, t, e);
                return i
            }
        }), s
    }

    function C(t, e, n) {
        (t._derived[e] = {
            fn: y(n) ? n : n.fn,
            cache: !1 !== n.cache,
            depList: n.deps || []
        }).depList.forEach(function(n) {
            t._deps[n] = v(t._deps[n] || [], [e])
        }), Object.defineProperty(t, e, {
            get: function() {
                return this._getDerivedProperty(e)
            },
            set: function() {
                throw new TypeError("`" + e + "` is a derived property, it can't be set directly.")
            }
        })
    }
    r(E.prototype, g, {
        extraProperties: "ignore",
        idAttribute: "id",
        namespaceAttribute: "namespace",
        typeAttribute: "modelType",
        initialize: function() {
            return this
        },
        getId: function() {
            return this[this.idAttribute]
        },
        getNamespace: function() {
            return this[this.namespaceAttribute]
        },
        getType: function() {
            return this[this.typeAttribute]
        },
        isNew: function() {
            return null == this.getId()
        },
        escape: function(t) {
            return u(this.get(t))
        },
        isValid: function(t) {
            return this._validate({}, r(t || {}, {
                validate: !0
            }))
        },
        parse: function(t, e) {
            return t
        },
        serialize: function(t) {
            var e = r({
                    props: !0
                }, t),
                n = this.getAttributes(e, !0),
                i = function(t, e) {
                    n[e] = this[e].serialize()
                }.bind(this);
            return l(this._children, i), l(this._collections, i), n
        },
        set: function(t, e, n) {
            var o, r, a, s, u, l, h, _, y, d, p, v, g, b, S, w, k, E = this,
                T = this.extraProperties;
            if (f(t) || null === t ? (y = t, n = e) : (y = {})[t] = e, n = n || {}, !this._validate(y, n)) return !1;
            v = n.unset, p = n.silent, b = n.initial, o = this._changing, this._changing = !0, r = [], b ? this._previousAttributes = {} : o || (this._previousAttributes = this.attributes, this._changed = {});
            for (var C = 0, O = Object.keys(y), A = O.length; C < A; C++) {
                if (a = i(s = y[_ = O[C]]), g = this._values[_], !(u = this._definition[_])) {
                    if (this._children[_] || this._collections[_]) {
                        f(s) || (s = {}), this[_].set(s, n);
                        continue
                    }
                    if ("ignore" === T) continue;
                    if ("reject" === T) throw new TypeError('No "' + _ + '" property defined on ' + (this.type || "this") + ' model and extraProperties not set to "ignore" or "allow"');
                    if ("allow" === T) u = this._createPropertyDefinition(_, "any");
                    else if (T) throw new TypeError('Invalid value for extraProperties: "' + T + '"')
                }
                if (w = this._getCompareForType(u.type), k = this._getOnChangeForType(u.type), (d = this._dataTypes[u.type]) && d.set && (s = (l = d.set(s)).val, a = l.type), u.test && (h = u.test.call(this, s, a))) throw new TypeError("Property '" + _ + "' failed validation with error: " + h);
                if (void 0 === s && u.required) throw new TypeError("Required property '" + _ + "' must be of type " + u.type + ". Tried to set " + s);
                if (null === s && u.required && !u.allowNull) throw new TypeError("Property '" + _ + "' must be of type " + u.type + " (cannot be null). Tried to set " + s);
                if (u.type && "any" !== u.type && u.type !== a && null !== s && void 0 !== s) throw new TypeError("Property '" + _ + "' must be of type " + u.type + ". Tried to set " + s);
                if (u.values && !c(u.values, s)) {
                    var P = m(u, "default");
                    if (v && void 0 !== P) s = P;
                    else if (!v || v && void 0 !== s) throw new TypeError("Property '" + _ + "' must be one of values: " + u.values.join(", ") + ". Tried to set " + s)
                }
                if (S = b || !w(g, s, _), u.setOnce && void 0 !== g && S) throw new TypeError("Property '" + _ + "' can only be set once.");
                S ? (k(s, g, _), b || (this._changed[_] = s, this._previousAttributes[_] = g, v && delete this._values[_], p || r.push({
                    prev: g,
                    val: s,
                    key: _
                })), v || (this._values[_] = s)) : delete this._changed[_]
            }
            if (r.length && (this._pending = !0), r.forEach(function(t) {
                    E.trigger("change:" + t.key, E, t.val, n)
                }), o) return this;
            for (; this._pending;) this._pending = !1, this.trigger("change", this, n);
            return this._pending = !1, this._changing = !1, this
        },
        get: function(t) {
            return this[t]
        },
        toggle: function(t) {
            var e = this._definition[t];
            if ("boolean" === e.type) this[t] = !this[t];
            else {
                if (!e || !e.values) throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");
                this[t] = S(e.values, this[t])
            }
            return this
        },
        previousAttributes: function() {
            return a(this._previousAttributes)
        },
        hasChanged: function(t) {
            return null == t ? !!Object.keys(this._changed).length : p(this._derived, t) ? this._derived[t].depList.some(function(t) {
                return this.hasChanged(t)
            }, this) : p(this._changed, t)
        },
        changedAttributes: function(t) {
            if (!t) return !!this.hasChanged() && a(this._changed);
            var e, n, i = !1,
                o = this._changing ? this._previousAttributes : this.attributes;
            for (var r in t)(n = this._definition[r]) && (this._getCompareForType(n.type)(o[r], e = t[r]) || ((i || (i = {}))[r] = e));
            return i
        },
        toJSON: function() {
            return this.serialize()
        },
        unset: function(t, e) {
            var n = this;
            (t = Array.isArray(t) ? t : [t]).forEach(function(t) {
                var i, o = n._definition[t];
                if (o) return o.required ? (i = m(o, "default"), n.set(t, i, e)) : n.set(t, i, r({}, e, {
                    unset: !0
                }))
            })
        },
        clear: function(t) {
            var e = this;
            return Object.keys(this.attributes).forEach(function(n) {
                e.unset(n, t)
            }), this
        },
        previous: function(t) {
            return null != t && Object.keys(this._previousAttributes).length ? this._previousAttributes[t] : null
        },
        _getDefaultForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.default
        },
        _getCompareForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.compare ? e.compare.bind(this) : d
        },
        _getOnChangeForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.onChange ? e.onChange.bind(this) : k
        },
        _validate: function(t, e) {
            if (!e.validate || !this.validate) return !0;
            t = r({}, this.attributes, t);
            var n = this.validationError = this.validate(t, e) || null;
            return !n || (this.trigger("invalid", this, n, r(e || {}, {
                validationError: n
            })), !1)
        },
        _createPropertyDefinition: function(t, e, n) {
            return T(this, t, e, n)
        },
        _ensureValidType: function(t) {
            return c(["string", "number", "boolean", "array", "object", "date", "state", "any"].concat(Object.keys(this._dataTypes)), t) ? t : void 0
        },
        getAttributes: function(t, e) {
            t = r({
                session: !1,
                props: !1,
                derived: !1
            }, t || {});
            var n, i, o = {};
            for (var a in this._definition) i = this._definition[a], (t.session && i.session || t.props && !i.session) && (n = e ? this._values[a] : this[a], e && n && y(n.serialize) && (n = n.serialize()), void 0 === n && (n = m(i, "default")), void 0 !== n && (o[a] = n));
            if (t.derived)
                for (var s in this._derived) o[s] = this[s];
            return o
        },
        _initDerived: function() {
            var t = this;
            l(this._derived, function(e, n) {
                var i = t._derived[n];
                i.deps = i.depList;
                var o = function() {
                    var e = i.fn.call(t);
                    t._cache[n] === e && i.cache || (i.cache && (t._previousAttributes[n] = t._cache[n]), t._cache[n] = e, t.trigger("change:" + n, t, t._cache[n]))
                };
                i.deps.forEach(function(e) {
                    t._keyTree.add(e, o)
                })
            }), this.on("all", function(e) {
                w.test(e) && t._keyTree.get(e.split(":")[1]).forEach(function(t) {
                    t()
                })
            }, this)
        },
        _getDerivedProperty: function(t, e) {
            return this._derived[t].cache ? (!e && this._cache.hasOwnProperty(t) || (this._cache[t] = this._derived[t].fn.apply(this)), this._cache[t]) : this._derived[t].fn.apply(this)
        },
        _initCollections: function() {
            var t;
            if (this._collections)
                for (t in this._collections) this._safeSet(t, new this._collections[t](null, {
                    parent: this
                }))
        },
        _initChildren: function() {
            var t;
            if (this._children)
                for (t in this._children) this._safeSet(t, new this._children[t]({}, {
                    parent: this
                })), this.listenTo(this[t], "all", this._getCachedEventBubblingHandler(t))
        },
        _getCachedEventBubblingHandler: function(t) {
            return this._eventBubblingHandlerCache[t] || (this._eventBubblingHandlerCache[t] = function(e, n, i) {
                w.test(e) ? this.trigger("change:" + t + "." + e.split(":")[1], n, i) : "change" === e && this.trigger("change", this)
            }.bind(this)), this._eventBubblingHandlerCache[t]
        },
        _verifyRequired: function() {
            var t = this.attributes;
            for (var e in this._definition)
                if (this._definition[e].required && void 0 === t[e]) return !1;
            return !0
        },
        _safeSet: function(t, e) {
            if (t in this) throw new Error("Encountered namespace collision while setting instance property `" + t + "`");
            return this[t] = e, this
        }
    }), Object.defineProperties(E.prototype, {
        attributes: {
            get: function() {
                return this.getAttributes({
                    props: !0,
                    session: !0
                })
            }
        },
        all: {
            get: function() {
                return this.getAttributes({
                    session: !0,
                    props: !0,
                    derived: !0
                })
            }
        },
        isState: {
            get: function() {
                return !0
            },
            set: function() {}
        }
    });
    var O = {
        string: {
            default: function() {
                return ""
            }
        },
        date: {
            set: function(t) {
                var e;
                if (null == t) e = i(null);
                else if (_(t)) e = "date", t = t.valueOf();
                else {
                    var n = null,
                        o = new Date(t).valueOf();
                    isNaN(o) && (o = new Date(parseInt(t, 10)).valueOf(), isNaN(o) && (n = !0)), t = o, e = "date", n && (e = i(t))
                }
                return {
                    val: t,
                    type: e
                }
            },
            get: function(t) {
                return null == t ? t : new Date(t)
            },
            default: function() {
                return new Date
            }
        },
        array: {
            set: function(t) {
                return {
                    val: t,
                    type: Array.isArray(t) ? "array" : i(t)
                }
            },
            default: function() {
                return []
            }
        },
        object: {
            set: function(t) {
                var e = i(t);
                return "object" !== e && void 0 === t && (t = null, e = "object"), {
                    val: t,
                    type: e
                }
            },
            default: function() {
                return {}
            }
        },
        state: {
            set: function(t) {
                return t instanceof E || t && t.isState ? {
                    val: t,
                    type: "state"
                } : {
                    val: t,
                    type: i(t)
                }
            },
            compare: function(t, e) {
                return t === e
            },
            onChange: function(t, e, n) {
                e && this.stopListening(e, "all", this._getCachedEventBubblingHandler(n)), null != t && this.listenTo(t, "all", this._getCachedEventBubblingHandler(n))
            }
        }
    };
    E.extend = function(t) {
        var e, n = this;
        e = t && t.hasOwnProperty("constructor") ? t.constructor : function() {
            return n.apply(this, arguments)
        }, r(e, n);
        var i = function() {
            this.constructor = e
        };
        if (i.prototype = n.prototype, e.prototype = new i, e.prototype._derived = r({}, n.prototype._derived), e.prototype._deps = r({}, n.prototype._deps), e.prototype._definition = r({}, n.prototype._definition), e.prototype._collections = r({}, n.prototype._collections), e.prototype._children = r({}, n.prototype._children), e.prototype._dataTypes = r({}, n.prototype._dataTypes || O), t)
            for (var o = ["dataTypes", "props", "session", "derived", "collections", "children"], a = 0; a < arguments.length; a++) {
                var u = arguments[a];
                u.dataTypes && l(u.dataTypes, function(t, n) {
                    e.prototype._dataTypes[n] = t
                }), u.props && l(u.props, function(t, n) {
                    T(e.prototype, n, t)
                }), u.session && l(u.session, function(t, n) {
                    T(e.prototype, n, t, !0)
                }), u.derived && l(u.derived, function(t, n) {
                    C(e.prototype, n, t)
                }), u.collections && l(u.collections, function(t, n) {
                    e.prototype._collections[n] = t
                }), u.children && l(u.children, function(t, n) {
                    e.prototype._children[n] = t
                }), r(e.prototype, s(u, o))
            }
        return e.__super__ = n.prototype, e
    }, t.exports = E
}, function(t, e, n) {
    "use strict";
    e.a = {
        REGULAR: "winType.regular",
        SCATTER: "winType.scatter"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        CONNECTING: "serverStatus.connecting",
        CONNECTED: "serverStatus.connected",
        WAITING: "serverStatus.waiting",
        DISCONNECTED: "serverStatus.disconnected"
    }
}, function(t, e, n) {
    "use strict";
    var i = n(8),
        o = n(3),
        r = n(11);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = u(this, l(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._responseWaitTime = 3e3, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "_createControlsAdder",
                value: function(t) {
                    return function(e, n) {
                        return this._addControls(e.bind(t), n)
                    }.bind(this)
                }
            }, {
                key: "_addControls",
                value: function(t, e) {
                    return this._controls = this._addComponent(t, e), this._controls
                }
            }, {
                key: "_createThrobberAdder",
                value: function(t) {
                    return function(e, n) {
                        return this._throbber = this._addComponent(e.bind(t)), this._centerOn(n, this._throbber, this._config.throbber), this._throbber
                    }.bind(this)
                }
            }, {
                key: "_prepareThrobber",
                value: function(t) {
                    var e = this;
                    return this._responseWatcher = setTimeout(function() {
                        t && t.call(), o.TweenLite.to(e._throbber, .4, {
                            alpha: 1
                        })
                    }, this._responseWaitTime), this._throbber
                }
            }, {
                key: "hideThrobber",
                value: function() {
                    return o.TweenLite.killTweensOf(this._throbber), this._throbber.alpha = 0, clearTimeout(this._responseWatcher), this._throbber
                }
            }, {
                key: "_addFullscreenRequester",
                value: function(t) {
                    var e = this;
                    return t.interactive = !0, this._onClick(t, function() {
                        e.emit(r.a.REQUEST_FULLSCREEN)
                    }), t
                }
            }, {
                key: "_addDoubleTapHandler",
                value: function(t) {
                    return t.interactive = !0, this._onClick(t, this._handleDoubleTap, this), t
                }
            }, {
                key: "_handleDoubleTap",
                value: function() {
                    var t = this;
                    this._isWaitingForDoubleTap && this.emit(r.a.DOUBLE_TAP), this._isWaitingForDoubleTap = !this._isWaitingForDoubleTap, setTimeout(function() {
                        t._isWaitingForDoubleTap = !1
                    }, 400)
                }
            }, {
                key: "disableControls",
                value: function() {
                    return this._controls && this._controls.disable(), this
                }
            }, {
                key: "enableControls",
                value: function() {
                    return this._controls && this._controls.enable(), this
                }
            }, {
                key: "temporarilyDisableControls",
                value: function() {
                    return this._controls && this._controls.temporarilyDisable(), this
                }
            }, {
                key: "switchControlsAlignment",
                value: function() {
                    return this._controls ? this.isRightAligned() ? this._switchControlsToLeft() : this._switchControlsToRight() : 0
                }
            }, {
                key: "isRightAligned",
                value: function() {
                    return this._controls.x > .5 * this._layoutAdjuster.getWidth()
                }
            }, {
                key: "isLeftAligned",
                value: function() {
                    return !this.isRightAligned()
                }
            }, {
                key: "_switchControlsToLeft",
                value: function() {
                    this._controlsRightHandPosition = this._controls.x;
                    var t = this._layoutAdjuster.getControlsWidth();
                    return this._adjustChildren(t), this._controls.x = this._layoutAdjuster.getControlsSwitchedX(), this._controls.alignLeft(), t
                }
            }, {
                key: "_adjustChildren",
                value: function(t) {
                    this.children.forEach(function(e, n) {
                        n > 0 && (e.x += t)
                    })
                }
            }, {
                key: "_switchControlsToRight",
                value: function() {
                    var t = -this._layoutAdjuster.getControlsWidth();
                    return this._adjustChildren(t), this._controls.x = this._controlsRightHandPosition, this._controls.alignRight(), t
                }
            }, {
                key: "_forwardEvent",
                value: function(t, e, n) {
                    var i = this;
                    t.on(e, function() {
                        n && n.call();
                        for (var t = arguments.length, o = new Array(t), r = 0; r < t; r++) o[r] = arguments[r];
                        i.emit.apply(i, [e].concat(o))
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._responseWatcher && (clearTimeout(this._responseWatcher), this._responseWatcher = null), this._throbber = null, this._controls = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = h
}, function(t, e, n) {
    "use strict";
    var i = n(22),
        o = {
            getWinConfig: function(t, e) {
                var n = t.winSounds;
                return n ? this.getIsFullWin(n, e, t) && n.full.sequence ? n.full : this.getIsHugeWin(n, e) && n.huge.sequence ? e.hasOffbeat && n.huge.offbeatSequence ? {
                    sequence: n.huge.offbeatSequence
                } : n.huge : this.getIsHighWin(n, e) && n.high.sequence ? e.hasOffbeat && n.high.offbeatSequence ? {
                    sequence: n.high.offbeatSequence
                } : n.high : e.type === i.a.SCATTER && n.scatter && n.scatter.sequence ? n.scatter : this.getIsRegularWin(n, e) && n.regular.sequence ? e.hasOffbeat && n.regular.offbeatSequence ? {
                    sequence: n.regular.offbeatSequence
                } : n.regular : n.small && n.small.sequence ? e.hasOffbeat && n.small.offbeatSequence ? {
                    sequence: n.small.offbeatSequence
                } : n.small : {
                    sequence: []
                } : []
            },
            getIsFullWin: function(t, e, n) {
                return t && t.full && e.size > n.reels.count
            },
            getIsHugeWin: function(t, e) {
                return !(!t || !t.huge) && this._isThresholdReached(t.huge, e)
            },
            getIsHighWin: function(t, e) {
                return !(!t || !t.high) && this._isThresholdReached(t.high, e)
            },
            getIsRegularWin: function(t, e) {
                return !(!t || !t.regular) && this._isThresholdReached(t.regular, e)
            },
            _isThresholdReached: function(t, e) {
                return t && (e.size >= t.reelCountThreshold || !t.reelCountThreshold)
            },
            getIsFullWinEffectTrigger: function(t, e) {
                return o.getIsFullWin(t.winSounds, e, t)
            },
            getIsHugeWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.huge && r < i.huge) && o.getIsHugeWin(t.winSounds, e)
            },
            getIsHighWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.high && r < i.high) && o.getIsHighWin(t.winSounds, e)
            },
            getIsRegularWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.regular && r < i.regular) && o.getIsRegularWin(t.winSounds, e)
            },
            getIsSmallWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    o = e.credits / n;
                return i.small && o >= i.small
            },
            getTargetReelLength: function(t) {
                return t.reels.countOfVisibleSymbols + t.reels.countOfHiddenSymbolsAbove + t.reels.countOfHiddenSymbolsBelow
            },
            getScatterSoundDelay: function(t, e) {
                return (t.reels.countOfVisibleSymbols - (e + 1)) / t.timing.speed.symbolsPerSecond * 1e3
            },
            getHasTransform: function(t) {
                return t.transform && t.transform.from && t.transform.to
            }
        };
    e.a = o
}, function(t, e, n) {
    "use strict";
    var i = {
        convertStyle: function(t, e) {
            return {
                fontFamily: t.fontFamily,
                fontSize: t.fontSize,
                fontWeight: t.fontWeight,
                fill: t.color,
                align: t.align,
                stroke: t.stroke,
                strokeThickness: t.strokeThickness || 0,
                wordWrap: t.multiline || !1,
                wordWrapWidth: e || 100,
                lineHeight: t.lineHeight
            }
        },
        determineStyle: function(t, e, n) {
            return {
                fontFamily: t.fontFamily || e.fontFamily,
                fontSize: t.fontSize || e.fontSize,
                fontWeight: t.fontWeight || e.fontWeight,
                fill: t.color || e.color,
                align: t.align || e.align,
                stroke: t.stroke || e.stroke,
                strokeThickness: t.strokeThickness || e.strokeThickness || 0,
                wordWrap: t.multiline || e.multiline || !1,
                wordWrapWidth: n || t.width || e.width || 100,
                lineHeight: t.lineHeight || e.lineHeight
            }
        },
        extractFontSize: function(t) {
            if (t.fontSize && !isNaN(t.fontSize)) return t.fontSize;
            if (t.font)
                for (var e = t.font.split(" "), n = 0; n < e.length; n += 1)
                    if (e[n].indexOf("px") > -1) {
                        var i = e[n].substr(0, e.length - 2),
                            o = Number(i);
                        if (!isNaN(o)) return o
                    } return 0
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t[t.SPACE = 32] = "SPACE", t[t.ENTER = 13] = "ENTER", t[t.BACKSPACE = 8] = "BACKSPACE", t[t.LEFT = 37] = "LEFT", t[t.RIGHT = 39] = "RIGHT", t[t.UP = 38] = "UP", t[t.DOWN = 40] = "DOWN", t[t.A = 65] = "A", t[t.B = 66] = "B", t[t.C = 67] = "C", t[t.D = 68] = "D", t[t.E = 69] = "E", t[t.F = 70] = "F", t[t.G = 71] = "G", t[t.H = 72] = "H", t[t.I = 73] = "I", t[t.J = 74] = "J", t[t.K = 75] = "K", t[t.L = 76] = "L", t[t.M = 77] = "M", t[t.N = 78] = "N", t[t.O = 79] = "O", t[t.P = 80] = "P", t[t.Q = 81] = "Q", t[t.R = 82] = "R", t[t.S = 83] = "S", t[t.T = 84] = "T", t[t.U = 85] = "U", t[t.V = 86] = "V", t[t.W = 87] = "W", t[t.X = 88] = "X", t[t.Y = 89] = "Y", t[t.Z = 90] = "Z"
        }(i || (i = {}))
}, function(t, e, n) {
    (function(n) {
        var i;

        function o(t) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        /*!
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        /*!
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        ! function() {
            "use strict";
            var o = function() {
                this.init()
            };
            o.prototype = {
                init: function() {
                    var t = this || r;
                    return t._counter = 1e3, t._codecs = {}, t._howls = [], t._muted = !1, t._volume = 1, t._canPlayEvent = "canplaythrough", t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, t.masterGain = null, t.noAudio = !1, t.usingWebAudio = !0, t.autoSuspend = !0, t.ctx = null, t.mobileAutoEnable = !0, t._setup(), t
                },
                volume: function(t) {
                    var e = this || r;
                    if (t = parseFloat(t), e.ctx || _(), void 0 !== t && t >= 0 && t <= 1) {
                        if (e._volume = t, e._muted) return e;
                        e.usingWebAudio && e.masterGain.gain.setValueAtTime(t, r.ctx.currentTime);
                        for (var n = 0; n < e._howls.length; n++)
                            if (!e._howls[n]._webAudio)
                                for (var i = e._howls[n]._getSoundIds(), o = 0; o < i.length; o++) {
                                    var a = e._howls[n]._soundById(i[o]);
                                    a && a._node && (a._node.volume = a._volume * t)
                                }
                        return e
                    }
                    return e._volume
                },
                mute: function(t) {
                    var e = this || r;
                    e.ctx || _(), e._muted = t, e.usingWebAudio && e.masterGain.gain.setValueAtTime(t ? 0 : e._volume, r.ctx.currentTime);
                    for (var n = 0; n < e._howls.length; n++)
                        if (!e._howls[n]._webAudio)
                            for (var i = e._howls[n]._getSoundIds(), o = 0; o < i.length; o++) {
                                var a = e._howls[n]._soundById(i[o]);
                                a && a._node && (a._node.muted = !!t || a._muted)
                            }
                    return e
                },
                unload: function() {
                    for (var t = this || r, e = t._howls.length - 1; e >= 0; e--) t._howls[e].unload();
                    return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(), t.ctx = null, _()), t
                },
                codecs: function(t) {
                    return (this || r)._codecs[t.replace(/^x-/, "")]
                },
                _setup: function() {
                    var t = this || r;
                    if (t.state = t.ctx && t.ctx.state || "running", t._autoSuspend(), !t.usingWebAudio)
                        if ("undefined" != typeof Audio) try {
                            void 0 === (new Audio).oncanplaythrough && (t._canPlayEvent = "canplay")
                        } catch (e) {
                            t.noAudio = !0
                        } else t.noAudio = !0;
                    try {
                        (new Audio).muted && (t.noAudio = !0)
                    } catch (t) {}
                    return t.noAudio || t._setupCodecs(), t
                },
                _setupCodecs: function() {
                    var t = this || r,
                        e = null;
                    try {
                        e = "undefined" != typeof Audio ? new Audio : null
                    } catch (e) {
                        return t
                    }
                    if (!e || "function" != typeof e.canPlayType) return t;
                    var n = e.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                        i = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g),
                        o = i && parseInt(i[0].split("/")[1], 10) < 33;
                    return t._codecs = {
                        mp3: !(o || !n && !e.canPlayType("audio/mp3;").replace(/^no$/, "")),
                        mpeg: !!n,
                        opus: !!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                        ogg: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        oga: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        wav: !!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                        aac: !!e.canPlayType("audio/aac;").replace(/^no$/, ""),
                        caf: !!e.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                        m4a: !!(e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        mp4: !!(e.canPlayType("audio/x-mp4;") || e.canPlayType("audio/mp4;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        weba: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        webm: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        dolby: !!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                        flac: !!(e.canPlayType("audio/x-flac;") || e.canPlayType("audio/flac;")).replace(/^no$/, "")
                    }, t
                },
                _enableMobileAudio: function() {
                    var t = this || r,
                        e = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(t._navigator && t._navigator.userAgent);
                    if (!t._mobileEnabled && t.ctx && e) {
                        t._mobileEnabled = !1, t.mobileAutoEnable = !1, t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0, t.unload()), t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                        var n = function e(n) {
                            r._autoResume();
                            var i = t.ctx.createBufferSource();
                            i.buffer = t._scratchBuffer, i.connect(t.ctx.destination), void 0 === i.start ? i.noteOn(0) : i.start(0), "function" == typeof t.ctx.resume && t.ctx.resume(), i.onended = function() {
                                i.disconnect(0), t._mobileEnabled = !0, document.removeEventListener("touchstart", e, !0), document.removeEventListener("touchend", e, !0), document.removeEventListener("click", e, !0);
                                for (var n = 0; n < t._howls.length; n++) t._howls[n]._emit("unlock")
                            }
                        };
                        return document.addEventListener("touchstart", n, !0), document.addEventListener("touchend", n, !0), document.addEventListener("click", n, !0), t
                    }
                },
                _autoSuspend: function() {
                    var t = this;
                    if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && r.usingWebAudio) {
                        for (var e = 0; e < t._howls.length; e++)
                            if (t._howls[e]._webAudio)
                                for (var n = 0; n < t._howls[e]._sounds.length; n++)
                                    if (!t._howls[e]._sounds[n]._paused) return t;
                        return t._suspendTimer && clearTimeout(t._suspendTimer), t._suspendTimer = setTimeout(function() {
                            t.autoSuspend && (t._suspendTimer = null, t.state = "suspending", t.ctx.suspend().then(function() {
                                t.state = "suspended", t._resumeAfterSuspend && (delete t._resumeAfterSuspend, t._autoResume())
                            }))
                        }, 3e4), t
                    }
                },
                _autoResume: function() {
                    var t = this;
                    if (t.ctx && void 0 !== t.ctx.resume && r.usingWebAudio) return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer), t._suspendTimer = null) : "suspended" === t.state ? (t.ctx.resume().then(function() {
                        t.state = "running";
                        for (var e = 0; e < t._howls.length; e++) t._howls[e]._emit("resume")
                    }), t._suspendTimer && (clearTimeout(t._suspendTimer), t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0), t
                }
            };
            var r = new o,
                a = function(t) {
                    t.src && 0 !== t.src.length ? this.init(t) : console.error("An array of source files must be passed with any new Howl.")
                };
            a.prototype = {
                init: function(t) {
                    var e = this;
                    return r.ctx || _(), e._autoplay = t.autoplay || !1, e._format = "string" != typeof t.format ? t.format : [t.format], e._html5 = t.html5 || !1, e._muted = t.mute || !1, e._loop = t.loop || !1, e._pool = t.pool || 5, e._preload = "boolean" != typeof t.preload || t.preload, e._rate = t.rate || 1, e._sprite = t.sprite || {}, e._src = "string" != typeof t.src ? t.src : [t.src], e._volume = void 0 !== t.volume ? t.volume : 1, e._xhrWithCredentials = t.xhrWithCredentials || !1, e._duration = 0, e._state = "unloaded", e._sounds = [], e._endTimers = {}, e._queue = [], e._playLock = !1, e._onend = t.onend ? [{
                        fn: t.onend
                    }] : [], e._onfade = t.onfade ? [{
                        fn: t.onfade
                    }] : [], e._onload = t.onload ? [{
                        fn: t.onload
                    }] : [], e._onloaderror = t.onloaderror ? [{
                        fn: t.onloaderror
                    }] : [], e._onplayerror = t.onplayerror ? [{
                        fn: t.onplayerror
                    }] : [], e._onpause = t.onpause ? [{
                        fn: t.onpause
                    }] : [], e._onplay = t.onplay ? [{
                        fn: t.onplay
                    }] : [], e._onstop = t.onstop ? [{
                        fn: t.onstop
                    }] : [], e._onmute = t.onmute ? [{
                        fn: t.onmute
                    }] : [], e._onvolume = t.onvolume ? [{
                        fn: t.onvolume
                    }] : [], e._onrate = t.onrate ? [{
                        fn: t.onrate
                    }] : [], e._onseek = t.onseek ? [{
                        fn: t.onseek
                    }] : [], e._onunlock = t.onunlock ? [{
                        fn: t.onunlock
                    }] : [], e._onresume = [], e._webAudio = r.usingWebAudio && !e._html5, void 0 !== r.ctx && r.ctx && r.mobileAutoEnable && r._enableMobileAudio(), r._howls.push(e), e._autoplay && e._queue.push({
                        event: "play",
                        action: function() {
                            e.play()
                        }
                    }), e._preload && e.load(), e
                },
                load: function() {
                    var t = null;
                    if (r.noAudio) this._emit("loaderror", null, "No audio support.");
                    else {
                        "string" == typeof this._src && (this._src = [this._src]);
                        for (var e = 0; e < this._src.length; e++) {
                            var n, i;
                            if (this._format && this._format[e]) n = this._format[e];
                            else {
                                if ("string" != typeof(i = this._src[e])) {
                                    this._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                    continue
                                }(n = /^data:audio\/([^;,]+);/i.exec(i)) || (n = /\.([^.]+)$/.exec(i.split("?", 1)[0])), n && (n = n[1].toLowerCase())
                            }
                            if (n || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), n && r.codecs(n)) {
                                t = this._src[e];
                                break
                            }
                        }
                        if (t) return this._src = t, this._state = "loading", "https:" === window.location.protocol && "http:" === t.slice(0, 5) && (this._html5 = !0, this._webAudio = !1), new s(this), this._webAudio && l(this), this;
                        this._emit("loaderror", null, "No codec support for selected audio sources.")
                    }
                },
                play: function(t, e) {
                    var n = this,
                        i = null;
                    if ("number" == typeof t) i = t, t = null;
                    else {
                        if ("string" == typeof t && "loaded" === n._state && !n._sprite[t]) return null;
                        if (void 0 === t) {
                            t = "__default";
                            for (var o = 0, a = 0; a < n._sounds.length; a++) n._sounds[a]._paused && !n._sounds[a]._ended && (o++, i = n._sounds[a]._id);
                            1 === o ? t = null : i = null
                        }
                    }
                    var s = i ? n._soundById(i) : n._inactiveSound();
                    if (!s) return null;
                    if (i && !t && (t = s._sprite || "__default"), "loaded" !== n._state) {
                        s._sprite = t, s._ended = !1;
                        var u = s._id;
                        return n._queue.push({
                            event: "play",
                            action: function() {
                                n.play(u)
                            }
                        }), u
                    }
                    if (i && !s._paused) return e || n._loadQueue("play"), s._id;
                    n._webAudio && r._autoResume();
                    var l = Math.max(0, s._seek > 0 ? s._seek : n._sprite[t][0] / 1e3),
                        c = Math.max(0, (n._sprite[t][0] + n._sprite[t][1]) / 1e3 - l),
                        h = 1e3 * c / Math.abs(s._rate);
                    if (s._paused = !1, s._ended = !1, s._sprite = t, s._seek = l, s._start = n._sprite[t][0] / 1e3, s._stop = (n._sprite[t][0] + n._sprite[t][1]) / 1e3, s._loop = !(!s._loop && !n._sprite[t][2]), !(s._seek >= s._stop)) {
                        var f = s._node;
                        if (n._webAudio) {
                            var _ = function() {
                                n._refreshBuffer(s);
                                var t = s._muted || n._muted ? 0 : s._volume;
                                f.gain.setValueAtTime(t, r.ctx.currentTime), s._playStart = r.ctx.currentTime, void 0 === f.bufferSource.start ? s._loop ? f.bufferSource.noteGrainOn(0, l, 86400) : f.bufferSource.noteGrainOn(0, l, c) : s._loop ? f.bufferSource.start(0, l, 86400) : f.bufferSource.start(0, l, c), h !== 1 / 0 && (n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h)), e || setTimeout(function() {
                                    n._emit("play", s._id)
                                }, 0)
                            };
                            "running" === r.state ? _() : (n.once("resume", _), n._clearTimer(s._id))
                        } else {
                            var y = function() {
                                    f.currentTime = l, f.muted = s._muted || n._muted || r._muted || f.muted, f.volume = s._volume * r.volume(), f.playbackRate = s._rate;
                                    try {
                                        var i = f.play();
                                        if (i && "undefined" != typeof Promise && (i instanceof Promise || "function" == typeof i.then) ? (n._playLock = !0, i.then(function() {
                                                n._playLock = !1, e || n._emit("play", s._id)
                                            }).catch(function() {
                                                n._playLock = !1, n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.")
                                            })) : e || n._emit("play", s._id), f.playbackRate = s._rate, f.paused) return void n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                        "__default" !== t || s._loop ? n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h) : (n._endTimers[s._id] = function() {
                                            n._ended(s), f.removeEventListener("ended", n._endTimers[s._id], !1)
                                        }, f.addEventListener("ended", n._endTimers[s._id], !1))
                                    } catch (t) {
                                        n._emit("playerror", s._id, t)
                                    }
                                },
                                d = window && window.ejecta || !f.readyState && r._navigator.isCocoonJS;
                            if (f.readyState >= 3 || d) y();
                            else {
                                f.addEventListener(r._canPlayEvent, function t() {
                                    y(), f.removeEventListener(r._canPlayEvent, t, !1)
                                }, !1), n._clearTimer(s._id)
                            }
                        }
                        return s._id
                    }
                    n._ended(s)
                },
                pause: function(t) {
                    var e = this;
                    if ("loaded" !== e._state || e._playLock) return e._queue.push({
                        event: "pause",
                        action: function() {
                            e.pause(t)
                        }
                    }), e;
                    for (var n = e._getSoundIds(t), i = 0; i < n.length; i++) {
                        e._clearTimer(n[i]);
                        var o = e._soundById(n[i]);
                        if (o && !o._paused && (o._seek = e.seek(n[i]), o._rateSeek = 0, o._paused = !0, e._stopFade(n[i]), o._node))
                            if (e._webAudio) {
                                if (!o._node.bufferSource) continue;
                                void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), e._cleanBuffer(o._node)
                            } else isNaN(o._node.duration) && o._node.duration !== 1 / 0 || o._node.pause();
                        arguments[1] || e._emit("pause", o ? o._id : null)
                    }
                    return e
                },
                stop: function(t, e) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "stop",
                        action: function() {
                            n.stop(t)
                        }
                    }), n;
                    for (var i = n._getSoundIds(t), o = 0; o < i.length; o++) {
                        n._clearTimer(i[o]);
                        var r = n._soundById(i[o]);
                        r && (r._seek = r._start || 0, r._rateSeek = 0, r._paused = !0, r._ended = !0, n._stopFade(i[o]), r._node && (n._webAudio ? r._node.bufferSource && (void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), n._cleanBuffer(r._node)) : isNaN(r._node.duration) && r._node.duration !== 1 / 0 || (r._node.currentTime = r._start || 0, r._node.pause())), e || n._emit("stop", r._id))
                    }
                    return n
                },
                mute: function(t, e) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "mute",
                        action: function() {
                            n.mute(t, e)
                        }
                    }), n;
                    if (void 0 === e) {
                        if ("boolean" != typeof t) return n._muted;
                        n._muted = t
                    }
                    for (var i = n._getSoundIds(e), o = 0; o < i.length; o++) {
                        var a = n._soundById(i[o]);
                        a && (a._muted = t, a._interval && n._stopFade(a._id), n._webAudio && a._node ? a._node.gain.setValueAtTime(t ? 0 : a._volume, r.ctx.currentTime) : a._node && (a._node.muted = !!r._muted || t), n._emit("mute", a._id))
                    }
                    return n
                },
                volume: function() {
                    var t, e, n, i = this,
                        o = arguments;
                    if (0 === o.length) return i._volume;
                    if (1 === o.length || 2 === o.length && void 0 === o[1] ? i._getSoundIds().indexOf(o[0]) >= 0 ? e = parseInt(o[0], 10) : t = parseFloat(o[0]) : o.length >= 2 && (t = parseFloat(o[0]), e = parseInt(o[1], 10)), !(void 0 !== t && t >= 0 && t <= 1)) return (n = e ? i._soundById(e) : i._sounds[0]) ? n._volume : 0;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "volume",
                        action: function() {
                            i.volume.apply(i, o)
                        }
                    }), i;
                    void 0 === e && (i._volume = t), e = i._getSoundIds(e);
                    for (var a = 0; a < e.length; a++)(n = i._soundById(e[a])) && (n._volume = t, o[2] || i._stopFade(e[a]), i._webAudio && n._node && !n._muted ? n._node.gain.setValueAtTime(t, r.ctx.currentTime) : n._node && !n._muted && (n._node.volume = t * r.volume()), i._emit("volume", n._id));
                    return i
                },
                fade: function(t, e, n, i) {
                    var o = this;
                    if ("loaded" !== o._state || o._playLock) return o._queue.push({
                        event: "fade",
                        action: function() {
                            o.fade(t, e, n, i)
                        }
                    }), o;
                    o.volume(t, i);
                    for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                        var u = o._soundById(a[s]);
                        if (u) {
                            if (i || o._stopFade(a[s]), o._webAudio && !u._muted) {
                                var l = r.ctx.currentTime,
                                    c = l + n / 1e3;
                                u._volume = t, u._node.gain.setValueAtTime(t, l), u._node.gain.linearRampToValueAtTime(e, c)
                            }
                            o._startFadeInterval(u, t, e, n, a[s], void 0 === i)
                        }
                    }
                    return o
                },
                _startFadeInterval: function(t, e, n, i, o, r) {
                    var a = this,
                        s = e,
                        u = n - e,
                        l = Math.abs(u / .01),
                        c = Math.max(4, l > 0 ? i / l : i),
                        h = Date.now();
                    t._fadeTo = n, t._interval = setInterval(function() {
                        var o = (Date.now() - h) / i;
                        h = Date.now(), s += u * o, s = Math.max(0, s), s = Math.min(1, s), s = Math.round(100 * s) / 100, a._webAudio ? t._volume = s : a.volume(s, t._id, !0), r && (a._volume = s), (n < e && s <= n || n > e && s >= n) && (clearInterval(t._interval), t._interval = null, t._fadeTo = null, a.volume(n, t._id), a._emit("fade", t._id))
                    }, c)
                },
                _stopFade: function(t) {
                    var e = this._soundById(t);
                    return e && e._interval && (this._webAudio && e._node.gain.cancelScheduledValues(r.ctx.currentTime), clearInterval(e._interval), e._interval = null, this.volume(e._fadeTo, t), e._fadeTo = null, this._emit("fade", t)), this
                },
                loop: function() {
                    var t, e, n, i = arguments;
                    if (0 === i.length) return this._loop;
                    if (1 === i.length) {
                        if ("boolean" != typeof i[0]) return !!(n = this._soundById(parseInt(i[0], 10))) && n._loop;
                        t = i[0], this._loop = t
                    } else 2 === i.length && (t = i[0], e = parseInt(i[1], 10));
                    for (var o = this._getSoundIds(e), r = 0; r < o.length; r++)(n = this._soundById(o[r])) && (n._loop = t, this._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = t, t && (n._node.bufferSource.loopStart = n._start || 0, n._node.bufferSource.loopEnd = n._stop)));
                    return this
                },
                rate: function() {
                    var t, e, n, i = this,
                        o = arguments;
                    if (0 === o.length) e = i._sounds[0]._id;
                    else if (1 === o.length) {
                        i._getSoundIds().indexOf(o[0]) >= 0 ? e = parseInt(o[0], 10) : t = parseFloat(o[0])
                    } else 2 === o.length && (t = parseFloat(o[0]), e = parseInt(o[1], 10));
                    if ("number" != typeof t) return (n = i._soundById(e)) ? n._rate : i._rate;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "rate",
                        action: function() {
                            i.rate.apply(i, o)
                        }
                    }), i;
                    void 0 === e && (i._rate = t), e = i._getSoundIds(e);
                    for (var a = 0; a < e.length; a++)
                        if (n = i._soundById(e[a])) {
                            n._rateSeek = i.seek(e[a]), n._playStart = i._webAudio ? r.ctx.currentTime : n._playStart, n._rate = t, i._webAudio && n._node && n._node.bufferSource ? n._node.bufferSource.playbackRate.setValueAtTime(t, r.ctx.currentTime) : n._node && (n._node.playbackRate = t);
                            var s = i.seek(e[a]),
                                u = 1e3 * ((i._sprite[n._sprite][0] + i._sprite[n._sprite][1]) / 1e3 - s) / Math.abs(n._rate);
                            !i._endTimers[e[a]] && n._paused || (i._clearTimer(e[a]), i._endTimers[e[a]] = setTimeout(i._ended.bind(i, n), u)), i._emit("rate", n._id)
                        } return i
                },
                seek: function() {
                    var t, e, n = this,
                        i = arguments;
                    if (0 === i.length) e = n._sounds[0]._id;
                    else if (1 === i.length) {
                        n._getSoundIds().indexOf(i[0]) >= 0 ? e = parseInt(i[0], 10) : n._sounds.length && (e = n._sounds[0]._id, t = parseFloat(i[0]))
                    } else 2 === i.length && (t = parseFloat(i[0]), e = parseInt(i[1], 10));
                    if (void 0 === e) return n;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "seek",
                        action: function() {
                            n.seek.apply(n, i)
                        }
                    }), n;
                    var o = n._soundById(e);
                    if (o) {
                        if (!("number" == typeof t && t >= 0)) {
                            if (n._webAudio) {
                                var a = n.playing(e) ? r.ctx.currentTime - o._playStart : 0,
                                    s = o._rateSeek ? o._rateSeek - o._seek : 0;
                                return o._seek + (s + a * Math.abs(o._rate))
                            }
                            return o._node.currentTime
                        }
                        var u = n.playing(e);
                        u && n.pause(e, !0), o._seek = t, o._ended = !1, n._clearTimer(e), !n._webAudio && o._node && (o._node.currentTime = t);
                        var l = function() {
                            n._emit("seek", e), u && n.play(e, !0)
                        };
                        if (u && !n._webAudio) {
                            setTimeout(function t() {
                                n._playLock ? setTimeout(t, 0) : l()
                            }, 0)
                        } else l()
                    }
                    return n
                },
                playing: function(t) {
                    if ("number" == typeof t) {
                        var e = this._soundById(t);
                        return !!e && !e._paused
                    }
                    for (var n = 0; n < this._sounds.length; n++)
                        if (!this._sounds[n]._paused) return !0;
                    return !1
                },
                duration: function(t) {
                    var e = this._duration,
                        n = this._soundById(t);
                    return n && (e = this._sprite[n._sprite][1] / 1e3), e
                },
                state: function() {
                    return this._state
                },
                unload: function() {
                    for (var t = this, e = t._sounds, n = 0; n < e.length; n++) {
                        if (e[n]._paused || t.stop(e[n]._id), !t._webAudio) /MSIE |Trident\//.test(r._navigator && r._navigator.userAgent) || (e[n]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"), e[n]._node.removeEventListener("error", e[n]._errorFn, !1), e[n]._node.removeEventListener(r._canPlayEvent, e[n]._loadFn, !1);
                        delete e[n]._node, t._clearTimer(e[n]._id)
                    }
                    var i = r._howls.indexOf(t);
                    i >= 0 && r._howls.splice(i, 1);
                    var o = !0;
                    for (n = 0; n < r._howls.length; n++)
                        if (r._howls[n]._src === t._src) {
                            o = !1;
                            break
                        } return u && o && delete u[t._src], r.noAudio = !1, t._state = "unloaded", t._sounds = [], t = null, null
                },
                on: function(t, e, n, i) {
                    var o = this["_on" + t];
                    return "function" == typeof e && o.push(i ? {
                        id: n,
                        fn: e,
                        once: i
                    } : {
                        id: n,
                        fn: e
                    }), this
                },
                off: function(t, e, n) {
                    var i = this["_on" + t],
                        o = 0;
                    if ("number" == typeof e && (n = e, e = null), e || n)
                        for (o = 0; o < i.length; o++) {
                            var r = n === i[o].id;
                            if (e === i[o].fn && r || !e && r) {
                                i.splice(o, 1);
                                break
                            }
                        } else if (t) this["_on" + t] = [];
                        else {
                            var a = Object.keys(this);
                            for (o = 0; o < a.length; o++) 0 === a[o].indexOf("_on") && Array.isArray(this[a[o]]) && (this[a[o]] = [])
                        } return this
                },
                once: function(t, e, n) {
                    return this.on(t, e, n, 1), this
                },
                _emit: function(t, e, n) {
                    for (var i = this["_on" + t], o = i.length - 1; o >= 0; o--) i[o].id && i[o].id !== e && "load" !== t || (setTimeout(function(t) {
                        t.call(this, e, n)
                    }.bind(this, i[o].fn), 0), i[o].once && this.off(t, i[o].fn, i[o].id));
                    return this._loadQueue(t), this
                },
                _loadQueue: function(t) {
                    if (this._queue.length > 0) {
                        var e = this._queue[0];
                        e.event === t && (this._queue.shift(), this._loadQueue()), t || e.action()
                    }
                    return this
                },
                _ended: function(t) {
                    var e = t._sprite;
                    if (!this._webAudio && t._node && !t._node.paused && !t._node.ended && t._node.currentTime < t._stop) return setTimeout(this._ended.bind(this, t), 100), this;
                    var n = !(!t._loop && !this._sprite[e][2]);
                    if (this._emit("end", t._id), !this._webAudio && n && this.stop(t._id, !0).play(t._id), this._webAudio && n) {
                        this._emit("play", t._id), t._seek = t._start || 0, t._rateSeek = 0, t._playStart = r.ctx.currentTime;
                        var i = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                        this._endTimers[t._id] = setTimeout(this._ended.bind(this, t), i)
                    }
                    return this._webAudio && !n && (t._paused = !0, t._ended = !0, t._seek = t._start || 0, t._rateSeek = 0, this._clearTimer(t._id), this._cleanBuffer(t._node), r._autoSuspend()), this._webAudio || n || this.stop(t._id, !0), this
                },
                _clearTimer: function(t) {
                    if (this._endTimers[t]) {
                        if ("function" != typeof this._endTimers[t]) clearTimeout(this._endTimers[t]);
                        else {
                            var e = this._soundById(t);
                            e && e._node && e._node.removeEventListener("ended", this._endTimers[t], !1)
                        }
                        delete this._endTimers[t]
                    }
                    return this
                },
                _soundById: function(t) {
                    for (var e = 0; e < this._sounds.length; e++)
                        if (t === this._sounds[e]._id) return this._sounds[e];
                    return null
                },
                _inactiveSound: function() {
                    this._drain();
                    for (var t = 0; t < this._sounds.length; t++)
                        if (this._sounds[t]._ended) return this._sounds[t].reset();
                    return new s(this)
                },
                _drain: function() {
                    var t = this._pool,
                        e = 0,
                        n = 0;
                    if (!(this._sounds.length < t)) {
                        for (n = 0; n < this._sounds.length; n++) this._sounds[n]._ended && e++;
                        for (n = this._sounds.length - 1; n >= 0; n--) {
                            if (e <= t) return;
                            this._sounds[n]._ended && (this._webAudio && this._sounds[n]._node && this._sounds[n]._node.disconnect(0), this._sounds.splice(n, 1), e--)
                        }
                    }
                },
                _getSoundIds: function(t) {
                    if (void 0 === t) {
                        for (var e = [], n = 0; n < this._sounds.length; n++) e.push(this._sounds[n]._id);
                        return e
                    }
                    return [t]
                },
                _refreshBuffer: function(t) {
                    return t._node.bufferSource = r.ctx.createBufferSource(), t._node.bufferSource.buffer = u[this._src], t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node), t._node.bufferSource.loop = t._loop, t._loop && (t._node.bufferSource.loopStart = t._start || 0, t._node.bufferSource.loopEnd = t._stop || 0), t._node.bufferSource.playbackRate.setValueAtTime(t._rate, r.ctx.currentTime), this
                },
                _cleanBuffer: function(t) {
                    if (r._scratchBuffer && t.bufferSource) {
                        t.bufferSource.onended = null, t.bufferSource.disconnect(0);
                        try {
                            t.bufferSource.buffer = r._scratchBuffer
                        } catch (t) {}
                    }
                    return t.bufferSource = null, this
                }
            };
            var s = function(t) {
                this._parent = t, this.init()
            };
            s.prototype = {
                init: function() {
                    var t = this._parent;
                    return this._muted = t._muted, this._loop = t._loop, this._volume = t._volume, this._rate = t._rate, this._seek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++r._counter, t._sounds.push(this), this.create(), this
                },
                create: function() {
                    var t = this._parent,
                        e = r._muted || this._muted || this._parent._muted ? 0 : this._volume;
                    return t._webAudio ? (this._node = void 0 === r.ctx.createGain ? r.ctx.createGainNode() : r.ctx.createGain(), this._node.gain.setValueAtTime(e, r.ctx.currentTime), this._node.paused = !0, this._node.connect(r.masterGain)) : (this._node = new Audio, this._errorFn = this._errorListener.bind(this), this._node.addEventListener("error", this._errorFn, !1), this._loadFn = this._loadListener.bind(this), this._node.addEventListener(r._canPlayEvent, this._loadFn, !1), this._node.src = t._src, this._node.preload = "auto", this._node.volume = e * r.volume(), this._node.load()), this
                },
                reset: function() {
                    var t = this._parent;
                    return this._muted = t._muted, this._loop = t._loop, this._volume = t._volume, this._rate = t._rate, this._seek = 0, this._rateSeek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++r._counter, this
                },
                _errorListener: function() {
                    this._parent._emit("loaderror", this._id, this._node.error ? this._node.error.code : 0), this._node.removeEventListener("error", this._errorFn, !1)
                },
                _loadListener: function() {
                    var t = this._parent;
                    t._duration = Math.ceil(10 * this._node.duration) / 10, 0 === Object.keys(t._sprite).length && (t._sprite = {
                        __default: [0, 1e3 * t._duration]
                    }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue()), this._node.removeEventListener(r._canPlayEvent, this._loadFn, !1)
                }
            };
            var u = {},
                l = function(t) {
                    var e = t._src;
                    if (u[e]) return t._duration = u[e].duration, void f(t);
                    if (/^data:[^;]+;base64,/.test(e)) {
                        for (var n = atob(e.split(",")[1]), i = new Uint8Array(n.length), o = 0; o < n.length; ++o) i[o] = n.charCodeAt(o);
                        h(i.buffer, t)
                    } else {
                        var r = new XMLHttpRequest;
                        r.open("GET", e, !0), r.withCredentials = t._xhrWithCredentials, r.responseType = "arraybuffer", r.onload = function() {
                            var e = (r.status + "")[0];
                            "0" === e || "2" === e || "3" === e ? h(r.response, t) : t._emit("loaderror", null, "Failed loading audio file with status: " + r.status + ".")
                        }, r.onerror = function() {
                            t._webAudio && (t._html5 = !0, t._webAudio = !1, t._sounds = [], delete u[e], t.load())
                        }, c(r)
                    }
                },
                c = function(t) {
                    try {
                        t.send()
                    } catch (e) {
                        t.onerror()
                    }
                },
                h = function(t, e) {
                    var n = function() {
                            e._emit("loaderror", null, "Decoding audio data failed.")
                        },
                        i = function(t) {
                            t && e._sounds.length > 0 ? (u[e._src] = t, f(e, t)) : n()
                        };
                    "undefined" != typeof Promise && 1 === r.ctx.decodeAudioData.length ? r.ctx.decodeAudioData(t).then(i).catch(n) : r.ctx.decodeAudioData(t, i, n)
                },
                f = function(t, e) {
                    e && !t._duration && (t._duration = e.duration), 0 === Object.keys(t._sprite).length && (t._sprite = {
                        __default: [0, 1e3 * t._duration]
                    }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue())
                },
                _ = function() {
                    try {
                        "undefined" != typeof AudioContext ? r.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? r.ctx = new webkitAudioContext : r.usingWebAudio = !1
                    } catch (t) {
                        r.usingWebAudio = !1
                    }
                    var t = /iP(hone|od|ad)/.test(r._navigator && r._navigator.platform),
                        e = r._navigator && r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                        n = e ? parseInt(e[1], 10) : null;
                    if (t && n && n < 9) {
                        var i = /safari/.test(r._navigator && r._navigator.userAgent.toLowerCase());
                        (r._navigator && r._navigator.standalone && !i || r._navigator && !r._navigator.standalone && !i) && (r.usingWebAudio = !1)
                    }
                    r.usingWebAudio && (r.masterGain = void 0 === r.ctx.createGain ? r.ctx.createGainNode() : r.ctx.createGain(), r.masterGain.gain.setValueAtTime(r._muted ? 0 : 1, r.ctx.currentTime), r.masterGain.connect(r.ctx.destination)), r._setup()
                };
            void 0 === (i = function() {
                return {
                    Howler: r,
                    Howl: a
                }
            }.apply(e, [])) || (t.exports = i), e.Howler = r, e.Howl = a, "undefined" != typeof window ? (window.HowlerGlobal = o, window.Howler = r, window.Howl = a, window.Sound = s) : void 0 !== n && (n.HowlerGlobal = o, n.Howler = r, n.Howl = a, n.Sound = s)
        }(),
        /*!
         *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
         *  
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        function() {
            "use strict";
            HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(t) {
                if (!this.ctx || !this.ctx.listener) return this;
                for (var e = this._howls.length - 1; e >= 0; e--) this._howls[e].stereo(t);
                return this
            }, HowlerGlobal.prototype.pos = function(t, e, n) {
                return this.ctx && this.ctx.listener ? (e = "number" != typeof e ? this._pos[1] : e, n = "number" != typeof n ? this._pos[2] : n, "number" != typeof t ? this._pos : (this._pos = [t, e, n], void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, .1), this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, .1), this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, .1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]), this)) : this
            }, HowlerGlobal.prototype.orientation = function(t, e, n, i, o, r) {
                if (!this.ctx || !this.ctx.listener) return this;
                var a = this._orientation;
                return e = "number" != typeof e ? a[1] : e, n = "number" != typeof n ? a[2] : n, i = "number" != typeof i ? a[3] : i, o = "number" != typeof o ? a[4] : o, r = "number" != typeof r ? a[5] : r, "number" != typeof t ? a : (this._orientation = [t, e, n, i, o, r], void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(t, Howler.ctx.currentTime, .1), this.ctx.listener.forwardY.setTargetAtTime(e, Howler.ctx.currentTime, .1), this.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, .1), this.ctx.listener.upX.setTargetAtTime(t, Howler.ctx.currentTime, .1), this.ctx.listener.upY.setTargetAtTime(e, Howler.ctx.currentTime, .1), this.ctx.listener.upZ.setTargetAtTime(n, Howler.ctx.currentTime, .1)) : this.ctx.listener.setOrientation(t, e, n, i, o, r), this)
            }, Howl.prototype.init = function(t) {
                return function(e) {
                    return this._orientation = e.orientation || [1, 0, 0], this._stereo = e.stereo || null, this._pos = e.pos || null, this._pannerAttr = {
                        coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                        coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                        coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                        distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                        maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                        panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                        refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                        rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
                    }, this._onstereo = e.onstereo ? [{
                        fn: e.onstereo
                    }] : [], this._onpos = e.onpos ? [{
                        fn: e.onpos
                    }] : [], this._onorientation = e.onorientation ? [{
                        fn: e.onorientation
                    }] : [], t.call(this, e)
                }
            }(Howl.prototype.init), Howl.prototype.stereo = function(e, n) {
                var i = this;
                if (!i._webAudio) return i;
                if ("loaded" !== i._state) return i._queue.push({
                    event: "stereo",
                    action: function() {
                        i.stereo(e, n)
                    }
                }), i;
                var o = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                if (void 0 === n) {
                    if ("number" != typeof e) return i._stereo;
                    i._stereo = e, i._pos = [e, 0, 0]
                }
                for (var r = i._getSoundIds(n), a = 0; a < r.length; a++) {
                    var s = i._soundById(r[a]);
                    if (s) {
                        if ("number" != typeof e) return s._stereo;
                        s._stereo = e, s._pos = [e, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || t(s, o), "spatial" === o ? void 0 !== s._panner.positionX ? (s._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), s._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime), s._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : s._panner.setPosition(e, 0, 0) : s._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)), i._emit("stereo", s._id)
                    }
                }
                return i
            }, Howl.prototype.pos = function(e, n, i, o) {
                var r = this;
                if (!r._webAudio) return r;
                if ("loaded" !== r._state) return r._queue.push({
                    event: "pos",
                    action: function() {
                        r.pos(e, n, i, o)
                    }
                }), r;
                if (n = "number" != typeof n ? 0 : n, i = "number" != typeof i ? -.5 : i, void 0 === o) {
                    if ("number" != typeof e) return r._pos;
                    r._pos = [e, n, i]
                }
                for (var a = r._getSoundIds(o), s = 0; s < a.length; s++) {
                    var u = r._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof e) return u._pos;
                        u._pos = [e, n, i], u._node && (u._panner && !u._panner.pan || t(u, "spatial"), void 0 !== u._panner.positionX ? (u._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.positionY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.positionZ.setValueAtTime(i, Howler.ctx.currentTime)) : u._panner.setOrientation(e, n, i)), r._emit("pos", u._id)
                    }
                }
                return r
            }, Howl.prototype.orientation = function(e, n, i, o) {
                var r = this;
                if (!r._webAudio) return r;
                if ("loaded" !== r._state) return r._queue.push({
                    event: "orientation",
                    action: function() {
                        r.orientation(e, n, i, o)
                    }
                }), r;
                if (n = "number" != typeof n ? r._orientation[1] : n, i = "number" != typeof i ? r._orientation[2] : i, void 0 === o) {
                    if ("number" != typeof e) return r._orientation;
                    r._orientation = [e, n, i]
                }
                for (var a = r._getSoundIds(o), s = 0; s < a.length; s++) {
                    var u = r._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof e) return u._orientation;
                        u._orientation = [e, n, i], u._node && (u._panner || (u._pos || (u._pos = r._pos || [0, 0, -.5]), t(u, "spatial")), void 0 !== u._panner.orientationX ? (u._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.orientationY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.orientationZ.setValueAtTime(i, Howler.ctx.currentTime)) : u._panner.setOrientation(e, n, i)), r._emit("orientation", u._id)
                    }
                }
                return r
            }, Howl.prototype.pannerAttr = function() {
                var e, n, i, r = arguments;
                if (!this._webAudio) return this;
                if (0 === r.length) return this._pannerAttr;
                if (1 === r.length) {
                    if ("object" !== o(r[0])) return (i = this._soundById(parseInt(r[0], 10))) ? i._pannerAttr : this._pannerAttr;
                    e = r[0], void 0 === n && (e.pannerAttr || (e.pannerAttr = {
                        coneInnerAngle: e.coneInnerAngle,
                        coneOuterAngle: e.coneOuterAngle,
                        coneOuterGain: e.coneOuterGain,
                        distanceModel: e.distanceModel,
                        maxDistance: e.maxDistance,
                        refDistance: e.refDistance,
                        rolloffFactor: e.rolloffFactor,
                        panningModel: e.panningModel
                    }), this._pannerAttr = {
                        coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : this._coneInnerAngle,
                        coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : this._coneOuterAngle,
                        coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : this._coneOuterGain,
                        distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : this._distanceModel,
                        maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : this._maxDistance,
                        refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : this._refDistance,
                        rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : this._rolloffFactor,
                        panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : this._panningModel
                    })
                } else 2 === r.length && (e = r[0], n = parseInt(r[1], 10));
                for (var a = this._getSoundIds(n), s = 0; s < a.length; s++)
                    if (i = this._soundById(a[s])) {
                        var u = i._pannerAttr;
                        u = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : u.coneInnerAngle,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : u.coneOuterAngle,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : u.coneOuterGain,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : u.distanceModel,
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : u.maxDistance,
                            refDistance: void 0 !== e.refDistance ? e.refDistance : u.refDistance,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : u.rolloffFactor,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : u.panningModel
                        };
                        var l = i._panner;
                        l ? (l.coneInnerAngle = u.coneInnerAngle, l.coneOuterAngle = u.coneOuterAngle, l.coneOuterGain = u.coneOuterGain, l.distanceModel = u.distanceModel, l.maxDistance = u.maxDistance, l.refDistance = u.refDistance, l.rolloffFactor = u.rolloffFactor, l.panningModel = u.panningModel) : (i._pos || (i._pos = this._pos || [0, 0, -.5]), t(i, "spatial"))
                    } return this
            }, Sound.prototype.init = function(t) {
                return function() {
                    var e = this._parent;
                    this._orientation = e._orientation, this._stereo = e._stereo, this._pos = e._pos, this._pannerAttr = e._pannerAttr, t.call(this), this._stereo ? e.stereo(this._stereo) : this._pos && e.pos(this._pos[0], this._pos[1], this._pos[2], this._id)
                }
            }(Sound.prototype.init), Sound.prototype.reset = function(t) {
                return function() {
                    var e = this._parent;
                    return this._orientation = e._orientation, this._stereo = e._stereo, this._pos = e._pos, this._pannerAttr = e._pannerAttr, this._stereo ? e.stereo(this._stereo) : this._pos ? e.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0), this._panner = void 0, e._refreshBuffer(this)), t.call(this)
                }
            }(Sound.prototype.reset);
            var t = function(t, e) {
                "spatial" === (e = e || "spatial") ? (t._panner = Howler.ctx.createPanner(), t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle, t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle, t._panner.coneOuterGain = t._pannerAttr.coneOuterGain, t._panner.distanceModel = t._pannerAttr.distanceModel, t._panner.maxDistance = t._pannerAttr.maxDistance, t._panner.refDistance = t._pannerAttr.refDistance, t._panner.rolloffFactor = t._pannerAttr.rolloffFactor, t._panner.panningModel = t._pannerAttr.panningModel, void 0 !== t._panner.positionX ? (t._panner.positionX.setValueAtTime(t._pos[0], Howler.ctx.currentTime), t._panner.positionY.setValueAtTime(t._pos[1], Howler.ctx.currentTime), t._panner.positionZ.setValueAtTime(t._pos[2], Howler.ctx.currentTime)) : t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]), void 0 !== t._panner.orientationX ? (t._panner.orientationX.setValueAtTime(t._orientation[0], Howler.ctx.currentTime), t._panner.orientationY.setValueAtTime(t._orientation[1], Howler.ctx.currentTime), t._panner.orientationZ.setValueAtTime(t._orientation[2], Howler.ctx.currentTime)) : t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(), t._panner.pan.setValueAtTime(t._stereo, Howler.ctx.currentTime)), t._panner.connect(t._node), t._paused || t._parent.pause(t._id, !0).play(t._id, !0)
            }
        }()
    }).call(this, n(91))
}, function(t, e) {
    var n = Array.isArray;
    t.exports = n
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(31);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = s(this, u(e).call(this));
            var i = t.text,
                o = t.style,
                r = t.up,
                a = t.down,
                l = t.over;
            return n._text = i, n._style = o, n._up = r, n._down = a, n._over = l, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._addHitArea(this._up);
                    this._addDownState(t), this._addOverState(), this.addChild(this._up), this._addText()
                }
            }, {
                key: "_addHitArea",
                value: function(t) {
                    var e = this._createGraphics();
                    e.beginFill(16711680, 0), e.drawRect(0, 0, t.width, t.height), e.endFill();
                    var n = this._createContainer();
                    return n.area = e, n.addChild(e), this.addChild(n), n
                }
            }, {
                key: "_createGraphics",
                value: function() {
                    return new i.Graphics
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new i.Container
                }
            }, {
                key: "_addText",
                value: function() {
                    if (!this._text) return this;
                    var t = this._addTextField({
                        text: this._text,
                        style: this._convertStyle(this._style)
                    });
                    return t.x = .5 * this.width - .5 * t.width, t.y = .5 * this.height - .5 * t.height, this
                }
            }, {
                key: "_addDownState",
                value: function(t) {
                    var e = this;
                    return this._down ? (this.addChild(this._down), t.interactive = !0, this._down.visible = !1, ["mousedown", "touchstart"].forEach(function(n) {
                        t.on(n, e._showUpState, e)
                    }), ["mouseup", "mouseout", "touchend", "touchcancel", "touchleave"].forEach(function(n) {
                        t.on(n, e._showDownState, e)
                    }), t.on("touchmove", function(n) {
                        var i = n.data.global,
                            o = e._createPoint(i.x, i.y);
                        t.area.containsPoint(o) || e._showDownState()
                    }), this) : this
                }
            }, {
                key: "_showUpState",
                value: function() {
                    return this._up.visible = !1, this._down.visible = !0, this
                }
            }, {
                key: "_showDownState",
                value: function() {
                    return this._down.visible = !1, this._up.visible = !0, this
                }
            }, {
                key: "_createPoint",
                value: function(t, e) {
                    return new i.Point(t, e)
                }
            }, {
                key: "_addOverState",
                value: function() {
                    return this._over ? (this.addChild(this._over), this._over.visible = !1, this) : this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._up = null, this._down = null, this._over = null, o.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function h(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return f
    });
    var f = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && h(t.prototype, e), n && h(t, n)
        }(t, [{
            key: "createControlsBackground",
            value: function() {
                var t = this._assets.getControlsBackground();
                if (t) {
                    var e = this._createSprite(t);
                    return e.x -= .15 * e.width, e
                }
                return this._createContainer()
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new i.Sprite(t)
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createFromTilesheet",
            value: function(t) {
                var e = t.x,
                    n = t.y,
                    i = t.frameX,
                    o = t.frameY,
                    r = t.frameWidth,
                    a = t.frameHeight,
                    s = t.baseTexture,
                    u = i || o || r || a,
                    l = u ? s.clone() : s;
                u && (l.frame = this._createFrame({
                    texture: l,
                    x: i,
                    y: o,
                    width: r,
                    height: a
                }));
                var c = this._createSprite(l);
                return c.x = e || 0, c.y = n || 0, c
            }
        }, {
            key: "_createFrame",
            value: function(t) {
                var e = t.texture,
                    n = t.x,
                    i = t.y,
                    o = t.width,
                    r = t.height,
                    a = n || 0,
                    s = i || 0;
                return this._createRectangle({
                    x: a,
                    y: s,
                    width: o || e.width - a,
                    height: r || e.height - s
                })
            }
        }, {
            key: "_createRectangle",
            value: function(t) {
                var e = t.x,
                    n = t.y,
                    o = t.width,
                    r = t.height;
                return new i.Rectangle(e, n, o, r)
            }
        }, {
            key: "_createButton",
            value: function(t) {
                return new c(t)
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return f
    });
    var i, o = n(1),
        r = n(26),
        a = n(12);

    function s(t) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== s(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }! function(t) {
        t.LEFT = "left", t.RIGHT = "right", t.CENTER = "center"
    }(i || (i = {}));
    var f = function(t) {
        function e() {
            var t;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (t = l(this, c(e).call(this)))._hitarea = t._createHitArea(), t.addChild(t._hitarea), t._maxWidth = 220, t
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, a["a"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "_createHitArea",
                value: function() {
                    var t = new o.Graphics;
                    return t.beginFill(16711680, 0), t.drawRect(0, 0, 10, 10), t.endFill(), t
                }
            }, {
                key: "_addTextField",
                value: function(t) {
                    var e = t.text,
                        n = t.style,
                        i = t.x,
                        o = t.y,
                        r = this._createTextField(e, n);
                    return r.x = i || 0, r.y = o || 0, this.addChild(r), r
                }
            }, {
                key: "_createTextField",
                value: function(t, e) {
                    return new o.Text(t, e)
                }
            }, {
                key: "_convertStyle",
                value: function(t, e) {
                    return r.a.convertStyle(t, e)
                }
            }, {
                key: "_determineStyle",
                value: function(t, e, n) {
                    return r.a.determineStyle(t, e, n)
                }
            }, {
                key: "_setAlign",
                value: function(t) {
                    switch (this._align = t || this._align, this._align) {
                        case i.CENTER:
                            this._alignCenter();
                            break;
                        case i.RIGHT:
                            this._alignRight();
                            break;
                        case i.LEFT:
                            this._alignLeft()
                    }
                    return this._align
                }
            }, {
                key: "_alignCenter",
                value: function() {}
            }, {
                key: "_alignRight",
                value: function() {}
            }, {
                key: "_alignLeft",
                value: function() {}
            }, {
                key: "_setContent",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        n = t.call(this, e);
                    return this._setAlign(), this._adjustToMaxSize(), this._updateHitarea(), n
                }
            }, {
                key: "_adjustToMaxSize",
                value: function() {
                    this.removeChild(this._hitarea);
                    var t = this.height;
                    this.scale.x = 1, this.scale.y = 1;
                    var e = this.height;
                    this.width > this._maxWidth && (this.width = this._maxWidth, this.scale.y = this.scale.x);
                    var n = e - t,
                        i = e - this.height,
                        o = void 0 === this._baseY ? this.y : this._baseY;
                    return this.y = o + .5 * (i - n), this.addChild(this._hitarea), this
                }
            }, {
                key: "_updateHitarea",
                value: function() {
                    this._hitarea.visible = !1;
                    return this._hitarea.width = this.width + 50, this._hitarea.height = this.height + 50, this._hitarea.x = -.5 * this._hitarea.width, this._hitarea.y = -.5 * this._hitarea.height + .5 * this.height, this._hitarea.visible = !0, this._hitarea
                }
            }, {
                key: "setBaseY",
                value: function(t) {
                    this._baseY = t
                }
            }, {
                key: "setMaxWidth",
                value: function(t) {
                    this._maxWidth = t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._hitarea = null, a.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        return null != t && "object" == n(t)
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(93),
        r = "object" == ("undefined" == typeof self ? "undefined" : i(self)) && self && self.Object === Object && self,
        a = o || r || Function("return this")();
    t.exports = a
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(1),
        o = n(69);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = s(this, u(e).call(this)))._config = t, o._assets = n, o._layoutAdjuster = i, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "createGlobalBackground",
                value: function(t) {
                    var e = {
                            regular: this._assets.getGlobalBackground(),
                            scatter: this._assets.getScatterGlobalBackground()
                        },
                        n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                    return this._addFullHitarea(n), this._layoutAdjuster.center(n)
                }
            }, {
                key: "_addFullHitarea",
                value: function(t) {
                    var e = this._createGraphics();
                    return e.beginFill(16711680), e.drawRect(0, 0, this._layoutAdjuster.getWidth(), this._layoutAdjuster.getHeight()), e.endFill(), e.alpha = 0, t.addChild(e), t
                }
            }, {
                key: "_createTrimmedBackground",
                value: function(t) {
                    var e = this._layoutAdjuster.getMainWidth(),
                        n = this._layoutAdjuster.getMainX();
                    t.frame = new i.Rectangle(n, 0, e, t.height);
                    var o = this._createSprite(t),
                        r = this._createContainer();
                    r.addChild(o);
                    var a = this._createControlsSeparator();
                    a.x = o.width, r.addChild(a);
                    var s = this._createControlsSeparator();
                    return s.x = -1 * s.width, r.addChild(s), r.cacheAsBitmap = !0, this._adjustBackgroundToMain(r)
                }
            }, {
                key: "_adjustBackgroundToMain",
                value: function(t) {
                    return this._layoutAdjuster.adjustBackgroundToMain(t)
                }
            }, {
                key: "_createControlsSeparator",
                value: function() {
                    var t = this._assets.getControlsSeparator();
                    return t ? this._createSprite(t) : this._createContainer()
                }
            }, {
                key: "_adjustToMain",
                value: function(t) {
                    return this._layoutAdjuster.adjustToMain(t)
                }
            }, {
                key: "_createControls",
                value: function(t, e) {
                    var n = new e({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return n.x = this._layoutAdjuster.getControlsX(), n
                }
            }, {
                key: "createThrobber",
                value: function() {
                    var t = this._createAnimatedSprite(this._assets.getThrobber());
                    return t.alpha = 0, t.play(), t
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        ERROR: "loadEvent.error",
        COMPLETE: "loadEvent.complete",
        PROGRESS: "loadEvent.progress"
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(31),
        o = n(15);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._format = t, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_formatCredit",
                value: function(t) {
                    return o.a.formatCredit(t, this._format)
                }
            }, {
                key: "_creditToInteger",
                value: function(t) {
                    var e = new RegExp("\\" + this._format.thousandsSeparator, "g"),
                        n = t.replace(this._format.decimalMark, "").replace(e, "");
                    return Number(n)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._format = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    var i = n(46),
        o = n(128),
        r = n(129),
        a = "[object Null]",
        s = "[object Undefined]",
        u = i ? i.toStringTag : void 0;
    t.exports = function(t) {
        return null == t ? void 0 === t ? s : a : u && u in Object(t) ? o(t) : r(t)
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return null != t && ("object" == e || "function" == e)
    }
}, function(t, e, n) {
    var i = n(54),
        o = n(75);
    t.exports = function(t) {
        return null != t && o(t.length) && !i(t)
    }
}, function(t, e, n) {
    var i = n(130),
        o = n(133);
    t.exports = function(t, e) {
        var n = o(t, e);
        return i(n) ? n : void 0
    }
}, function(t, e, n) {
    var i = n(101),
        o = n(102),
        r = n(39);
    t.exports = function(t) {
        return r(t) ? i(t) : o(t)
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        STATUS: "alertBoxType.status",
        INTERACTIVE: "alertBoxType.interactive"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        SYMBOLS_CHANGE: "change:symbols"
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return _
    });
    var i = n(1),
        o = n(11),
        r = n(4),
        a = n(65),
        s = n(8);

    function u(t) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function l(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function c(t, e) {
        return !e || "object" !== u(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function h(t) {
        return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function f(t, e) {
        return (f = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var _ = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = c(this, h(e).call(this, t)))._keyboardControls = new a.a(n._model), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && f(t, e)
            }(e, s["a"]),
            function(t, e, n) {
                e && l(t.prototype, e), n && l(t, n)
            }(e, [{
                key: "_adjustBackground",
                value: function(t) {
                    var e = t.width,
                        n = Math.min(this._layoutAdjuster.getRatio(), 1);
                    t.scale.x = n * n * n;
                    var i = e - t.width;
                    return t.x += .5 * i, t
                }
            }, {
                key: "_addComponent",
                value: function(t) {
                    var e = t.creator,
                        n = t.eventToDispatch,
                        i = t.expectedStatus,
                        o = t.holdEnabled,
                        r = t.holdHighlight,
                        a = t.keyboardShortcut,
                        s = e.call();
                    return n && this._addInteractionHandler({
                        button: s,
                        eventToDispatch: n,
                        expectedStatus: i,
                        holdEnabled: o,
                        holdHighlight: r,
                        keyboardShortcut: a
                    }), this.addChild(s), s
                }
            }, {
                key: "_addInteractionHandler",
                value: function(t) {
                    var e = this,
                        n = t.button,
                        o = t.eventToDispatch,
                        r = t.expectedStatus,
                        a = t.holdEnabled,
                        s = t.holdHighlight,
                        u = t.keyboardShortcut;
                    n.interactive = !0;
                    var l = this._createClickHandler({
                        eventToDispatch: o,
                        expectedStatus: r,
                        holdEnabled: a,
                        holdHighlight: s
                    });
                    if (this._onClick(n, l, this), a) {
                        var c = this._createHoldHandler(r, s);
                        n.on("mousedown", c, this), n.on("touchstart", c, this), n.on("mouseout", function() {
                            e._stopHold(s)
                        }), n.on("touchmove", function(t) {
                            var n = t.data.global;
                            new i.Rectangle(s.x + s.parent.x, s.y + s.parent.y, s.width, s.height).contains(n.x, n.y) || e._stopHold(s)
                        })
                    }
                    return u && (this._keyboardControls.addKeyDownHandler(u, o, r), this._keyboardControls.on(o, function() {
                        n.interactive && e.emit(o)
                    })), n
                }
            }, {
                key: "_createClickHandler",
                value: function(t) {
                    var e = this,
                        n = t.eventToDispatch,
                        i = t.expectedStatus,
                        r = t.holdEnabled,
                        a = t.holdHighlight;
                    return function() {
                        var t;
                        (e.emit(o.a.REQUEST_FULLSCREEN), e._isExpectedStatus(i)) && (t = e._holdStartTime && r ? Date.now() - e._holdStartTime : 0, e.emit(n, t), a && e._stopHold(a))
                    }
                }
            }, {
                key: "_isExpectedStatus",
                value: function(t) {
                    return !t || t === this._model.status || t.indexOf(this._model.status) > -1
                }
            }, {
                key: "_createHoldHandler",
                value: function(t, e) {
                    var n = this;
                    return function() {
                        n._isExpectedStatus(t) && (n._holdStartTime = Date.now(), e && n._startHold(e))
                    }
                }
            }, {
                key: "_startHold",
                value: function(t) {
                    return t.visible = !0, this._animator && this._animator.hold(t), t
                }
            }, {
                key: "_stopHold",
                value: function(t) {
                    return this._animator && this._animator.release(t), t
                }
            }, {
                key: "disable",
                value: function() {
                    return this._explicitelyDisabled = !0, this._disable()
                }
            }, {
                key: "_disable",
                value: function() {
                    var t = this;
                    this._disabled = this._disabled || [];
                    var e = this._disabled.length;
                    return this.children.forEach(function(e) {
                        e.interactive && (t._disabled.push(e), e.interactive = !1)
                    }), this._disabled.length - e
                }
            }, {
                key: "enable",
                value: function() {
                    return this._explicitelyDisabled = !1, this._enable()
                }
            }, {
                key: "_enable",
                value: function() {
                    if (this._disabled && !this._explicitelyDisabled) {
                        for (var t = this._disabled.length; this._disabled.length > 0;) {
                            this._disabled.pop().interactive = !0
                        }
                        return t
                    }
                    return 0
                }
            }, {
                key: "temporarilyDisable",
                value: function() {
                    r.a.isIOS() || (this._disable(), setTimeout(this._enable.bind(this), 350))
                }
            }, {
                key: "alignRight",
                value: function() {}
            }, {
                key: "alignLeft",
                value: function() {}
            }, {
                key: "destroy",
                value: function() {
                    this._animator = null, this._disabled = null, this._keyboardControls.destroy(), this._keyboardControls = null, s.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return f
    });
    var i = n(1),
        o = n(7),
        r = n(5);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var f = function(t) {
        function e(t, n) {
            var i, o, a = n.regular,
                u = n.scatter;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = l(this, c(e).call(this)))._model = t, o._containers = (s(i = {}, r.a.REGULAR, a), s(i, r.a.SCATTER, u), i), o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._forEachContainer(this._addContainer), this._switchContainer(this._model, this._model.gameType), this._model.on(o.a.GAME_TYPE_CHANGE, this._switchContainer, this)
                }
            }, {
                key: "_addContainer",
                value: function(t) {
                    this.addChild(t)
                }
            }, {
                key: "_forEachContainer",
                value: function(t) {
                    for (var e in this._containers) this._containers.hasOwnProperty(e) && this._containers[e] && this._processContainer(e, t)
                }
            }, {
                key: "_processContainer",
                value: function(t, e) {
                    var n = this,
                        i = this._containers[t];
                    Array.isArray(i) ? i.forEach(function(i) {
                        e.call(n, i, t)
                    }) : e.call(this, i, t)
                }
            }, {
                key: "_switchContainer",
                value: function(t, e) {
                    this._forEachContainer(function(t, n) {
                        t.visible = n === e, t instanceof i.extras.AnimatedSprite && t.gotoAndPlay(0)
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(o.a.GAME_TYPE_CHANGE, this._switchContainer), this._model = null, this._forEachContainer(this._destroyContainer), this._containers = null, i.Container.prototype.destroy.call(this)
                }
            }, {
                key: "_destroyContainer",
                value: function(t) {
                    t.destroy()
                }
            }]), e
    }()
}, function(t, e, n) {
    var i = n(33).Symbol;
    t.exports = i
}, function(t, e, n) {
    var i = n(73),
        o = n(95);
    t.exports = function(t, e, n, r) {
        var a = !n;
        n || (n = {});
        for (var s = -1, u = e.length; ++s < u;) {
            var l = e[s],
                c = r ? r(n[l], t[l], l, n, t) : void 0;
            void 0 === c && (c = t[l]), a ? o(n, l, c) : i(n, l, c)
        }
        return n
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return h
    });
    var i = n(6),
        o = n(36);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t, e, n) {
        return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var i = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = l(t)););
                return t
            }(t, e);
            if (i) {
                var o = Object.getOwnPropertyDescriptor(i, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = s(this, l(e).call(this, t.format));
            var i = t.style,
                o = t.setup,
                r = t.animator;
            return n._style = i, n._setup = o, n._animator = r, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._label = this._addTextField({
                        text: this._setup.label || "",
                        style: this._determineStyle(this._setup, this._style.secondary)
                    }), this._currency = this._addTextField({
                        text: " ".concat(this._format.currency),
                        style: this._determineStyle(this._setup, this._style.secondary),
                        y: this._setup.twoline ? this._setup.lineHeight : 0
                    }), this._amount = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style.primary),
                        x: this._setup.twoline ? 0 : this._label.width,
                        y: this._setup.twoline ? this._setup.lineHeight : 0
                    }), this._setAlign(this._setup.align || this._style.primary.align), this.setContent(0)
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    return this._setup.twoline ? this._twolineAlignCenter() : this._singleLineAlignCenter()
                }
            }, {
                key: "_twolineAlignCenter",
                value: function() {
                    var t = this._amount.width + this._currency.width;
                    return [this._label, this._amount, this._currency].forEach(function(t) {
                        t.x = -.5 * t.width
                    }), this._amount.x -= .25 * t, this._currency.x += .25 * t, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_singleLineAlignCenter",
                value: function() {
                    var t = this._amount.width + this._currency.width + this._label.width;
                    return this._label.x = -.5 * t, this._amount.x = this._label.x + this._label.width, this._currency.x = this._amount.x + this._amount.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_alignRight",
                value: function() {
                    var t = this._setup.twoline ? 0 : -1 * (this._currency.width + this._amount.width),
                        e = this._currency.text && " " !== this._currency.text && !this._setup.twoline ? this._currency.width : -5;
                    return this._label.x = -1 * this._label.width + t, this._amount.x = -1 * (this._amount.width + e), this._currency.x = -1 * this._currency.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_alignLeft",
                value: function() {
                    return this._currency.x = this._amount.x + this._amount.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._clearCounter(), this._countStep && (this._countStep = 0, this.emit(i.a.TEXT_COUNT_COMPLETE), this.setStyle("primary")), this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_setContent",
                value: function(t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    return this._animator && this._animator.clear(this), u(l(e.prototype), "_setContent", this).call(this, t, n)
                }
            }, {
                key: "_clearCounter",
                value: function() {
                    this._counter && (clearTimeout(this._counter), this._counter = null)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._amount.text = isNaN(Number(t)) ? String(t) : this._formatCredit(Number(t)), this._updateStyle(), this._amount.text
                }
            }, {
                key: "_updateStyle",
                value: function() {
                    var t = this._creditToInteger(this._amount.text);
                    if (this._lowTreshold && t < this._lowTreshold) this.setStyle("lowBalance");
                    else if (this._lowTreshold) return this.setStyle("primary");
                    return this._amount.style
                }
            }, {
                key: "setAnimatedContent",
                value: function(t) {
                    var e = this,
                        n = t;
                    if (!isNaN(Number(t))) {
                        var o = this._creditToInteger(this._amount.text),
                            r = Number(t);
                        this._clearCounter(), this._countStep = this._calculateCountStep(o, r), this._countStep ? (n = o + this._countStep, this._counter = setTimeout(function() {
                            e.setAnimatedContent(r)
                        }, 17)) : (this.emit(i.a.TEXT_COUNT_COMPLETE), this.setStyle("primary"))
                    }
                    return this._setContent(this._contentSetter, n)
                }
            }, {
                key: "_calculateCountStep",
                value: function(t, e) {
                    var n = this._setup.countUpSpeed > 0 && this._setup.countUpSpeed <= 1,
                        i = this._setup.countDownSpeed > 0 && this._setup.countDownSpeed <= 1;
                    return n && e > t ? Math.floor((e - t) * this._setup.countUpSpeed) || 1 : i && e < t ? Math.floor((e - t) * this._setup.countDownSpeed) || 1 : 0
                }
            }, {
                key: "setLowTreshold",
                value: function(t) {
                    return this._lowTreshold = t, this._updateStyle(), this._lowTreshold
                }
            }, {
                key: "setStyle",
                value: function(t) {
                    return this._style[t] && (this._amount.style = this._convertStyle(this._style[t])), this._amount.style
                }
            }, {
                key: "setAmountVisibility",
                value: function(t) {
                    return this._amount.visible = t, this._currency.visible = t, this._amount.visible && this._currency.visible
                }
            }, {
                key: "pulse",
                value: function() {
                    return this._animator ? this._animator.pulse(this) : this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._animator && this._animator.clear(this), this._style = null, this._setup = null, this._label.destroy(), this._label = null, this._currency.destroy(), this._currency = null, this._amount.destroy(), this._amount = null, o.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e) {
    var n = Object.prototype;
    t.exports = function(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || n)
    }
}, function(t, e, n) {
    var i = n(178),
        o = n(78),
        r = n(179),
        a = n(112),
        s = n(180),
        u = n(37),
        l = n(97),
        c = l(i),
        h = l(o),
        f = l(r),
        _ = l(a),
        y = l(s),
        d = u;
    (i && "[object DataView]" != d(new i(new ArrayBuffer(1))) || o && "[object Map]" != d(new o) || r && "[object Promise]" != d(r.resolve()) || a && "[object Set]" != d(new a) || s && "[object WeakMap]" != d(new s)) && (d = function(t) {
        var e = u(t),
            n = "[object Object]" == e ? t.constructor : void 0,
            i = n ? l(n) : "";
        if (i) switch (i) {
            case c:
                return "[object DataView]";
            case h:
                return "[object Map]";
            case f:
                return "[object Promise]";
            case _:
                return "[object Set]";
            case y:
                return "[object WeakMap]"
        }
        return e
    }), t.exports = d
}, function(t, e, n) {
    var i = n(29),
        o = n(194),
        r = n(195),
        a = n(71);
    t.exports = function(t, e) {
        return i(t) ? t : o(t, e) ? [t] : r(a(t))
    }
}, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }), Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }), t.webpackPolyfill = 1), t
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(37),
        r = n(32),
        a = "[object Symbol]";
    t.exports = function(t) {
        return "symbol" == i(t) || r(t) && o(t) == a
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(38),
        r = "[object AsyncFunction]",
        a = "[object Function]",
        s = "[object GeneratorFunction]",
        u = "[object Proxy]";
    t.exports = function(t) {
        if (!o(t)) return !1;
        var e = i(t);
        return e == a || e == s || e == r || e == u
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return t === e || t != t && e != e
    }
}, function(t, e, n) {
    var i = n(141),
        o = n(32),
        r = Object.prototype,
        a = r.hasOwnProperty,
        s = r.propertyIsEnumerable,
        u = i(function() {
            return arguments
        }()) ? i : function(t) {
            return o(t) && a.call(t, "callee") && !s.call(t, "callee")
        };
    t.exports = u
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(33),
            r = n(142),
            a = "object" == i(e) && e && !e.nodeType && e,
            s = a && "object" == i(t) && t && !t.nodeType && t,
            u = s && s.exports === a ? o.Buffer : void 0,
            l = (u ? u.isBuffer : void 0) || r;
        t.exports = l
    }).call(this, n(52)(t))
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return t(e)
        }
    }
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(93),
            r = "object" == i(e) && e && !e.nodeType && e,
            a = r && "object" == i(t) && t && !t.nodeType && t,
            s = a && a.exports === r && o.process,
            u = function() {
                try {
                    var t = a && a.require && a.require("util").types;
                    return t || s && s.binding && s.binding("util")
                } catch (t) {}
            }();
        t.exports = u
    }).call(this, n(52)(t))
}, function(t, e, n) {
    var i = n(147),
        o = n(148),
        r = n(149),
        a = n(150),
        s = n(151);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(55);
    t.exports = function(t, e) {
        for (var n = t.length; n--;)
            if (i(t[n][0], e)) return n;
        return -1
    }
}, function(t, e, n) {
    var i = n(40)(Object, "create");
    t.exports = i
}, function(t, e, n) {
    var i = n(165);
    t.exports = function(t, e) {
        var n = t.__data__;
        return i(e) ? n["string" == typeof e ? "string" : "hash"] : n.map
    }
}, function(t, e, n) {
    var i = n(53),
        o = 1 / 0;
    t.exports = function(t) {
        if ("string" == typeof t || i(t)) return t;
        var e = t + "";
        return "0" == e && 1 / t == -o ? "-0" : e
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(9),
        o = n.n(i);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._model = t, n._listeners = [], n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o.a),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "onKeyDown",
                value: function(t, e) {
                    var n = "keyEvent.".concat(t);
                    this.addKeyDownHandler(t, n), this.on(n, e)
                }
            }, {
                key: "addKeyDownHandler",
                value: function(t, e, n) {
                    var i = this,
                        o = function(o) {
                            var r = o.keyCode || Number(o.key);
                            (Array.isArray(t) ? t.indexOf(r) > -1 : t === r) && i._isExpectedStatus(n) && i.emit(e)
                        };
                    return window.addEventListener("keydown", o), this._listeners.push(o), this._listeners
                }
            }, {
                key: "_isExpectedStatus",
                value: function(t) {
                    return !t || t === this._model.status || t.indexOf(this._model.status) > -1
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model = null, this._listeners.forEach(function(t) {
                        window.removeEventListener("keydown", t)
                    }), this._listeners = null
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(31);

    function o(t) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function a(t, e) {
        return !e || "object" !== o(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function s(t) {
        return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function u(t, e) {
        return (u = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var l = function(t) {
        function e(t) {
            var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = a(this, s(e).call(this)))._style = t, n._setup = i, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && u(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._info = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style)
                    }), this._setAlign(this._setup.align || this._style.align)
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return t !== this._info.text && (this._info.text = t), this._info.text
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._info.x = .5 * -this._info.width
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._info.x = -this._info.width
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = l
}, function(t, e, n) {
    "use strict";
    var i = n(28);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._name = e, this._instance = new i.Howl({
                src: e
            })
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, [{
            key: "play",
            value: function() {
                return "loaded" !== this._instance.state() && console.log("sound(".concat(this._name, ")--\x3e STRANGE STATE?")), this._instance.stop(), this._instance.play()
            }
        }, {
            key: "enableLoop",
            value: function() {
                return this._instance.loop(!0), this
            }
        }, {
            key: "disableLoop",
            value: function() {
                return this._instance.loop(!1), this
            }
        }, {
            key: "stop",
            value: function() {
                return this._instance.stop(), this
            }
        }, {
            key: "softStop",
            value: function() {
                var t = this,
                    e = this._instance.volume();
                return this._instance.fade(e, 0, 50), setTimeout(function() {
                    t._instance.stop()
                }, 50), this
            }
        }, {
            key: "mute",
            value: function() {
                return this._instance.mute(), this
            }
        }, {
            key: "pause",
            value: function() {
                return this._instance.pause(), this
            }
        }, {
            key: "once",
            value: function(t, e) {
                return this._instance.once(t, e), this
            }
        }, {
            key: "on",
            value: function(t, e) {
                return this._instance.on(t, e), this
            }
        }, {
            key: "off",
            value: function(t) {
                return this._instance.off(t), this
            }
        }, {
            key: "state",
            value: function() {
                return this._instance.state()
            }
        }, {
            key: "unload",
            value: function() {
                return this._instance.unload(), this
            }
        }, {
            key: "load",
            value: function() {
                return this._instance.load(), this
            }
        }, {
            key: "fade",
            value: function(t, e, n) {
                return this._instance.fade(t, e, n), this
            }
        }, {
            key: "volume",
            value: function(t) {
                return t && this._instance.volume(t), this._instance.volume()
            }
        }, {
            key: "resetToWebAudio",
            value: function() {
                this._instance._html5 = !1, this._instance._webAudio = !0
            }
        }, {
            key: "getVolume",
            value: function() {
                return this._instance.volume()
            }
        }]), t
    }();

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return s
    });
    var s = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), i.Howler.autoSuspend = !1
        }
        return function(t, e, n) {
            e && a(t.prototype, e), n && a(t, n)
        }(t, [{
            key: "createHowl",
            value: function(t) {
                return new r(t)
            }
        }, {
            key: "mute",
            value: function(t) {
                return console.log("Global-MUTE=>" + t), i.Howler.mute(t)
            }
        }, {
            key: "volume",
            value: function(t) {
                return console.log("Global-VOLUME=>" + t), i.Howler.volume(t)
            }
        }, {
            key: "getVolume",
            value: function() {
                return i.Howler.volume()
            }
        }, {
            key: "isHowl",
            value: function(t) {
                return t instanceof i.Howl
            }
        }, {
            key: "setNoAudio",
            value: function(t) {
                i.Howler.noAudio = t
            }
        }, {
            key: "destroy",
            value: function() {
                console.log("destroying Howler...");
                try {
                    i.Howler.unload(), console.log("Howler unload OK"), i.Howler.autoSuspend = !1, i.Howler.ctx.close(), i.Howler.ctx = null, console.log("Howler AudioContext closed OK")
                } catch (t) {
                    console.log("destroying Howler failed")
                }
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(42),
        r = n(31),
        a = n(30);

    function s(t) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== s(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var f = function(t) {
        function e(t, n) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), l(this, c(e).call(this, t, n))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, a["a"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "createConfirmButton",
                value: function() {
                    var t = this._assets.getFormButton(),
                        e = .5 * t.width,
                        n = this._createFromTilesheet({
                            frameWidth: e,
                            baseTexture: t
                        }),
                        i = this._createFromTilesheet({
                            frameX: e,
                            frameWidth: e,
                            baseTexture: t
                        });
                    return this._createButton({
                        text: this._config.setup.confirm || "",
                        style: this._config.style,
                        up: n,
                        down: i
                    })
                }
            }]), e
    }();

    function _(t) {
        return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function y(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function d(t, e) {
        return !e || "object" !== _(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function p(t) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function m(t, e) {
        return (m = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var v = function(t) {
        function e(t) {
            var n, i = t.message,
                o = t.style,
                r = t.setup,
                a = t.type,
                s = t.assets;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = d(this, p(e).call(this)))._message = i, n._style = o, n._setup = r, n._type = a, n._assets = s, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && m(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && y(t.prototype, e), n && y(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._setup.padding || 10;
                    this._addBackground(), this._textfield = this._addMessage(e), this._type === o.a.INTERACTIVE && this._addConfirmButton(e, t), this._setAlign(this._style.align)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new f({
                        setup: this._setup,
                        style: this._style
                    }, this._assets)
                }
            }, {
                key: "_addBackground",
                value: function() {
                    var t = this._createBackground(this._assets.getAlertBox()),
                        e = this._setup.size || 1;
                    return t.scale.x = t.scale.y = 1.5 * e, this.addChild(t), t
                }
            }, {
                key: "_createBackground",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "_addMessage",
                value: function(t) {
                    var e = this.width - 2 * t,
                        n = Math.max(e, 280);
                    return this._addTextField({
                        text: this._message,
                        style: this._convertStyle(this._style, n),
                        x: t,
                        y: t
                    })
                }
            }, {
                key: "_addConfirmButton",
                value: function(t, e) {
                    var n = e.createConfirmButton();
                    return n.y = Math.max(this.height, 200) - n.height - t, n.x = .5 * (this.width - n.width), this.addChild(n), n
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._textfield.x = .5 * (this.width - this._textfield.width)
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._textfield.x = this.width - this._textfield.width - this._setup.padding
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    this._style = null, this._setup = null, this._type = null, this._assets = null, this._textfield.destroy(), this._textfield = null, t && r.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = v
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(4),
        r = n(45);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t, n) {
            var i = n.regular,
                o = n.scatter;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), u(this, l(e).call(this, t, {
                regular: i,
                scatter: o
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "gotoAndPlay",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._forEachContainer(function(n) {
                        t._isAnimatedSprite(n) && n.gotoAndPlay(e)
                    })
                }
            }, {
                key: "_isAnimatedSprite",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._onComplete = null, r.a.prototype.destroy.call(this)
                }
            }, {
                key: "onComplete",
                get: function() {
                    return this._onComplete
                },
                set: function(t) {
                    var e = this;
                    this._onComplete = t, this._forEachContainer(function(t, n) {
                        e._isAnimatedSprite(t) && (t.loop = !1, t.onComplete = function() {
                            n === e._model.gameType && e._onComplete()
                        })
                    })
                }
            }, {
                key: "loop",
                get: function() {
                    return this._loop
                },
                set: function(t) {
                    var e = this;
                    this._loop = t, this._forEachContainer(function(t) {
                        e._isAnimatedSprite(t) && (t.loop = e._loop)
                    })
                }
            }]), e
    }();

    function f(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return _
    });
    var _ = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        }
        return function(t, e, n) {
            e && f(t.prototype, e), n && f(t, n)
        }(t, [{
            key: "_createGameTypeSprite",
            value: function(t) {
                var e = t.model,
                    n = t.spriteCreator,
                    i = t.texture,
                    o = t.scatterOffset,
                    a = i.regular,
                    s = i.scatter;
                return a || s ? a !== s && e && s ? new r.a(e, {
                    regular: n(a),
                    scatter: n(s, o)
                }) : n(a) : this._createContainer()
            }
        }, {
            key: "_createGameTypeAnimatedSprite",
            value: function(t) {
                var e = t.model,
                    n = t.spriteCreator,
                    i = t.texture,
                    o = t.scatterOffset,
                    r = t.fps,
                    a = t.playOnlyOnce,
                    s = i.regular,
                    u = i.scatter;
                if (!s && !u) return this._createContainer();
                var l = n(s, r),
                    c = !(s === u || !e || !u) ? n(u, r, o) : this._createContainer(),
                    f = new h(e, {
                        regular: l,
                        scatter: c
                    });
                return f.loop = !a, f
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    x: 0,
                    y: 0
                };
                return function() {
                    var n = e.x,
                        o = e.y,
                        r = new i.Sprite(t);
                    return r.x = n, r.y = o, r
                }()
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 12,
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        x: 0,
                        y: 0
                    };
                return function() {
                    var r = n.x,
                        a = n.y,
                        s = new i.extras.AnimatedSprite(t);
                    return s.animationSpeed = e / o.a.FPS, s.x = r, s.y = a, s
                }()
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new i.Graphics
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        LEFT: "winlineNumberPosition.left",
        RIGHT: "winlineNumberPosition.right"
    }
}, function(t, e, n) {
    var i = n(127);
    t.exports = function(t) {
        return null == t ? "" : i(t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = Array(i); ++n < i;) o[n] = e(t[n], n, t);
        return o
    }
}, function(t, e, n) {
    var i = n(95),
        o = n(55),
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n) {
        var a = t[e];
        r.call(t, e) && o(a, n) && (void 0 !== n || e in t) || i(t, e, n)
    }
}, function(t, e) {
    t.exports = function(t) {
        return t
    }
}, function(t, e) {
    var n = 9007199254740991;
    t.exports = function(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= n
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i = 9007199254740991,
        o = /^(?:0|[1-9]\d*)$/;
    t.exports = function(t, e) {
        var r = n(t);
        return !!(e = null == e ? i : e) && ("number" == r || "symbol" != r && o.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
}, function(t, e, n) {
    var i = n(143),
        o = n(58),
        r = n(59),
        a = r && r.isTypedArray,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(40)(n(33), "Map");
    t.exports = i
}, function(t, e, n) {
    var i = n(157),
        o = n(164),
        r = n(166),
        a = n(167),
        s = n(168);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(176),
        o = n(107),
        r = Object.prototype.propertyIsEnumerable,
        a = Object.getOwnPropertySymbols,
        s = a ? function(t) {
            return null == t ? [] : (t = Object(t), i(a(t), function(e) {
                return r.call(t, e)
            }))
        } : o;
    t.exports = s
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = e.length, o = t.length; ++n < i;) t[o + n] = e[n];
        return t
    }
}, function(t, e, n) {
    var i = n(103)(Object.getPrototypeOf, Object);
    t.exports = i
}, function(t, e, n) {
    var i = n(113);
    t.exports = function(t) {
        var e = new t.constructor(t.byteLength);
        return new i(e).set(new i(t)), e
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = -1,
            n = Array(t.size);
        return t.forEach(function(t) {
            n[++e] = t
        }), n
    }
}, function(t, e, n) {
    "use strict";
    var i = n(8),
        o = n(4),
        r = n(0),
        a = n(2),
        s = n(7),
        u = n(89);

    function l(t) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function c(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function h(t, e) {
        return !e || "object" !== l(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function f(t) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _(t, e) {
        return (_ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var y = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = h(this, f(e).call(this, {
                model: i,
                config: o,
                assets: r
            })))._layoutAdjuster = a, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && _(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && c(t.prototype, e), n && c(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._createWorkshop();
                    if (this._config.winlines.numbers.useBackground) {
                        var n = e.createWinlineNumbersBackground();
                        this.addChild(n)
                    }
                    this._winlineNumbers = e.createWinlineNumbers(), this._winlineNumbers.forEach(function(e) {
                        t.addChild(e)
                    }), this.interactive = !0, o.a.addClickListener(this, this._winlineClickHandler, this), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new u.a(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_showBaseState",
                value: function() {
                    var t = this;
                    this._winlineNumbers.forEach(function(e) {
                        t._config.winlines.numbers.hideHighlightByDefault ? e.showRegular() : e.showEmphasized()
                    })
                }
            }, {
                key: "_winlineClickHandler",
                value: function() {
                    this.emit(a.a.WINLINE_NUMBER_TAP)
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case r.a.FIRST_WINLINE_WALK:
                            this._resetWinlineWalk(), this._winningWinlines = this._createWinlineSequence();
                            break;
                        case r.a.SPECIAL_WALK:
                            this._resetWinlineWalk(), this._winningWinlines = this._createSpecialWinlineSequence();
                            break;
                        case r.a.GAMBLING:
                        case r.a.TAKING:
                        case r.a.WAITING:
                        case r.a.READY:
                            this._showBaseState()
                    }
                }
            }, {
                key: "_resetWinlineWalk",
                value: function() {
                    return this._currentIndex = 0, this._winlineNumbers.forEach(function(t) {
                        t.showRegular()
                    }), this._winlineNumbers
                }
            }, {
                key: "_createWinlineSequence",
                value: function() {
                    var t = [];
                    return this._model.winlineWins.forEach(function(e, n) {
                        e.credits && t.push(n)
                    }), this._model.scatterWin && t.push(-1), t.push(-1), t
                }
            }, {
                key: "_createSpecialWinlineSequence",
                value: function() {
                    var t = [];
                    return this._model.special && this._model.special.winlineWins && this._model.special.winlineWins.forEach(function(e, n) {
                        e.credits && t.push(n)
                    }), t.push(-1), t
                }
            }, {
                key: "walk",
                value: function() {
                    var t = this;
                    return this._winningWinlines && (this._winlineNumbers.forEach(function(e, n) {
                        var i = t._winningWinlines[t._currentIndex];
                        i === n ? e.blink(0, t._config.winlines.blinking) : i > -1 || t._config.winlines.numbers.hideHighlightByDefault ? e.showRegular() : e.showEmphasized()
                    }), this._currentIndex = (this._currentIndex + 1) % this._winningWinlines.length), this
                }
            }, {
                key: "setSelectedWinlines",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._winlineNumbers.forEach(function(e, n) {
                        var i = t <= 0 || n < t;
                        e.alpha = i ? 1 : 0
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._layoutAdjuster = null, this._winlineNumbers = null, this._winningWinlines = null, clearTimeout(this._blinkTimeout), this._blinkTimeout = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = y
}, function(t, e, n) {
    "use strict";
    var i = n(124),
        o = n.n(i);

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var a = function() {
            function t() {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            return function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(t, [{
                key: "loadFonts",
                value: function(t, e) {
                    window.Promise ? this._loadFonts(t, e) : (console.log("Promises not supported, skipping font load"), e())
                }
            }, {
                key: "_loadFonts",
                value: function(t, e) {
                    var n = this,
                        i = t.map(function(t) {
                            return n._createFontFaceObserver(t).load()
                        });
                    Promise.all(i).then(e, e)
                }
            }, {
                key: "_createFontFaceObserver",
                value: function(t) {
                    return new o.a(t)
                }
            }]), t
        }(),
        s = n(21),
        u = n.n(s),
        l = u.a.extend({
            props: {
                model: "state",
                view: "object",
                controller: "object",
                type: "string"
            }
        }),
        c = n(17),
        h = n(5),
        f = n(0),
        _ = u.a.extend({
            props: {
                availableWinlinesContainer: {
                    type: "object",
                    default: function() {
                        return {}
                    }
                },
                wantsGamble: {
                    type: "boolean",
                    default: !0
                },
                mayGamble: {
                    type: "boolean",
                    default: !0
                },
                wantsTurbo: {
                    type: "boolean",
                    default: !1
                },
                mayTurbo: {
                    type: "boolean",
                    default: !0
                },
                reels: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                winlineWins: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                scatterSelection: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                stickySymbols: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                bet: "number",
                maxSelectableScatterCount: "number",
                scatterMessage: "string",
                specialSymbolId: "string",
                bonusTriggerId: "string",
                scatterWin: "object",
                snappedInReels: "number",
                enteringFinalSymbolsCount: "number",
                enteringScattersCount: "number",
                autoPlayEnabled: "boolean",
                special: "object",
                scatterGameWinBonus: "number",
                takenAmount: "number",
                walkedAmount: "number",
                walkedWinlinesCount: "number",
                isActive: {
                    type: "boolean",
                    required: !0,
                    default: !0
                },
                bonusType: {
                    type: "string",
                    required: !0,
                    default: c.a.NONE,
                    values: [c.a.NONE, c.a.BEFORE_READY, c.a.BEFORE_WINLINE_WALK]
                },
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                nextGameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: f.a.PREPARING,
                    values: [f.a.PREPARING, f.a.BEFORE_READY, f.a.READY, f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.WAITING, f.a.BEFORE_WINLINE_WALK, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.TAKING, f.a.GAMBLING, f.a.BEFORE_SCATTER, f.a.SCATTER_INTRO, f.a.SCATTER_SELECT, f.a.SCATTER_OUTRO, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK]
                }
            },
            derived: {
                availableWinlines: {
                    deps: ["availableWinlinesContainer", "gameType"],
                    fn: function() {
                        return this.availableWinlinesContainer[this.gameType] || this.availableWinlinesContainer[h.a.REGULAR] || []
                    }
                },
                gambleEnabled: {
                    deps: ["mayGamble", "wantsGamble"],
                    fn: function() {
                        return this.mayGamble && this.wantsGamble
                    }
                },
                turboEnabled: {
                    deps: ["mayTurbo", "wantsTurbo"],
                    fn: function() {
                        return this.mayTurbo && this.wantsTurbo
                    }
                },
                missedScattersCount: {
                    deps: ["enteringFinalSymbolsCount", "enteringScattersCount"],
                    fn: function() {
                        return this.enteringFinalSymbolsCount - this.enteringScattersCount
                    }
                },
                enteringFinalSymbols: {
                    deps: ["enteringFinalSymbolsCount", "reels"],
                    fn: function() {
                        return this.reels[this.enteringFinalSymbolsCount] ? this.reels[this.enteringFinalSymbolsCount].symbols : []
                    },
                    cache: !1
                },
                willSwitchToScatter: {
                    deps: ["gameType", "nextGameType"],
                    fn: function() {
                        return this.gameType !== this.nextGameType && this.nextGameType === h.a.SCATTER
                    },
                    cache: !1
                },
                willSwitchToRegular: {
                    deps: ["gameType", "nextGameType"],
                    fn: function() {
                        return this.gameType !== this.nextGameType && this.nextGameType === h.a.REGULAR
                    },
                    cache: !1
                },
                hasRegularWinnings: {
                    deps: ["winlineWins", "scatterWin"],
                    fn: function() {
                        for (var t = 0; t < this.winlineWins.length; t += 1)
                            if (this.winlineWins[t].credits) return !0;
                        return Boolean(this.scatterWin)
                    },
                    cache: !1
                },
                hasScatterSelection: {
                    deps: ["scatterSelection"],
                    fn: function() {
                        return Boolean(this.scatterSelection.length)
                    }
                },
                isWaitingForResult: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.BEFORE_WINLINE_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isFirstWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.FIRST_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isAfterWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.TAKING, f.a.GAMBLING].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isScatterTransition: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.SCATTER_INTRO, f.a.SCATTER_SELECT].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isWalking: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isSpecialWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isReadyForTaking: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.WAITING, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                hasMultiplier: {
                    deps: ["special"],
                    fn: function() {
                        return this.special && this.special.multiplier
                    },
                    cache: !1
                },
                hasSpecialWinnings: {
                    deps: ["special"],
                    fn: function() {
                        return this.special && this.special.winlineWins
                    },
                    cache: !1
                },
                hasWinnings: {
                    deps: ["hasRegularWinnings", "hasSpecialWinnings"],
                    fn: function() {
                        return this.hasRegularWinnings || this.hasSpecialWinnings
                    },
                    cache: !1
                },
                hasStickySymbols: {
                    deps: ["stickySymbols"],
                    fn: function() {
                        return this.stickySymbols.length > 0
                    },
                    cache: !1
                },
                isInScatter: {
                    deps: ["gameType"],
                    fn: function() {
                        return this.gameType === h.a.SCATTER
                    },
                    cache: !1
                }
            }
        }),
        y = n(87),
        d = n(2),
        p = {
            SEQUENCE_COMPLETE: "soundEvent.sequenceComplete",
            GAMBLE_COMPLETE: "soundEvent.gambleComplete",
            POT_COMPLETE: "soundEvent.potComplete",
            SCATTER_SELECT_COMPLETE: "soundEvent.scatterSelectComplete"
        },
        m = n(7),
        v = n(43),
        g = n(25);

    function b(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var S = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var n = e.model,
                i = e.view,
                o = e.config,
                r = e.soundPlayer;
            this._model = n, this._view = i, this._config = o, this._soundPlayer = r
        }
        return function(t, e, n) {
            e && b(t.prototype, e), n && b(t, n)
        }(t, [{
            key: "handleViewEvent",
            value: function(t) {
                switch (t) {
                    case d.a.SPECIAL_MULTIPLIER:
                        return this._soundPlayer.playCongratulations(), "";
                    case d.a.EXIT:
                        return d.a.EXIT;
                    case d.a.STOP_AUTO_PLAY:
                        return this._model.autoPlayEnabled = !1, "";
                    default:
                        return ""
                }
            }
        }, {
            key: "handleWinSequenceComplete",
            value: function() {}
        }, {
            key: "handleModelEvent",
            value: function(t) {
                switch (t) {
                    case m.a.TAKEN_AMOUNT_CHANGE:
                        for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++) n[i - 1] = arguments[i];
                        return this._handleTakenAmountChange.apply(this, n), "";
                    case m.a.NEXT_GAME_TYPE_CHANGE:
                        return this._model.autoPlayEnabled = !1, "";
                    default:
                        return ""
                }
            }
        }, {
            key: "_handleTakenAmountChange",
            value: function(t, e) {
                e > 0 && this._soundPlayer.playTake()
            }
        }, {
            key: "_handleWinlineWalk",
            value: function(t) {
                if (t) {
                    this._updateWalkedAmount(t);
                    var e = Boolean(this._config.scatter.winSounds),
                        n = this._model.isInScatter && e ? this._config.scatter : this._config,
                        i = g.a.getWinConfig(n, t);
                    if (i.sequence.length > 0) {
                        var o = Math.floor(i.sequence.length * Math.random()),
                            r = i.useLadder ? this._model.walkedWinlinesCount : o,
                            a = this._getWinSequenceForWinline(i.sequence, r);
                        this._soundPlayer.playSequence(a)
                    }
                    g.a.getIsFullWinEffectTrigger(this._config, t) ? this._view.showFullWin() : g.a.getIsHugeWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showHugeWin(t.coordinates) : g.a.getIsHighWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showHighWin(t.coordinates) : g.a.getIsRegularWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showRegularWin(t.coordinates) : g.a.getIsSmallWinEffectTrigger(this._config, t, this._model.bet) && this._view.showSmallWin(t.coordinates), this._model.walkedWinlinesCount += 1
                }
            }
        }, {
            key: "_updateWalkedAmount",
            value: function(t) {
                this._model.walkedAmount += t.credits
            }
        }, {
            key: "_getWinSequenceForWinline",
            value: function(t, e) {
                var n = e > -1 ? e % t.length : 0;
                return Array.isArray(t[0]) ? t[n] : t
            }
        }, {
            key: "_handleGamble",
            value: function() {
                this._model.status = f.a.GAMBLING, this._soundPlayer.stop(), this._model.autoPlayEnabled = !1
            }
        }, {
            key: "_clearWinTextAnimationDelay",
            value: function() {
                this._winTextAnimationComplete && this._winTextAnimationComplete(), clearTimeout(this._winTextAnimationDelay), this._winTextAnimationDelay = null
            }
        }, {
            key: "_delayedUpdateWalkedAmount",
            value: function(t) {
                var e = this;
                this._clearWinTextAnimationDelay();
                var n = this._calculateAnimationDuration(t);
                this._winTextAnimationComplete = function() {
                    e._model.walkedAmount += t.credits, e._winTextAnimationComplete = null
                }, this._winTextAnimationDelay = setTimeout(this._winTextAnimationComplete, n)
            }
        }, {
            key: "_calculateAnimationDuration",
            value: function(t) {
                var e = this._getAnimationConfig(),
                    n = e.fullDuration || (e.jumpDuration || 0) + (e.moveDuration || 0),
                    i = e.waitDuration || 0,
                    o = i.length ? i : [i];
                return 1e3 * (n + o[o.length >= t.size ? t.size - 1 : o.length - 1])
            }
        }, {
            key: "_getAnimationConfig",
            value: function() {
                return this._config.text.animation || {}
            }
        }, {
            key: "_applyStickySymbols",
            value: function() {
                this._model.reels.forEach(function(t) {
                    t.symbols.filter(function(t) {
                        return Boolean(t.stickyId)
                    }).forEach(function(t) {
                        t.id = t.stickyId
                    })
                })
            }
        }, {
            key: "cancel",
            value: function() {
                this._view.hideThrobber()
            }
        }, {
            key: "cleanup",
            value: function() {
                this._clearWinTextAnimationDelay()
            }
        }, {
            key: "update",
            value: function(t, e) {}
        }, {
            key: "endTake",
            value: function() {
                var t = this;
                this._soundPlayer.stopSequence(), this._takeDelay = setTimeout(function() {
                    t._soundPlayer.endTake()
                }, 100)
            }
        }, {
            key: "announcePot",
            value: function(t, e, n) {
                this._soundPlayer.stop(), this._soundPlayer.once(p.POT_COMPLETE, n), this._soundPlayer.playPotWin(t), this._view.showPotWin(t, e)
            }
        }, {
            key: "announceScatter",
            value: function() {
                this._soundPlayer.playScatterAnnounce()
            }
        }, {
            key: "message",
            value: function() {
                this._soundPlayer.playMessage()
            }
        }, {
            key: "activate",
            value: function() {
                this._model.isActive = !0
            }
        }, {
            key: "deactivate",
            value: function() {
                this._model.isActive = !1, this._model.autoPlayEnabled = !1
            }
        }, {
            key: "setSelectedWinlines",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                this._view.setSelectedWinlines(t)
            }
        }, {
            key: "destroy",
            value: function() {
                clearTimeout(this._winTextAnimationDelay), this._winTextAnimationDelay = null, this._winTextAnimationComplete = null, clearTimeout(this._takeDelay), this._takeDelay = null, this._model = null, this._view = null, this._config = null, this._soundPlayer = null
            }
        }]), t
    }();

    function w(t) {
        return (w = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function k(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function E(t, e) {
        return !e || "object" !== w(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function T(t) {
        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function C(t, e) {
        return (C = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var O = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), E(this, T(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && C(t, e)
            }(e, S),
            function(t, e, n) {
                e && k(t.prototype, e), n && k(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.AFTER_SPIN:
                            return this._soundPlayer.playAfterSpin(), "";
                        case d.a.AFTER_SPIN_COMPLETE:
                            return this._model.status = f.a.BEFORE_WINLINE_WALK, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._soundPlayer.stopMelody(), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function A(t) {
        return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function P(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function I(t, e) {
        return !e || "object" !== A(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function x(t) {
        return (x = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function R(t, e) {
        return (R = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var W = function(t) {
            function e(t) {
                var n = t.model,
                    i = t.view,
                    o = t.config,
                    r = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), I(this, x(e).call(this, {
                    model: n,
                    view: i,
                    config: o,
                    soundPlayer: r
                }))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && R(t, e)
                }(e, S),
                function(t, e, n) {
                    e && P(t.prototype, e), n && P(t, n)
                }(e, [{
                    key: "handleWinSequenceComplete",
                    value: function() {
                        this._model.status = f.a.SCATTER_INTRO
                    }
                }, {
                    key: "update",
                    value: function(t, e) {
                        var n = this;
                        if (!this._soundPlayer.isPlayingSequence) {
                            var i = this._config.scatter,
                                o = (i.intro ? i.intro.delay : 0) || 0;
                            this._introDelay = setTimeout(function() {
                                n._model.status = f.a.SCATTER_INTRO
                            }, o)
                        }
                        S.prototype.update.call(this, t, e)
                    }
                }]), e
        }(),
        N = n(13),
        j = {
            transformSymbols: function(t, e, n) {
                if (g.a.getHasTransform(n)) {
                    var i = [];
                    t.forEach(function(t) {
                        j._transformSymbolsAtPositions(t.positions, e, n, i)
                    })
                }
                return e
            },
            _transformSymbolsAtPositions: function(t, e, n, i) {
                return t && t.forEach(function(t) {
                    var o = e[t.x - 1],
                        r = o.symbols[t.y];
                    N.a.getIsPartOfComposite(r.id, n) ? i.indexOf(t.x) < 0 && (j._transformCompositeSymbol(o, n), i.push(t.x)) : j._transformSymbol(r, n)
                }), e
            },
            _transformSymbol: function(t, e) {
                var n = e.transform.from.indexOf(t.id);
                return n > -1 && (t.id = e.transform.to[n]), t
            },
            _transformCompositeSymbol: function(t, e) {
                for (var n = e.reels.countOfHiddenSymbolsAbove, i = n + e.reels.countOfVisibleSymbols, o = n; o < i; o += 1) j._transformSymbol(t.symbols[o], e);
                return t.symbols
            },
            transformToSpecial: function(t, e) {
                return t.forEach(function(t) {
                    t.positions.forEach(function(t) {
                        var n = e[t.x - 1].symbols[t.y];
                        n.id = n.specialTransformTo || n.id
                    })
                }), e
            }
        },
        L = j;

    function G(t) {
        return (G = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function M(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function B(t, e) {
        return !e || "object" !== G(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function F(t) {
        return (F = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function H(t, e) {
        return (H = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var D = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), B(this, F(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && H(t, e)
            }(e, S),
            function(t, e, n) {
                e && M(t.prototype, e), n && M(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._transformSymbols(), this._handleGamble(), d.a.GAMBLE;
                        case d.a.TAKE:
                            return this._model.status = f.a.BEFORE_FAST_SPECIAL_WALK, "";
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.BEFORE_SPECIAL_WALK_COMPLETE:
                            return this._transformSymbols(), this._model.status = f.a.SPECIAL_WALK, "";
                        case d.a.BEFORE_SPECIAL_WALK_TRANSFORM:
                            return this._soundPlayer.playScatterTransform(), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_transformSymbols",
                value: function() {
                    this._model.special && this._model.special.winlineWins && L.transformToSpecial(this._model.special.winlineWins, this._model.reels)
                }
            }]), e
    }();

    function K(t) {
        return (K = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function U(t, e) {
        return !e || "object" !== K(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Y(t) {
        return (Y = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function q(t, e) {
        return (q = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var V = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), U(this, Y(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && q(t, e)
        }(e, D), e
    }();

    function X(t) {
        return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Q(t, e) {
        return !e || "object" !== X(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function J(t) {
        return (J = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $(t, e) {
        return ($ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Z = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Q(this, J(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && $(t, e)
            }(e, S),
            function(t, e, n) {
                e && z(t.prototype, e), n && z(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.BEFORE_WINLINE_WALK:
                            return this._handleBeforeWinlineWalk(), "";
                        case d.a.BEFORE_WINLINE_WALK_COMPLETE:
                            return this._handleBeforeWinlineWalkComplete(), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleBeforeWinlineWalk",
                value: function() {
                    var t = this;
                    if (this._soundPlayer.playSpecialPreWin(), L.transformSymbols(this._model.winlineWins, this._model.reels, this._config), this._config.scatter.useConstantBackgroundMelody && this._model.willSwitchToScatter && this._soundPlayer.playScatterBackgroundMelody(), this._config.winlines.symbolTransformStagger > 0)
                        for (var e = 0; e < this._config.reels.countOfVisibleSymbols; e += 1) {
                            var n = this._config.winlines.symbolTransformStagger * e;
                            setTimeout(function() {
                                t._soundPlayer.playTransform()
                            }, n)
                        }
                }
            }, {
                key: "_handleBeforeWinlineWalkComplete",
                value: function() {
                    var t = this;
                    if (this._model.bonusType === c.a.BEFORE_WINLINE_WALK) {
                        this._soundPlayer.stopMelody(), this._soundPlayer.playScatterGameWinBonus(), this._view.showBeforeReady();
                        var e = this._config.winlines.scatterGameWinBonusDuration || 0;
                        this._scatterGameWinBonusDelay = setTimeout(function() {
                            t._soundPlayer.playTake(), t._soundPlayer.endTake(), t._model.status = t._getNextStatus()
                        }, e)
                    } else this._model.status = this._getNextStatus()
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasWinnings ? this._model.hasSpecialWinnings && !this._model.hasRegularWinnings ? f.a.BEFORE_SPECIAL_WALK : f.a.FIRST_WINLINE_WALK : f.a.BEFORE_READY
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyMediumVolume(), this._soundPlayer.playWinBackgroundMelody(), S.prototype.update.call(this, t, e)
                }
            }, {
                key: "destroy",
                value: function() {
                    clearTimeout(this._scatterGameWinBonusDelay), this._scatterGameWinBonusDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function tt(t) {
        return (tt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function et(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function nt(t, e) {
        return !e || "object" !== tt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function it(t) {
        return (it = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ot(t, e) {
        return (ot = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var rt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), nt(this, it(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ot(t, e)
            }(e, S),
            function(t, e, n) {
                e && et(t.prototype, e), n && et(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.hasSpecialWinnings ? "" : d.a.TAKE
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasSpecialWinnings ? f.a.BEFORE_FAST_SPECIAL_WALK : f.a.TAKING
                }
            }]), e
    }();

    function at(t) {
        return (at = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function st(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ut(t, e) {
        return !e || "object" !== at(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function lt(t) {
        return (lt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ct(t, e) {
        return (ct = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ht = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ut(this, lt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ct(t, e)
            }(e, S),
            function(t, e, n) {
                e && st(t.prototype, e), n && st(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        case d.a.TAKE:
                            return this._model.status = f.a.FAST_WINLINE_WALK, "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_updateWalkedAmount",
                value: function(t) {
                    this._delayedUpdateWalkedAmount(t)
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.status === f.a.TAKING ? d.a.TAKE : ""
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasSpecialWinnings ? f.a.BEFORE_SPECIAL_WALK : this._model.wantsGamble && !this._model.autoPlayEnabled ? f.a.NTH_WINLINE_WALK : f.a.TAKING
                }
            }, {
                key: "handleWinSequenceComplete",
                value: function() {
                    this._view.walkWinline()
                }
            }, {
                key: "activate",
                value: function() {
                    S.prototype.activate.call(this), this._view.walkWinline()
                }
            }, {
                key: "deactivate",
                value: function() {
                    S.prototype.deactivate.call(this), this._view.pauseWinline(), this._soundPlayer.stopSequence()
                }
            }]), e
    }();

    function ft(t) {
        return (ft = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yt(t, e) {
        return !e || "object" !== ft(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function dt(t) {
        return (dt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pt(t, e) {
        return (pt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), yt(this, dt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && pt(t, e)
            }(e, S),
            function(t, e, n) {
                e && _t(t.prototype, e), n && _t(t, n)
            }(e, [{
                key: "cancel",
                value: function() {
                    this._revertToWaitingWithoutWalk(), S.prototype.cancel.call(this)
                }
            }, {
                key: "_revertToWaitingWithoutWalk",
                value: function() {
                    this._model.mayGamble = !1, this._model.status = f.a.WAITING, this._soundPlayer.stop()
                }
            }, {
                key: "endTake",
                value: function() {
                    var t = this;
                    this._nextStatusTimeout = setTimeout(function() {
                        t._model.status = t._getNextStatus()
                    }, 600), S.prototype.endTake.call(this)
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.willSwitchToScatter ? f.a.BEFORE_SCATTER : this._model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._model.hasScatterSelection ? f.a.SCATTER_SELECT : f.a.BEFORE_READY
                }
            }, {
                key: "destroy",
                value: function() {
                    this._nextStatusTimeout && (clearTimeout(this._nextStatusTimeout), this._nextStatusTimeout = null), S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function vt(t) {
        return (vt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function gt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function bt(t, e) {
        return !e || "object" !== vt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function St(t) {
        return (St = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function wt(t, e) {
        return (wt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var kt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), bt(this, St(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && wt(t, e)
            }(e, mt),
            function(t, e, n) {
                e && gt(t.prototype, e), n && gt(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyMediumVolume(), mt.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Et(t) {
        return (Et = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Tt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ct(t, e) {
        return !e || "object" !== Et(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ot(t) {
        return (Ot = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function At(t, e) {
        return (At = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Pt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ct(this, Ot(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && At(t, e)
            }(e, S),
            function(t, e, n) {
                e && Tt(t.prototype, e), n && Tt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.TAKE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyLowVolume(), this._soundPlayer.playWaiting(), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function It(t) {
        return (It = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xt(t, e) {
        return !e || "object" !== It(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Rt(t) {
        return (Rt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Wt(t, e) {
        return (Wt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Nt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), xt(this, Rt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Wt(t, e)
        }(e, S), e
    }();

    function jt(t) {
        return (jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Lt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Gt(t, e) {
        return !e || "object" !== jt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Mt(t) {
        return (Mt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Bt(t, e) {
        return (Bt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ft = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Gt(this, Mt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Bt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Lt(t.prototype, e), n && Lt(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    var n = this;
                    if (this._model.bonusType === c.a.BEFORE_READY) {
                        this._soundPlayer.stopMelody(), this._soundPlayer.playScatterGameWinBonus(), this._view.showBeforeReady();
                        var i = this._config.winlines.scatterGameWinBonusDuration || 0;
                        this._scatterGameWinBonusDelay = setTimeout(function() {
                            n._soundPlayer.playTake(), n._soundPlayer.endTake(), n._model.status = f.a.READY
                        }, i)
                    } else this._model.status = f.a.READY;
                    S.prototype.update.call(this, t, e)
                }
            }, {
                key: "destroy",
                value: function() {
                    clearTimeout(this._scatterGameWinBonusDelay), this._scatterGameWinBonusDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ht(t) {
        return (Ht = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Dt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Kt(t, e) {
        return !e || "object" !== Ht(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ut(t) {
        return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yt(t, e) {
        return (Yt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qt = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Kt(this, Ut(e).call(this, t))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Yt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Dt(t.prototype, e), n && Dt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.SPIN:
                            return this._handleSpin.apply(this, i), d.a.SPIN;
                        case d.a.SETTINGS:
                            return this._soundPlayer.stop(), this._model.autoPlayEnabled = !1, d.a.SETTINGS;
                        case d.a.WINLINE_NUMBER_TAP:
                            return d.a.WINLINE_NUMBER_TAP;
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleSpin",
                value: function(t) {
                    this._model.status = f.a.SPINNING;
                    var e = t >= this._config.controls.minHoldingTime;
                    this._model.autoPlayEnabled = e && this._config.autoPlay.enabled
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._applyStickySymbols(), this._soundPlayer.stopMelody(), this._soundPlayer.setScatterBackgroundMelodyFullVolume(), this._model.willSwitchToRegular && this._soundPlayer.playScatterOutro(), this._model.hasStickySymbols || this._soundPlayer.stopWinBackgroundMelody(), this._model.autoPlayEnabled && !this._autoPlayDelay && this._prepareAutoPlay(t), S.prototype.update.call(this, t, e)
                }
            }, {
                key: "_prepareAutoPlay",
                value: function(t) {
                    var e = this;
                    this._autoPlayDelay = setTimeout(function() {
                        e._autoPlayDelay = null, t && e._model.autoPlayEnabled && t.call(null, d.a.SPIN, e._config.controls.minHoldingTime)
                    }, this._config.autoPlay.delay)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._autoPlayDelay && (clearTimeout(this._autoPlayDelay), this._autoPlayDelay = null), S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Vt(t) {
        return (Vt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zt(t, e) {
        return !e || "object" !== Vt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qt(t) {
        return (Qt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jt(t, e) {
        return (Jt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $t = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), zt(this, Qt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Xt(t.prototype, e), n && Xt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.SCATTER_INTRO_COMPLETE:
                            return this._model.status = f.a.SCATTER_SELECT, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._soundPlayer.playScatterHeaderIntro(), this._model.hasScatterSelection || (this._model.gameType = this._model.nextGameType), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Zt(t) {
        return (Zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function te(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ee(t, e) {
        return !e || "object" !== Zt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ne(t) {
        return (ne = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ie(t, e) {
        return (ie = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var oe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ee(this, ne(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ie(t, e)
            }(e, S),
            function(t, e, n) {
                e && te(t.prototype, e), n && te(t, n)
            }(e, [{
                key: "handleWinSequenceComplete",
                value: function() {
                    this._switchToReady()
                }
            }, {
                key: "_switchToReady",
                value: function() {
                    this._soundPlayer.stopScatterBackgroundMelody(), this._model.status = f.a.BEFORE_READY
                }
            }, {
                key: "update",
                value: function(t, e) {
                    var n = this;
                    if (this._soundPlayer.stopMelody(), !this._soundPlayer.isPlayingSequence) {
                        var i = this._config.scatter,
                            o = (i.outro ? i.outro.delay : 0) || 0;
                        this._scatterOutroDelay = setTimeout(function() {
                            n._switchToReady()
                        }, o)
                    }
                    S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function re(t) {
        return (re = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ae(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function se(t, e) {
        return !e || "object" !== re(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ue(t) {
        return (ue = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function le(t, e) {
        return (le = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ce = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), se(this, ue(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && le(t, e)
            }(e, S),
            function(t, e, n) {
                e && ae(t.prototype, e), n && ae(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.SCATTER_SELECT:
                            return this._soundPlayer.stopScatterSelectIntroLoop(), "";
                        case d.a.SCATTER_SELECT_COMPLETE:
                            return this._handleScatterSelectComplete.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleScatterSelectComplete",
                value: function(t) {
                    this._model.scatterSelection.length > 0 && this._config.scatter && this._updateQuerySymbols(t), this._model.scatterSelection = [], this._model.maxSelectableScatterCount = 0, this._model.status = f.a.READY, this._model.gameType = this._model.nextGameType
                }
            }, {
                key: "_updateQuerySymbols",
                value: function(t) {
                    var e = this,
                        n = 1;
                    this._model.reels.forEach(function(i, o) {
                        i.symbols.filter(function(t) {
                            return t.isQuery
                        }).forEach(function(i) {
                            if (o === t) {
                                i.id = e._extractRevealedId(e._model.scatterSelection, 0)
                            } else i.id = e._extractRevealedId(e._model.scatterSelection, n), n += 1
                        })
                    })
                }
            }, {
                key: "_extractRevealedId",
                value: function(t, e) {
                    var n = this._config.scatter.mappedQueryIds,
                        i = t[e];
                    if (n && n.hasOwnProperty("_".concat(i))) return String(n["_".concat(i)]);
                    var o = this._config.scatter.queryOffset;
                    return String(o ? i - o : i)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    var n = this;
                    this._model.hasScatterSelection ? this._soundPlayer.playScatterSelectIntroLoop() : (this._soundPlayer.once(p.SCATTER_SELECT_COMPLETE, function() {
                        n._soundPlayer.playScatterBackgroundMelody()
                    }), this._soundPlayer.playScatterSelectIntro()), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function he(t) {
        return (he = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _e(t, e) {
        return !e || "object" !== he(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ye(t) {
        return (ye = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function de(t, e) {
        return (de = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), _e(this, ye(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && de(t, e)
            }(e, S),
            function(t, e, n) {
                e && fe(t.prototype, e), n && fe(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleWinlineWalk",
                value: function(t) {
                    t && (this._updateWalkedAmount(t), this._soundPlayer.playScatterSpecialWin(t.index))
                }
            }, {
                key: "_getAnimationConfig",
                value: function() {
                    var t = this._config.text.animation || {};
                    return t.special || t
                }
            }]), e
    }();

    function me(t) {
        return (me = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ve(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ge(t, e) {
        return !e || "object" !== me(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function be(t) {
        return (be = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Se(t, e) {
        return (Se = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var we = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ge(this, be(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Se(t, e)
            }(e, pe),
            function(t, e, n) {
                e && ve(t.prototype, e), n && ve(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        case d.a.TAKE:
                            return this._model.status = f.a.FAST_SPECIAL_WALK, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = pe.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleGamble",
                value: function() {
                    this._model.status = f.a.GAMBLING, this._soundPlayer.stop(), this._model.autoPlayEnabled = !1
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.status === f.a.TAKING ? d.a.TAKE : ""
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.wantsGamble && !this._model.autoPlayEnabled ? f.a.NTH_WINLINE_WALK : f.a.TAKING
                }
            }, {
                key: "_updateWalkedAmount",
                value: function(t) {
                    this._delayedUpdateWalkedAmount(t)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    e === f.a.BEFORE_FAST_SPECIAL_WALK && (this._model.status = f.a.FAST_SPECIAL_WALK), pe.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function ke(t) {
        return (ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ee(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Te(t, e) {
        return !e || "object" !== ke(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ce(t) {
        return (Ce = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Oe(t, e) {
        return (Oe = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ae = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Te(this, Ce(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Oe(t, e)
            }(e, pe),
            function(t, e, n) {
                e && Ee(t.prototype, e), n && Ee(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = pe.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }]), e
    }();

    function Pe(t) {
        return (Pe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ie(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function xe(t, e) {
        return !e || "object" !== Pe(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Re(t) {
        return (Re = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function We(t, e) {
        return (We = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ne = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = xe(this, Re(e).call(this, t)))._cache = {
                stickySymbols: []
            }, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && We(t, e)
            }(e, S),
            function(t, e, n) {
                e && Ie(t.prototype, e), n && Ie(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.REEL_SPIN_START:
                            return this._handleReelSpinStart(), "";
                        case d.a.STOP_SPIN:
                            return this._handleStopSpin(), "";
                        case d.a.SPIN_COMPLETE:
                            return this._handleSpinComplete.apply(this, i), "";
                        case d.a.REEL_STOPPING:
                            return this._handleReelStopping.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleReelSpinStart",
                value: function() {
                    switch (this._soundPlayer.stop(), this._model.gameType) {
                        case h.a.REGULAR:
                            this._soundPlayer.playMelody();
                            break;
                        case h.a.SCATTER:
                            this._soundPlayer.playScatterMelody()
                    }
                }
            }, {
                key: "_handleStopSpin",
                value: function() {
                    this._model.status = f.a.STOP_SPINNING
                }
            }, {
                key: "_handleSpinComplete",
                value: function(t) {
                    this._prepareForNextSpin(t), this._updateReelsState()
                }
            }, {
                key: "_prepareForNextSpin",
                value: function(t) {
                    var e = g.a.getTargetReelLength(this._config),
                        n = t.getAfterSpin(),
                        i = t.getSymbols();
                    return n.symbols.forEach(function(t) {
                        i.splice(e - 1, 1, t)
                    }), i.splice(0, e - n.distance), i.splice(e, i.length - 1), t
                }
            }, {
                key: "_updateReelsState",
                value: function() {
                    this._model.snappedInReels += 1, this._model.snappedInReels >= this._config.reels.count && (this._model.status = this._getNextStatus())
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasWinnings ? f.a.AFTER_SPIN : this._model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._model.hasStickySymbols ? f.a.AFTER_SPIN : f.a.BEFORE_READY
                }
            }, {
                key: "_handleReelStopping",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = t.id,
                        n = t.shouldSlowDownNext,
                        i = t.hasEnterSound;
                    this._playReelStop(e), this._playSlowDown({
                        shouldSlowDownNext: n
                    });
                    var o = this._getFinalSymbolsSlice();
                    this._showSymbolIntro(o, e), this._playEnterReel(o, {
                        hasEnterSound: i
                    })
                }
            }, {
                key: "_playReelStop",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                        n = this._getShouldPlayReelStop(),
                        i = this._getIsHiddenBehindStickySymbols(e);
                    this._minReelStopDelay || !n || i || this._soundPlayer.playReelStop(), this._minReelStopDelay = setTimeout(function() {
                        t._minReelStopDelay = null
                    }, this._config.reels.minSoundInterval)
                }
            }, {
                key: "_getShouldPlayReelStop",
                value: function() {
                    var t = this._config.effects && this._config.effects.revealOverlay;
                    return !this._model.isInScatter || !t
                }
            }, {
                key: "_getIsHiddenBehindStickySymbols",
                value: function(t) {
                    return this._cache.stickySymbols.reduce(function(e, n) {
                        return e + Number(n.x - 1 === t)
                    }, 0) >= this._config.reels.countOfVisibleSymbols
                }
            }, {
                key: "_playSlowDown",
                value: function() {
                    var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldSlowDownNext: !1
                        }).shouldSlowDownNext,
                        e = this._getShouldPlayReelStop();
                    t && e && (this._soundPlayer.playSlowDown(), this._soundPlayer.playSlowDownLoop()), t || this._soundPlayer.stopSlowDownLoop()
                }
            }, {
                key: "_playEnterReel",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            hasEnterSound: !1
                        }).hasEnterSound,
                        n = this._config.scatter,
                        i = n && t.indexOf(n.id) > -1,
                        o = n && this._model.missedScattersCount + n.minCount <= this._config.reels.count;
                    return (e || i && o) && (this._soundPlayer.playScatter(this._model.enteringScattersCount), this._model.enteringScattersCount += 1), this._model.enteringFinalSymbolsCount += 1, this._model.enteringFinalSymbolsCount
                }
            }, {
                key: "_getFinalSymbolsSlice",
                value: function() {
                    var t = 1 + g.a.getTargetReelLength(this._config),
                        e = t + this._config.reels.countOfVisibleSymbols;
                    return this._model.enteringFinalSymbols.slice(t, e).map(function(t) {
                        return t.id
                    })
                }
            }, {
                key: "_showSymbolIntro",
                value: function(t, e) {
                    var n = this;
                    if (this._config.symbolIntros) {
                        var i = 1400 * (this._config.timing.overshoot.duration || 0);
                        this._config.symbolIntros.forEach(function(o) {
                            n._showSymbolIntroForId({
                                finalSymbols: t,
                                symbolId: o,
                                reelId: e,
                                delay: i
                            })
                        })
                    }
                }
            }, {
                key: "_showSymbolIntroForId",
                value: function(t) {
                    var e = this,
                        n = t.finalSymbols,
                        i = t.symbolId,
                        o = t.reelId,
                        r = t.delay,
                        a = this._config.scatter,
                        s = a && this._model.missedScattersCount < a.minCount,
                        u = a && a.id === i,
                        l = n.indexOf(i);
                    l > -1 && (!u || s) && setTimeout(function() {
                        e._view.showSymbolIntro(i, {
                            x: o + 1,
                            y: l + 1
                        })
                    }, r)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._model.scatterMessage = "", this._model.gameType = this._model.nextGameType, this._model.enteringFinalSymbolsCount = 0, this._model.enteringScattersCount = 0, this._model.snappedInReels = 0, this._model.isInScatter && this._soundPlayer.playScatterBackgroundMelody(), this._cache.stickySymbols = this._model.stickySymbols, S.prototype.update.call(this, t, e)
                }
            }, {
                key: "cancel",
                value: function() {
                    this._soundPlayer.stopMelody(), this._model.snappedInReels = this._config.reels.count, this._model.status = f.a.READY, this._model.autoPlayEnabled = !1, S.prototype.cancel.call(this)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._cache = null, clearTimeout(this._minReelStopDelay), this._minReelStopDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function je(t) {
        return (je = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Le(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ge(t, e) {
        return !e || "object" !== je(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Me(t) {
        return (Me = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Be(t, e) {
        return (Be = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Fe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ge(this, Me(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Be(t, e)
            }(e, Ne),
            function(t, e, n) {
                e && Le(t.prototype, e), n && Le(t, n)
            }(e, [{
                key: "_handleReelSpinStart",
                value: function() {}
            }, {
                key: "_handleStopSpin",
                value: function() {
                    return this
                }
            }, {
                key: "update",
                value: function(t, e) {
                    S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function He(t) {
        return (He = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function De(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ke(t, e) {
        return !e || "object" !== He(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ue(t) {
        return (Ue = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ye(t, e) {
        return (Ye = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ke(this, Ue(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ye(t, e)
            }(e, mt),
            function(t, e, n) {
                e && De(t.prototype, e), n && De(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    this._applyStickySymbols(), this._soundPlayer.stopWaiting(), this._soundPlayer.setScatterBackgroundMelodyFullVolume(), this._model.hasStickySymbols || this._model.willSwitchToRegular || this._soundPlayer.stopWinBackgroundMelody(), mt.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Ve(t) {
        return (Ve = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ze(t, e) {
        return !e || "object" !== Ve(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qe(t) {
        return (Qe = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Je(t, e) {
        return (Je = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $e = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ze(this, Qe(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Je(t, e)
            }(e, S),
            function(t, e, n) {
                e && Xe(t.prototype, e), n && Xe(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.TAKE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }]), e
    }();

    function Ze(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function tn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var en = function() {
            function t(e) {
                var n, i = e.model,
                    o = e.view,
                    r = e.config,
                    a = e.soundPlayer;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = i, this._view = o, this._config = r, this._soundPlayer = a, this._Classes = (Ze(n = {}, f.a.AFTER_SPIN, O), Ze(n, f.a.BEFORE_SCATTER, W), Ze(n, f.a.BEFORE_SPECIAL_WALK, D), Ze(n, f.a.BEFORE_FAST_SPECIAL_WALK, V), Ze(n, f.a.BEFORE_WINLINE_WALK, Z), Ze(n, f.a.FAST_WINLINE_WALK, rt), Ze(n, f.a.FIRST_WINLINE_WALK, ht), Ze(n, f.a.GAMBLING, kt), Ze(n, f.a.NTH_WINLINE_WALK, Pt), Ze(n, f.a.PREPARING, Nt), Ze(n, f.a.BEFORE_READY, Ft), Ze(n, f.a.READY, qt), Ze(n, f.a.SCATTER_INTRO, $t), Ze(n, f.a.SCATTER_OUTRO, oe), Ze(n, f.a.SCATTER_SELECT, ce), Ze(n, f.a.SPECIAL_WALK, we), Ze(n, f.a.FAST_SPECIAL_WALK, Ae), Ze(n, f.a.SPINNING, Ne), Ze(n, f.a.STOP_SPINNING, Fe), Ze(n, f.a.TAKING, qe), Ze(n, f.a.WAITING, $e), n)
            }
            return function(t, e, n) {
                e && tn(t.prototype, e), n && tn(t, n)
            }(t, [{
                key: "createStrategy",
                value: function(t) {
                    return new this._Classes[t]({
                        model: this._model,
                        view: this._view,
                        config: this._config,
                        soundPlayer: this._soundPlayer
                    })
                }
            }]), t
        }(),
        nn = n(9),
        on = n.n(nn);

    function rn(t) {
        return (rn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function an(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function sn(t, e) {
        return !e || "object" !== rn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function un(t) {
        return (un = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ln(t, e) {
        return (ln = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var cn = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.config,
                a = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = sn(this, un(e).call(this)))._model = i, n._view = o, n._config = r, n._soundPlayer = a, n._guard(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ln(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && an(t.prototype, e), n && an(t, n)
            }(e, [{
                key: "_guard",
                value: function() {
                    if (!this._model) throw Error("Missing model");
                    if (!this._view) throw Error("Missing view");
                    if (!this._config) throw new Error("Missing configuration");
                    if (!this._soundPlayer) throw new Error("Missing soundPlayer")
                }
            }, {
                key: "_createInteractionHandler",
                value: function(t) {
                    var e = t.expectedStatus,
                        n = t.nextStatus,
                        i = t.eventToEmit,
                        o = t.functionToCall,
                        r = t.cancel;
                    return function() {
                        if (!e || e === this._model.status || e.indexOf(this._model.status) > -1) {
                            if (this.cancel = r, this._model.status = n || this._model.status, o) {
                                for (var t = arguments.length, a = new Array(t), s = 0; s < t; s++) a[s] = arguments[s];
                                o.call.apply(o, [this].concat(a))
                            }
                            i && this.emit(i)
                        }
                    }
                }
            }, {
                key: "start",
                value: function() {}
            }, {
                key: "endTake",
                value: function() {
                    return this._soundPlayer.endTake(), this
                }
            }, {
                key: "startup",
                value: function() {
                    return this._soundPlayer.playStartup(), this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._view.removeAllListeners(), this._view.destroy(), this._view = null, this._config = null, this._soundPlayer.destroy(), this._soundPlayer = null
                }
            }]), e
    }();

    function hn(t) {
        return (hn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _n(t, e) {
        return !e || "object" !== hn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yn(t) {
        return (yn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function dn(t, e) {
        return (dn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pn, mn, vn = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = _n(this, yn(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && dn(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && fn(t.prototype, e), n && fn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this;
                        this._model.enteringFinalSymbolsCount = 0, this._model.enteringScattersCount = 0, this._strategies = this._createStrategies(), this.cancel = function() {
                            t._getStrategy().cancel()
                        }, this._prepareView(), this._prepareSoundPlayer(), this._prepareModel()
                    }
                }, {
                    key: "_prepareView",
                    value: function() {
                        var t = this;
                        [d.a.REEL_SPIN_START, d.a.SPECIAL_MULTIPLIER, d.a.BEFORE_WINLINE_WALK, d.a.BEFORE_WINLINE_WALK_COMPLETE, d.a.BEFORE_SPECIAL_WALK_COMPLETE, d.a.BEFORE_SPECIAL_WALK_TRANSFORM, d.a.WINLINE_WALK, d.a.WINLINE_WALK_COMPLETE, d.a.AFTER_SPIN, d.a.AFTER_SPIN_COMPLETE, d.a.SPIN_COMPLETE, d.a.REEL_STOPPING, d.a.SPIN, d.a.STOP_SPIN, d.a.EXIT, d.a.STOP_AUTO_PLAY, d.a.TAKE, d.a.GAMBLE, d.a.SETTINGS, d.a.SCATTER_INTRO_COMPLETE, d.a.SCATTER_SELECT, d.a.SCATTER_SELECT_COMPLETE, d.a.WINLINE_NUMBER_TAP].forEach(function(e) {
                            t._addViewListener(e)
                        })
                    }
                }, {
                    key: "_addViewListener",
                    value: function(t) {
                        var e = this;
                        this._view.on(t, function() {
                            for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                            var r = t === d.a.REEL_STOPPING,
                                a = [d.a.SPIN, d.a.STOP_SPIN, d.a.EXIT, d.a.STOP_AUTO_PLAY, d.a.TAKE, d.a.GAMBLE, d.a.SETTINGS].indexOf(t) > -1;
                            e._model.isActive || r ? e._handleViewEvent.apply(e, [t].concat(i)) : a || e._model.once(m.a.IS_ACTIVE_CHANGE, function() {
                                e._handleViewEvent.apply(e, [t].concat(i))
                            })
                        })
                    }
                }, {
                    key: "_handleViewEvent",
                    value: function(t) {
                        for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                        var r = (e = this._getStrategy()).handleViewEvent.apply(e, [t].concat(i));
                        r && this.emit(r)
                    }
                }, {
                    key: "_prepareSoundPlayer",
                    value: function() {
                        var t = this;
                        this._soundPlayer.on(p.SEQUENCE_COMPLETE, function() {
                            t._getStrategy().handleWinSequenceComplete()
                        })
                    }
                }, {
                    key: "_prepareModel",
                    value: function() {
                        var t = this;
                        this._model.snappedInReels = this._config.reels.count, [m.a.TAKEN_AMOUNT_CHANGE, m.a.AUTO_PLAY_ENABLED_CHANGE, m.a.NEXT_GAME_TYPE_CHANGE].forEach(function(e) {
                            t._model.on(e, function() {
                                for (var n, i = arguments.length, o = new Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                                var a = (n = t._getStrategy()).handleModelEvent.apply(n, [e].concat(o));
                                a && t.emit(a)
                            })
                        }), this._model.on(m.a.STATUS_CHANGE, this._handleStatusChange, this), this._model.status = f.a.READY, this._config.scatter && this._config.scatter.changeSymbolsWithGameType && (this._model.once(m.a.REELS_CHANGE, this._handleChangeReels, this), this._model.on(m.a.GAME_TYPE_CHANGE, this._updateSymbolGameTypes, this))
                    }
                }, {
                    key: "_getStrategy",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._strategies[t || this._model.status]
                    }
                }, {
                    key: "_handleStatusChange",
                    value: function(t, e) {
                        var n = this,
                            i = t.previousAttributes().status;
                        this._getStrategy(i).cleanup(), this._getStrategy(e).update(function(t) {
                            for (var e, i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) o[r - 1] = arguments[r];
                            var a = (e = n._getStrategy()).handleViewEvent.apply(e, [t].concat(o));
                            a && n.emit(a)
                        }, i)
                    }
                }, {
                    key: "_createStrategies",
                    value: function() {
                        var t = this._createFactory(),
                            e = {};
                        return [f.a.PREPARING, f.a.BEFORE_READY, f.a.READY, f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.WAITING, f.a.BEFORE_WINLINE_WALK, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.TAKING, f.a.GAMBLING, f.a.BEFORE_SCATTER, f.a.SCATTER_INTRO, f.a.SCATTER_SELECT, f.a.SCATTER_OUTRO, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].forEach(function(n) {
                            e[n] = t.createStrategy(n)
                        }), e
                    }
                }, {
                    key: "_createFactory",
                    value: function() {
                        return new en({
                            model: this._model,
                            view: this._view,
                            config: this._config,
                            soundPlayer: this._soundPlayer
                        })
                    }
                }, {
                    key: "_handleChangeReels",
                    value: function(t, e) {
                        var n = this;
                        e.forEach(function(t) {
                            t.on(v.a.SYMBOLS_CHANGE, function(t, e) {
                                e.forEach(function(t) {
                                    t.gameType = n._model.gameType
                                })
                            })
                        })
                    }
                }, {
                    key: "_updateSymbolGameTypes",
                    value: function() {
                        var t = this;
                        this._model.reels.forEach(function(e, n) {
                            e.symbols.forEach(function(e) {
                                e.gameType = t._model.gameType
                            })
                        })
                    }
                }, {
                    key: "endTake",
                    value: function() {
                        this._getStrategy().endTake()
                    }
                }, {
                    key: "announcePot",
                    value: function(t, e) {
                        this.deactivate(), this._getStrategy().announcePot(t, e, this._handlePotComplete.bind(this))
                    }
                }, {
                    key: "announceScatter",
                    value: function() {
                        this._getStrategy().announceScatter()
                    }
                }, {
                    key: "_handlePotComplete",
                    value: function() {
                        this.emit(d.a.POT_COMPLETE)
                    }
                }, {
                    key: "takePot",
                    value: function() {
                        this.activate()
                    }
                }, {
                    key: "message",
                    value: function() {
                        this._getStrategy().message()
                    }
                }, {
                    key: "activate",
                    value: function() {
                        this._getStrategy().activate()
                    }
                }, {
                    key: "deactivate",
                    value: function() {
                        this._getStrategy().deactivate()
                    }
                }, {
                    key: "setSelectedWinlines",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        this._getStrategy().setSelectedWinlines(t)
                    }
                }]), e
        }(),
        gn = n(16),
        bn = u.a.extend({
            props: {
                cardHistory: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                stake: "number",
                chance: "number",
                choice: "number",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: gn.a.PREPARING,
                    values: [gn.a.PREPARING, gn.a.SHOWING, gn.a.READY]
                }
            }
        }),
        Sn = n(11),
        wn = n(24);
    ! function(t) {
        t.TAKE = "gambleEvent.take", t.DONE = "gambleEvent.done", t.SELECT_RED = "gambleEvent.selectRed", t.SELECT_BLACK = "gambleEvent.selectBlack"
    }(pn || (pn = {})),
    function(t) {
        t.STATUS_CHANGE = "change:status", t.STAKE_CHANGE = "change:stake", t.CHANCE_CHANGE = "change:chance", t.CHOICE_CHANGE = "change:choice", t.CARD_HISTORY_CHANGE = "change:cardHistory"
    }(mn || (mn = {}));
    var kn = n(1),
        En = n(8);

    function Tn(t) {
        return (Tn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Cn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function On(t, e) {
        return !e || "object" !== Tn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function An(t) {
        return (An = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pn(t, e) {
        return (Pn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var In = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = On(this, An(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                })))._init(), o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Pn(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && Cn(t.prototype, e), n && Cn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._model.on(mn.CARD_HISTORY_CHANGE, this._handleChangeCardHistory, this)
                    }
                }, {
                    key: "_handleChangeCardHistory",
                    value: function(t, e) {
                        var n = this;
                        if (e) {
                            this.removeChildren();
                            var i = e.concat();
                            i.reverse(), (i = i.slice(0, this._config.cardHistory.countOfVisibleSuits)).forEach(function(t, e) {
                                var i = new kn.Sprite(n._assets.getCardSuit(t));
                                i.x = e * (i.width + n._config.cardHistory.gap), n.addChild(i)
                            })
                        }
                    }
                }]), e
        }(),
        xn = n(48),
        Rn = n(30);

    function Wn(t) {
        return (Wn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Nn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function jn(t, e) {
        return !e || "object" !== Wn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ln(t) {
        return (Ln = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Gn(t, e) {
        return (Gn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mn = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = jn(this, Ln(e).call(this, t, n)))._layoutAdjuster = i, o._layout = o._config.controls.tilesheetLayout, o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Gn(t, e)
                }(e, Rn["a"]),
                function(t, e, n) {
                    e && Nn(t.prototype, e), n && Nn(t, n)
                }(e, [{
                    key: "createTake",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.square.height,
                            i = t.button.width,
                            o = t.button.long.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + 2 * t.button.square.height + t.take.margin.top, s
                    }
                }, {
                    key: "createRed",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.width,
                            i = t.button.square.height,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = t.margin.left, a.y = t.margin.top, a
                    }
                }, {
                    key: "createBlack",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.square.height + t.button.long.height,
                            i = t.button.width,
                            o = t.button.square.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + t.button.square.height + t.black.margin.top, s
                    }
                }, {
                    key: "createSelectRed",
                    value: function() {
                        return this._createSelectButton({
                            x: this._config.select.red.x,
                            y: this._config.select.red.y,
                            width: this._config.select.button.width,
                            height: this._config.select.button.height
                        })
                    }
                }, {
                    key: "_createSelectButton",
                    value: function(t) {
                        var e = t.x,
                            n = t.y,
                            i = t.width,
                            o = t.height,
                            r = new kn.Graphics;
                        return r.beginFill(10066329, 0), r.drawRoundedRect(0, 0, i, o, 50), r.endFill(), r.x = e + this._config.select.button.offset, r.y = n, this._layoutAdjuster.adjustToMainFromControls(r)
                    }
                }, {
                    key: "createSelectBlack",
                    value: function() {
                        return this._createSelectButton({
                            x: this._config.select.black.x,
                            y: this._config.select.black.y,
                            width: this._config.select.button.width,
                            height: this._config.select.button.height
                        })
                    }
                }]), e
        }(),
        Bn = n(44);

    function Fn(t) {
        return (Fn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Hn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Dn(t, e) {
        return !e || "object" !== Fn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Kn(t) {
        return (Kn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Un(t, e) {
        return (Un = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Yn = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Dn(this, Kn(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Un(t, e)
                }(e, Bn["a"]),
                function(t, e, n) {
                    e && Hn(t.prototype, e), n && Hn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._addComponent({
                                creator: t.createControlsBackground.bind(t)
                            });
                        this._adjustBackground(e), this._take = this._addComponent({
                            creator: t.createTake.bind(t),
                            eventToDispatch: pn.TAKE
                        }), this._selectRed = this._addComponent({
                            creator: t.createSelectRed.bind(t),
                            eventToDispatch: pn.SELECT_RED
                        }), this._red = this._addComponent({
                            creator: t.createRed.bind(t),
                            eventToDispatch: pn.SELECT_RED
                        }), this._selectBlack = this._addComponent({
                            creator: t.createSelectBlack.bind(t),
                            eventToDispatch: pn.SELECT_BLACK
                        }), this._black = this._addComponent({
                            creator: t.createBlack.bind(t),
                            eventToDispatch: pn.SELECT_BLACK
                        }), this._model.on(mn.STATUS_CHANGE, this._handleChangeStatus, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Mn(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        [this._take, this._red, this._black].forEach(function(t) {
                            t.visible = e === gn.a.READY
                        })
                    }
                }, {
                    key: "alignRight",
                    value: function() {
                        this._oldSelectBlackX < 0 && this._oldSelectRedX < 0 && (this._selectBlack.x = this._oldSelectBlackX, this._selectRed.x = this._oldSelectRedX)
                    }
                }, {
                    key: "alignLeft",
                    value: function() {
                        this._selectBlack.x < 0 && this._selectRed.x < 0 && (this._oldSelectBlackX = this._selectBlack.x, this._oldSelectRedX = this._selectRed.x, this._selectBlack.x = -this._oldSelectRedX - .5 * this._config.controls.width, this._selectRed.x = -this._oldSelectBlackX - .5 * this._config.controls.width)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._take.destroy(), this._take = null, this._black.destroy(), this._black = null, this._red.destroy(), this._red = null, this._selectBlack.destroy(), this._selectBlack = null, this._selectRed.destroy(), this._selectRed = null, Bn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        qn = n(34);

    function Vn(t) {
        return (Vn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zn(t, e) {
        return !e || "object" !== Vn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qn(t) {
        return (Qn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jn(t, e) {
        return (Jn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $n = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), zn(this, Qn(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jn(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && Xn(t.prototype, e), n && Xn(t, n)
            }(e, [{
                key: "createModeBackground",
                value: function(t) {
                    return this._assets.getUsesFullwidthBackground() ? this._createTrimmedGambleBackground(this._assets.getGambleBackground()) : this._createTrimmedBackground(this._assets.getGambleBackground())
                }
            }, {
                key: "_createTrimmedGambleBackground",
                value: function(t) {
                    var e = this._layoutAdjuster.getWidthDifference() * this._getTrimDifferenceModifier(),
                        n = t.width - 2 * e;
                    t.frame = new kn.Rectangle(e, 0, n, t.height);
                    var i = this._createSprite(t),
                        o = this._createContainer();
                    return o.addChild(i), this._layoutAdjuster.centerAtMain(o)
                }
            }, {
                key: "_getTrimDifferenceModifier",
                value: function() {
                    var t = Math.min(1, this._layoutAdjuster.getRatio());
                    return 3.24 * Math.pow(t, 5.5)
                }
            }, {
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, Yn)
                }
            }, {
                key: "createCardHistoryPanel",
                value: function(t) {
                    var e = new In(t, this._config, this._assets);
                    return e.x = this._config.cardHistory.x, e.y = this._config.cardHistory.y, this._adjustToMain(e)
                }
            }, {
                key: "createAnimatedCardBack",
                value: function() {
                    var t = this._createAnimatedSprite(this._assets.getAnimatedCardBack(), this._config.cardFull.fps);
                    return t.x = this._config.cardFull.x, t.y = this._config.cardFull.y, t.play(), this._adjustToMain(t)
                }
            }, {
                key: "createStakeWidget",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditWidget({
                        style: t.style,
                        setup: t.stake,
                        format: t.format
                    })
                }
            }, {
                key: "_createCreditWidget",
                value: function(t) {
                    var e = t.setup,
                        n = new xn.a(t);
                    return n.x = e.x, n.y = e.y, this._adjustToMain(n)
                }
            }, {
                key: "createChanceWidget",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditWidget({
                        style: t.style,
                        setup: t.chance,
                        format: t.format
                    })
                }
            }, {
                key: "createFullCards",
                value: function() {
                    for (var t = [], e = 0; e < 4; e++) {
                        var n = this._createSprite(this._assets.getCardFull(e));
                        n.x = this._config.cardFull.x, n.y = this._config.cardFull.y, n.visible = !1, this._adjustToMain(n), t.push(n)
                    }
                    return t
                }
            }, {
                key: "createGambleSelected",
                value: function() {
                    var t = this._createSprite(this._assets.getGambleSelected());
                    return t.visible = !1, this._adjustToMain(t)
                }
            }]), e
    }();

    function Zn(t) {
        return (Zn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ti(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ei(t, e) {
        return !e || "object" !== Zn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ni(t) {
        return (ni = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ii(t, e) {
        return (ii = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var oi = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = ei(this, ni(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ii(t, e)
                }(e, wn["a"]),
                function(t, e, n) {
                    e && ti(t.prototype, e), n && ti(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t);
                        e(t.createGlobalBackground, this._addFullscreenRequester), e(t.createModeBackground), e(t.createCardHistoryPanel), this._createControlsAdder(t)(t.createControls, this._prepareControls);
                        var n = e(t.createStakeWidget),
                            i = e(t.createChanceWidget),
                            o = e(t.createGambleSelected);
                        this._animatedCard = e(t.createAnimatedCardBack), this._fullCards = e(t.createFullCards), this._createThrobberAdder(t)(t.createThrobber, this._animatedCard), this._model.on(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange, this), this._model.on(mn.CHOICE_CHANGE, this._createChangeChoiceHandler(o), this), this._model.on(mn.STATUS_CHANGE, this._createChangeStatusHandler(o), this), this._model.on(mn.STAKE_CHANGE, this._createChangeAmountHandler(n), this), this._model.on(mn.CHANCE_CHANGE, this._createChangeAmountHandler(i), this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new $n(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareControls",
                    value: function(t) {
                        var e = this;
                        [pn.TAKE, pn.SELECT_RED, pn.SELECT_BLACK, Sn.a.REQUEST_FULLSCREEN].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_createChangeChoiceHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            if (null !== i) {
                                var o = e._config.select,
                                    r = i ? o.red : o.black,
                                    a = r.x + o.highlight.offsetX,
                                    s = e._layoutAdjuster.getControlsWidth(),
                                    u = e.isRightAligned() ? 0 : s;
                                t.x = a + u, t.y = r.y + o.highlight.offsetY, t.visible = !0, e._layoutAdjuster.adjustToMain(t), e._prepareThrobber()
                            }
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            n.status === gn.a.READY && (t.visible = !1, e.hideThrobber(), e.showCardFlip())
                        }
                    }
                }, {
                    key: "_handleCardHistoryChange",
                    value: function(t, e) {
                        t.status === gn.a.SHOWING && (this._animatedCard.visible = !1, this._fullCards.forEach(function(t, n) {
                            t.visible = e[e.length - 1] === n
                        }), this.hideThrobber())
                    }
                }, {
                    key: "_createChangeAmountHandler",
                    value: function(t) {
                        return function(e, n) {
                            t.setContent(n), t.setAmountVisibility(n > 0)
                        }
                    }
                }, {
                    key: "showCardFlip",
                    value: function() {
                        return this._animatedCard.visible = !0, this._fullCards.forEach(function(t) {
                            t.visible = !1
                        }), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._animatedCard.destroy(), this._animatedCard = null, this._fullCards && (this._fullCards.forEach(function(t) {
                            t.destroy()
                        }), this._fullCards = null), wn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        ri = {
            BLACK: 0,
            RED: 1,
            ACE_OF_SPADES: 0,
            ACE_OF_HEARTS: 1,
            ACE_OF_CLUBS: 2,
            ACE_OF_DIAMOND: 3
        };

    function ai(t) {
        return (ai = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function si(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ui(t, e) {
        return !e || "object" !== ai(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function li(t) {
        return (li = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ci(t, e) {
        return (ci = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var hi = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = ui(this, li(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ci(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && si(t.prototype, e), n && si(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._winCount = 0, this._view.on(pn.TAKE, this._createTakeHandler(), this), this._view.on(pn.SELECT_BLACK, this._createSelectBlackHandler(), this), this._view.on(pn.SELECT_RED, this._createSelectRedHandler(), this), this._model.status = gn.a.READY, this._model.on(mn.STAKE_CHANGE, this._cachedStake, this), this._model.on(mn.CHANCE_CHANGE, this._handleChangeChance, this), this
                    }
                }, {
                    key: "_createTakeHandler",
                    value: function() {
                        var t = this;
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.TAKE,
                            functionToCall: function() {
                                t._winCount = 0, t._model.stake = 0, t._model.chance = 0, t._soundPlayer.stopCardFlip()
                            }
                        })
                    }
                }, {
                    key: "_createSelectBlackHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.SELECT_BLACK,
                            nextStatus: gn.a.SHOWING,
                            functionToCall: this._createSelectHelper(ri.BLACK).bind(this),
                            cancel: this._cancelSelect.bind(this)
                        })
                    }
                }, {
                    key: "_createSelectRedHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.SELECT_RED,
                            nextStatus: gn.a.SHOWING,
                            functionToCall: this._createSelectHelper(ri.RED).bind(this),
                            cancel: this._cancelSelect.bind(this)
                        })
                    }
                }, {
                    key: "_createSelectHelper",
                    value: function(t) {
                        return function() {
                            this._model.choice = t, this._model.once(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange, this)
                        }
                    }
                }, {
                    key: "_handleCardHistoryChange",
                    value: function(t, e) {
                        this._soundPlayer.stopCardFlip(), this._soundPlayer.once(p.GAMBLE_COMPLETE, this._continueCardFlip, this), this._updateStake()
                    }
                }, {
                    key: "_continueCardFlip",
                    value: function() {
                        this._model.choice = null, this._model.stake > 0 && (this._model.status = gn.a.READY, this._soundPlayer.playCardFlip())
                    }
                }, {
                    key: "_cancelSelect",
                    value: function() {
                        return this._model.choice = null, this._model.status = gn.a.READY, this._model.off(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange), this._model.off(mn.STAKE_CHANGE, this._handleChangeStake), this
                    }
                }, {
                    key: "_updateStake",
                    value: function() {
                        void 0 === this._cachedStake || this._cachedStake === this._model.stake ? this._model.once(mn.STAKE_CHANGE, this._handleChangeStake, this) : this._handleChangeStake(this._model, this._model.stake)
                    }
                }, {
                    key: "_handleChangeStake",
                    value: function(t, e) {
                        this._model.status === gn.a.SHOWING && this._handleGambleResult(e)
                    }
                }, {
                    key: "_handleGambleResult",
                    value: function(t) {
                        return t > 0 ? (this._soundPlayer.playGambleWin(this._winCount), this._winCount += 1) : (this._soundPlayer.playGambleLost(), this._winCount = 0), t
                    }
                }, {
                    key: "_cacheStake",
                    value: function(t, e) {
                        this._cachedStake = this._model.stake
                    }
                }, {
                    key: "_handleChangeChance",
                    value: function(t, e) {
                        var n = this;
                        if (e <= 0) {
                            var i = this._winCount;
                            this._winCount = 0, this._soundPlayer.off(p.GAMBLE_COMPLETE), this._afterRevealDelay = setTimeout(function() {
                                n._exitGamble(i)
                            }, this._config.timing.waitTimeAfterReveal)
                        }
                    }
                }, {
                    key: "_exitGamble",
                    value: function(t) {
                        t > 0 && this._soundPlayer.playGambleAutoTake(), this._soundPlayer.stopCardFlip(), this._model.status = gn.a.READY, this.emit(pn.DONE)
                    }
                }, {
                    key: "start",
                    value: function() {
                        return this._soundPlayer.playCardFlip(), this._view.showCardFlip(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._afterRevealDelay), this._afterRevealDelay = null, cn.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        fi = u.a.extend({
            props: {}
        });

    function _i(t) {
        return (_i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function yi(t, e) {
        return !e || "object" !== _i(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function di(t) {
        return (di = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pi(t, e) {
        return (pi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mi = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = yi(this, di(e).call(this)))._model = t, n
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && pi(t, e)
        }(e, kn["Container"]), e
    }();
    var vi = function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        },
        gi = u.a.extend({
            props: {
                progress: "number"
            }
        }),
        bi = {
            PROGRESS_CHANGE: "change:progress"
        };

    function Si(t) {
        return (Si = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ki(t, e) {
        return !e || "object" !== Si(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ei(t) {
        return (Ei = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ti(t, e) {
        return (Ti = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ci = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ki(this, Ei(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ti(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && wi(t.prototype, e), n && wi(t, n)
            }(e, [{
                key: "createBackground",
                value: function() {
                    var t = this._createSprite(this._assets.getPreloadBackground());
                    return this._layoutAdjuster.center(t)
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new kn.Sprite(t)
                }
            }, {
                key: "createLoadingBar",
                value: function() {
                    var t = this._createBar(this._config.loadingBar.fill);
                    return this._layoutAdjuster.center(t)
                }
            }, {
                key: "_createBar",
                value: function(t) {
                    var e = this._createGraphics(),
                        n = this._config.loadingBar;
                    return e.beginFill(t, 1), e.drawRect(0, 0, n.width, n.height), e.endFill(), e.x = n.x, e.y = n.y, e
                }
            }, {
                key: "_createGraphics",
                value: function() {
                    return new kn.Graphics
                }
            }, {
                key: "createInnerGlow",
                value: function() {
                    var t = this._config.loadingBar,
                        e = this._createBar(t.innerGlow),
                        n = this._createBlurFilter(),
                        i = e.height;
                    return e.scale.y = .9, e.y += .5 * (i - e.height), n.blur = t.blur || 30, n.padding = t.padding || 50, n.passes = t.passes || 5, e.filters = [n], this._layoutAdjuster.center(e)
                }
            }, {
                key: "_createBlurFilter",
                value: function() {
                    return new kn.filters.BlurFilter
                }
            }]), e
    }();

    function Oi(t) {
        return (Oi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ai(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Pi(t, e) {
        return !e || "object" !== Oi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ii(t) {
        return (Ii = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function xi(t, e) {
        return (xi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ri = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Pi(this, Ii(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && xi(t, e)
            }(e, wn["a"]),
            function(t, e, n) {
                e && Ai(t.prototype, e), n && Ai(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._createComponentAdder(t);
                    return e(t.createBackground), this._loadingBar = e(t.createLoadingBar), this._loadingBar.scale.x = .01, this._innerGlow = e(t.createInnerGlow), this._innerGlow.scale.x = this._loadingBar.scale.x, this._model.on(bi.PROGRESS_CHANGE, this._handleProgress, this), this._preRenderFonts(), this
                }
            }, {
                key: "_preRenderFonts",
                value: function() {
                    var t = this,
                        e = this._config.fonts;
                    return e && e.length && e.forEach(function(e) {
                        var n = new kn.Text("", {
                            fontFamily: e.fontFamily,
                            fontSize: e.fontSize,
                            fontWeight: e.fontWeight
                        });
                        n.visible = !1, t.addChild(n)
                    }), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Ci(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_handleProgress",
                value: function(t, e) {
                    this._loadingBar.scale.x = .01 * e, this._innerGlow.scale.x = this._loadingBar.scale.x
                }
            }, {
                key: "destroy",
                value: function() {
                    this._loadingBar = null, this._innerGlow = null, wn.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Wi(t) {
        return (Wi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ni(t, e) {
        return !e || "object" !== Wi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ji(t) {
        return (ji = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Li(t, e) {
        return (Li = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Gi, Mi = function(t) {
            function e(t) {
                var n = t.model,
                    i = t.view,
                    o = t.config,
                    r = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Ni(this, ji(e).call(this, {
                    model: n,
                    view: i,
                    config: o,
                    soundPlayer: r
                }))
            }
            return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Li(t, e)
            }(e, cn), e
        }(),
        Bi = {
            OFF: 0,
            HALF: 1,
            FULL: 2
        },
        Fi = {
            RIGHT: 0,
            LEFT: 1
        },
        Hi = {
            ENGLISH: 0,
            DEUTSCH: 1
        },
        Di = {
            OFF: 0,
            ON: 1
        },
        Ki = {
            LOW_COUNT: 0,
            HIGH_COUNT: 1
        },
        Ui = {
            OFF: 0,
            ON: 1
        };
    ! function(t) {
        t.PAYTABLE = "settingsStatus.paytable", t.BET_SETTINGS = "settingsStatus.betSettings", t.GENERAL_SETTINGS = "settingsStatus.generalSettings", t.HELP = "settingsStatus.help"
    }(Gi || (Gi = {}));
    var Yi, qi = u.a.extend({
            props: {
                isInScatter: "boolean",
                paytable: "object",
                winlineSelections: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                betSteps: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                audio: {
                    type: "number",
                    required: !0,
                    default: Bi.FULL,
                    values: [Bi.OFF, Bi.HALF, Bi.FULL]
                },
                controlsAlignment: {
                    type: "number",
                    required: !0,
                    default: Fi.RIGHT,
                    values: [Fi.RIGHT, Fi.LEFT]
                },
                gamble: {
                    type: "number",
                    required: !0,
                    default: Ui.OFF,
                    values: [Ui.OFF, Ui.ON]
                },
                language: {
                    type: "number",
                    required: !0,
                    default: Hi.ENGLISH,
                    values: [Hi.ENGLISH, Hi.DEUTSCH]
                },
                turbo: {
                    type: "number",
                    required: !0,
                    default: Di.OFF,
                    values: [Di.OFF, Di.ON]
                },
                winlines: {
                    type: "number",
                    required: !0,
                    default: Ki.LOW_COUNT,
                    values: [Ki.LOW_COUNT, Ki.HIGH_COUNT]
                },
                bet: "number",
                selectedWinlinesCount: "number",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: Gi.GENERAL_SETTINGS,
                    values: [Gi.GENERAL_SETTINGS, Gi.PAYTABLE, Gi.BET_SETTINGS, Gi.HELP]
                }
            },
            derived: {
                wantsGamble: {
                    deps: ["gamble"],
                    fn: function() {
                        return this.gamble === Ui.ON
                    }
                },
                wantsTurbo: {
                    deps: ["turbo"],
                    fn: function() {
                        return this.turbo === Di.ON
                    }
                }
            }
        }),
        Vi = {
            STATUS_CHANGE: "change:status",
            BET_CHANGE: "change:bet",
            WANTS_GAMBLE_CHANGE: "change:wantsGamble",
            WANTS_TURBO_CHANGE: "change:wantsTurbo",
            CONTROLS_ALIGNMENT_CHANGE: "change:controlsAlignment",
            BET_STEPS_CHANGE: "change:betSteps",
            PAYTABLE_CHANGE: "change:paytable",
            WINLINES_CHANGE: "change:winlines",
            WINLINE_SELECTIONS_CHANGE: "change:winlineSelections",
            SELECTED_WINLINES_COUNT_CHANGE: "change:selectedWinlinesCount",
            IS_IN_SCATTER_CHANGE: "change:isInScatter",
            changeEventFor: function(t) {
                return "change:".concat(t)
            }
        };
    ! function(t) {
        t.BACK = "settingsEvent.back", t.BET_SETTINGS = "settingsEvent.betSettings", t.GENERAL_SETTINGS = "settingsEvent.generalSettings", t.PAYTABLE = "settingsEvent.paytable", t.HELP = "settingsEvent.help", t.CHANGE_LANGUAGE_SETTING = "settingsEvent.changeLanguageSetting", t.CHANGE_AUDIO_SETTING = "settingsEvent.changeAudioSetting", t.CHANGE_TURBO_SETTING = "settingsEvent.changeTurboSetting", t.CHANGE_GAMBLE_SETTING = "settingsEvent.changeGambleSetting", t.CHANGE_CONTROLS_ALIGNMENT_SETTING = "settingsEvent.changeControlsAlignmentSetting", t.CHANGE_BET = "settingsEvent.changeBet", t.CHANGE_WINLINES_SETTING = "settingsEvent.changeWinlinesSetting"
    }(Yi || (Yi = {}));
    var Xi = n(3),
        zi = n(26),
        Qi = n(15);

    function Ji(t) {
        return (Ji = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function $i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Zi(t, e) {
        return !e || "object" !== Ji(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function to(t) {
        return (to = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function eo(t, e) {
        return (eo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var no = function(t) {
            function e(t, n) {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Zi(this, to(e).call(this, t, n))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && eo(t, e)
                }(e, Rn["a"]),
                function(t, e, n) {
                    e && $i(t.prototype, e), n && $i(t, n)
                }(e, [{
                    key: "createAmountDecrease",
                    value: function() {
                        return this._createAmountButton(this._assets.getAmountDecrease())
                    }
                }, {
                    key: "_createAmountButton",
                    value: function(t) {
                        var e = .5 * t.width,
                            n = this._createFromTilesheet({
                                baseTexture: t,
                                frameWidth: e
                            }),
                            i = this._createFromTilesheet({
                                baseTexture: t,
                                frameX: e
                            });
                        return this._createButton({
                            up: n,
                            down: i
                        })
                    }
                }, {
                    key: "createAmountIncrease",
                    value: function() {
                        return this._createAmountButton(this._assets.getAmountIncrease())
                    }
                }, {
                    key: "createAmountSelect",
                    value: function() {
                        return this._createSprite(this._assets.getAmountSelect())
                    }
                }]), e
        }(),
        io = n(12);

    function oo(t) {
        return (oo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ro(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ao(t, e) {
        return !e || "object" !== oo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function so(t) {
        return (so = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function uo(t, e) {
        return (uo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var lo = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = ao(this, so(e).call(this)))._config = t, i._assets = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && uo(t, e)
            }(e, io["a"]),
            function(t, e, n) {
                e && ro(t.prototype, e), n && ro(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._buttons = [];
                    var e = this.addChild(this._createContainer());
                    this._items = this._addText("", this._config.style.items, e);
                    var n = t.createAmountDecrease();
                    this.addChild(n), this._select = t.createAmountSelect(), this.addChild(this._select);
                    var i = t.createAmountIncrease();
                    this.addChild(i);
                    var o = this._addText(this._config.description, this._config.style.label);
                    return this._setLayout({
                        config: this._config,
                        items: this._items,
                        decrease: n,
                        select: this._select,
                        increase: i,
                        label: o
                    }), this._select.y += this._config.selectYOffset || 0, this._maskAmounts(this._select, e), this._addPositionChanger(n, -1), this._addPositionChanger(i, 1), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new no(this._config, this._assets)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new kn.Container
                }
            }, {
                key: "_addPositionChanger",
                value: function(t, e) {
                    var n = this;
                    this._buttons.push(t), t.interactive = !0;
                    return this._onClick(t, function() {
                        n._setPosition(n._position + e), n.emit(Sn.a.INPUT_CHANGE, n.getSelectedAmount())
                    }), t
                }
            }, {
                key: "_addText",
                value: function(t, e, n) {
                    var i = zi.a.convertStyle(e),
                        o = new kn.Text(t, i);
                    return n ? n.addChild(o) : this.addChild(o), o
                }
            }, {
                key: "_setLayout",
                value: function(t) {
                    var e = t.config,
                        n = t.items,
                        i = t.decrease,
                        o = t.select,
                        r = t.increase,
                        a = t.label;
                    return this._positionSelect(o, i, e), this._positionIncrease(r, o, e), this._positionitems(n, o), this._positionLabel(a, o, r, e), this
                }
            }, {
                key: "_positionSelect",
                value: function(t, e, n) {
                    return t.x = e.width + n.spacing, t
                }
            }, {
                key: "_positionIncrease",
                value: function(t, e, n) {
                    return t.x = e.x + e.width + n.spacing, t
                }
            }, {
                key: "_positionitems",
                value: function(t, e) {
                    return t.x = this._calculateHorizontalCenter(e, t), t.y = this._calculateVerticalMiddle(e, t) + (this._config.itemsYOffset || 0), t
                }
            }, {
                key: "_positionLabel",
                value: function(t, e, n, i) {
                    switch (t.y = -t.height - i.spacing, i.style.label.align) {
                        case "center":
                            t.x = this._calculateHorizontalCenter(e, t);
                            break;
                        case "right":
                            t.x = n.x + n.width - t.width
                    }
                    return t
                }
            }, {
                key: "_calculateHorizontalCenter",
                value: function(t, e) {
                    return t.x + .5 * (t.width - e.width)
                }
            }, {
                key: "_calculateVerticalMiddle",
                value: function(t, e) {
                    return t.y + .5 * (t.height - e.height)
                }
            }, {
                key: "setAvailableAmounts",
                value: function(t, e) {
                    return this._amounts = t, this._items.text = this._createAmountText(this._amounts), this.setAmount(e), this._items.text
                }
            }, {
                key: "_createAmountText",
                value: function(t) {
                    var e = this,
                        n = "";
                    return t.forEach(function(t) {
                        var i = Qi.a.formatCredit(t, e._config.format),
                            o = Qi.a.padBoth(i, e._config.itemLength);
                        n = "".concat(n).concat(o)
                    }), n
                }
            }, {
                key: "_maskAmounts",
                value: function(t, e) {
                    var n = new kn.Graphics;
                    return n.beginFill(65280, 1), n.drawRect(t.x + 5, t.y, t.width - 10, t.height), n.endFill(), e.addChild(n), e.mask = n, e
                }
            }, {
                key: "setAmount",
                value: function(t) {
                    return this._amounts && this._amounts.length && this.getSelectedAmount() !== t && this._setPosition(this._amounts.indexOf(t)), t
                }
            }, {
                key: "_setPosition",
                value: function(t) {
                    t < 0 || !this._amounts ? this._position = 0 : t >= this._amounts.length ? this._position = this._amounts.length - 1 : this._position = t;
                    var e = this._calculateProportionalOffset(t);
                    return this._moveAmounts(e), this._position
                }
            }, {
                key: "_calculateProportionalOffset",
                value: function(t) {
                    var e = Qi.a.formatCredit(this._amounts[0], this._config.format);
                    return (Qi.a.formatCredit(this.getSelectedAmount(), this._config.format).length - e.length) / e.length
                }
            }, {
                key: "_moveAmounts",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        e = this._items.width / this._amounts.length,
                        n = this._select.x + .5 * this._select.width - e * (this._position + .5) + e * t * .4 * .5;
                    Xi.TweenLite.killTweensOf(this._items), Xi.TweenLite.to(this._items, .2, {
                        x: n,
                        ease: Xi.Sine.easeInOut
                    })
                }
            }, {
                key: "getSelectedAmount",
                value: function() {
                    return this._amounts[this._position]
                }
            }, {
                key: "disable",
                value: function() {
                    this._buttons.forEach(function(t) {
                        t.interactive = !1
                    })
                }
            }, {
                key: "enable",
                value: function() {
                    this._buttons.forEach(function(t) {
                        t.interactive = !0
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._assets = null, this._items = null, this._select = null, this._amounts = null, this._buttons = null, io.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function co(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ho = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && co(t.prototype, e), n && co(t, n)
        }(t, [{
            key: "createBackground",
            value: function() {
                var t = this._assets.getSettingsBackground();
                return t ? this._createSprite(t) : this._createContainer()
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new kn.Sprite(t)
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new kn.Container
            }
        }, {
            key: "createBetSelector",
            value: function() {
                return new lo(this._config.amountSelector, this._assets)
            }
        }, {
            key: "createHiddenBetOK",
            value: function() {
                var t = this._createGraphics(),
                    e = this._assets.getAmountSelect().height;
                return t.beginFill(10066329, 0), t.drawRect(0, 0, e, e), t.endFill(), t
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new kn.Graphics
            }
        }]), t
    }();

    function fo(t) {
        return (fo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yo(t, e) {
        return !e || "object" !== fo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function po(t) {
        return (po = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function mo(t, e) {
        return (mo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var vo = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = yo(this, po(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && mo(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && _o(t.prototype, e), n && _o(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = e.createBackground();
                        this._betSelector = e.createBetSelector();
                        var i = e.createHiddenBetOK();
                        return this._centerOn(n, this._betSelector), this._centerOn(this._betSelector, i, {
                            offsetX: 0,
                            offsetY: -30
                        }), this.addChild(n), this.addChild(this._betSelector), this.addChild(i), this._model.on(Vi.BET_STEPS_CHANGE, this._handleChangeBetSteps, this), this._model.on(Vi.BET_CHANGE, this._handleChangeBet, this), this._betSelector.on(Sn.a.INPUT_CHANGE, function(e) {
                            t.emit(Yi.CHANGE_BET, e)
                        }, this), i.interactive = !0, this._onClick(i, this._handleBetOKClick, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new ho(this._config, this._assets)
                    }
                }, {
                    key: "_handleChangeBetSteps",
                    value: function(t, e) {
                        this._betSelector.setAvailableAmounts(e, this._model.bet)
                    }
                }, {
                    key: "_handleChangeBet",
                    value: function(t, e) {
                        this._betSelector.setAmount(e)
                    }
                }, {
                    key: "_handleBetOKClick",
                    value: function() {
                        this.emit(Sn.a.REQUEST_FULLSCREEN), this.emit(Yi.BACK)
                    }
                }, {
                    key: "enable",
                    value: function() {
                        this._betSelector.enable()
                    }
                }, {
                    key: "disable",
                    value: function() {
                        this._betSelector.disable()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._betSelector = null, En.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        go = {
            TOGGLE: "toggleEvent.toggle"
        },
        bo = {
            AUDIO: "audio",
            CONTROLS_ALIGNMENT: "controlsAlignment",
            GAMBLE: "gamble",
            LANGUAGE: "language",
            TURBO: "turbo",
            WINLINES: "winlines"
        };

    function So(t) {
        return (So = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ko(t, e) {
        return !e || "object" !== So(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Eo(t) {
        return (Eo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function To(t, e) {
        return (To = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Co = function(t) {
        function e(t) {
            var n, i = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                autoToggle: !1
            }).autoToggle;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ko(this, Eo(e).call(this)))._states = t, n._autoToggle = i, n._toggleCooldown = 200, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && To(t, e)
            }(e, io["a"]),
            function(t, e, n) {
                e && wo(t.prototype, e), n && wo(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this;
                    return this._container = this._createContainer(), this.addChild(this._container), this._states.forEach(function(e) {
                        t._container.addChild(e), e.visible = !1
                    }), this._currentState = 0, this._states[this._currentState].visible = !0, this._container.interactive = !0, this._onClick(this._container, this._toggle, this), this
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new kn.Container
                }
            }, {
                key: "_toggle",
                value: function() {
                    var t = this;
                    this._container.interactive = !1;
                    var e = (this._currentState + 1) % this._states.length;
                    return this._autoToggle && this.setState(e), this.emit(go.TOGGLE, e), this._cooldown = setTimeout(function() {
                        t._container.interactive = !0
                    }, this._toggleCooldown), this
                }
            }, {
                key: "setLabel",
                value: function(t, e) {
                    var n = zi.a.convertStyle(e),
                        i = this._createText(t, n);
                    return i.x = .5 * (this._container.width - i.width), i.y = this._container.height - .1 * i.height, this._container.addChild(i), this
                }
            }, {
                key: "_createText",
                value: function(t, e) {
                    return new kn.Text(t, e)
                }
            }, {
                key: "setState",
                value: function(t) {
                    return this._states[this._currentState] && (this._states[this._currentState].visible = !1), this._currentState = t % this._states.length, this._states[this._currentState] && (this._states[this._currentState].visible = !0), this
                }
            }, {
                key: "disable",
                value: function() {
                    this._cooldown && clearTimeout(this._cooldown), this._container.alpha = .33, this._container.interactive = !1
                }
            }, {
                key: "enable",
                value: function() {
                    this._container.alpha = 1, this._container.interactive = !0
                }
            }, {
                key: "destroy",
                value: function() {
                    this._states = null, this._container = null, this._cooldown && (clearTimeout(this._cooldown), this._cooldown = null), io.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Oo(t) {
        return (Oo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ao(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Po(t, e) {
        return !e || "object" !== Oo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Io(t) {
        return (Io = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function xo(t, e) {
        return (xo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ro = function(t) {
        function e(t, n) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Po(this, Io(e).call(this, t, n))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && xo(t, e)
            }(e, Rn["a"]),
            function(t, e, n) {
                e && Ao(t.prototype, e), n && Ao(t, n)
            }(e, [{
                key: "createBackground",
                value: function() {
                    var t = this._assets.getSettingsBackground();
                    return t ? this._createSprite(t) : this._createContainer()
                }
            }, {
                key: "createLanguageSwitch",
                value: function() {
                    var t = this._createStates([{
                            xPos: 0,
                            yPos: 0
                        }, {
                            xPos: 1,
                            yPos: 0
                        }]),
                        e = this._createToggleSwitch({
                            states: t,
                            xPos: 0,
                            yPos: 1
                        });
                    return e.visible = !1, e
                }
            }, {
                key: "_createStates",
                value: function(t) {
                    var e = this,
                        n = [];
                    return t.forEach(function(t) {
                        n.push(e._createSettingsSprite(t))
                    }), n
                }
            }, {
                key: "_createSettingsSprite",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            xPos: 0,
                            yPos: 0
                        },
                        e = t.xPos,
                        n = t.yPos,
                        i = this._config.general.tilesheetLayout,
                        o = this._assets.getSettingsButtons(),
                        r = i.width * e,
                        a = i.height * n,
                        s = this._createFromTilesheet({
                            frameX: r,
                            frameY: a,
                            frameWidth: i.width,
                            frameHeight: i.height,
                            baseTexture: o
                        }),
                        u = this._createFromTilesheet({
                            frameX: r + i.upStateXOffset,
                            frameY: a,
                            frameWidth: i.width,
                            frameHeight: i.height,
                            baseTexture: o
                        });
                    return this._createButton({
                        up: s,
                        down: u
                    })
                }
            }, {
                key: "_createToggleSwitch",
                value: function(t) {
                    var e = t.states,
                        n = t.xPos,
                        i = t.yPos,
                        o = this._config.general,
                        r = o.tilesheetLayout,
                        a = o.positioning,
                        s = new Co(e),
                        u = (r.width + a.xMargin) * n,
                        l = (r.height + a.yMargin) * i;
                    s.x = a.xOffset + u, s.y = a.yOffset + l;
                    var c = o.descriptions;
                    return c && s.setLabel(c[i][n], o.style), s
                }
            }, {
                key: "createAudioSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 0
                    }, {
                        xPos: 2,
                        yPos: 2
                    }, {
                        xPos: 3,
                        yPos: 2
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 1
                    })
                }
            }, {
                key: "createWinlinesSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 3
                    }, {
                        xPos: 3,
                        yPos: 3
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 1
                    })
                }
            }, {
                key: "createTurboSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 1
                    }, {
                        xPos: 1,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 0,
                        yPos: 2
                    })
                }
            }, {
                key: "createGambleSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 2
                    }, {
                        xPos: 1,
                        yPos: 2
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 2
                    })
                }
            }, {
                key: "createAlignmentSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 3
                    }, {
                        xPos: 1,
                        yPos: 3
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 2
                    })
                }
            }, {
                key: "createBetSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 3,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 0,
                        yPos: 0
                    })
                }
            }, {
                key: "createPaytableSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 3,
                        yPos: 0
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 0
                    })
                }
            }, {
                key: "createHelpSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 0
                    })
                }
            }]), e
    }();

    function Wo(t) {
        return (Wo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function No(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function jo(t, e) {
        return !e || "object" !== Wo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Lo(t) {
        return (Lo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Go(t, e) {
        return (Go = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mo = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = jo(this, Lo(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Go(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && No(t.prototype, e), n && No(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._togglers = [];
                        var t = this._createWorkshop(),
                            e = t.createBackground();
                        this.addChild(e), this._addToggleSwitch({
                            creator: t.createLanguageSwitch.bind(t),
                            setting: bo.LANGUAGE
                        }), this._addToggleSwitch({
                            creator: t.createAudioSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_AUDIO_SETTING,
                            setting: bo.AUDIO
                        }), this._winlinesToggle = this._addToggleSwitch({
                            creator: t.createWinlinesSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_WINLINES_SETTING,
                            setting: bo.WINLINES
                        }), this._turboToggle = this._addToggleSwitch({
                            creator: t.createTurboSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_TURBO_SETTING,
                            setting: bo.TURBO
                        }), this._gambleToggle = this._addToggleSwitch({
                            creator: t.createGambleSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_GAMBLE_SETTING,
                            setting: bo.GAMBLE
                        }), this._addToggleSwitch({
                            creator: t.createAlignmentSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING,
                            setting: bo.CONTROLS_ALIGNMENT
                        }), this._betButton = this._addToggleSwitch({
                            creator: t.createBetSwitch.bind(t),
                            eventToDispatch: Yi.BET_SETTINGS
                        }), this._addToggleSwitch({
                            creator: t.createPaytableSwitch.bind(t),
                            eventToDispatch: Yi.PAYTABLE
                        }), this._addToggleSwitch({
                            creator: t.createHelpSwitch.bind(t),
                            eventToDispatch: Yi.HELP
                        })
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Ro(this._config, this._assets)
                    }
                }, {
                    key: "_addToggleSwitch",
                    value: function(t) {
                        var e = this,
                            n = t.creator,
                            i = t.eventToDispatch,
                            o = t.setting,
                            r = n.call();
                        return void 0 !== o && (r.setState(this._model[o]), this._model.on(Vi.changeEventFor(o), function(t, e) {
                            r.setState(e)
                        })), i ? (r.on(go.TOGGLE, function(t) {
                            e.emit(i, t)
                        }), this._togglers.push(r)) : r.disable(), this.addChild(r), r
                    }
                }, {
                    key: "enable",
                    value: function() {
                        this._togglers.forEach(function(t) {
                            t.enable()
                        })
                    }
                }, {
                    key: "disable",
                    value: function() {
                        this._togglers.forEach(function(t) {
                            t.disable()
                        })
                    }
                }, {
                    key: "disableGambleSetting",
                    value: function() {
                        return this._gambleToggle.disable(), this
                    }
                }, {
                    key: "enableGambleSetting",
                    value: function() {
                        return this._gambleToggle.enable(), this
                    }
                }, {
                    key: "disableTurboSetting",
                    value: function() {
                        return this._turboToggle.disable(), this
                    }
                }, {
                    key: "enableTurboSetting",
                    value: function() {
                        return this._turboToggle.enable(), this
                    }
                }, {
                    key: "hideBetSetting",
                    value: function() {
                        return this._betButton.visible = !1, this
                    }
                }, {
                    key: "showBetSetting",
                    value: function() {
                        return this._betButton.visible = !0, this
                    }
                }, {
                    key: "hideWinlinesSetting",
                    value: function() {
                        return this._winlinesToggle.visible = !1, this
                    }
                }, {
                    key: "showWinlinesSetting",
                    value: function() {
                        return this._winlinesToggle.visible = !0, this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._togglers = null, this._gambleToggle = null, this._turboToggle = null, this._betButton = null, En.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Bo = {
            FULL: ":full"
        };

    function Fo(t) {
        return (Fo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ho(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Do(t, e) {
        return !e || "object" !== Fo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ko(t) {
        return (Ko = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Uo(t, e) {
        return (Uo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Yo = function(t) {
            function e(t) {
                var n, i = t.style,
                    o = t.setup,
                    r = t.format,
                    a = t.id,
                    s = t.hideMultiplier,
                    u = t.displayScatterGames;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Do(this, Ko(e).call(this)))._style = i, n._setup = o, n._format = r, n.id = a, n._hideMultiplier = s, n._displayScatterGames = u, n.higherToLower = !0, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Uo(t, e)
                }(e, io["a"]),
                function(t, e, n) {
                    e && Ho(t.prototype, e), n && Ho(t, n)
                }(e, [{
                    key: "updatePaytable",
                    value: function(t, e) {
                        return this._paytable = t.concat(), this._updateBet(e), this
                    }
                }, {
                    key: "_updateBet",
                    value: function(t) {
                        var e = this;
                        return this._clearOldText(), this._paytable && (this.higherToLower && this._paytable.reverse(), this._paytable.forEach(function(n, i) {
                            n && e._updatePayout(t, n, i)
                        })), this
                    }
                }, {
                    key: "_updatePayout",
                    value: function(t, e, n) {
                        var i = JSON.parse(JSON.stringify(this._setup)),
                            o = this._createPayout(n, i),
                            r = this._createPayoutContent(t, e, i);
                        return o.setMaxWidth(600), o.setContent(r), o.y = this.children.length * this._setup.lineHeight, this.addChild(o)
                    }
                }, {
                    key: "_createPayout",
                    value: function(t, e) {
                        var n = this.higherToLower ? this._paytable.length - t : t + 1;
                        return e.label = this._hideMultiplier ? "" : "".concat(n, "x"), this._createCreditWidget(e)
                    }
                }, {
                    key: "_createCreditWidget",
                    value: function(t) {
                        return new xn.a({
                            style: this._style,
                            setup: t,
                            format: this._format
                        })
                    }
                }, {
                    key: "_createPayoutContent",
                    value: function(t, e, n) {
                        var i = this._createFormattedPayout(t, e),
                            o = n.blockWidth - n.label.length;
                        if ("center" === this._style.primary.align && this._hideMultiplier) {
                            var r = Math.round(.5 * o),
                                a = Qi.a.padRight(i, r);
                            return Qi.a.padLeft(a, r)
                        }
                        return Qi.a.padLeft(i, o)
                    }
                }, {
                    key: "_createFormattedPayout",
                    value: function(t, e) {
                        return this._displayScatterGames ? "".concat(e, " SG") : Qi.a.formatCredit(t * e, this._format)
                    }
                }, {
                    key: "_clearOldText",
                    value: function() {
                        return this.removeChildren().forEach(function(t) {
                            t.destroy()
                        }), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._style = null, this._setup = null, this._format = null, this._paytable = null, io.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        qo = n(66);

    function Vo(t) {
        return (Vo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zo(t, e) {
        return !e || "object" !== Vo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qo(t) {
        return (Qo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jo(t, e) {
        return (Jo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $o = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = zo(this, Qo(e).call(this, t, n, i)))._layoutAdjuster.adjustStyle(o._config.paytable.style), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jo(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && Xo(t.prototype, e), n && Xo(t, n)
            }(e, [{
                key: "createBackground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getPaytableBackground(),
                        scatter: this._assets.getScatterPaytableBackground()
                    };
                    if (this._assets.getUsesFullwidthBackground()) {
                        var n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                        return this._layoutAdjuster.centerAtMain(n)
                    }
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createMultiplierContainers",
                value: function() {
                    var t = this,
                        e = this._config.paytable,
                        n = [];
                    return e.symbols.forEach(function(i) {
                        if (!i.isSameAs) {
                            if (i.displayScatterGames) {
                                var o = t._createScatterGamesContainer({
                                    config: e,
                                    symbol: i,
                                    hideMultiplier: i.hideMultiplier
                                });
                                n.push(o)
                            } else {
                                var r = t._createMultiplierContainer({
                                    config: e,
                                    symbol: i,
                                    hideMultiplier: i.hideMultiplier
                                });
                                n.push(r)
                            }
                            if (i.full) {
                                var a = t._createFullContainer(e, i);
                                n.push(a)
                            }
                        }
                    }), n
                }
            }, {
                key: "_createMultiplierContainer",
                value: function(t) {
                    var e = t.config,
                        n = t.symbol,
                        i = t.hideMultiplier,
                        o = t.displayScatterGames,
                        r = n.style ? n.style : e.style,
                        a = n.setup ? n.setup : e.setup,
                        s = n.format ? n.format : e.format,
                        u = new Yo({
                            style: r,
                            setup: a,
                            format: s,
                            id: n.id,
                            hideMultiplier: i,
                            displayScatterGames: o
                        });
                    return u.x = n.x, u.y = n.y, u.rotation = n.rotation || 0, this._adjustToMain(u), u
                }
            }, {
                key: "_createFullContainer",
                value: function(t, e) {
                    var n = {
                        id: "".concat(e.id).concat(Bo.FULL),
                        x: e.full.x,
                        y: e.full.y,
                        style: e.full.style,
                        setup: e.full.setup
                    };
                    return this._createMultiplierContainer({
                        config: t,
                        symbol: n,
                        hideMultiplier: !0
                    })
                }
            }, {
                key: "_createScatterGamesContainer",
                value: function(t) {
                    var e = t.config,
                        n = t.symbol,
                        i = t.hideMultiplier,
                        o = {
                            id: "".concat(n.id, ":scatterGames"),
                            x: n.x,
                            y: n.y
                        };
                    return this._createMultiplierContainer({
                        config: e,
                        symbol: o,
                        hideMultiplier: i,
                        displayScatterGames: !0
                    })
                }
            }, {
                key: "createInfoLabels",
                value: function() {
                    var t = this,
                        e = this._config.paytable,
                        n = [];
                    return e.infos && e.infos.forEach(function(i) {
                        var o = new qo.a(e.style.info, i);
                        o.setContent(i.text), o.x = i.x, o.y = i.y, t._adjustToMain(o), n.push(o)
                    }), n
                }
            }]), e
    }();

    function Zo(t) {
        return (Zo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function tr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function er(t, e) {
        return !e || "object" !== Zo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function nr(t) {
        return (nr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ir(t, e) {
        return (ir = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var or = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = er(this, nr(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ir(t, e)
            }(e, En["a"]),
            function(t, e, n) {
                e && tr(t.prototype, e), n && tr(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._createWorkshop();
                    this.addChild(e.createBackground(this._model));
                    var n = e.createMultiplierContainers();
                    this._multiplierBySymbol = {}, n.forEach(function(e) {
                        t._multiplierBySymbol[e.id] = e, t.addChild(e)
                    }), e.createInfoLabels().forEach(function(e) {
                        return t.addChild(e)
                    }), this._model.on(Vi.PAYTABLE_CHANGE, this._handlePaytableChange, this), this._model.on(Vi.BET_CHANGE, this._handleBetChange, this), this._model.on(Vi.SELECTED_WINLINES_COUNT_CHANGE, this._handleBetChange, this)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new $o(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_handlePaytableChange",
                value: function(t, e) {
                    for (var n in e)
                        if (e.hasOwnProperty(n) && this._multiplierBySymbol[n]) {
                            var i = e.scatters.indexOf(Number(n)) > -1,
                                o = n.indexOf(Bo.FULL) > 0,
                                r = i || o ? 1 : this._model.selectedWinlinesCount,
                                a = this._model.bet / r;
                            this._multiplierBySymbol[n].updatePaytable(e[n], a)
                        }
                }
            }, {
                key: "_handleBetChange",
                value: function(t, e) {
                    this._model.paytable && this._handlePaytableChange(t, this._model.paytable)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._multiplierBySymbol = null, En.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function rr(t) {
        return (rr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ar(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function sr(t, e) {
        return !e || "object" !== rr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ur(t) {
        return (ur = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function lr(t, e) {
        return (lr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var cr = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = sr(this, ur(e).call(this, t, n)))._layout = i._config.controls.tilesheetLayout, i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && lr(t, e)
            }(e, Rn["a"]),
            function(t, e, n) {
                e && ar(t.prototype, e), n && ar(t, n)
            }(e, [{
                key: "createBack",
                value: function() {
                    var t = this._assets.getSettingsMainControls(),
                        e = this._createFromTilesheet({
                            baseTexture: t,
                            frameWidth: this._layout.button.width
                        }),
                        n = this._createFromTilesheet({
                            baseTexture: t,
                            frameX: this._layout.button.width
                        }),
                        i = this._createButton({
                            up: e,
                            down: n
                        });
                    return i.x = this._layout.margin.left, i.y = this._layout.margin.top, i
                }
            }]), e
    }();

    function hr(t) {
        return (hr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _r(t, e) {
        return !e || "object" !== hr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yr(t) {
        return (yr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function dr(t, e) {
        return (dr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pr = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = _r(this, yr(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && dr(t, e)
            }(e, Bn["a"]),
            function(t, e, n) {
                e && fr(t.prototype, e), n && fr(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._addComponent({
                            creator: t.createControlsBackground.bind(t)
                        });
                    return this._adjustBackground(e), this._addComponent({
                        creator: t.createBack.bind(t),
                        eventToDispatch: Yi.BACK
                    }), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new cr(this._config, this._assets)
                }
            }]), e
    }();

    function mr(t) {
        return (mr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function vr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function gr(t, e) {
        return !e || "object" !== mr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function br(t) {
        return (br = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Sr(t, e) {
        return (Sr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var wr = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), gr(this, br(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Sr(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && vr(t.prototype, e), n && vr(t, n)
            }(e, [{
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, pr)
                }
            }, {
                key: "createBetSettings",
                value: function(t) {
                    var e = new vo({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.visible = !1, this._layoutAdjuster.centerAtMain(e), e
                }
            }, {
                key: "createPaytable",
                value: function(t) {
                    var e = new or({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.visible = !1, this._adjustBackgroundToMain(e), e
                }
            }, {
                key: "createGeneralSettings",
                value: function(t) {
                    var e = new Mo({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._layoutAdjuster.centerAtMain(e), e
                }
            }, {
                key: "createHelp",
                value: function(t) {
                    var e = {
                        regular: this._assets.getHelpBackground(),
                        scatter: this._assets.getScatterHelpBackground()
                    };
                    if (this._assets.getUsesFullwidthBackground()) {
                        var n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                        return this._layoutAdjuster.centerAtMain(n), n.visible = !1, this._adjustBackgroundToMain(n), n
                    }
                    var i = this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    });
                    return i.visible = !1, this._adjustBackgroundToMain(i), i
                }
            }]), e
    }();

    function kr(t) {
        return (kr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Er(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Tr(t, e) {
        return !e || "object" !== kr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Cr(t) {
        return (Cr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Or(t, e) {
        return (Or = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ar = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Tr(this, Cr(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Or(t, e)
                }(e, wn["a"]),
                function(t, e, n) {
                    e && Er(t.prototype, e), n && Er(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t);
                        return e(t.createGlobalBackground, this._addFullscreenRequester), this._createControlsAdder(t)(t.createControls, this._prepareControls), this._paytable = e(t.createPaytable), this._help = e(t.createHelp), this._betSettings = e(t.createBetSettings, this._prepareBetSettings), this._generalSettings = e(t.createGeneralSettings, this._prepareGeneralSettings), this._model.on(Vi.STATUS_CHANGE, this._handleChangeStatus, this), this._model.on(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections, this), this._updateWinlinesSetting(this._model.winlineSelections), this._model.on(Vi.IS_IN_SCATTER_CHANGE, this._handleChangeIsInScatter, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new wr(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareBetSettings",
                    value: function(t) {
                        var e = this;
                        [Yi.CHANGE_BET, Yi.BACK].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_prepareGeneralSettings",
                    value: function(t) {
                        var e = this;
                        [Yi.CHANGE_LANGUAGE_SETTING, Yi.CHANGE_AUDIO_SETTING, Yi.CHANGE_TURBO_SETTING, Yi.CHANGE_GAMBLE_SETTING, Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING, Yi.CHANGE_WINLINES_SETTING, Yi.BET_SETTINGS, Yi.PAYTABLE, Yi.GENERAL_SETTINGS, Yi.HELP].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_prepareControls",
                    value: function(t) {
                        var e = this;
                        [Yi.BACK, Sn.a.REQUEST_FULLSCREEN].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        this._betSettings.visible = e === Gi.BET_SETTINGS, this._paytable.visible = e === Gi.PAYTABLE, this._generalSettings.visible = e === Gi.GENERAL_SETTINGS, this._help.visible = e === Gi.HELP
                    }
                }, {
                    key: "_handleChangeWinlineSelections",
                    value: function(t, e) {
                        this._updateWinlinesSetting(e)
                    }
                }, {
                    key: "_updateWinlinesSetting",
                    value: function(t) {
                        t && t.length > 1 && !this._model.isInScatter ? this.showWinlinesSetting() : this.hideWinlinesSetting()
                    }
                }, {
                    key: "_handleChangeIsInScatter",
                    value: function(t, e) {
                        e ? (this.hideBetSetting(), this.hideWinlinesSetting()) : (this.showBetSetting(), this._model.winlineSelections.length > 1 && this.showWinlinesSetting())
                    }
                }, {
                    key: "disableControls",
                    value: function() {
                        return this._betSettings.disable(), this._generalSettings.disable(), wn.a.prototype.disableControls.call(this)
                    }
                }, {
                    key: "enableControls",
                    value: function() {
                        return this._betSettings.enable(), this._generalSettings.enable(), wn.a.prototype.enableControls.call(this)
                    }
                }, {
                    key: "disableGambleSetting",
                    value: function() {
                        return this._generalSettings.disableGambleSetting(), this
                    }
                }, {
                    key: "enableGambleSetting",
                    value: function() {
                        return this._generalSettings.enableGambleSetting(), this
                    }
                }, {
                    key: "disableTurboSetting",
                    value: function() {
                        return this._generalSettings.disableTurboSetting(), this
                    }
                }, {
                    key: "enableTurboSetting",
                    value: function() {
                        return this._generalSettings.enableTurboSetting(), this
                    }
                }, {
                    key: "hideBetSetting",
                    value: function() {
                        return this._generalSettings.hideBetSetting(), this
                    }
                }, {
                    key: "showBetSetting",
                    value: function() {
                        return this._generalSettings.showBetSetting(), this
                    }
                }, {
                    key: "hideWinlinesSetting",
                    value: function() {
                        return this._generalSettings.hideWinlinesSetting(), this
                    }
                }, {
                    key: "showWinlinesSetting",
                    value: function() {
                        return this._generalSettings.showWinlinesSetting(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._paytable = null, this._help = null, this._betSettings = null, this._generalSettings = null, wn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Pr = n(19);

    function Ir(t) {
        return (Ir = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Rr(t, e) {
        return !e || "object" !== Ir(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Wr(t) {
        return (Wr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Nr(t, e) {
        return (Nr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var jr = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Rr(this, Wr(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Nr(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && xr(t.prototype, e), n && xr(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._updateSettings(), this._addViewListeners(), this._model.on(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections, this), this
                    }
                }, {
                    key: "_updateSettings",
                    value: function() {
                        this._updateSetting({
                            retriever: Pr.a.retrieveAudioSetting,
                            validSettings: [Bi.FULL, Bi.HALF, Bi.OFF],
                            defaultSetting: this._volumeToSetting(this._soundPlayer.getVolume()),
                            changeHandler: this._handleChangeAudioSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveGambleSetting,
                            validSettings: [Ui.OFF, Ui.ON],
                            defaultSetting: Ui.ON,
                            changeHandler: this._handleChangeGambleSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveTurboSetting,
                            validSettings: [Di.OFF, Di.ON],
                            defaultSetting: Di.OFF,
                            changeHandler: this._handleChangeTurboSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveControlsAlignmentSetting,
                            validSettings: [Fi.LEFT, Fi.RIGHT],
                            defaultSetting: Fi.RIGHT,
                            changeHandler: this._handleChangeControlsAlignmentSetting
                        })
                    }
                }, {
                    key: "_updateSetting",
                    value: function(t) {
                        var e = t.retriever,
                            n = t.validSettings,
                            i = t.defaultSetting,
                            o = t.changeHandler,
                            r = e.call();
                        return r = n.indexOf(r) > -1 ? r : i, o.call(this, r), r
                    }
                }, {
                    key: "_addViewListeners",
                    value: function() {
                        return this._addTabListener(), this._addSettingsChangeListener(), this
                    }
                }, {
                    key: "_addTabListener",
                    value: function() {
                        var t = this;
                        return this._view.on(Yi.BACK, this._createBackHandler(), this), this._view.on(Yi.PAYTABLE, function() {
                            t._model.status = Gi.PAYTABLE
                        }), this._view.on(Yi.BET_SETTINGS, function() {
                            t._model.status = Gi.BET_SETTINGS
                        }), this._view.on(Yi.HELP, function() {
                            t._model.status = Gi.HELP
                        }), this
                    }
                }, {
                    key: "_addSettingsChangeListener",
                    value: function() {
                        return this._view.on(Yi.CHANGE_LANGUAGE_SETTING, this._handleChangeLanguageSetting, this), this._view.on(Yi.CHANGE_AUDIO_SETTING, this._handleChangeAudioSetting, this), this._view.on(Yi.CHANGE_TURBO_SETTING, this._handleChangeTurboSetting, this), this._view.on(Yi.CHANGE_GAMBLE_SETTING, this._handleChangeGambleSetting, this), this._view.on(Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING, this._handleChangeControlsAlignmentSetting, this), this._view.on(Yi.CHANGE_WINLINES_SETTING, this._handleChangeWinlinesSetting, this), this._view.on(Yi.CHANGE_BET, this._handleChangeBetSetting, this), this
                    }
                }, {
                    key: "_volumeToSetting",
                    value: function(t) {
                        return t >= 1 ? Bi.FULL : t > 0 ? Bi.HALF : Bi.OFF
                    }
                }, {
                    key: "_createBackHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            eventToEmit: Yi.BACK,
                            nextStatus: Gi.GENERAL_SETTINGS
                        })
                    }
                }, {
                    key: "_handleChangeLanguageSetting",
                    value: function(t) {
                        this._model.language = t
                    }
                }, {
                    key: "_handleChangeAudioSetting",
                    value: function(t) {
                        this._changeAudio(t), this._updateAudioSettingAtModel(t)
                    }
                }, {
                    key: "_changeAudio",
                    value: function(t) {
                        switch (t) {
                            case Bi.OFF:
                                this._soundPlayer.mute();
                                break;
                            case Bi.HALF:
                                this._soundPlayer.setHalfVolume();
                                break;
                            case Bi.FULL:
                                this._soundPlayer.setFullVolume()
                        }
                        return t
                    }
                }, {
                    key: "_updateAudioSettingAtModel",
                    value: function(t) {
                        return this._model.audio = t, Pr.a.storeAudioSetting(t), t
                    }
                }, {
                    key: "_handleChangeTurboSetting",
                    value: function(t) {
                        return this._model.turbo = t, Pr.a.storeTurboSetting(t), t
                    }
                }, {
                    key: "_handleChangeGambleSetting",
                    value: function(t) {
                        return this._model.gamble = t, Pr.a.storeGambleSetting(t), t
                    }
                }, {
                    key: "_handleChangeControlsAlignmentSetting",
                    value: function(t) {
                        return this._model.controlsAlignment = t, Pr.a.storeControlsAlignmentSetting(t), t
                    }
                }, {
                    key: "_handleChangeWinlinesSetting",
                    value: function(t) {
                        return this._model.winlines = t, t
                    }
                }, {
                    key: "_handleChangeBetSetting",
                    value: function(t) {
                        return this._soundPlayer.playRisk(), this._model.bet = t, this
                    }
                }, {
                    key: "_handleChangeWinlineSelections",
                    value: function(t, e) {
                        this._config.useSelectableWinlines || (this._model.off(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections), this._model.winlineSelections = e.slice(0, 1));
                        var n = this._model.winlineSelections.indexOf(this._model.selectedWinlinesCount) > 0;
                        this._model.winlines = n ? Ki.HIGH_COUNT : Ki.LOW_COUNT
                    }
                }, {
                    key: "update",
                    value: function() {}
                }, {
                    key: "updateGambleSetting",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            enabled: !0
                        }).enabled;
                        return t ? this._view.enableGambleSetting() : (this._handleChangeGambleSetting(Ui.OFF), this._view.disableGambleSetting()), t
                    }
                }, {
                    key: "updateTurboSetting",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            enabled: !0
                        }).enabled;
                        return t ? this._view.enableTurboSetting() : (this._handleChangeTurboSetting(Di.OFF), this._view.disableTurboSetting()), t
                    }
                }, {
                    key: "changeToBetSettings",
                    value: function() {
                        this._model.status = Gi.BET_SETTINGS
                    }
                }]), e
        }(),
        Lr = n(20);

    function Gr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Mr = function() {
        function t(e, n, i, o) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._soundPlayerWorkshop = o, this._layoutAdjuster = i, this.SlotModelImplementation = _, this.SlotViewImplementation = y.a, this.SlotControllerImplementation = vn, this.GambleModelImplementation = bn, this.GambleViewImplementation = oi, this.GambleControllerImplementation = hi, this.AgModelImplementation = fi, this.AgViewImplementation = mi, this.AgControllerImplementation = vi, this.PreloadModelImplementation = gi, this.PreloadViewImplementation = Ri, this.PreloadControllerImplementation = Mi, this.SettingsModelImplementation = qi, this.SettingsControllerImplementation = jr, this.SettingsViewImplementation = Ar, this._init()
        }
        return function(t, e, n) {
            e && Gr(t.prototype, e), n && Gr(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                return this._soundPlayer = this._soundPlayerWorkshop.create(), this
            }
        }, {
            key: "_createMode",
            value: function(t) {
                var e = t.Model,
                    n = t.View,
                    i = t.Controller,
                    o = t.config,
                    r = t.type,
                    a = new e,
                    s = new n({
                        model: a,
                        config: o,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    }),
                    u = new i({
                        model: a,
                        view: s,
                        config: o,
                        soundPlayer: this._soundPlayer
                    });
                return new l({
                    model: a,
                    view: s,
                    controller: u,
                    type: r
                })
            }
        }, {
            key: "createSlot",
            value: function() {
                return this._createMode({
                    Model: this.SlotModelImplementation,
                    View: this.SlotViewImplementation,
                    Controller: this.SlotControllerImplementation,
                    config: this._config.slot,
                    type: Lr.a.SLOT
                })
            }
        }, {
            key: "createGamble",
            value: function() {
                return this._createMode({
                    Model: this.GambleModelImplementation,
                    View: this.GambleViewImplementation,
                    Controller: this.GambleControllerImplementation,
                    config: this._config.gamble,
                    type: Lr.a.GAMBLE
                })
            }
        }, {
            key: "createAg",
            value: function() {
                return this._createMode({
                    Model: this.AgModelImplementation,
                    View: this.AgViewImplementation,
                    Controller: this.AgControllerImplementation,
                    config: this._config.ag,
                    type: Lr.a.AG
                })
            }
        }, {
            key: "createPreload",
            value: function() {
                return this._createMode({
                    Model: this.PreloadModelImplementation,
                    View: this.PreloadViewImplementation,
                    Controller: this.PreloadControllerImplementation,
                    config: this._config.preload,
                    type: Lr.a.PRELOAD
                })
            }
        }, {
            key: "createSettings",
            value: function() {
                return this._createMode({
                    Model: this.SettingsModelImplementation,
                    View: this.SettingsViewImplementation,
                    Controller: this.SettingsControllerImplementation,
                    config: this._config.settings,
                    type: Lr.a.SETTINGS
                })
            }
        }]), t
    }();

    function Br(t) {
        return (Br = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Fr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Hr(t, e) {
        return !e || "object" !== Br(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Dr(t) {
        return (Dr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Kr(t, e) {
        return (Kr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ur = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Hr(this, Dr(e).call(this)))._remoteInterface = t, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Kr(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && Fr(t.prototype, e), n && Fr(t, n)
                }(e, [{
                    key: "connect",
                    value: function() {}
                }, {
                    key: "spin",
                    value: function() {}
                }]), e
        }(),
        Yr = {
            CONNECT: "serverEvent.connect",
            CONNECT_ERROR: "serverEvent.connectError",
            SPIN: "serverEvent.spin",
            SPIN_ERROR: "serverEvent.spinError",
            GET_GAMBLE_INFO: "serverEvent.getGambleInfo",
            GET_GAMBLE_INFO_ERROR: "serverEvent.getGambleInfoError",
            GAMBLE: "serverEvent.gamble",
            GAMBLE_ERROR: "serverEvent.gambleError",
            TAKE: "serverEvent.take",
            TAKE_ERROR: "serverEvent.takeError",
            CLOSE: "serverEvent.close",
            WAITING: "serverEvent.waiting",
            POTS_UPDATE: "serverEvent.potsUpdate",
            POTS_HIT: "serverEvent.potsHit",
            GET_JACKPOT_CONFIG: "serverEvent.getJackpotConfig",
            GET_JACKPOT_CONFIG_ERROR: "serverEvent.getJackpotConfigError",
            GET_CREDITS: "serverEvent.getCredits",
            GET_CREDITS_ERROR: "serverEvent.getCreditsError"
        };

    function qr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Vr = function() {
        function t() {
            var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                usePreparedResults: !0
            }).usePreparedResults;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._usePreparedResults = e, this._availableWinlines = [
                [{
                    x: 1,
                    y: 1
                }, {
                    x: 2,
                    y: 1
                }, {
                    x: 3,
                    y: 1
                }, {
                    x: 4,
                    y: 1
                }, {
                    x: 5,
                    y: 1
                }],
                [{
                    x: 1,
                    y: 2
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 2
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 2
                }],
                [{
                    x: 1,
                    y: 3
                }, {
                    x: 2,
                    y: 3
                }, {
                    x: 3,
                    y: 3
                }, {
                    x: 4,
                    y: 3
                }, {
                    x: 5,
                    y: 3
                }],
                [{
                    x: 1,
                    y: 1
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 3
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 1
                }],
                [{
                    x: 1,
                    y: 3
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 1
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 3
                }]
            ], this._cardHistory = [], this.DummyResultsImplementation = null
        }
        return function(t, e, n) {
            e && qr(t.prototype, e), n && qr(t, n)
        }(t, [{
            key: "generateConnectResponse",
            value: function() {
                return {
                    reels: this._generateRandomReels(),
                    winlineWins: []
                }
            }
        }, {
            key: "_generateRandomReels",
            value: function() {
                for (var t = [], e = 0; e < 5; e++) t.push({
                    symbols: this._generateRandomSymbols(e)
                });
                return t
            }
        }, {
            key: "_generateRandomSymbols",
            value: function(t) {
                for (var e = [], n = 7 + 3 * t, i = 0; i < n; i++) {
                    var o = Math.ceil(8 * Math.random()).toString();
                    e.push({
                        id: o
                    })
                }
                return e
            }
        }, {
            key: "getWinlinePositions",
            value: function() {
                return this.DummyResultsImplementation ? this.DummyResultsImplementation.winlinePositions : (console.log("Warning: No concrete dummy results implementation found, using default winlines"), this._availableWinlines)
            }
        }, {
            key: "generateSpinResponse",
            value: function() {
                if (this.DummyResultsImplementation && this._usePreparedResults) {
                    var t = this.DummyResultsImplementation.next();
                    return {
                        special: t.special,
                        reels: t.reels,
                        winlineWins: t.winlineWins,
                        scatterWin: t.scatterWin
                    }
                }
                if (!this.DummyResultsImplementation && this._usePreparedResults) throw Error("DummyResultsImplementation missing!");
                return {
                    reels: this._generateRandomReels(),
                    winlineWins: [this._generateSpinWin()],
                    scatterWin: {}
                }
            }
        }, {
            key: "_generateSpinWin",
            value: function() {
                var t = Math.floor(Math.random() * this._availableWinlines.length);
                return {
                    credits: 10,
                    actionGames: 0,
                    positions: this._availableWinlines[t]
                }
            }
        }, {
            key: "generateCardHistoryResponse",
            value: function() {
                if ((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        next: !1
                    }).next) {
                    var t = this._cardHistory.length % 4;
                    this._cardHistory.push(t)
                }
                return {
                    cardHistory: this._cardHistory.slice(-6)
                }
            }
        }]), t
    }();

    function Xr(t) {
        return (Xr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function zr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Qr(t, e) {
        return !e || "object" !== Xr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Jr(t) {
        return (Jr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $r(t, e) {
        return ($r = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Zr = function(t) {
            function e(t) {
                var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        latenzy: 0,
                        fuzz: 0
                    },
                    o = i.latency,
                    r = i.fuzz;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Qr(this, Jr(e).call(this)))._gameId = t, n._latency = o || 0, n._fuzz = r || 0, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && $r(t, e)
                }(e, Ur),
                function(t, e, n) {
                    e && zr(t.prototype, e), n && zr(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._credits = 1e5, this._bet = 100, this._winnings = 0, this._responseGenerator = this._createResponseGenerator(), this
                    }
                }, {
                    key: "_createResponseGenerator",
                    value: function() {
                        return new Vr
                    }
                }, {
                    key: "connect",
                    value: function() {
                        this._emitServerResponse(this._emitConnect)
                    }
                }, {
                    key: "_emitServerResponse",
                    value: function(t) {
                        var e = this;
                        if (this._latency) {
                            var n = this._latency + Math.floor(Math.random() * this._fuzz);
                            console.log("DummyServer latency ".concat(n)), setTimeout(function() {
                                t.call(e)
                            }, n)
                        } else t.call(this)
                    }
                }, {
                    key: "_emitConnect",
                    value: function() {
                        var t = this._responseGenerator.generateConnectResponse(),
                            e = this._responseGenerator.getWinlinePositions();
                        t.setup = {
                            availableWinlines: e
                        }, t.credits = this._credits, t.bet = this._bet, t.betSteps = [100, 200, 300, 500, 1e3, 1500], this.emit(Yr.CONNECT, t)
                    }
                }, {
                    key: "spin",
                    value: function(t) {
                        this._credits -= t || this._bet, this._emitServerResponse(this._emitSpin)
                    }
                }, {
                    key: "_emitSpin",
                    value: function() {
                        var t = this,
                            e = this._responseGenerator.generateSpinResponse();
                        e.winlineWins && e.winlineWins.forEach(function(e) {
                            t._winnings += e.credits || 0
                        }), e.scatterWin && (this._winnings += e.scatterWin.credits || 0), e.credits = this._credits, this.emit(Yr.SPIN, e)
                    }
                }, {
                    key: "getGambleInfo",
                    value: function() {
                        this._emitServerResponse(this._emitGetGambleInfo)
                    }
                }, {
                    key: "_emitGetGambleInfo",
                    value: function() {
                        var t = this._responseGenerator.generateCardHistoryResponse();
                        t = this._updateGambleCredits(t), this.emit(Yr.GET_GAMBLE_INFO, t)
                    }
                }, {
                    key: "_updateGambleCredits",
                    value: function(t) {
                        return t.stake = this._winnings, t.chance = 2 * this._winnings, t.credits = this._credits, t.win = this._winnings, t
                    }
                }, {
                    key: "take",
                    value: function() {
                        this._emitServerResponse(this._emitTake)
                    }
                }, {
                    key: "_emitTake",
                    value: function() {
                        this._credits += this._winnings, this._winnings = 0;
                        var t = {
                            credits: this._credits
                        };
                        this.emit(Yr.TAKE, t)
                    }
                }, {
                    key: "gamble",
                    value: function(t, e) {
                        var n = this;
                        this._emitServerResponse(function() {
                            n._emitGamble(t, e)
                        })
                    }
                }, {
                    key: "_emitGamble",
                    value: function(t, e) {
                        var n = this._responseGenerator.generateCardHistoryResponse({
                                next: !0
                            }),
                            i = t % 2 == n.cardHistory.slice(-1) % 2;
                        this._winnings = i ? this._winnings + e : 0, n = this._updateGambleCredits(n), this.emit(Yr.GAMBLE, n)
                    }
                }, {
                    key: "logout",
                    value: function() {
                        console.log("Dummy logout triggered")
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        console.log("Dummy destroy triggered")
                    }
                }]), e
        }(),
        ta = {
            LOGIN: "LOGIN",
            LOGOUT: "LOGOUT",
            SELGAME: "SELGAME",
            QUITGAME: "QUITGAME",
            CHECK: "CHECK",
            QRY_CHECK: "QRY_CHECK",
            GA_RESYNC: "GA_RESYNC",
            GA_SPIN: "GA_SPIN",
            GA_TAKE: "GA_TAKE",
            GA_GAMBLE: "GA_GAMBLE",
            GA_TRUECRED: "GA_TRUECRED",
            GETJPCFG: "GETJPCFG",
            QRY_OPSITJP: "QRY_OPSITJP"
        },
        ea = {
            RED: "1",
            BLACK: "2",
            HEARTS: "6",
            DIAMONDS: "7",
            SPADES: "8",
            CLUBS: "9",
            ACE_OF_HEARTS: "30",
            ACE_OF_DIAMONDS: "46",
            ACE_OF_SPADES: "62",
            ACE_OF_CLUBS: "78"
        },
        na = {
            TO: {
                0: ea.ACE_OF_SPADES,
                1: ea.ACE_OF_HEARTS,
                2: ea.ACE_OF_CLUBS,
                3: ea.ACE_OF_DIAMONDS
            },
            TO_COLORS: {
                0: ea.BLACK,
                1: ea.RED,
                2: ea.BLACK,
                3: ea.RED
            },
            TO_SUITS: {
                0: ea.SPADES,
                1: ea.HEARTS,
                2: ea.CLUBS,
                3: ea.DIAMONDS
            },
            FROM: {
                0: null,
                62: "0",
                30: "1",
                78: "2",
                46: "3"
            }
        },
        ia = {
            OK: "OK",
            ERR: "ERR"
        },
        oa = n(14),
        ra = {
            LOGIN_OK: "loginOK",
            LOGIN_ERROR: "loginError",
            SELECT_GAME_OK: "selectGameOK",
            SELECT_GAME_ERROR: "selectGameError",
            SPIN_OK: "spinOK",
            SPIN_ERROR: "spinError",
            TAKE_OK: "takeOK",
            TAKE_ERROR: "takeError",
            LOGOUT_OK: "logoutOK",
            LOGOUT_ERROR: "logoutError",
            GAMBLE_OK: "gambleOK",
            GAMBLE_ERROR: "gambleError",
            RECONNECT_OK: "reconnectOK",
            RECONNECT_ERROR: "reconnectError",
            RESYNC_OK: "resyncOK",
            RESYNC_ERROR: "resyncError",
            GET_JACKPOT_CONFIG_OK: "getJackpotConfigOK",
            GET_JACKPOT_CONFIG_ERROR: "getJackpotConfigError",
            GET_CREDITS_OK: "getCreditsOK",
            GET_CREDITS_ERROR: "getCreditsError"
        },
        aa = {
            GAME_DONE: 0,
            WAIT_FOR_TAKE: 1,
            WAIT_FOR_GAMBLE_OR_TAKE: 2,
            GAMBLING: 3,
            GAMBLING_DONE: 4
        },
        sa = {
            STICKY: 1,
            RESERVE: 2,
            X1: 4,
            X2: 8,
            X3: 12,
            WIN: 16,
            QUERY: 32,
            INACTIVE: 64,
            HIGH_WIN: 128
        },
        ua = {
            MULTI_WINLINE: 101,
            DEVILS_BRIDE: 7,
            WIZARD: 6,
            ELVIS: 3,
            PHARAO: 1
        };

    function la(t, e) {
        return function(t) {
            if (Array.isArray(t)) return t
        }(t) || function(t, e) {
            var n = [],
                i = !0,
                o = !1,
                r = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
            } catch (t) {
                o = !0, r = t
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function ca(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ha = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._gtypeMap = e
        }
        return function(t, e, n) {
            e && ca(t.prototype, e), n && ca(t, n)
        }(t, [{
            key: "fromSelGameResponse",
            value: function(t) {
                var e = {};
                this._addWinlinesSetup(e, t), this._addBet(e, t), this._addBetSteps(e, t), this._addActiveWinlinesCount(e, t), this._addCredits(e, t), this._addPaytableSetup(e, t), this._addSelgameSymbols(e, t), this._addGameType(e, t), this._addAction(e, t), this._addWinBonus(e, t), this._addScatterGames(e, t, 1), this._addScatterWin(e, t);
                var n = this._extractAvailableWinlines(t, e.setup.availableWinlinesContainer);
                return this._addWinlineWins(e, t, n.length), this._addGambleHistory(e, t), this._addGambleInfo(e, t), this._addSpecialWin(e, t, n), this._addStickySymbols(e, t), this._addSpecialSymbol(e, t), e
            }
        }, {
            key: "_addWinlinesSetup",
            value: function(t, e) {
                var n = this;
                return t.setup = t.setup || {}, t.setup.availableWinlinesContainer = t.setup.availableWinlinesContainer || {}, e.gtypes.forEach(function(e) {
                    n._processGtype(t, e)
                }), t
            }
        }, {
            key: "_processGtype",
            value: function(t, e) {
                this._getGameType(e.gtype) === h.a.REGULAR && (t.winlineSelections = e.multiwl ? e.multiwl.map(function(t) {
                    return t[Object.keys(t)[0]] || []
                }).map(function(t) {
                    return t.length
                }).sort(function(t, e) {
                    return t - e
                }) : []), this._addWinlinesFromGtype(t.setup.availableWinlinesContainer, e)
            }
        }, {
            key: "_getGameType",
            value: function(t) {
                return this._isScatterGame(t) ? h.a.SCATTER : h.a.REGULAR
            }
        }, {
            key: "_isScatterGame",
            value: function(t) {
                return !(!this._gtypeMap || !this._gtypeMap.scatter) && this._gtypeMap.scatter.indexOf(t) > -1
            }
        }, {
            key: "_addWinlinesFromGtype",
            value: function(t, e) {
                var n = this,
                    i = this._getGameType(e.gtype),
                    o = e.eval_wlines || e.wlines;
                !t[i] && o && (t[i] = o.map(function(t) {
                    return n._mapWinline(t)
                }))
            }
        }, {
            key: "_mapWinline",
            value: function(t) {
                return t.pos.map(function(t, e) {
                    return {
                        x: e + 1,
                        y: t
                    }
                })
            }
        }, {
            key: "_addSelgameSymbols",
            value: function(t, e) {
                var n = this,
                    i = e.scr.map(function(t, i) {
                        t.reverse();
                        var o = [e.prevsym[i]].concat(t, e.nextsym[i]).reverse();
                        return {
                            symbols: n._fromPlainSymbolIds(o, e.specsym, e.action)
                        }
                    });
                return t.reels = e.specsym ? this._mapSpecialTransform(e, i) : i, t
            }
        }, {
            key: "_mapSpecialTransform",
            value: function(t, e) {
                var n = this._calculateSpecialCount(e),
                    i = this._calculateRequiredSymbolCount(t, t.specsym);
                return i && n >= i && e.forEach(function(t) {
                    t.symbols = t.symbols.map(function(t) {
                        return t.id = t.specialTransformTo || t.id, t
                    })
                }), e
            }
        }, {
            key: "_calculateSpecialCount",
            value: function(t) {
                return t.reduce(function(t, e) {
                    var n = t;
                    return e.symbols.forEach(function(t) {
                        t.isSpecial && (n += 1)
                    }), n
                }, 0)
            }
        }, {
            key: "_calculateRequiredSymbolCount",
            value: function(t, e) {
                var n = t.gtypes.filter(function(e) {
                        return e.gtype === t.gtype
                    }),
                    i = n.length ? n[0] : {};
                i.paysyms = i.paysyms || t.gtypes[0].paysyms;
                for (var o = i.paysyms.filter(function(t) {
                        return t.sym === e
                    }), r = o.length ? o[0] : {}, a = 1; a <= t.reels; a += 1)
                    if (r["m_".concat(a)]) return a;
                return 0
            }
        }, {
            key: "_addBet",
            value: function(t, e) {
                return t.bet = Number(e.curbet), t
            }
        }, {
            key: "_addBetSteps",
            value: function(t, e) {
                return t.betSteps = e.allowedbets.map(function(t) {
                    return Number(t)
                }), t
            }
        }, {
            key: "_addActiveWinlinesCount",
            value: function(t, e) {
                return t.selectedWinlinesCount = Number(e.curlines), t
            }
        }, {
            key: "_addCredits",
            value: function(t, e) {
                return t.credits = Number(e.credit.tot), t
            }
        }, {
            key: "_fromPlainSymbolIds",
            value: function(t) {
                var e, n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                return t.map(function(r, a) {
                    var s = {
                            id: String(r)
                        },
                        u = Boolean(n._gtypeMap && s.id === String(n._gtypeMap.scatterTrigger)),
                        l = Boolean(u && o && o.aesyms),
                        c = s.id === String(i);
                    return n._isVisibleSymbol(t, a) && (l && (s.isQuery = l), c && (s.isSpecial = c, e = !0)), s
                }).map(function(o, r) {
                    return e && !o.isSpecial && n._isVisibleSymbol(t, r) && (o.specialTransformTo = String(i)), o
                })
            }
        }, {
            key: "_isVisibleSymbol",
            value: function(t, e) {
                return e > 0 && e < t.length - 1
            }
        }, {
            key: "_extractAvailableWinlines",
            value: function(t, e) {
                return e[this._getGameType(t.gtype)] || e[h.a.REGULAR] || []
            }
        }, {
            key: "fromSpinResponse",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = {};
                this._addSpinSymbols(n, t), this._addScatterWin(n, t);
                var i = this._extractAvailableWinlines(t, e);
                return this._addWinlineWins(n, t, i.length), this._addCredits(n, t), this._addSpecialWin(n, t, i), this._addStickySymbols(n, t), this._addSpecialSymbol(n, t), this._addGamblePermissions(n, t), this._addGameType(n, t), this._addAction(n, t), this._addWinBonus(n, t), this._addScatterGames(n, t), n
            }
        }, {
            key: "_addSpinSymbols",
            value: function(t, e) {
                var n = this,
                    i = !1;
                return t.reels = e.reels.map(function(t, o) {
                    var r = t.syms.concat(e.nextsym[o]).reverse();
                    r.pop();
                    var a = {
                        symbols: n._fromPlainSymbolIds(r, e.specsym, e.action),
                        shouldSlowDownNext: Boolean(t.slowafter) && 12 !== t.slowafter,
                        hasEnterSound: Boolean(t.scatsnd),
                        willSlowDown: i
                    };
                    return i = Boolean(t.slowafter), a
                }), t
            }
        }, {
            key: "_addScatterWin",
            value: function(t, e) {
                return e.scatwin && (t.scatterWin = this._toScatterWin(e.scatwin[0]), this._addScreenFlags([t.scatterWin], e)), t
            }
        }, {
            key: "_toScatterWin",
            value: function(t) {
                var e = [];
                return t.spos.forEach(function(t) {
                    var n = la(t, 2),
                        i = n[0],
                        o = n[1];
                    e.push({
                        x: i + 1,
                        y: o + 1
                    })
                }), {
                    credits: Number(t.win),
                    positions: e
                }
            }
        }, {
            key: "_addWinlineWins",
            value: function(t, e, n) {
                var i = e.winlines || e.scatwin || e.specwins,
                    o = e.win && !i;
                return e.winlines ? t.winlineWins = this._toWinlineWins(e.winlines, n) : o && e.scrflaft && (t.winlineWins = this._toFullScreenWin(e, n)), t.winlineWins && this._addScreenFlags(t.winlineWins, e), t
            }
        }, {
            key: "_toWinlineWins",
            value: function(t, e) {
                for (var n = []; n.length < e;) n.push({});
                return t.forEach(function(t) {
                    var e = t.pos.map(function(t, e) {
                        return {
                            x: e + 1,
                            y: t
                        }
                    }).filter(function(t) {
                        return t.y
                    });
                    n[t.n] = {
                        credits: Number(t.win),
                        positions: e
                    }
                }), n
            }
        }, {
            key: "_toFullScreenWin",
            value: function(t, e) {
                for (var n = []; n.length < e;) n.push({});
                var i = [];
                return t.scrflaft.forEach(function(t, e) {
                    t.forEach(function(t, n) {
                        sa.WIN & t && i.push({
                            x: e + 1,
                            y: n + 1
                        })
                    })
                }), n.push({
                    positions: i,
                    credits: t.win
                }), n
            }
        }, {
            key: "_addScreenFlags",
            value: function(t, e) {
                var n = this;
                return t.filter(function(t) {
                    return Boolean(t.positions)
                }).forEach(function(t) {
                    t.positions = t.positions.map(function(t) {
                        var i = t.x - 1,
                            o = t.y - 1,
                            r = n._fromScreenFlags(e.scrflaft, i, o),
                            a = n._fromScreenFlags(e.scrflbef, i, o);
                        return t.flags = n._toFlags(r, a), t
                    })
                }), t
            }
        }, {
            key: "_fromScreenFlags",
            value: function(t, e, n) {
                return t && t.length > e && t[e].length > n ? t[e][n] : 0
            }
        }, {
            key: "_toFlags",
            value: function(t, e) {
                var n = {};
                return (sa.STICKY & t || sa.STICKY & e) && (n.sticky = !0), sa.X1 & t && sa.X2 & ~t && (n.x1 = !0), sa.X2 & t && sa.X1 & ~t && (n.x2 = !0), sa.X1 & t && sa.X2 & t && (n.x3 = !0), sa.QUERY & t && (n.query = !0), sa.INACTIVE & t && (n.inActive = !0), sa.HIGH_WIN & t && (n.highWin = !0), n
            }
        }, {
            key: "_addSpecialWin",
            value: function(t, e) {
                var n = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
                return e.specwins && e.specwins.forEach(function(o) {
                    o.type === ua.MULTI_WINLINE && o.wlmulti && n._addSpecialMultiWinlineWin(t, o), o.type === ua.ELVIS && o.exchg && n._addSymbolTransform(t, o), o.type === ua.DEVILS_BRIDE && o.move && n._addSpecialAfterSpin(t, o), o.type === ua.WIZARD && o.reelpos && (n._addSpecialWinPositions(t, o), n._addSpecialWinWinlines(t, e, i)), o.type === ua.PHARAO && o.reelpos && (n._addSpecialWinPositions(t, o), n._addSpecialWinWinlines(t, e, i))
                }), t
            }
        }, {
            key: "_addSpecialMultiWinlineWin",
            value: function(t, e) {
                return t.special = t.special || {}, t.special.multiplier = e.wlmulti[0].multi, t
            }
        }, {
            key: "_addSymbolTransform",
            value: function(t, e) {
                return e.exchg.forEach(function(e) {
                    t.reels[e.r - 1].symbols[e.v].transformToId = String(e.sym)
                }), t
            }
        }, {
            key: "_addSpecialAfterSpin",
            value: function(t, e) {
                var n = this;
                return e.move.forEach(function(e) {
                    t.reels[e.r - 1].afterSpin = n._toAfterSpin(e)
                }), t
            }
        }, {
            key: "_addSpecialWinPositions",
            value: function(t, e) {
                return t.special = t.special || {}, t.special.positions = e.reelpos.map(function(t, e) {
                    return {
                        x: e + 1,
                        y: t
                    }
                }).filter(function(t) {
                    return t.y
                }), t
            }
        }, {
            key: "_addSpecialWinWinlines",
            value: function(t, e, n) {
                if (t.special && t.special.positions) {
                    var i = this._calculateSpecialWinTotal(e),
                        o = t.special.positions.map(function(t) {
                            return t.x
                        });
                    t.special.winlineWins = n.map(function(t, e) {
                        return {
                            positions: t.filter(function(t) {
                                return o.indexOf(t.x) > -1
                            }).map(function(t) {
                                return {
                                    x: t.x,
                                    y: t.y,
                                    isSpecial: !0
                                }
                            }),
                            credits: Math.floor(i / n.length)
                        }
                    })
                }
                return t
            }
        }, {
            key: "_calculateSpecialWinTotal",
            value: function(t) {
                var e = Number(t.win);
                return t.winlines && t.winlines.forEach(function(t) {
                    e -= Number(t.win)
                }), t.scatwin && t.scatwin.forEach(function(t) {
                    e -= Number(t.win)
                }), e
            }
        }, {
            key: "_toAfterSpin",
            value: function(t) {
                var e = (t.speed < 0 ? -1 : 1) * t.syms.length;
                return {
                    distance: e,
                    symbols: (e > 1 ? [t.syms[t.syms.length - 1]] : []).map(function(t) {
                        return {
                            id: String(t)
                        }
                    })
                }
            }
        }, {
            key: "_addStickySymbols",
            value: function(t, e) {
                this._addStickyIds(t.reels, e.specwins), this._addNewStickyFlag(t.reels, e.scrflbef, e.scrflaft);
                var n = e.scrflaft || e.scrfl;
                return t.stickySymbols = this._toStickySymbols(t.reels, n), t
            }
        }, {
            key: "_addStickyIds",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return e.filter(function(t) {
                    return Boolean(t.animsticky)
                }).forEach(function(e) {
                    e.animsticky.forEach(function(e) {
                        t[e.r - 1].symbols[e.v].stickyId = String(e.animsym)
                    })
                }), e.filter(function(t) {
                    return Boolean(t.exchg)
                }).forEach(function(e) {
                    e.exchg.filter(function(e) {
                        var n = t[e.r - 1].symbols[e.v];
                        return !Boolean(n.stickyId)
                    }).forEach(function(e) {
                        t[e.r - 1].symbols[e.v].stickyId = String(e.sym)
                    })
                }), t
            }
        }, {
            key: "_addNewStickyFlag",
            value: function(t, e, n) {
                return e && n ? (e.forEach(function(e, i) {
                    e.forEach(function(e, o) {
                        var r = Boolean(sa.STICKY & e),
                            a = Boolean(sa.STICKY & n[i][o]),
                            s = t[i].symbols[o + 1];
                        !r && a && (s.isNewSticky = !0)
                    })
                }), t) : t
            }
        }, {
            key: "_toStickySymbols",
            value: function(t) {
                var e = [];
                return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).forEach(function(n, i) {
                    n.forEach(function(n, o) {
                        if (sa.STICKY & n) {
                            var r = t[i].symbols[o + 1],
                                a = r.stickyId || r.id;
                            e.push({
                                x: i + 1,
                                y: o + 1,
                                id: a
                            })
                        }
                    })
                }), e
            }
        }, {
            key: "_addSpecialSymbol",
            value: function(t, e) {
                var n = e.action ? e.action.sel : "";
                return t.specialSymbolId = String(n || e.specsym || ""), t
            }
        }, {
            key: "_addGamblePermissions",
            value: function(t, e) {
                return t.mayGamble = e.state === aa.WAIT_FOR_GAMBLE_OR_TAKE, t
            }
        }, {
            key: "fromTakeResponse",
            value: function(t) {
                var e = {};
                return this._addCredits(e, t), this._addGameType(e, t), this._addScatterGames(e, t), this._addSpecialSymbol(e, t), e
            }
        }, {
            key: "fromError",
            value: function(t) {
                return {
                    code: t.errcode,
                    subCode: t.subcode,
                    message: t.usermsg || t.msg,
                    isCritical: t.status === ia.ERR
                }
            }
        }, {
            key: "fromGambleResponse",
            value: function(t) {
                var e = {};
                return this._addGambleHistory(e, t), this._addGambleInfo(e, t), this._addCredits(e, t), this._addGameType(e, t), this._addScatterGames(e, t), this._addWinBonus(e, t), e
            }
        }, {
            key: "_addGambleHistory",
            value: function(t, e) {
                return e.gmblhist && (t.cardHistory = this._fromGambleHistory(e.gmblhist)), t
            }
        }, {
            key: "_fromGambleHistory",
            value: function(t) {
                var e = [];
                return t.forEach(function(t) {
                    var n = na.FROM[t];
                    n && e.push(Number(n))
                }), e.reverse()
            }
        }, {
            key: "_addGambleInfo",
            value: function(t, e) {
                if (void 0 !== e.win) {
                    var n = e.state === aa.GAMBLING_DONE ? 0 : 2;
                    t.stake = Number(e.gmblamount || e.win), t.chance = Number(e.gmblamount || e.win) * n, t.win = Number(e.win)
                }
                return t
            }
        }, {
            key: "_addPaytableSetup",
            value: function(t, e) {
                var n = this;
                t.paytable = {};
                var i = e.reels;
                return e.gtypes.forEach(function(e) {
                    1 === e.gtype && (n._addPaytableFromGtype(t, e, i), n._addScatterPaytableFromGtype(t, e, i))
                }), t
            }
        }, {
            key: "_addGameType",
            value: function(t, e) {
                var n = this._isScatterGame(e.gtype);
                t.gameType = n ? h.a.SCATTER : h.a.REGULAR;
                var i = this._isScatterGame(e.gtypeaft) ? h.a.SCATTER : h.a.REGULAR;
                return t.nextGameType = e.gtypeaft ? i : t.gameType, t
            }
        }, {
            key: "_addAction",
            value: function(t, e) {
                if (e.action && e.action.asym) {
                    var n = e.action.aesyms || [];
                    t.scatterSelection = [e.action.asym].concat(n), t.maxSelectableScatterCount = Number(e.action.dat1)
                }
                return t
            }
        }, {
            key: "_addWinBonus",
            value: function(t, e) {
                t.scatterGameWinBonus = this._fromBonusSection(e);
                var n = e.aftertake || e.beforewins;
                return t.bonusTriggerId = n ? String(n.addon_sym) : "", t.bonusType = this._toBonusType(e), t
            }
        }, {
            key: "_fromBonusSection",
            value: function(t) {
                var e = t.aftertake || t.beforewins;
                if (e) {
                    var n = Number(e.addon_inscatwinto) - Number(t.inscatwin) - (t.aftertake ? Number(t.win) : 0);
                    if (n > 0) return n
                }
                return 0
            }
        }, {
            key: "_toBonusType",
            value: function(t) {
                return t.aftertake ? c.a.BEFORE_READY : t.beforewins && !t.win ? c.a.BEFORE_READY : t.beforewins ? c.a.BEFORE_WINLINE_WALK : c.a.NONE
            }
        }, {
            key: "_addScatterGames",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = e.plsg || 0,
                    o = (e.totsg || 0) + (e.sgwin || 0),
                    r = o ? i + n : 0,
                    a = e.inscatwin || e.win || 0;
                t.scatterGames = {
                    current: r,
                    total: o,
                    win: a
                }
            }
        }, {
            key: "_addPaytableFromGtype",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5;
                if (!e.paysyms) return t;
                var i = Number(e.paysym_m_div) || 1;
                return e.paysyms.forEach(function(e) {
                    for (var o = [], r = 1; r <= n; r += 1) {
                        var a = Number(e["m_".concat(r)]) || 0;
                        o.push(a / i)
                    }
                    e.full && (t.paytable["".concat(e.sym).concat(Bo.FULL)] = [Number(e.full) / i]), t.paytable[e.sym] = o
                }), t
            }
        }, {
            key: "_addScatterPaytableFromGtype",
            value: function(t, e) {
                var n = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5;
                return t.paytable.scatters = [], e.scatters ? (e.scatters.forEach(function(e) {
                    for (var o = t.paytable[e.sym] || n._createEmptyPaytableEntries(i), r = Number(e.m_div) || 1, a = Number(e.ntill) || o.length, s = t.paytable["".concat(e.sym, ":scatterGames")] || n._createEmptyPaytableEntries(i), u = e.nfrom; u <= a; u += 1) o[u - 1] = o[u - 1] || Number(e.m) / r, s[u - 1] = Number(e.sg);
                    t.paytable[e.sym] = o, t.paytable["".concat(e.sym, ":scatterGames")] = s, t.paytable.scatters.indexOf(e.sym) < 0 && t.paytable.scatters.push(e.sym)
                }), t) : t
            }
        }, {
            key: "_createEmptyPaytableEntries",
            value: function() {
                for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5, e = [], n = 0; n < t; n += 1) e.push(0);
                return e
            }
        }, {
            key: "fromGetJackpotConfigResponse",
            value: function(t) {
                var e = {},
                    n = t.jps && t.jps.length > 0;
                return e.pots = n ? this._toPotConfigs(t.jps) : [], e
            }
        }, {
            key: "_toPotConfigs",
            value: function(t) {
                return t.map(function(t) {
                    return {
                        id: t.mjpid,
                        label: t.textname || t.name
                    }
                })
            }
        }, {
            key: "fromGetCreditsResponse",
            value: function(t) {
                return {
                    credits: t && t.credit ? Number(t.credit.tot) : 0
                }
            }
        }]), t
    }();

    function fa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _a = function() {
            function t(e, n, i) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._owner = e, this.authToken = n, this._gtypeMap = i, this._retry = {
                    delay: 5e3,
                    maxCount: 10,
                    count: 0
                }, this._init()
            }
            return function(t, e, n) {
                e && fa(t.prototype, e), n && fa(t, n)
            }(t, [{
                key: "_init",
                value: function() {
                    this._cache = {}, this._handlers = {}, this._responseConverter = this._createResponseConverter(this._gtypeMap)
                }
            }, {
                key: "_createResponseConverter",
                value: function(t) {
                    return new ha(t)
                }
            }, {
                key: "getLoginOKHandler",
                value: function(t) {
                    return this._getHandler(ra.LOGIN_OK, function(t) {
                        this._resetRetries(), this.authToken = t.authtoken, Pr.a.storeAuthToken(this.authToken)
                    }, t)
                }
            }, {
                key: "_getHandler",
                value: function(t, e, n) {
                    var i = this;
                    return this._handlers[t] || (this._handlers[t] = function(t) {
                        e.call(i, t), n && n.call(i._owner)
                    }), this._handlers[t].bind(this)
                }
            }, {
                key: "getLoginErrorHandler",
                value: function(t) {
                    var e = t.reconnect,
                        n = t.login,
                        i = {};
                    i[oa.a.LOGIN_ERROR] = e, i[oa.a.SERVER_TIMEOUT_ERROR] = n, i[oa.a.PLAYER_KICKED_ERROR] = n;
                    var o = this._createErrorHandler(i);
                    return this._getHandler(ra.LOGIN_ERROR, o)
                }
            }, {
                key: "_clearHandler",
                value: function(t) {
                    this._handlers[t] = null
                }
            }, {
                key: "_createErrorHandler",
                value: function(t, e) {
                    return function(n) {
                        t[n.errcode] ? t[n.errcode].call(this._owner) : this._handleError(n, e)
                    }
                }
            }, {
                key: "_handleError",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Yr.CONNECT_ERROR,
                        n = this._responseConverter.fromError(t);
                    this._owner.emit(e, n)
                }
            }, {
                key: "getSelectGameOKHandler",
                value: function(t) {
                    return this._getHandler(ra.SELECT_GAME_OK, function(t) {
                        this._cache = JSON.parse(JSON.stringify(t));
                        var e = this._handleOK({
                            converter: this._responseConverter.fromSelGameResponse,
                            event: Yr.CONNECT,
                            response: t
                        });
                        this._availableWinlinesContainer = e.setup.availableWinlinesContainer
                    }, t)
                }
            }, {
                key: "_handleOK",
                value: function(t) {
                    var e = t.converter,
                        n = t.event,
                        i = t.response,
                        o = t.responseMeta;
                    this._resetRetries();
                    var r = e.call(this._responseConverter, i, o);
                    return this._owner.emit(n, r), r
                }
            }, {
                key: "getSelectGameErrorHandler",
                value: function(t, e) {
                    var n = {};
                    n[oa.a.IMPOSSIBLE_ERROR] = t, n[oa.a.SELECT_GAME_ERROR] = t, this._isInitialized ? this._clearHandler(ra.SELECT_GAME_ERROR) : (this._isInitialized = !0, n[oa.a.LOGIN_REQUIRED_ERROR] = e);
                    var i = this._createErrorHandler(n);
                    return this._getHandler(ra.SELECT_GAME_ERROR, i)
                }
            }, {
                key: "setSelectedWinlinesCount",
                value: function(t) {
                    this._selectedWinlinesCount = t
                }
            }, {
                key: "getSpinOKHandler",
                value: function(t) {
                    return this._getHandler(ra.SPIN_OK, function(t) {
                        this._cache = JSON.parse(JSON.stringify(t));
                        var e = this._getSelectedWinlinesContainer();
                        this._handleOK({
                            converter: this._responseConverter.fromSpinResponse,
                            event: Yr.SPIN,
                            response: t,
                            responseMeta: e
                        })
                    }, t)
                }
            }, {
                key: "_getSelectedWinlinesContainer",
                value: function() {
                    if (this._selectedWinlinesCount <= 1) return this._availableWinlinesContainer;
                    var t = {};
                    for (var e in this._availableWinlinesContainer) this._availableWinlinesContainer.hasOwnProperty(e) && (t[e] = this._extractSelectedWinlines(this._availableWinlinesContainer[e]));
                    return t
                }
            }, {
                key: "_extractSelectedWinlines",
                value: function(t) {
                    return t.length % this._selectedWinlinesCount ? t : t.slice(0, this._selectedWinlinesCount)
                }
            }, {
                key: "getSpinErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.SPIN_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.SPIN_ERROR);
                    return this._getHandler(ra.SPIN_ERROR, n)
                }
            }, {
                key: "getTakeOKHandler",
                value: function(t) {
                    return this._getHandler(ra.TAKE_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromTakeResponse,
                            event: Yr.TAKE,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getTakeErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.TAKE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.TAKE_ERROR);
                    return this._getHandler(ra.TAKE_ERROR, n)
                }
            }, {
                key: "getLogoutOKHandler",
                value: function(t) {
                    return this._getHandler(ra.LOGOUT_OK, function(t) {}, t)
                }
            }, {
                key: "getLogoutErrorHandler",
                value: function(t) {
                    var e = t.resync,
                        n = t.stop,
                        i = {};
                    i[oa.a.GAME_QUIT_ERROR] = e, i[oa.a.LOGIN_REQUIRED_ERROR] = n;
                    var o = this._createErrorHandler(i);
                    return this._getHandler(ra.LOGOUT_ERROR, o)
                }
            }, {
                key: "handleGetGambleInfo",
                value: function() {
                    this._handleOK({
                        converter: this._responseConverter.fromGambleResponse,
                        event: Yr.GET_GAMBLE_INFO,
                        response: this._cache
                    })
                }
            }, {
                key: "getGambleOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GAMBLE_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGambleResponse,
                            event: Yr.GAMBLE,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getGambleErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.GAMBLE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.GAMBLE_ERROR);
                    return this._getHandler(ra.GAMBLE_ERROR, n)
                }
            }, {
                key: "getReconnectOKHandler",
                value: function(t) {
                    return this._getHandler(ra.RECONNECT_OK, function() {}, t)
                }
            }, {
                key: "getReconnectErrorHandler",
                value: function(t, e) {
                    var n = {};
                    n[oa.a.GAME_QUIT_ERROR] = t, n[oa.a.LOGIN_REQUIRED_ERROR] = e;
                    var i = this._createErrorHandler(n);
                    return this._getHandler(ra.RECONNECT_ERROR, i)
                }
            }, {
                key: "getRno",
                value: function() {
                    return this._cache.rno
                }
            }, {
                key: "_resetRetries",
                value: function() {
                    this._retry.timeout = null, this._retry.count = 0
                }
            }, {
                key: "retry",
                value: function(t) {
                    this._retry.count < this._retry.maxCount ? (console.log("waiting and retrying... ".concat(this._retry.count, " of ").concat(this._retry.maxCount)), this._retry.timeout = setTimeout(t, this._retry.delay), this._retry.count += 1) : (this._retry.count = 0, this._owner.emit(Yr.CLOSE))
                }
            }, {
                key: "getResyncOKHandler",
                value: function(t) {
                    return this._getHandler(ra.RESYNC_OK, function(t) {
                        this._resetRetries()
                    }, t)
                }
            }, {
                key: "getResyncErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.RESYNC_ERROR] = t;
                    var n = this._createErrorHandler(e);
                    return this._getHandler(ra.RESYNC_ERROR, n)
                }
            }, {
                key: "getGetJackpotConfigOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GET_JACKPOT_CONFIG_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGetJackpotConfigResponse,
                            event: Yr.GET_JACKPOT_CONFIG,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getGetJackpotConfigErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t;
                    var n = this._createErrorHandler(e);
                    return this._getHandler(ra.GET_JACKPOT_CONFIG_ERROR, n)
                }
            }, {
                key: "getGetCreditsOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GET_CREDITS_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGetCreditsResponse,
                            event: Yr.GET_CREDITS,
                            response: t
                        })
                    })
                }
            }, {
                key: "getGetCreditsErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.GET_CREDITS_ERROR);
                    return this._getHandler(ra.GET_CREDITS_ERROR, n)
                }
            }, {
                key: "isRetrying",
                value: function() {
                    return this._retry.timeout && this._retry.count > 0
                }
            }, {
                key: "clearAuthToken",
                value: function() {
                    this.authToken = "", Pr.a.clearAuthToken()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._owner = null, this._retry = null, this._cache = null, this._handlers = null, this._responseConverter = null
                }
            }]), t
        }(),
        ya = {
            POTS_UPDATE: "MJPUPD",
            POTS_HIT: "MJPHIT"
        },
        da = {
            HIT_SELF: 2048
        };

    function pa(t) {
        return (pa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ma(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function va(t, e) {
        return !e || "object" !== pa(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ga(t) {
        return (ga = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ba(t, e) {
        return (ba = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Sa = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = va(this, ga(e).call(this)))._remoteInterface = t, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ba(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && ma(t.prototype, e), n && ma(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._remoteInterface.on(ya.POTS_UPDATE, this._handlePotsUpdate, this), this._remoteInterface.on(ya.POTS_HIT, this._handlePotsHit, this)
                    }
                }, {
                    key: "_handlePotsUpdate",
                    value: function(t) {
                        var e = this._convertPotsUpdate(t);
                        this.emit(Yr.POTS_UPDATE, e)
                    }
                }, {
                    key: "_convertPotsUpdate",
                    value: function(t) {
                        var e = t.mjpid,
                            n = t.val;
                        return {
                            potId: e || "",
                            amount: Number(n) || 0
                        }
                    }
                }, {
                    key: "_handlePotsHit",
                    value: function(t) {
                        if (2 === t.stage) {
                            var e = this._convertPotsHit(t);
                            this.emit(Yr.POTS_HIT, e)
                        }
                    }
                }, {
                    key: "_convertPotsHit",
                    value: function(t) {
                        var e = t.mjpid,
                            n = t.val,
                            i = t.user,
                            o = t.flags,
                            r = t.now;
                        return {
                            potId: e || "",
                            winAmount: Number(n) || 0,
                            winner: i || "",
                            self: Boolean(o & da.HIT_SELF),
                            now: Boolean(r)
                        }
                    }
                }]), e
        }(),
        wa = {
            OPEN: "connectionEvent.open",
            CLOSE: "connectionEvent.close",
            ERROR: "connectionEvent.error"
        };

    function ka(t) {
        return (ka = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ea(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ta(t, e) {
        return !e || "object" !== ka(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ca(t) {
        return (Ca = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Oa(t, e) {
        return (Oa = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Aa = function(t) {
        function e(t, n, i, o) {
            var r;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (r = Ta(this, Ca(e).call(this, t)))._remoteInterface = t, r._gameId = n, r._state = r._createServerState(i, o.gtypeMap), r._jackpotListener = r._createJackpotListener(), r._debug = o.debug, r._init(), r
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Oa(t, e)
            }(e, Ur),
            function(t, e, n) {
                e && Ea(t.prototype, e), n && Ea(t, n)
            }(e, [{
                key: "_createServerState",
                value: function(t, e) {
                    return new _a(this, t, e)
                }
            }, {
                key: "_createJackpotListener",
                value: function() {
                    var t = this,
                        e = new Sa(this._remoteInterface);
                    return [Yr.POTS_UPDATE, Yr.POTS_HIT].forEach(function(n) {
                        e.on(n, function(e) {
                            t.emit(n, e)
                        })
                    }), e
                }
            }, {
                key: "_init",
                value: function() {
                    this._reconnectMinWait = 500, this._remoteInterface.on(wa.ERROR, this._handleConnectionError, this), this._remoteInterface.on(wa.CLOSE, this._handleConnectionClose, this)
                }
            }, {
                key: "_handleConnectionError",
                value: function() {
                    this.emit(Yr.WAITING)
                }
            }, {
                key: "_handleConnectionClose",
                value: function() {
                    console.log("IGameServer._handleConnectionClose()"), this.emit(Yr.WAITING), this._state.isRetrying() || (this.emit(Yr.CLOSE), this._remoteInterface.isConnected() && this._reconnect())
                }
            }, {
                key: "connect",
                value: function() {
                    console.log("IGameServer.connect() ".concat(this._state.authToken));
                    var t = this._state.authToken ? this._selectGame : this._login;
                    this._remoteInterface.isConnecting() ? this._remoteInterface.once(wa.OPEN, t, this) : t.call(this)
                }
            }, {
                key: "_login",
                value: function() {
                    console.log("IGameServer._login()"), this._state.clearAuthToken(), this._debug ? this._autonomousLogin() : this.emit(Yr.CLOSE)
                }
            }, {
                key: "_autonomousLogin",
                value: function() {
                    var t = this,
                        e = this._debug.usePots ? this._getJackpotConfig : this._selectGame;
                    this._addDynamicRemoteInterfaceListener(ta.LOGIN, this._createResponseHandler({
                        okHandler: this._state.getLoginOKHandler(e),
                        errorHandler: this._state.getLoginErrorHandler({
                            reconnect: function() {
                                t._state.retry(t._login.bind(t))
                            },
                            login: this._login
                        })
                    })), this._remoteInterface.login({
                        user: this._debug.user,
                        pwd: this._debug.pwd,
                        amount: this._debug.amount,
                        demo: this._debug.demo,
                        usejp: Number(this._debug.usePots)
                    })
                }
            }, {
                key: "_addDynamicRemoteInterfaceListener",
                value: function(t, e) {
                    this._remoteInterface.listeners(t).length || this._remoteInterface.once(t, e, this)
                }
            }, {
                key: "_createResponseHandler",
                value: function(t) {
                    var e = t.okHandler,
                        n = t.errorHandler;
                    return function(t) {
                        (t.errcode || t.status === ia.ERR) && n ? n.call(this._state, t) : e && e.call(this._state, t)
                    }
                }
            }, {
                key: "_getJackpotConfig",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GETJPCFG, this._createResponseHandler({
                        okHandler: this._state.getGetJackpotConfigOKHandler(this._selectGame),
                        errorHandler: this._state.getGetJackpotConfigErrorHandler(this._selectGame)
                    })), this._remoteInterface.getJpCfg(this._state.authToken)
                }
            }, {
                key: "_selectGame",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.SELGAME, this._createResponseHandler({
                        okHandler: this._state.getSelectGameOKHandler(),
                        errorHandler: this._state.getSelectGameErrorHandler(this._resync, this._login)
                    })), this._remoteInterface.selgame(this._state.authToken, this._gameId)
                }
            }, {
                key: "_reconnect",
                value: function() {
                    this._lastReconnectTime && Date.now() < this._lastReconnectTime + this._reconnectMinWait || (console.log("IGameServer._reconnect()"), this._lastReconnectTime = Date.now(), this.connect())
                }
            }, {
                key: "spin",
                value: function(t, e) {
                    this._state.setSelectedWinlinesCount(e), this._addDynamicRemoteInterfaceListener(ta.GA_SPIN, this._createResponseHandler({
                        okHandler: this._state.getSpinOKHandler(),
                        errorHandler: this._state.getSpinErrorHandler(this._resync)
                    })), this._remoteInterface.gaSpin(this._state.authToken, t, e)
                }
            }, {
                key: "take",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GA_TAKE, this._createResponseHandler({
                        okHandler: this._state.getTakeOKHandler(),
                        errorHandler: this._state.getTakeErrorHandler(this._resync)
                    })), this._remoteInterface.gaTake(this._state.authToken, this._state.getRno())
                }
            }, {
                key: "logout",
                value: function(t) {
                    var e = this;
                    this._state.authToken ? (this._addDynamicRemoteInterfaceListener(ta.QUITGAME, this._createResponseHandler({
                        okHandler: this._state.getLogoutOKHandler(this._createProcessQuitGameOK(t)),
                        errorHandler: this._state.getLogoutErrorHandler({
                            resync: this._resync,
                            stop: function() {
                                t && t.call(), e._state.clearAuthToken()
                            }
                        })
                    })), this._remoteInterface.quitgame(this._state.authToken)) : (console.log("cancelled IGameServer.logout(), no authToken present"), t && t.call())
                }
            }, {
                key: "_createProcessQuitGameOK",
                value: function(t) {
                    return function(e) {
                        t ? t.call() : this._remoteInterface.logout(this._state.authToken)
                    }
                }
            }, {
                key: "getGambleInfo",
                value: function() {
                    this._state.handleGetGambleInfo()
                }
            }, {
                key: "gamble",
                value: function(t, e) {
                    this._addDynamicRemoteInterfaceListener(ta.GA_GAMBLE, this._createResponseHandler({
                        okHandler: this._state.getGambleOKHandler(),
                        errorHandler: this._state.getGambleErrorHandler(this._resync)
                    }));
                    var n = na.TO_COLORS[t];
                    console.log("gamble: ".concat([t, n])), this._remoteInterface.gaGamble(this._state.authToken, this._state.getRno(), n, e)
                }
            }, {
                key: "_resync",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GA_RESYNC, this._createResponseHandler({
                        okHandler: this._state.getResyncOKHandler(this._selectGame),
                        errorHandler: this._state.getResyncErrorHandler(this._selectGame)
                    })), this._remoteInterface.gaResync(this._state.authToken)
                }
            }, {
                key: "getSessionInfo",
                value: function() {
                    return this._state ? this._state.authToken : ""
                }
            }, {
                key: "getCredits",
                value: function() {
                    var t = this;
                    this._addDynamicRemoteInterfaceListener(ta.GA_TRUECRED, this._createResponseHandler({
                        okHandler: this._state.getGetCreditsOKHandler(),
                        errorHandler: this._state.getGetCreditsErrorHandler(function() {
                            setTimeout(function() {
                                t.getCredits()
                            }, 300)
                        })
                    })), this._remoteInterface.gaTruecred(this._state.authToken)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._remoteInterface.removeAllListeners(), this._remoteInterface.destroy(), this._remoteInterface = null, this._state.destroy(), this._state = null
                }
            }]), e
    }();

    function Pa(t) {
        return (Pa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ia(t, e) {
        return function(t) {
            if (Array.isArray(t)) return t
        }(t) || function(t, e) {
            var n = [],
                i = !0,
                o = !1,
                r = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
            } catch (t) {
                o = !0, r = t
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function xa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ra(t, e) {
        return !e || "object" !== Pa(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Wa(t) {
        return (Wa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Na(t, e) {
        return (Na = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ja = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = Ra(this, Wa(e).call(this)))._url = t, i._socket = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Na(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && xa(t.prototype, e), n && xa(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._reconnectDelay = 1500, this._retryCount = 0, this._retryMaxCount = 2, this._connectSocket()
                }
            }, {
                key: "_connectSocket",
                value: function(t) {
                    this._url && console.log("IGameRemoteInterface._connectSocket() ".concat(this._url)), this._socket && (this.isConnected() || this.isConnecting()) || (this._socket = new WebSocket(this._url)), this._socket.onopen = this._createOpenHandler(t).bind(this), this._socket.onclose = this._handleClose.bind(this), this._socket.onmessage = this._handleMessage.bind(this), this._socket.onerror = this._handleError.bind(this)
                }
            }, {
                key: "_createOpenHandler",
                value: function(t) {
                    return function() {
                        console.log("IGameRemoteInterface.handleOpen()"), this.emit(wa.OPEN), t && this._socket.send(t)
                    }
                }
            }, {
                key: "_handleClose",
                value: function() {
                    console.log("IGameRemoteInterface._handleClose()"), this._clearSocketListeners(), this.emit(wa.CLOSE)
                }
            }, {
                key: "_clearSocketListeners",
                value: function() {
                    this._socket && (this._socket.onopen = null, this._socket.onclose = null, this._socket.onmessage = null, this._socket.onerror = null)
                }
            }, {
                key: "_handleMessage",
                value: function(t) {
                    var e = JSON.parse(t.data.split(":::")[1]);
                    this.emit(e.for || e.amsg, e)
                }
            }, {
                key: "_handleError",
                value: function() {
                    console.log("IGameRemoteInterface._handleError() ".concat(this._retryCount)), this._retryCount < this._retryMaxCount ? (this._clearSocketListeners(), this._delayedReconnect = setTimeout(this._connectSocket.bind(this), this._reconnectDelay), this._retryCount += 1, this.emit(wa.ERROR)) : (this._retryCount = 0, this.emit(wa.CLOSE))
                }
            }, {
                key: "isConnected",
                value: function() {
                    return !!this._socket && this._socket.readyState === WebSocket.OPEN
                }
            }, {
                key: "isConnecting",
                value: function() {
                    return !!this._socket && this._socket.readyState === WebSocket.CONNECTING
                }
            }, {
                key: "login",
                value: function(t) {
                    var e = t.user,
                        n = t.pwd,
                        i = t.bonno,
                        o = t.bonpin,
                        r = t.demo,
                        a = t.amount,
                        s = t.nramount,
                        u = t.reqslot,
                        l = t.lang,
                        c = t.allgames,
                        h = t.hwid,
                        f = t.hwsub,
                        _ = t.hwdyn,
                        y = t.gameid,
                        d = t.usejp,
                        p = t.lasthits;
                    return this._send(ta.LOGIN, [
                        ["user", e],
                        ["pwd", n],
                        ["bonno", i],
                        ["bonpin", o],
                        ["demo", r],
                        ["amount", a],
                        ["nramount", s],
                        ["reqslot", u],
                        ["lang", l],
                        ["allgames", c],
                        ["hwid", h],
                        ["hwsub", f],
                        ["hwdyn", _],
                        ["gameid", y],
                        ["usejp", d],
                        ["lasthits", p]
                    ])
                }
            }, {
                key: "_send",
                value: function(t, e) {
                    var n = "action=".concat(t);
                    return e.forEach(function(t) {
                        var e = Ia(t, 2),
                            i = e[0],
                            o = e[1];
                        void 0 !== o && null !== o && (n += "&".concat(i, "=").concat(o))
                    }), this.isConnected() ? this._socket.send(ConvertRequest(n)) : this._connectSocket(n), n
                }
            }, {
                key: "check",
                value: function(t) {
                    return this._send(ta.CHECK, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "selgame",
                value: function(t, e) {
                    return this._send(ta.SELGAME, [
                        ["authtoken", t],
                        ["gameid", e]
                    ])
                }
            }, {
                key: "quitgame",
                value: function(t) {
                    return this._send(ta.QUITGAME, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "gaSpin",
                value: function(t, e, n) {
                    return this._send(ta.GA_SPIN, [
                        ["authtoken", t],
                        ["bet", e],
                        ["winlines", n]
                    ])
                }
            }, {
                key: "gaTake",
                value: function(t, e) {
                    return this._send(ta.GA_TAKE, [
                        ["authtoken", t],
                        ["rno", e]
                    ])
                }
            }, {
                key: "gaGamble",
                value: function(t, e, n, i) {
                    return this._send(ta.GA_GAMBLE, [
                        ["authtoken", t],
                        ["rno", e],
                        ["choice", n],
                        ["amount", i]
                    ])
                }
            }, {
                key: "gaResync",
                value: function(t) {
                    return this._send(ta.GA_RESYNC, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "logout",
                value: function(t) {
                    return this._send(ta.LOGOUT, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "getJpCfg",
                value: function(t) {
                    return this._send(ta.GETJPCFG, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "gaTruecred",
                value: function(t) {
                    return this._send(ta.GA_TRUECRED, [
                        ["authtoken", t],
                        ["fromserv", 1]
                    ])
                }
            }, {
                key: "destroy",
                value: function() {
                    this._delayedReconnect && (clearTimeout(this._delayedReconnect), this._delayedReconnect = null), this._socket = null
                }
            }]), e
    }();

    function La(t) {
        return (La = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ga(t, e) {
        return !e || "object" !== La(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ma(t) {
        return (Ma = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ba(t, e) {
        return (Ba = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Fa = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ga(this, Ma(e).call(this, t))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Ba(t, e)
        }(e, Ur), e
    }();

    function Ha(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Da = function() {
            function t() {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            return function(t, e, n) {
                e && Ha(t.prototype, e), n && Ha(t, n)
            }(t, [{
                key: "initSession",
                value: function(t, e, n, i, o) {}
            }, {
                key: "spin",
                value: function(t, e, n, i, o, r) {}
            }, {
                key: "take",
                value: function(t, e) {}
            }, {
                key: "getGambleInfo",
                value: function(t, e) {}
            }, {
                key: "gamble",
                value: function(t, e, n, i) {}
            }, {
                key: "playActionGame",
                value: function(t, e) {}
            }, {
                key: "getPaytable",
                value: function(t, e, n) {}
            }, {
                key: "logout",
                value: function(t, e) {}
            }]), t
        }(),
        Ka = u.a.extend({
            props: {
                symbols: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                id: "number",
                shouldSlowDownNext: "boolean",
                willSlowDown: "boolean",
                hasEnterSound: "boolean",
                afterSpin: {
                    type: "object",
                    default: function() {
                        return {
                            distance: 0,
                            symbols: []
                        }
                    }
                }
            }
        }),
        Ua = u.a.extend({
            props: {
                id: {
                    type: "string",
                    required: !0,
                    default: "",
                    values: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25"]
                },
                isSpecial: "boolean",
                isQuery: "boolean",
                isNewSticky: "boolean",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                specialTransformTo: "string",
                transformToId: "string",
                stickyId: "string"
            }
        });

    function Ya(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var qa = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = e, this._cache = {
                stickySymbols: {}
            }, this._init()
        }
        return function(t, e, n) {
            e && Ya(t.prototype, e), n && Ya(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                this.RANGE_ERROR_MESSAGE = "unexpected length difference"
            }
        }, {
            key: "updateOnConnect",
            value: function(t) {
                var e = t.setup,
                    n = t.reels,
                    i = t.winlineWins,
                    o = t.scatterWin,
                    r = t.stickySymbols,
                    a = t.special,
                    s = t.mayGamble,
                    u = t.gameType,
                    l = t.nextGameType,
                    c = t.specialSymbolId;
                return e && this._updateSetup(e), this.updateOnSpin({
                    reels: n,
                    winlineWins: i,
                    scatterWin: o,
                    stickySymbols: r,
                    special: a,
                    mayGamble: s,
                    gameType: u,
                    nextGameType: l,
                    specialSymbolId: c
                }), this._model
            }
        }, {
            key: "_updateSetup",
            value: function(t) {
                var e = t.mayGamble,
                    n = t.availableWinlinesContainer;
                return void 0 !== e && (this._model.mayGamble = e), n && (this._model.availableWinlinesContainer = n), this._model
            }
        }, {
            key: "updateOnSpin",
            value: function(t) {
                var e = t.reels,
                    n = t.winlineWins,
                    i = t.scatterWin,
                    o = t.stickySymbols,
                    r = t.special,
                    a = t.scatterGameWinBonus,
                    s = t.bonusTriggerId,
                    u = t.bonusType,
                    l = t.mayGamble,
                    h = t.gameType,
                    f = t.nextGameType,
                    _ = t.specialSymbolId,
                    y = t.scatterSelection,
                    d = t.maxSelectableScatterCount;
                return this._updateReels(e), this._updateStickySymbolsCache(o), this._model.specialSymbolId = _, this._model.winlineWins = n || [], this._model.scatterWin = i, this._model.stickySymbols = o || [], this._model.special = r, this._model.scatterGameWinBonus = a || 0, this._model.bonusTriggerId = s, this._model.bonusType = u || c.a.NONE, this._model.scatterSelection = y || [], this._model.maxSelectableScatterCount = d || 0, void 0 !== l && (this._model.mayGamble = l), this._model.takenAmount = 0, this._model.walkedWinlinesCount = 0, this._model.walkedAmount = 0, this._updateGameType({
                    gameType: h,
                    nextGameType: f
                }), this._model
            }
        }, {
            key: "_updateReels",
            value: function(t) {
                return this._model.reels.length ? this._extendReels(t) : this._initializeReels(t)
            }
        }, {
            key: "_extendReels",
            value: function(t) {
                this._applyStickySymbolsFromCache(t);
                var e = this._createNewReels(t);
                if (e.length !== this._model.reels.length) throw new RangeError(this.RANGE_ERROR_MESSAGE);
                for (var n = 0; n < this._model.reels.length; n++) {
                    var i = this._model.reels[n].symbols;
                    this._model.reels[n].afterSpin = e[n].afterSpin, this._model.reels[n].shouldSlowDownNext = e[n].shouldSlowDownNext, this._model.reels[n].willSlowDown = e[n].willSlowDown, this._model.reels[n].hasEnterSound = e[n].hasEnterSound, this._model.reels[n].symbols = i.concat(e[n].symbols)
                }
                return this._model
            }
        }, {
            key: "_applyStickySymbolsFromCache",
            value: function(t) {
                var e = this._cache.stickySymbols;
                return this._model.stickySymbols.filter(function(t) {
                    return e[t.x] && e[t.x][t.y] && e[t.x][t.y].id
                }).forEach(function(n) {
                    t[n.x - 1].symbols[n.y].stickyId = e[n.x][n.y].id
                }), t
            }
        }, {
            key: "_createNewReels",
            value: function(t) {
                var e = this,
                    n = [];
                return t.forEach(function(t) {
                    var i = new Ka(t);
                    i.afterSpin = e._convertAfterSpin(t.afterSpin);
                    var o = [];
                    t.symbols.forEach(function(t) {
                        o.push(new Ua(t))
                    }), i.symbols = o, n.push(i)
                }), n
            }
        }, {
            key: "_convertAfterSpin",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.distance,
                    n = t.symbols,
                    i = {
                        distance: e || 0,
                        symbols: []
                    };
                return n && n.forEach(function(t) {
                    i.symbols.push(new Ua(t))
                }), i
            }
        }, {
            key: "_initializeReels",
            value: function(t) {
                this._applyStickySymbolsForInit(t);
                var e = this._createNewReels(t);
                return this._model.reels = e, this._model
            }
        }, {
            key: "_applyStickySymbolsForInit",
            value: function(t) {
                return t.forEach(function(t) {
                    t.symbols.filter(function(t) {
                        return Boolean(t.stickyId)
                    }).forEach(function(t) {
                        t.id = t.stickyId
                    })
                }), t
            }
        }, {
            key: "_updateStickySymbolsCache",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    e = this._cache.stickySymbols;
                return t.filter(function(t) {
                    return Boolean(t.id)
                }).forEach(function(t) {
                    e[t.x] = e[t.x] || {}, e[t.x][t.y] = e[t.x][t.y] || {
                        id: t.id
                    }
                }), this._cache.stickySymbols = t.length > 0 ? e : {}, this._cache
            }
        }, {
            key: "_updateGameType",
            value: function(t) {
                var e = t.gameType,
                    n = t.nextGameType;
                return e && (this._model.gameType = e, this._model.nextGameType = n || e), this._model
            }
        }, {
            key: "updateOnGamble",
            value: function(t) {
                var e = t.gameType,
                    n = t.nextGameType,
                    i = t.scatterGameWinBonus;
                return this._model.scatterGameWinBonus = i || 0, this._updateGameType({
                    gameType: e,
                    nextGameType: n
                }), this._model
            }
        }, {
            key: "updateOnTake",
            value: function(t, e) {
                var n = e.credits,
                    i = e.win;
                return this._model.specialSymbolId = t.specialSymbolId, i > 0 && (this._model.takenAmount = t.credits - n - (this._model.scatterGameWinBonus || 0)), this._model
            }
        }]), t
    }();

    function Va(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Xa = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = e
        }
        return function(t, e, n) {
            e && Va(t.prototype, e), n && Va(t, n)
        }(t, [{
            key: "update",
            value: function(t) {
                var e = t.cardHistory,
                    n = t.stake,
                    i = t.chance;
                return this._model.cardHistory = e, this._model.stake = n, this._model.chance = i, this._model
            }
        }]), t
    }();

    function za(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Qa = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = e
            }
            return function(t, e, n) {
                e && za(t.prototype, e), n && za(t, n)
            }(t, [{
                key: "update",
                value: function(t) {
                    var e = t.bet,
                        n = t.betSteps,
                        i = t.paytable,
                        o = t.winlineSelections;
                    return this._model.bet = e, this._model.betSteps = n, this._model.paytable = i, this._model.winlineSelections = o, this._model
                }
            }]), t
        }(),
        Ja = {
            SYMBOL_MAP: {
                1: "7",
                2: "T",
                3: "Z",
                4: "K",
                5: "M",
                6: "O",
                7: "*",
                8: "P"
            }
        },
        $a = n(23),
        Za = {
            log: function(t) {
                console.log("[".concat(Date.now(), "] ").concat(t))
            },
            logService: null,
            useConsole: !0,
            logWarning: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("WARNING [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logWarn(t, e)
            },
            logInfo: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("INFO [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logInfo(t, e)
            },
            logError: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("!ERROR! [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logError(t, e)
            }
        },
        ts = Za;

    function es(t) {
        return (es = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ns(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function is(t, e) {
        return !e || "object" !== es(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function os(t) {
        return (os = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function rs(t, e) {
        return (rs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var as = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = is(this, os(e).call(this)))._model = t, i._server = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && rs(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && ns(t.prototype, e), n && ns(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._server.on(Yr.CLOSE, this._handleServerClose, this), this._server.on(Yr.WAITING, this._handleServerWaiting, this), this._server.on(Yr.GET_JACKPOT_CONFIG, this._handlePotsConfig, this), this._server.on(Yr.POTS_UPDATE, this._handlePotsUpdate, this), this._server.on(Yr.POTS_HIT, this._handlePotsHit, this), this._slotModelManipulator = this._createSlotModelManipulator(), this._gambleModelManipulator = this._createGambleModelManipulator(), this._settingsModelManipulator = this._createSettingsModelManipulator(), this.__symbolMap = Ja.SYMBOL_MAP, this.__shouldLogSpinResults = !1
                }
            }, {
                key: "_createSlotModelManipulator",
                value: function() {
                    return new qa(this._model.slot.model)
                }
            }, {
                key: "_createGambleModelManipulator",
                value: function() {
                    return new Xa(this._model.gamble.model)
                }
            }, {
                key: "_createSettingsModelManipulator",
                value: function() {
                    return new Qa(this._model.settings.model)
                }
            }, {
                key: "_handleServerClose",
                value: function() {
                    this._model.serverStatus = $a.a.DISCONNECTED, this._server.removeListener(Yr.CONNECT_ERROR), this._server.once(Yr.CONNECT_ERROR, this._handleConnectError, this), this._server.removeListener(Yr.CONNECT), this._server.once(Yr.CONNECT, this._handleServerConnectBase, this);
                    var t = "".concat(this._model.status, ", SessionInfo: ").concat(this._server.getSessionInfo());
                    ts.logWarning("GambleClient disconnected from Server: ".concat(t)), this._clearServerListeners(), this.emit(Yr.CLOSE)
                }
            }, {
                key: "_handleServerConnectBase",
                value: function(t) {
                    this._model.serverStatus = $a.a.CONNECTED, this._server.removeListener(Yr.CONNECT_ERROR, this._handleConnectError), t && t.win && this._model.modeType !== Lr.a.GAMBLE && this.take(), this.emit(Yr.CONNECT)
                }
            }, {
                key: "_clearServerListeners",
                value: function() {
                    return this._server.removeListener(Yr.SPIN_ERROR, this._handleSpinError), this._server.removeListener(Yr.SPIN, this._handleSpin), this._server.removeListener(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError), this._server.removeListener(Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo), this._server.removeListener(Yr.TAKE_ERROR, this._handleTakeError), this._server.removeListener(Yr.TAKE, this._handleTake), this._server.removeListener(Yr.GAMBLE_ERROR, this._handleGambleError), this._server.removeListener(Yr.GAMBLE, this._handleGamble), this._server
                }
            }, {
                key: "_handleServerWaiting",
                value: function() {
                    this._model.serverStatus = $a.a.WAITING
                }
            }, {
                key: "_handlePotsConfig",
                value: function(t) {
                    t.pots.length > 0 && (this._model.potServerConfigs = t.pots)
                }
            }, {
                key: "_handlePotsUpdate",
                value: function(t) {
                    var e = JSON.parse(JSON.stringify(this._model.pots));
                    e[t.potId] = {
                        amount: t.amount
                    }, this._model.pots = e
                }
            }, {
                key: "_handlePotsHit",
                value: function(t) {
                    var e = JSON.parse(JSON.stringify(this._model.potHits));
                    for (var n in e) e.hasOwnProperty(n) && (e[n] && e[n].now ? e[n].now = !1 : e[n] = null);
                    e[t.potId] = {
                        winAmount: t.winAmount,
                        winner: t.winner,
                        self: t.self,
                        now: t.now
                    }, this._model.potHits = e
                }
            }, {
                key: "connect",
                value: function() {
                    this._server.removeListener(Yr.CONNECT_ERROR), this._server.once(Yr.CONNECT_ERROR, this._handleConnectError, this), this._server.removeListener(Yr.CONNECT), this._server.once(Yr.CONNECT, this._handleConnect, this), this._model.serverStatus = $a.a.CONNECTING, this._server.connect()
                }
            }, {
                key: "_handleConnectError",
                value: function(t) {
                    this._handleError(t, Yr.CONNECT, this._handleConnect)
                }
            }, {
                key: "_handleError",
                value: function(t, e, n) {
                    this._server.removeListener(e, n, this);
                    var i = JSON.stringify(t),
                        o = "".concat(this._model.status, ", SessionInfo: ").concat(this._server.getSessionInfo());
                    ts.logError("GambleClient Server Error: ".concat(i, " @ ").concat(o)), this._model.error = t
                }
            }, {
                key: "_handleConnect",
                value: function(t) {
                    this._handleServerConnectBase(t), this._connectUpdate(t), this.__logSpinResult(t.reels)
                }
            }, {
                key: "_connectUpdate",
                value: function(t) {
                    return this._slotModelManipulator.updateOnConnect(t), this._model.credits = t.credits, this._model.bet = t.bet, this._model.selectedWinlinesCount = t.selectedWinlinesCount, this._model.scatterGames = t.scatterGames, this._settingsModelManipulator.update(t), this._model
                }
            }, {
                key: "__logSpinResult",
                value: function(t) {
                    if (this.__shouldLogSpinResults) {
                        for (var e = [], n = 0; n < t.length; n++)
                            for (var i = 0; i < t[n].symbols.length; i++) e[i] = e[i] || [], e[i][n] = this.__symbolMap[t[n].symbols[i].id];
                        for (var o = 0; o < e.length; o++) {
                            for (var r = 0; r < t.length; r++) e[o][r] = e[o][r] || " ";
                            var a = o > 0 && o < 4 ? " | " : "   ",
                                s = "".concat(a).concat(e[o].join(" ")).concat(a);
                            console.log(s)
                        }
                    }
                }
            }, {
                key: "spin",
                value: function() {
                    this._server.once(Yr.SPIN_ERROR, this._handleSpinError, this), this._server.once(Yr.SPIN, this._handleSpin, this), this._server.spin(this._model.bet, this._model.selectedWinlinesCount)
                }
            }, {
                key: "_handleSpinError",
                value: function(t) {
                    this._handleError(t, Yr.SPIN, this._handleSpin)
                }
            }, {
                key: "_handleSpin",
                value: function(t) {
                    this._server.removeListener(Yr.SPIN_ERROR, this._handleSpinError, this), this._spinUpdate(t), this.__logSpinResult(t.reels)
                }
            }, {
                key: "_spinUpdate",
                value: function(t) {
                    this._slotModelManipulator.updateOnSpin(t), this._model.win = this._calculateWin(t);
                    var e = this._calculatePrematureBonusOnSpin(this._model.win);
                    return this._model.credits = t.credits - e, this._model.scatterGames = t.scatterGames, this._model
                }
            }, {
                key: "_calculatePrematureBonusOnSpin",
                value: function(t) {
                    var e = this._model.potWin || 0,
                        n = this._model.slot.model.scatterGameWinBonus || 0;
                    return t > 0 ? e : e + n
                }
            }, {
                key: "_calculateWin",
                value: function(t) {
                    var e = 0,
                        n = t.winlineWins;
                    n && n.forEach(function(t) {
                        e += isNaN(t.credits) ? 0 : Number(t.credits)
                    });
                    var i = t.scatterWin;
                    return i && (e += isNaN(i.credits) ? 0 : Number(i.credits)), t.special && t.special.winlineWins && t.special.winlineWins.forEach(function(t) {
                        e += isNaN(t.credits) ? 0 : Number(t.credits)
                    }), e
                }
            }, {
                key: "getGambleInfo",
                value: function() {
                    this._server.once(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError, this), this._server.once(Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo, this), this._server.getGambleInfo()
                }
            }, {
                key: "_handleGetGambleInfoError",
                value: function(t) {
                    this._handleError(t, Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo)
                }
            }, {
                key: "_handleGetGambleInfo",
                value: function(t) {
                    this._server.removeListener(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError, this), this._updateGetGambleInfo(t)
                }
            }, {
                key: "_updateGetGambleInfo",
                value: function(t) {
                    return this._gambleModelManipulator.update(t), this._slotModelManipulator.updateOnGamble(t), this._model.win = t.win, this._model.slot.model.willSwitchToRegular || (this._model.scatterGames = t.scatterGames), this._model
                }
            }, {
                key: "take",
                value: function() {
                    this._server.once(Yr.TAKE_ERROR, this._handleTakeError, this), this._server.once(Yr.TAKE, this._handleTake, this), this._server.take()
                }
            }, {
                key: "_handleTakeError",
                value: function(t) {
                    this._handleError(t, Yr.TAKE, this._handleTake)
                }
            }, {
                key: "_handleTake",
                value: function(t) {
                    this._server.removeListener(Yr.TAKE_ERROR, this._handleTakeError, this), this._slotModelManipulator.updateOnTake(t, {
                        win: this._model.win,
                        credits: this._model.credits
                    });
                    var e = this._model.slot.model,
                        n = e.scatterGameWinBonus || 0;
                    this._model.credits = t.credits - n, e.willSwitchToRegular || (e.scatterGameWinBonus ? this._model.scatterGames = {
                        current: this._model.scatterGames.current,
                        total: this._model.scatterGames.total,
                        win: this._model.scatterGames.win + this._model.win
                    } : this._model.scatterGames = t.scatterGames), this._model.win = 0
                }
            }, {
                key: "logout",
                value: function(t) {
                    this._server.logout(t)
                }
            }, {
                key: "gamble",
                value: function(t) {
                    this._server.once(Yr.GAMBLE_ERROR, this._handleGambleError, this), this._server.once(Yr.GAMBLE, this._handleGamble, this), this._server.gamble(t, this._model.win)
                }
            }, {
                key: "_handleGambleError",
                value: function(t) {
                    this._handleError(t, Yr.GAMBLE, this._handleGamble)
                }
            }, {
                key: "_handleGamble",
                value: function(t) {
                    this._server.removeListener(Yr.GAMBLE_ERROR, this._handleGambleError, this), this._updateGetGambleInfo(t)
                }
            }, {
                key: "getCredits",
                value: function() {
                    this._server.once(Yr.GET_CREDITS_ERROR, this._handleGetCreditsError, this), this._server.once(Yr.GET_CREDITS, this._handleGetCredits, this), this._server.getCredits()
                }
            }, {
                key: "_handleGetCreditsError",
                value: function(t) {
                    this._handleError(t, Yr.GET_CREDITS, this._handleGetCredits)
                }
            }, {
                key: "_handleGetCredits",
                value: function(t) {
                    this._server.removeListener(Yr.GET_CREDITS_ERROR, this._handleGetCreditsError, this);
                    var e = this._model.slot.model.mayGamble ? 0 : this._model.win;
                    this._model.potWin = t.credits - this._model.credits - e, this.emit(Yr.GET_CREDITS)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._server.destroy(), this._server.removeAllListeners(), this._server = null, this._slotModelManipulator = null
                }
            }]), e
    }();

    function ss(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var us = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this.DummyImplementation = Zr
            }
            return function(t, e, n) {
                e && ss(t.prototype, e), n && ss(t, n)
            }(t, [{
                key: "_createServer",
                value: function(t) {
                    var e = t.RemoteInterface,
                        n = t.Server,
                        i = t.authToken,
                        o = t.socket;
                    return new n(new e(this._config.url, o), this._config.gameId, i, this._config)
                }
            }, {
                key: "_createDummyServer",
                value: function(t) {
                    var e = new this.DummyImplementation(this._config.gameId);
                    return new as(t, e)
                }
            }, {
                key: "_createIGameServer",
                value: function(t, e, n) {
                    var i = this._createServer({
                        RemoteInterface: ja,
                        Server: Aa,
                        authToken: e,
                        socket: n
                    });
                    return new as(t, i)
                }
            }, {
                key: "createServer",
                value: function(t, e, n) {
                    return "dummyserver" === this._config.url ? this._createDummyServer(t) : this._createIGameServer(t, e, n)
                }
            }, {
                key: "_createOurServer",
                value: function(t, e) {
                    var n = this._createServer({
                        RemoteInterface: Da,
                        Server: Fa,
                        authToken: e
                    });
                    return new as(t, n)
                }
            }]), t
        }(),
        ls = {
            SMALL_WIN: "soundType.smallWin",
            BIG_WIN: "soundType.bigWin",
            SCATTER_WIN: "soundType.scatterWin",
            CSENGO_SHORT: "soundType.csengoShort",
            CSENGO: "soundType.csengo",
            CSENGO_LONG: "soundType.csengoLong",
            CONGRATULATIONS: "soundType.congratulations",
            SILENCE: "soundType.silence",
            toSoundType: function(t) {
                return "soundType." === t.substr(0, 10) ? t : "soundType.".concat(t)
            }
        };

    function cs(t) {
        return (cs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function hs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function fs(t, e) {
        return !e || "object" !== cs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _s(t) {
        return (_s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ys(t, e) {
        return (ys = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ds = function(t) {
        function e() {
            var t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (t = fs(this, _s(e).call(this)))._duration = Number(n), t
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ys(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && hs(t.prototype, e), n && hs(t, n)
            }(e, [{
                key: "play",
                value: function() {
                    var t = this;
                    return this._timeout = setTimeout(function() {
                        t.emit("end")
                    }, this._duration), this
                }
            }, {
                key: "stop",
                value: function() {
                    return this._timeout && clearTimeout(this._timeout), this.emit("end"), this
                }
            }, {
                key: "mute",
                value: function(t) {
                    return this
                }
            }, {
                key: "pause",
                value: function() {
                    return this._timeout && clearTimeout(this._timeout), this
                }
            }, {
                key: "state",
                value: function() {
                    return ""
                }
            }, {
                key: "unload",
                value: function() {
                    return this
                }
            }, {
                key: "load",
                value: function() {
                    return this
                }
            }, {
                key: "fade",
                value: function(t, e, n) {
                    return this
                }
            }, {
                key: "volume",
                value: function(t) {
                    return this
                }
            }, {
                key: "resetToWebAudio",
                value: function() {}
            }, {
                key: "getVolume",
                value: function() {
                    return 0
                }
            }]), e
    }();

    function ps(t) {
        return (ps = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ms(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function vs(t, e) {
        return !e || "object" !== ps(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function gs(t) {
        return (gs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function bs(t, e) {
        return (bs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ss = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = vs(this, gs(e).call(this)))._assets = t, i._howlerWrapper = n, i.SCATTER_BACKGROUND_MEDIUM_VOLUME = .2, i.SCATTER_BACKGROUND_LOW_VOLUME = .01, i._guard(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && bs(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && ms(t.prototype, e), n && ms(t, n)
                }(e, [{
                    key: "_guard",
                    value: function() {
                        if (!this._assets || !this._howlerWrapper) throw new Error("Members not initialized properly")
                    }
                }, {
                    key: "playStartup",
                    value: function() {
                        return this._assets.getStartup().play(), this
                    }
                }, {
                    key: "playDeny",
                    value: function() {
                        return this._assets.getDeny().play(), this
                    }
                }, {
                    key: "playCongratulations",
                    value: function() {
                        return this._assets.getCongratulations().play(), this
                    }
                }, {
                    key: "playCsengo",
                    value: function() {
                        return this._assets.getCsengo().play(), this
                    }
                }, {
                    key: "playCsengoLong",
                    value: function() {
                        return this._assets.getCsengoLong().play(), this
                    }
                }, {
                    key: "playCsengoShort",
                    value: function() {
                        return this._assets.getCsengoShort().play(), this
                    }
                }, {
                    key: "playMelody",
                    value: function() {
                        return this._instantlyStopMelody(), this._melody = this._assets.getRandomMelody(), this._melody.volume(1), this._melody.play(), this
                    }
                }, {
                    key: "_instantlyStopMelody",
                    value: function() {
                        return this._melody && (this._melody.stop(), this._melody = null), this
                    }
                }, {
                    key: "stopMelody",
                    value: function() {
                        return this._melody && (this._melody.softStop(), this._melody = null), this
                    }
                }, {
                    key: "playScatterMelody",
                    value: function() {
                        var t = this._assets.getRandomScatterMelody();
                        return t ? (this._instantlyStopMelody(), this._melody = t, this._melody.volume(1), this._melody.play()) : this._isPlayingScatterBackground || this.playMelody(), this
                    }
                }, {
                    key: "playReelStop",
                    value: function() {
                        return this._assets.getReelStop().play(), this
                    }
                }, {
                    key: "playScatter",
                    value: function(t, e) {
                        var n = this;
                        return this._stopScatter(), this._scatter = this._assets.getScatter(t), this._scatter ? e ? (this._scatterDelay = setTimeout(function() {
                            n._scatterDelay = null, n._scatter.play()
                        }, e), this) : (this._scatter.play(), this) : this
                    }
                }, {
                    key: "_stopScatter",
                    value: function() {
                        return this._scatterDelay && (clearTimeout(this._scatterDelay), this._scatterDelay = null), this._scatter && this._scatter.stop(), this
                    }
                }, {
                    key: "playBigWin",
                    value: function() {
                        return this._assets.getRandomBigWin().play(), this
                    }
                }, {
                    key: "playSmallWin",
                    value: function() {
                        return this._assets.getRandomSmallWin().play(), this
                    }
                }, {
                    key: "playScatterWin",
                    value: function() {
                        return this._assets.getScatterWin().play(), this
                    }
                }, {
                    key: "playScatterSpecialWin",
                    value: function(t) {
                        var e = this;
                        return this._specialWin && (this._specialWin.off("end"), this._specialWin.stop()), this._specialWin = this._assets.getScatterSpecialWin(t), this._specialWin && (this.isPlayingSequence = !0, this._specialWin.once("end", function() {
                            e.emit(p.SEQUENCE_COMPLETE), e.isPlayingSequence = !1
                        }), this._specialWin.play()), this
                    }
                }, {
                    key: "_playPayRun",
                    value: function() {
                        return this._playLoop(this._assets.getPayRun()), this
                    }
                }, {
                    key: "_stopPayRun",
                    value: function() {
                        return this._stopLoop(this._assets.getPayRun()), this
                    }
                }, {
                    key: "playTake",
                    value: function() {
                        return this._assets.getPayRun() ? this._playPayRun() : this._assets.getTake().play(), this
                    }
                }, {
                    key: "endTake",
                    value: function() {
                        return this._assets.getPayRun() && (this._stopPayRun(), this._assets.getTake().play()), this
                    }
                }, {
                    key: "playSlideIn",
                    value: function() {
                        return this._assets.getSlideIn().play(), this
                    }
                }, {
                    key: "playRisk",
                    value: function() {
                        return this._assets.getRisk().play(), this
                    }
                }, {
                    key: "playSlowDown",
                    value: function() {
                        return this._playOptionalSound(this._assets.getSlowDown()), this
                    }
                }, {
                    key: "playSlowDownLoop",
                    value: function() {
                        var t = this._assets.getSlowDownLoop();
                        return t && !this._isPlayingSlowDownLoop && (this._isPlayingSlowDownLoop = !0, this._playLoop(t)), this
                    }
                }, {
                    key: "stopSlowDownLoop",
                    value: function() {
                        var t = this._assets.getSlowDownLoop();
                        return t && (this._isPlayingSlowDownLoop = !1, this._stopLoop(t)), this
                    }
                }, {
                    key: "playSpecialPreWin",
                    value: function() {
                        return this._playOptionalSound(this._assets.getSpecialPreWin()), this
                    }
                }, {
                    key: "_playOptionalSound",
                    value: function(t, e) {
                        var n = this;
                        t && (e && t.once("end", function() {
                            n.emit(e)
                        }), t.play())
                    }
                }, {
                    key: "stopSpecialPreWin",
                    value: function() {
                        return this._stopOptionalSound(this._assets.getSpecialPreWin()), this
                    }
                }, {
                    key: "_stopOptionalSound",
                    value: function(t) {
                        t && t.stop()
                    }
                }, {
                    key: "playAfterSpin",
                    value: function() {
                        return this._playOptionalSound(this._assets.getAfterSpin()), this
                    }
                }, {
                    key: "playScatterGameWinBonus",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterGameWinBonus()), this
                    }
                }, {
                    key: "playWaiting",
                    value: function() {
                        return this._playLoop(this._assets.getWaiting()), this
                    }
                }, {
                    key: "_playLoop",
                    value: function(t) {
                        t && (t.stop(), t.enableLoop(), t.play())
                    }
                }, {
                    key: "_stopLoop",
                    value: function(t) {
                        t && (t.disableLoop(), t.stop())
                    }
                }, {
                    key: "stopWaiting",
                    value: function() {
                        return this._stopLoop(this._assets.getWaiting()), this
                    }
                }, {
                    key: "playWinBackgroundMelody",
                    value: function() {
                        return this._playLoop(this._assets.getWinBackgroundMelody()), this
                    }
                }, {
                    key: "stopWinBackgroundMelody",
                    value: function() {
                        var t = this._assets.getWinBackgroundMelody();
                        return t && this._stopLoop(t), this
                    }
                }, {
                    key: "playScatterBackgroundMelody",
                    value: function() {
                        var t = this._assets.getScatterBackgroundMelody();
                        if (t && !this._isPlayingScatterBackground) {
                            this._isPlayingScatterBackground = !0, this._playLoop(t);
                            t.fade(0, 1, 5e3)
                        }
                        return this
                    }
                }, {
                    key: "setScatterBackgroundMelodyMediumVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(this.SCATTER_BACKGROUND_MEDIUM_VOLUME)
                    }
                }, {
                    key: "_setScatterBackgroundMelodyVolume",
                    value: function(t) {
                        var e = this._assets.getScatterBackgroundMelody();
                        if (e && this._isPlayingScatterBackground) {
                            var n = e.getVolume(),
                                i = t;
                            e.fade(n, i, 500)
                        }
                        return this
                    }
                }, {
                    key: "setScatterBackgroundMelodyLowVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(this.SCATTER_BACKGROUND_LOW_VOLUME)
                    }
                }, {
                    key: "setScatterBackgroundMelodyFullVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(1)
                    }
                }, {
                    key: "stopScatterBackgroundMelody",
                    value: function() {
                        var t = this._assets.getScatterBackgroundMelody();
                        return t && (this._isPlayingScatterBackground = !1, this._stopLoop(t)), this
                    }
                }, {
                    key: "playScatterHeaderIntro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterHeaderIntroSound()), this
                    }
                }, {
                    key: "playTransform",
                    value: function() {
                        var t = this._assets.getTransformSound();
                        return this._playOptionalSound(t), this
                    }
                }, {
                    key: "playScatterTransform",
                    value: function() {
                        var t = this._assets.getScatterTransformSound() || this._assets.getScatterHeaderIntroSound();
                        return this._playOptionalSound(t), this
                    }
                }, {
                    key: "playScatterSelectIntro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterSelectIntroSound(), p.SCATTER_SELECT_COMPLETE), this
                    }
                }, {
                    key: "playScatterSelectIntroLoop",
                    value: function() {
                        return this._playLoop(this._assets.getScatterSelectIntroSound()), this
                    }
                }, {
                    key: "stopScatterSelectIntroLoop",
                    value: function() {
                        return this._stopLoop(this._assets.getScatterSelectIntroSound()), this
                    }
                }, {
                    key: "playScatterOutro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterOutro()), this
                    }
                }, {
                    key: "playScatterAnnounce",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterAnnounce()), this
                    }
                }, {
                    key: "_stopScatterAnnounce",
                    value: function() {
                        return this._stopOptionalSound(this._assets.getScatterAnnounce()), this
                    }
                }, {
                    key: "playCardFlip",
                    value: function() {
                        return this._playLoop(this._assets.getCardFlip()), this
                    }
                }, {
                    key: "stopCardFlip",
                    value: function() {
                        return this._stopLoop(this._assets.getCardFlip()), this
                    }
                }, {
                    key: "playGambleLost",
                    value: function() {
                        var t = this,
                            e = this._assets.getGambleLost();
                        return e.once("end", function() {
                            t.emit(p.GAMBLE_COMPLETE)
                        }), e.play(), this
                    }
                }, {
                    key: "playGambleWin",
                    value: function(t) {
                        var e = this,
                            n = this._assets.getGambleWin(t || 0);
                        return n.once("end", function() {
                            e.emit(p.GAMBLE_COMPLETE)
                        }), n.play(), this
                    }
                }, {
                    key: "playPotWin",
                    value: function(t) {
                        var e = this;
                        return this._stopPotWin(), this._potWin = this._assets.getPotWin(t || 0), this._potWin.once("end", function() {
                            e.emit(p.POT_COMPLETE), e._potWin = null
                        }), this._potWin.play(), this
                    }
                }, {
                    key: "_stopPotWin",
                    value: function() {
                        this._potWin && (this._potWin.off("end"), this._potWin.stop(), this._potWin = null)
                    }
                }, {
                    key: "playMessage",
                    value: function() {
                        return this._assets.getMessage().play(), this
                    }
                }, {
                    key: "playGambleAutoTake",
                    value: function() {
                        return this._assets.getGambleAutoTake().play(), this
                    }
                }, {
                    key: "playSequence",
                    value: function(t) {
                        var e = this;
                        this.stopSequence();
                        var n = this._fromSequence(t);
                        if (n.length > 1)
                            for (var i = 0; i < n.length - 1; i += 1) this._chainSounds(n[i], n[i + 1]);
                        n.length && (this.isPlayingSequence = !0, n[n.length - 1][0].once("end", function() {
                            e.emit(p.SEQUENCE_COMPLETE), e.isPlayingSequence = !1
                        }), n[0].forEach(function(t) {
                            t.play()
                        }), this._sequence = n);
                        return this
                    }
                }, {
                    key: "_fromSequence",
                    value: function(t) {
                        var e = this;
                        return t.map(function(t) {
                            return (Array.isArray(t) ? t : [t]).map(function(t) {
                                return e._getSoundByType(ls.toSoundType(t))
                            })
                        })
                    }
                }, {
                    key: "_chainSounds",
                    value: function(t, e) {
                        t[0].once("end", function() {
                            e.forEach(function(t) {
                                t.play()
                            })
                        })
                    }
                }, {
                    key: "_getSoundByType",
                    value: function(t) {
                        var e = t.split(":");
                        switch (e[0]) {
                            case ls.SMALL_WIN:
                                return e.length > 1 ? this._assets.getSmallWin(e[1]) : this._assets.getRandomSmallWin();
                            case ls.BIG_WIN:
                                return e.length > 1 ? this._assets.getBigWin(e[1]) : this._assets.getRandomBigWin();
                            case ls.SCATTER_WIN:
                                return e.length > 1 ? this._assets.getScatterWin(e[1]) : this._assets.getRandomScatterWin();
                            case ls.CSENGO_SHORT:
                                return this._assets.getCsengoShort();
                            case ls.CSENGO:
                                return this._assets.getCsengo();
                            case ls.CSENGO_LONG:
                                return this._assets.getCsengoLong();
                            case ls.CONGRATULATIONS:
                                return this._assets.getCongratulations();
                            case ls.SILENCE:
                                return e.length > 1 ? this._createSilence(e[1]) : this._createSilence();
                            default:
                                return ts.logWarning("Unknown soundType ".concat(t)), this._createSilence()
                        }
                    }
                }, {
                    key: "_createSilence",
                    value: function(t) {
                        return new ds(t)
                    }
                }, {
                    key: "stopSequence",
                    value: function() {
                        return this.isPlayingSequence = !1, this._sequence && this._sequence.forEach(function(t) {
                            t.forEach(function(t) {
                                t.off("end"), t.stop()
                            })
                        }), this
                    }
                }, {
                    key: "mute",
                    value: function() {
                        return this._howlerWrapper.mute(!0), this
                    }
                }, {
                    key: "setHalfVolume",
                    value: function() {
                        return this._howlerWrapper.volume(.4), this._howlerWrapper.mute(!1), this
                    }
                }, {
                    key: "setFullVolume",
                    value: function() {
                        return this._howlerWrapper.volume(1), this._howlerWrapper.mute(!1), this
                    }
                }, {
                    key: "getVolume",
                    value: function() {
                        return this._howlerWrapper.getVolume()
                    }
                }, {
                    key: "stop",
                    value: function() {
                        return this.stopMelody().stopWaiting().stopSpecialPreWin().stopCardFlip().stopSequence()._stopPayRun()._stopScatterAnnounce(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.stopSequence(), this._sequence = null, this._assets = null, this._melody = null, this._scatter = null, this._potWin = null, clearTimeout(this._scatterDelay), this._scatterDelay = null, this._howlerWrapper = null
                    }
                }]), e
        }(),
        ws = n(67);

    function ks(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Es = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._assets = e
            }
            return function(t, e, n) {
                e && ks(t.prototype, e), n && ks(t, n)
            }(t, [{
                key: "create",
                value: function() {
                    return new Ss(this._assets, new ws.a)
                }
            }]), t
        }(),
        Ts = n(10),
        Cs = n(18),
        Os = n(4),
        As = n(35);

    function Ps(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Is = function() {
        function t(e) {
            var n = e.model,
                i = e.view,
                o = e.server,
                r = e.config;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = n, this._view = i, this._server = o, this._config = r;
            var a = this._model.potServerConfigs.length > 0 ? this._model.potServerConfigs : Pr.a.getPotConfigs();
            a && a.length > 0 && this._consolidatePotConfigs(a), this._model.on(Ts.a.POT_HITS_CHANGE, this._handlePotHits, this)
        }
        return function(t, e, n) {
            e && Ps(t.prototype, e), n && Ps(t, n)
        }(t, [{
            key: "_consolidatePotConfigs",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    e = this._config.text.pots,
                    n = e.map(function(t) {
                        return t.id
                    });
                this._model.potConfigs = t.map(function(t) {
                    var i = t.id.slice(-2),
                        o = n.indexOf(i),
                        r = o > -1 ? o : 0;
                    return {
                        id: t.id,
                        label: t.label || t.name,
                        maxValue: e[r].maxValue,
                        moveDuration: e[r].moveDuration,
                        win: e[r].win,
                        x: e[r].x,
                        y: e[r].y
                    }
                })
            }
        }, {
            key: "_handlePotHits",
            value: function(t, e) {
                var n = this;
                this._model.potConfigs.forEach(function(t, i) {
                    var o = e[t.id];
                    if (o && o.self && o.now) {
                        n._model.potWin = o.winAmount;
                        var r = n._createPotCompleteHandler(t, o);
                        n._model.slot.controller.once(d.a.POT_COMPLETE, r, n), n._model.slot.controller.announcePot(i, o.winAmount), n._server.once(Yr.GET_CREDITS, n._setWaitingForCreditsFalse, n), n._waitingForCredits = !0, n._server.getCredits()
                    }
                })
            }
        }, {
            key: "_setWaitingForCreditsFalse",
            value: function() {
                this._waitingForCredits = !1
            }
        }, {
            key: "_createPotCompleteHandler",
            value: function(t, e) {
                return function() {
                    var n = this,
                        i = this._createPotMessage(t, e);
                    this._model.slot.controller.message(), this._queuedPotMessage ? this._view.showAlert(i, function() {
                        n._view.showAlert(n._queuedPotMessage, n._confirmPot.bind(n))
                    }) : (this._view.showAlert(i, this._confirmPot.bind(this)), this._queuedPotMessage = i)
                }
            }
        }, {
            key: "_confirmPot",
            value: function() {
                this._queuedPotMessage = "", this._view.hideAlert(), this._waitingForCredits ? this._server.once(Yr.GET_CREDITS, this._takePot, this) : this._takePot()
            }
        }, {
            key: "_takePot",
            value: function() {
                this._model.credits += this._model.potWin, this._model.potWin = 0, this._model.slot.controller.takePot()
            }
        }, {
            key: "_createPotMessage",
            value: function(t, e) {
                var n = this._config.language.potWin;
                return (n = n.replace("%LABEL%", t.label)).replace("%WINAMOUNT%", Qi.a.formatCredit(e.winAmount, this._config.text.format))
            }
        }, {
            key: "destroy",
            value: function() {
                this._model.off(Ts.a.POT_HITS_CHANGE, this._handlePotHits), this._model = null, this._view = null, this._server.removeListener(Yr.GET_CREDITS, this._setWaitingForCreditsFalse), this._server.removeListener(Yr.GET_CREDITS, this._takePot), this._server = null, this._config = null
            }
        }]), t
    }();

    function xs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Rs = function() {
            function t(e) {
                var n = e.model,
                    i = e.view,
                    o = e.config;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = n, this._view = i, this._config = o
            }
            return function(t, e, n) {
                e && xs(t.prototype, e), n && xs(t, n)
            }(t, [{
                key: "showStartupMessages",
                value: function() {
                    var t = this,
                        e = !Os.a.isBigScreen() || this._config.desktop.requestFullscreen,
                        n = Os.a.isNarrowScreen(this._config.display),
                        i = e && !Os.a.isFullscreen() && !n,
                        o = Os.a.isOptimalBrowser(),
                        r = o ? this._config.language.welcome : this._config.language.browserWarning,
                        a = i ? function() {
                            t._model.slot.controller.activate(), t._confirmChangeToFullscreen()
                        } : function() {
                            t._model.slot.controller.activate(), t._view.hideAlert()
                        };
                    return !i && o || (this._model.slot.controller.deactivate(), this._view.showAlert(r, a)), e && this._view.on(Sn.a.REQUEST_FULLSCREEN, this._changeToFullscreen, this), this._view
                }
            }, {
                key: "_confirmChangeToFullscreen",
                value: function() {
                    return this._changeToFullscreen(), this._view.hideAlert(), this._view
                }
            }, {
                key: "_changeToFullscreen",
                value: function() {
                    Os.a.requestFullscreen(), this._view.updateInteractionState()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model = null, this._view.removeListener(Sn.a.REQUEST_FULLSCREEN, this._changeToFullscreen), this._view = null, this._config = null
                }
            }]), t
        }(),
        Ws = {
            STATUS_CHANGE: "change:status"
        };

    function Ns(t) {
        return (Ns = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function js(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ls(t, e) {
        return !e || "object" !== Ns(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Gs(t) {
        return (Gs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ms(t, e) {
        return (Ms = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Bs = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.server,
                a = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Ls(this, Gs(e).call(this)))._model = i, n._view = o, n._server = r, n._config = a, n._waitingFor = {}, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ms(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && js(t.prototype, e), n && js(t, n)
            }(e, [{
                key: "_handleTake",
                value: function() {
                    this._model.mode = this._model.slot, this._model.once(Ts.a.CREDITS_CHANGE, this._setWaitingForTakeFalse, this), this._waitingFor.take = !0, this._server.take()
                }
            }, {
                key: "_setWaitingForTakeFalse",
                value: function() {
                    this._waitingFor.take = !1
                }
            }, {
                key: "_handleSettings",
                value: function() {
                    this._model.mode = this._model.settings
                }
            }, {
                key: "update",
                value: function() {
                    this._updateAppStatus(), this._getMode().model.off(Ws.STATUS_CHANGE, this._updateAppStatus), this._getMode().model.on(Ws.STATUS_CHANGE, this._updateAppStatus, this)
                }
            }, {
                key: "_updateAppStatus",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.status = this._getMode().model.status)
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.mode
                }
            }, {
                key: "destroy",
                value: function() {
                    this._getMode().model.off(Ws.STATUS_CHANGE, this._updateAppStatus), this._model.off(Ts.a.CREDITS_CHANGE, this._setWaitingForTakeFalse), this._model = null, this._view = null, this._server = null, this._config = null, this._waitingFor = null
                }
            }]), e
    }();

    function Fs(t) {
        return (Fs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Hs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ds(t, e) {
        return !e || "object" !== Fs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ks(t) {
        return (Ks = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Us(t, e) {
        return (Us = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ys = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.server,
                a = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Ds(this, Ks(e).call(this, {
                model: i,
                view: o,
                server: r,
                config: a
            })))._cache = {
                previousScatterTotal: 0
            }, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Us(t, e)
            }(e, Bs),
            function(t, e, n) {
                e && Hs(t.prototype, e), n && Hs(t, n)
            }(e, [{
                key: "init",
                value: function() {
                    var t = this._getMode().model;
                    t.on(m.a.GAME_TYPE_CHANGE, this._handleChangeGameType, this), t.on(m.a.MAY_TURBO_CHANGE, this._handleChangeMayTurbo, this), t.on(m.a.STATUS_CHANGE, this._handleChangeStatus, this);
                    var e = this._getMode().controller;
                    e.on(d.a.SPIN, this._handleSpin, this), e.on(d.a.GAMBLE, this._handleGamble, this), e.on(d.a.TAKE, this._handleTake, this), e.on(d.a.SETTINGS, this._handleSettings, this), e.on(d.a.EXIT, this._handleExit, this), e.on(d.a.WINLINE_NUMBER_TAP, this._handleWinlineNumberTap, this), this._model.once(Ts.a.SCATTER_GAMES_CHANGE, this._handleScatterGamesChange, this), this._model.on(Ts.a.SELECTED_WINLINES_COUNT_CHANGE, this._handleSelectedWinlinesCountChange, this), this._model.on(Ts.a.BET_CHANGE, this._handleBetChange, this), this._view.addToTop(this._getMode().view.getWinTextContainer()), this._view.addToTop(this._getMode().view.getWinMessageContainer()), this._getMode().view.addToBackground(this._view.getScatterGamesWidget())
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.slot
                }
            }, {
                key: "_handleChangeGameType",
                value: function(t, e) {
                    this._model.settings.model.gameType = e, this._model.gamble.model.gameType = e
                }
            }, {
                key: "_handleChangeMayTurbo",
                value: function(t, e) {
                    this._model.settings.controller.updateTurboSetting({
                        enabled: e
                    })
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    var n = this._getMode();
                    n.model.isFirstWalk && n.model.bonusType === c.a.BEFORE_WINLINE_WALK ? this._updateScatterGameWinBonus() : e === f.a.READY && (this._updateScatterGames(), this._cache.previousScatterTotal < this._model.scatterGames.total && n.controller.announceScatter(), n.model.scatterMessage = this._getScatterMessage(), n.model.scatterMessage && (n.model.autoPlayEnabled = !1), n.model.willSwitchToRegular && (n.model.gameType = n.model.nextGameType), this._cache.previousScatterTotal = this._model.scatterGames.total)
                }
            }, {
                key: "_updateScatterGameWinBonus",
                value: function() {
                    var t = this._getMode(),
                        e = this._model.scatterGames;
                    this._model.scatterGames = {
                        current: e.current,
                        total: e.total,
                        win: e.win + t.model.scatterGameWinBonus
                    }, this._model.credits += t.model.scatterGameWinBonus, t.model.scatterGameWinBonus = 0
                }
            }, {
                key: "_updateScatterGames",
                value: function() {
                    var t = this._getMode(),
                        e = this._model.scatterGames,
                        n = t.model.nextGameType === h.a.SCATTER;
                    t.model.willSwitchToRegular ? this._model.scatterGames = {
                        current: 0,
                        total: e.total,
                        win: e.win + t.model.takenAmount + t.model.scatterGameWinBonus
                    } : e.total && e.current < e.total && n && (this._model.scatterGames = {
                        current: e.current + 1,
                        total: e.total,
                        win: e.win + t.model.scatterGameWinBonus
                    }), this._model.credits += t.model.scatterGameWinBonus, t.model.scatterGameWinBonus = 0
                }
            }, {
                key: "_getScatterMessage",
                value: function() {
                    return this._getMode().model.willSwitchToRegular ? this._getEndScatterMessage() : !this._cache.previousScatterTotal && this._model.scatterGames.total ? this._getBeginScatterMessage() : this._cache.previousScatterTotal < this._model.scatterGames.total ? this._getMoreScatterMessage() : ""
                }
            }, {
                key: "_getEndScatterMessage",
                value: function() {
                    var t = this._config.language.endScatter;
                    if (t) {
                        var e = t,
                            n = this._config.text.format,
                            i = Qi.a.formatCredit(this._model.scatterGames.win, n);
                        return (e = e.replace("%WIN%", "".concat(i, " ").concat(n.currency))).replace("%GAMES%", this._model.scatterGames.total)
                    }
                    return ""
                }
            }, {
                key: "_getBeginScatterMessage",
                value: function() {
                    var t = this._config.language.beginScatter;
                    return t ? t.replace("%GAMES%", this._model.scatterGames.total) : ""
                }
            }, {
                key: "_getMoreScatterMessage",
                value: function() {
                    var t = this._config.language.moreScatter;
                    if (t) {
                        var e = this._model.scatterGames.total - this._cache.previousScatterTotal;
                        return t.replace("%GAMES%", e)
                    }
                    return ""
                }
            }, {
                key: "_handleSpin",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.hasSufficientFunds ? this._spin() : this._cancelSpin())
                }
            }, {
                key: "_spin",
                value: function() {
                    return this._waitingFor.take ? this._model.once(Ts.a.CREDITS_CHANGE, this._serverSpin, this) : this._serverSpin(), this
                }
            }, {
                key: "_serverSpin",
                value: function() {
                    this._server.spin()
                }
            }, {
                key: "_cancelSpin",
                value: function() {
                    return this._view.showAlert(this._config.text.status.insufficientFunds, this._view.hideAlert.bind(this._view)), this.emit(Cs.a.CANCEL), this
                }
            }, {
                key: "_handleGamble",
                value: function() {
                    this._model.mode = this._model.gamble
                }
            }, {
                key: "_handleExit",
                value: function() {
                    var t = this._getMode().model;
                    if (t.gameType === h.a.REGULAR || t.willSwitchToRegular) this.emit(Cs.a.EXIT);
                    else {
                        var e = this._config.language.cantQuitScatter,
                            n = this._view.hideAlert.bind(this._view);
                        this._view.showAlert(e, n)
                    }
                }
            }, {
                key: "_handleWinlineNumberTap",
                value: function() {
                    var t = this._model.settings.model,
                        e = this._model.slot.model;
                    if (t.winlineSelections.length > 1 && !e.isInScatter) {
                        var n = t.winlines === Ki.HIGH_COUNT;
                        t.winlines = n ? Ki.LOW_COUNT : Ki.HIGH_COUNT
                    }
                }
            }, {
                key: "_handleScatterGamesChange",
                value: function(t, e) {
                    this._cache.previousScatterTotal = e.total
                }
            }, {
                key: "_handleSelectedWinlinesCountChange",
                value: function(t, e) {
                    this._model.settings.model.selectedWinlinesCount = e, this._getMode().view.setSelectedWinlines(e)
                }
            }, {
                key: "_handleBetChange",
                value: function(t, e) {
                    this._getMode().model.bet = e
                }
            }, {
                key: "update",
                value: function() {
                    this._getMode().model.status = this._getNextStatus(), Bs.prototype.update.call(this)
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.win > 0 ? f.a.TAKING : this._getMode().model.willSwitchToScatter ? f.a.BEFORE_SCATTER : this._getMode().model.hasScatterSelection ? f.a.SCATTER_SELECT : this._getMode().model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._getMode().model.status === f.a.READY ? f.a.READY : f.a.BEFORE_READY
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(Ts.a.CREDITS_CHANGE, this._serverSpin), Bs.prototype.destroy.call(this)
                }
            }]), e
    }();

    function qs(t) {
        return (qs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Vs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Xs(t, e) {
        return !e || "object" !== qs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function zs(t) {
        return (zs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Qs(t, e) {
        return (Qs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Js = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.server,
                r = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Xs(this, zs(e).call(this, {
                model: n,
                view: i,
                server: o,
                config: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Qs(t, e)
            }(e, Bs),
            function(t, e, n) {
                e && Vs(t.prototype, e), n && Vs(t, n)
            }(e, [{
                key: "init",
                value: function() {
                    var t = this._getMode().controller;
                    return t.on(pn.TAKE, this._handleTake, this), t.on(pn.DONE, this._handleDone, this), t.on(pn.SETTINGS, this._handleSettings, this), t.on(pn.SELECT_BLACK, this._createSelectHandler(ri.BLACK), this), t.on(pn.SELECT_RED, this._createSelectHandler(ri.RED), this), this
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.gamble
                }
            }, {
                key: "_handleDone",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.mode = this._model.slot, this._handleForcedAutoTake())
                }
            }, {
                key: "_handleForcedAutoTake",
                value: function() {
                    this._model.credits += this._model.win, this._model.slot.model.takenAmount = this._model.win, this._model.win = 0
                }
            }, {
                key: "_createSelectHandler",
                value: function(t) {
                    return function() {
                        var e = this;
                        this._model.mode === this._getMode() && (this._waitingFor.getGambleInfo ? this._getMode().model.once(mn.STAKE_CHANGE, function() {
                            e._server.gamble(t)
                        }) : this._server.gamble(t))
                    }
                }
            }, {
                key: "update",
                value: function() {
                    this._getMode().controller.start(), this._getMode().model.on(mn.STAKE_CHANGE, this._setWaitingForGambleInfoFalse, this), this._waitingFor.getGambleInfo = !0, this._server.getGambleInfo(), Bs.prototype.update.call(this)
                }
            }, {
                key: "_setWaitingForGambleInfoFalse",
                value: function() {
                    this._waitingFor.getGambleInfo = !1
                }
            }]), e
    }();

    function $s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Zs = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = e, this._view = n
            }
            return function(t, e, n) {
                e && $s(t.prototype, e), n && $s(t, n)
            }(t, [{
                key: "init",
                value: function() {
                    this._initSettings(), this._addSettingsListeners(), this._model.on(Ts.a.SCATTER_GAMES_CHANGE, this._handleScatterGamesChange, this), this._model.once(Ts.a.SELECTED_WINLINES_COUNT_CHANGE, this._handleSelectedWinlinesCountChange, this)
                }
            }, {
                key: "_initSettings",
                value: function() {
                    var t = this._model.slot.model,
                        e = this._model.settings.model;
                    this._model.settings.controller.updateTurboSetting({
                        enabled: t.mayTurbo
                    }), t.wantsGamble = e.wantsGamble, t.wantsTurbo = e.wantsTurbo, e.controlsAlignment === Fi.LEFT && this._view.switchControlsAlignment()
                }
            }, {
                key: "_addSettingsListeners",
                value: function() {
                    this._model.settings.controller.on(Yi.BACK, this._handleBack, this);
                    var t = this._model.settings.model;
                    return t.on(Vi.BET_CHANGE, this._handleChangeBet, this), t.on(Vi.WINLINES_CHANGE, this._handleWinlinesChange, this), t.on(Vi.WANTS_GAMBLE_CHANGE, this._handleChangeWantsGamble, this), t.on(Vi.WANTS_TURBO_CHANGE, this._handleChangeWantsTurbo, this), t.on(Vi.CONTROLS_ALIGNMENT_CHANGE, this._handleChangeControlsAlignment, this), this
                }
            }, {
                key: "_handleBack",
                value: function() {
                    this._model.mode = this._model.previousMode
                }
            }, {
                key: "_handleChangeBet",
                value: function() {
                    this._model.bet = this._model.settings.model.bet
                }
            }, {
                key: "_handleWinlinesChange",
                value: function() {
                    var t = this._model.settings.model;
                    t.winlineSelections.length > t.winlines && (this._model.selectedWinlinesCount = t.winlineSelections[t.winlines])
                }
            }, {
                key: "_handleChangeWantsGamble",
                value: function(t, e) {
                    this._model.slot.model.wantsGamble = e
                }
            }, {
                key: "_handleChangeWantsTurbo",
                value: function(t, e) {
                    this._model.slot.model.wantsTurbo = e
                }
            }, {
                key: "_handleChangeControlsAlignment",
                value: function() {
                    this._view.switchControlsAlignment()
                }
            }, {
                key: "_handleScatterGamesChange",
                value: function(t, e) {
                    this._model.settings.model.isInScatter = Boolean(e.total)
                }
            }, {
                key: "_handleSelectedWinlinesCountChange",
                value: function(t, e) {
                    var n = this._model.settings.model;
                    n.winlineSelections.indexOf(e) > 0 && (n.winlines = Ki.HIGH_COUNT)
                }
            }, {
                key: "update",
                value: function() {
                    this._model.settings.controller.update()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.settings.controller.removeListener(Yi.BACK, this._handleBack);
                    var t = this._model.settings.model;
                    t.off(Vi.BET_CHANGE, this._handleChangeBet), t.off(Vi.WANTS_GAMBLE_CHANGE, this._handleChangeWantsGamble), t.off(Vi.WANTS_TURBO_CHANGE, this._handleChangeWantsTurbo), t.off(Vi.CONTROLS_ALIGNMENT_CHANGE, this._handleChangeControlsAlignment), this._model = null, this._view = null
                }
            }]), t
        }(),
        tu = n(65),
        eu = n(27);

    function nu(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var iu = function() {
        function t(e) {
            var n = e.model,
                i = e.view,
                o = e.config,
                r = e.assets,
                a = e.layoutAdjuster,
                s = e.authToken,
                u = e.socket,
                l = e.exitCallback,
                c = e.beforeExitCallback,
                h = e.logService;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = n, this._view = i, this._config = o, this._assets = r, this._layoutAdjuster = a, this._authToken = s || Pr.a.retrieveAuthToken(), this._socket = u, this._exitCallback = l, this._beforeExitCallback = c, this._strategies = {}, ts.logService = h, ts.logInfo("Player started game: ".concat(o.server.gameId, " at ").concat(o.server.url)), this._init()
        }
        return function(t, e, n) {
            e && nu(t.prototype, e), n && nu(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                var t = this,
                    e = this._createModeFactory();
                this._model.preload = e.createPreload(), this._model.mode = this._model.preload, this._view.on(Cs.a.DIALOG_CONFIRM, this._handleDialogConfirm, this), this._view.on(Cs.a.CRITICAL_FAULT_CONFIRM, this._handleCriticalFault, this), this._view.on(Cs.a.REQUEST_FULLSCREEN, this._handleRequestFullscreen, this), this._waitingFor = {};
                var n = this._createLoadedAssetsHandler(e);
                return this._assets.on(As.a.COMPLETE, n, this), this._assets.on(As.a.PROGRESS, this._handleAssetsProgress, this), this._assets.on(As.a.ERROR, this._handleAssetsError, this), this._createFontLoader().loadFonts(this._config.fonts, function() {
                    t._assets.preload()
                }), this._keyboardControls = this._createKeyboardControls(), this._keyboardControls.onKeyDown(eu.a.F, function() {
                    var e = t._model.settings.model;
                    e.turbo = e.turbo === Di.ON ? Di.OFF : Di.ON
                }), Os.a.addBeforeUnloadListener(function() {}, function() {
                    t._handleExit()
                }), this
            }
        }, {
            key: "_createModeFactory",
            value: function() {
                return new Mr(this._config.modes, this._assets, this._layoutAdjuster, new Es(this._assets))
            }
        }, {
            key: "_handleDialogConfirm",
            value: function(t) {
                t.isCritical ? this._handleExit() : t.code > 0 && (this._view.hideAlert(), this._cancelLastAction(), this._model.mode === this._model.preload && this._server.connect()), this._model.error = null
            }
        }, {
            key: "_cancelLastAction",
            value: function() {
                return this._model.mode.controller && this._model.mode.controller.cancel && this._model.mode.controller.cancel(), this._model.mode.controller
            }
        }, {
            key: "_createLoadedAssetsHandler",
            value: function(t) {
                return function() {
                    this._model.slot = t.createSlot(), this._model.gamble = t.createGamble(), this._model.settings = t.createSettings(), this._model.on(Ts.a.MODE_CHANGE, this._handleModeChange, this), this._view.on(Cs.a.BET_SETTINGS_TAP, this._handleBetSettingsTap, this), this._view.on(Cs.a.WIN_COUNT_COMPLETE, this._handleWinCountComplete, this);
                    var e = this._createServerFactory();
                    this._server = e.createServer(this._model, this._authToken, this._socket), this._strategies.slot = this._getSlotStrategy(), this._strategies.gamble = this._getGambleStrategy(), this._strategies.settings = this._getSettingsStrategy(), this._server.once(Yr.CONNECT, this._handleServerConnect, this), this._server.connect()
                }
            }
        }, {
            key: "_getSlotStrategy",
            value: function() {
                return this._strategies.slot = this._strategies.slot || new Ys({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.slot
            }
        }, {
            key: "_getGambleStrategy",
            value: function() {
                return this._strategies.gamble = this._strategies.gamble || new Js({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.gamble
            }
        }, {
            key: "_getSettingsStrategy",
            value: function() {
                return this._strategies.settings = this._strategies.settings || new Zs(this._model, this._view), this._strategies.settings
            }
        }, {
            key: "_handleModeChange",
            value: function(t, e) {
                switch (t.previousMode = t.previousAttributes().mode, e) {
                    case t.slot:
                        this._strategies.slot.update();
                        break;
                    case t.gamble:
                        this._strategies.gamble.update();
                        break;
                    case t.settings:
                        this._strategies.settings.update()
                }
            }
        }, {
            key: "_handleBetSettingsTap",
            value: function() {
                var t = this._model.slot.model;
                this._model.status === f.a.READY && !t.autoPlayEnabled && t.isActive && (this._model.mode = this._model.settings, this._model.settings.controller.changeToBetSettings())
            }
        }, {
            key: "_handleWinCountComplete",
            value: function() {
                this._model.mode.controller.endTake()
            }
        }, {
            key: "_handleServerConnect",
            value: function() {
                var t = this;
                Os.a.removeBeforeUnloadListener(), Os.a.addBeforeUnloadListener(function() {
                    return t._model.scatterGames.total > 0 && !t._model.slot.model.willSwitchToRegular ? t._config.language.unloadScatterWarning : t._model.win > 0 ? t._config.language.unloadWinningsWarning : null
                }, function() {
                    t._handleExit()
                }), this._model.mode = this._model.slot, this._model.mode.controller.startup(), this._initPots(), this._initStartup(), this._strategies.settings.init(), this._strategies.slot.init(), this._strategies.slot.on(Cs.a.CANCEL, this._cancelLastAction, this), this._strategies.slot.on(Cs.a.EXIT, this._handleExit, this), this._strategies.gamble.init()
            }
        }, {
            key: "_initPots",
            value: function() {
                return this._strategies.pot = this._strategies.pot || new Is({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.pot
            }
        }, {
            key: "_initStartup",
            value: function() {
                return this._strategies.startup = this._strategies.startup || new Rs({
                    model: this._model,
                    view: this._view,
                    config: this._config
                }), this._strategies.startup.showStartupMessages(), this._strategies.startup
            }
        }, {
            key: "_createServerFactory",
            value: function() {
                return new us(this._config.server)
            }
        }, {
            key: "_handleExit",
            value: function() {
                this._prepareExit(), this._tryGracefulExit()
            }
        }, {
            key: "_prepareExit",
            value: function() {
                return Os.a.removeBeforeUnloadListener(), Pr.a.clearAuthToken(), this._model.slot && (this._model.slot.model.autoPlayEnabled = !1), this._beforeExitCallback && this._beforeExitCallback.call(this), this
            }
        }, {
            key: "_tryGracefulExit",
            value: function() {
                var t = this,
                    e = function() {
                        t._exitCallback && t._exitCallback.call(t, {
                            credits: t._model.credits,
                            pots: t._model.pots
                        })
                    };
                return this._server ? (this._server.logout(e), this) : (e(), this)
            }
        }, {
            key: "_handleCriticalFault",
            value: function() {
                if (this._prepareExit(), this._exitCallback) {
                    var t = this._model.error ? this._model.error.message : "",
                        e = this._model.error ? this._model.error.code : 0,
                        n = this._model.error ? this._model.error.subCode : 0;
                    this._exitCallback.call(this, {
                        credits: this._model.credits,
                        pots: this._model.pots,
                        code: e,
                        subCode: n,
                        message: t
                    })
                }
            }
        }, {
            key: "_handleRequestFullscreen",
            value: function() {
                (!Os.a.isBigScreen() || this._config.desktop.requestFullscreen) && (Os.a.requestFullscreen(), this._view.updateInteractionState())
            }
        }, {
            key: "_handleAssetsProgress",
            value: function(t) {
                void 0 === this._model.preload.model.progress && Os.a.hideSplashScreen(), this._model.preload.model.progress = t
            }
        }, {
            key: "_handleAssetsError",
            value: function() {
                var t = this;
                this._view.showAlert(this._config.language.disconnected, function() {
                    t._assets.preload(), t._view.hideAlert()
                })
            }
        }, {
            key: "_createFontLoader",
            value: function() {
                return new a
            }
        }, {
            key: "_createKeyboardControls",
            value: function() {
                return new tu.a(this._model)
            }
        }, {
            key: "destroy",
            value: function() {
                for (var t in this._view = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this._exitCallback = null, this._waitingFor = null, this._strategies) this._strategies.hasOwnProperty(t) && this._strategies[t].destroy();
                this._strategies = null, this._model.off(), this._destroyMode(this._model.preload), this._model.preload = null, this._destroyMode(this._model.slot), this._model.slot = null, this._destroyMode(this._model.gamble), this._model.gamble = null, this._destroyMode(this._model.settings), this._model.settings = null, this._model = null, this._server && (this._server.removeAllListeners(), this._server.destroy(), this._server = null), this._keyboardControls && (this._keyboardControls.off(), this._keyboardControls.destroy(), this._keyboardControls = null)
            }
        }, {
            key: "_destroyMode",
            value: function(t) {
                t && (t.controller.removeAllListeners(), t.controller.destroy(), t.model.off(), t.off())
            }
        }]), t
    }();
    e.a = iu
}, function(t, e, n) {
    "use strict";
    var i = n(6),
        o = n(11),
        r = n(24),
        a = n(2),
        s = n(7),
        u = n(5),
        l = n(0),
        c = n(1),
        h = n(4),
        f = {
            calculateOnReelX: function(t, e) {
                var n = (t.x - 1) * (e.symbol.width + e.reels.gap);
                return e.reels.x + n
            },
            calculateOnReelY: function(t, e) {
                var n = (t.y - 1) * e.symbol.height;
                return e.reels.y + n
            },
            calculateCenter: function(t, e) {
                var n = Math.floor(.5 * t.length);
                return t.length <= e ? t.forEach(function(t, i) {
                    t.x === Math.ceil(.5 * e) && (n = i)
                }) : e % 2 == 0 && (n -= 2), n
            }
        };

    function _(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var y = function() {
            function t(e) {
                var n = e.config,
                    i = e.assets,
                    o = e.layoutAdjuster;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
            }
            return function(t, e, n) {
                e && _(t.prototype, e), n && _(t, n)
            }(t, [{
                key: "createSymbolIntro",
                value: function(t, e) {
                    var n = this._assets.getSymbolIntro(t);
                    if (!n) return this._createContainer();
                    var i = this._createAnimatedSprite(n);
                    return i.animationSpeed = this._calculateSymbolIntroFps(t) / h.a.FPS, i.x = f.calculateOnReelX(e, this._config), i.y = f.calculateOnReelY(e, this._config), i.loop = !1, i.play(), i.onComplete = function() {
                        i.parent && (i.parent.removeChild(i), i.destroy())
                    }, this._layoutAdjuster.adjustToMain(i)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new c.Container
                }
            }, {
                key: "_createAnimatedSprite",
                value: function(t) {
                    return new c.extras.AnimatedSprite(t)
                }
            }, {
                key: "_calculateSymbolIntroFps",
                value: function(t) {
                    for (var e = this._config.winlines.animations || [], n = 0; n < e.length; n += 1)
                        if (e[n].id === t) return e[n].introFps || this._config.symbol.introFps || e[n].fps || this._config.symbol.fps;
                    return this._config.symbol.introFps || this._config.symbol.fps
                }
            }]), t
        }(),
        d = n(8);

    function p(t) {
        return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function m(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function v(t, e) {
        return !e || "object" !== p(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function g(t) {
        return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function b(t, e) {
        return (b = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var S = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = v(this, g(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && b(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && m(t.prototype, e), n && m(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._workshop = this._createWorkshop(), this._symbolIntroContainer = this._createContainer(), this.addChild(this._symbolIntroContainer), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new y({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        switch (e) {
                            case l.a.SPINNING:
                                this._symbolIntroContainer.removeChildren()
                        }
                    }
                }, {
                    key: "showSymbolIntro",
                    value: function(t, e) {
                        var n = this._workshop.createSymbolIntro(t, e);
                        this._symbolIntroContainer.addChild(n)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._symbolIntroContainer = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        w = n(3),
        k = n(42),
        E = n(68);

    function T(t) {
        return (T = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function C(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function O(t, e) {
        return !e || "object" !== T(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function A(t) {
        return (A = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function P(t, e) {
        return (P = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var I = function(t) {
        function e(t) {
            var n = t.message,
                i = t.style,
                o = t.setup,
                r = t.assets;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), O(this, A(e).call(this, {
                message: n,
                style: i,
                setup: o,
                type: k.a.STATUS,
                assets: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && P(t, e)
            }(e, E["a"]),
            function(t, e, n) {
                e && C(t.prototype, e), n && C(t, n)
            }(e, [{
                key: "_addBackground",
                value: function() {
                    var t = this._createBackground(this._assets.getScatterMessageBackground()),
                        e = this._setup.size || 1;
                    return t.scale.x = t.scale.y = e, this.addChild(t), t
                }
            }]), e
    }();

    function x(t) {
        return (x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function R(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function W(t, e) {
        return !e || "object" !== x(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function N(t) {
        return (N = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function j(t, e) {
        return (j = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var L = function(t) {
        function e(t) {
            var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = W(this, N(e).call(this, t)))._reelIndex = i, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && j(t, e)
            }(e, c["extras"].AnimatedSprite),
            function(t, e, n) {
                e && R(t.prototype, e), n && R(t, n)
            }(e, [{
                key: "getReelIndex",
                value: function() {
                    return this._reelIndex
                }
            }]), e
    }();

    function G(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var M = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && G(t.prototype, e), n && G(t, n)
            }(t, [{
                key: "createQuerySymbols",
                value: function(t) {
                    var e = this;
                    return t.filter(function(t) {
                        return t.flags && t.flags.query
                    }).map(function(t) {
                        return e._createQuerySymbol(t)
                    })
                }
            }, {
                key: "_createQuerySymbol",
                value: function(t) {
                    var e = this._assets.getAnimatedQuerySymbol(),
                        n = new L(e, t.x - 1);
                    return n.x = f.calculateOnReelX(t, this._config), n.y = f.calculateOnReelY(t, this._config), n.animationSpeed = this._calculateAnimationSpeed(), n.loop = !1, n.play(), n
                }
            }, {
                key: "_calculateAnimationSpeed",
                value: function() {
                    var t = this._config.symbol;
                    return (t.queryFps || t.fps) / h.a.FPS
                }
            }, {
                key: "createRevealSymbols",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        return e._assets.getAnimatedQueryReveal(t)
                    }).map(function(t) {
                        var n = e._createAnimatedSprite(t);
                        return n.animationSpeed = e._calculateAnimationSpeed(), n.loop = !1, n.play(), n
                    })
                }
            }, {
                key: "_createAnimatedSprite",
                value: function(t) {
                    return new c.extras.AnimatedSprite(t)
                }
            }, {
                key: "createResultSymbols",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        var n = e._assets.getStaticQueryResult(t);
                        return e._createSprite(n)
                    })
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._assets = null, this._config = null
                }
            }]), t
        }(),
        B = n(12);

    function F(t) {
        return (F = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function H(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function D(t, e) {
        return !e || "object" !== F(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function K(t) {
        return (K = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function U(t, e) {
        return (U = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Y = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = D(this, K(e).call(this)))._config = t, i._assets = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && U(t, e)
            }(e, B["a"]),
            function(t, e, n) {
                e && H(t.prototype, e), n && H(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._factory = this._createFactory()
                }
            }, {
                key: "_createFactory",
                value: function() {
                    return new M(this._config, this._assets)
                }
            }, {
                key: "showQuery",
                value: function(t, e) {
                    var n = this,
                        i = this._factory.createQuerySymbols(t),
                        o = this._createQueryClickHandler(e);
                    i.forEach(function(t) {
                        t.interactive = !0, h.a.addClickListener(t, o, n), n.addChild(t)
                    })
                }
            }, {
                key: "_createQueryClickHandler",
                value: function(t) {
                    return function(e) {
                        var n = this,
                            i = this._factory.createRevealSymbols(t),
                            r = t.map(function(t) {
                                return n._mapResultId(t)
                            }),
                            a = this._factory.createResultSymbols(r);
                        this.setChildIndex(e.target, 0), this.children.forEach(function(t) {
                            t.interactive = !1, t.removeAllListeners()
                        });
                        var s = e.target.getReelIndex();
                        this._displayQueryOverlay({
                            revealSymbols: i,
                            resultSymbols: a,
                            selectedReelIndex: s
                        }), this.emit(o.a.INPUT_CHANGE);
                        var u = this._config.scatter.queryRevealDuration * (t.length + 1);
                        this._submitTimeout = setTimeout(function() {
                            n.removeChildren(), n.emit(o.a.INPUT_SUBMIT, n, s)
                        }, u)
                    }
                }
            }, {
                key: "_mapResultId",
                value: function(t) {
                    var e = this._config.scatter.mappedQueryIds;
                    if (e && e.hasOwnProperty("_".concat(t))) return e["_".concat(t)];
                    var n = this._config.scatter.queryOffset;
                    return n ? t - n : t
                }
            }, {
                key: "_displayQueryOverlay",
                value: function(t) {
                    var e = this,
                        n = t.revealSymbols,
                        i = t.resultSymbols;
                    t.selectedReelIndex;
                    this.children.map(function(t) {
                        return {
                            x: t.x,
                            y: t.y
                        }
                    }).filter(function(t, e) {
                        return e < n.length
                    }).forEach(function(t, o) {
                        e._positionSymbols({
                            reveal: n[o],
                            result: i[o],
                            position: t
                        });
                        var r = e._createSymbolDisplayUpdater(n[o], i[o]),
                            a = e._config.scatter.queryRevealDuration * o;
                        setTimeout(r.bind(e), a)
                    })
                }
            }, {
                key: "_positionSymbols",
                value: function(t) {
                    var e = t.reveal,
                        n = t.result,
                        i = t.position;
                    [e, n].forEach(function(t) {
                        t.x = i.x, t.y = i.y
                    })
                }
            }, {
                key: "_createSymbolDisplayUpdater",
                value: function(t, e) {
                    return function() {
                        var n = this;
                        t.onComplete = function() {
                            n.removeChild(t)
                        }, t.gotoAndPlay(0), this.addChild(e), this.addChild(t)
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, this._factory.destroy(), this._factory = null, clearTimeout(this._submitTimeout), this._submitTimeout = null, B.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function q(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var V = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
        }
        return function(t, e, n) {
            e && q(t.prototype, e), n && q(t, n)
        }(t, [{
            key: "createBlankHeader",
            value: function() {
                var t = this._assets.getScatterBlankHeader(),
                    e = this._createContainer();
                if (t) {
                    var n = this._layoutAdjuster.getMainX(),
                        i = this._createAdjustedHeader(t, n);
                    i.x = n, e.addChild(i)
                }
                return e
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "_createAdjustedHeader",
            value: function(t, e) {
                var n = t.width - 2 * e,
                    i = this._createRectangle(e, 0, n, t.height),
                    o = t.clone();
                return o.frame = i, new c.Sprite(o)
            }
        }, {
            key: "_createRectangle",
            value: function(t, e, n, i) {
                return new c.Rectangle(t, e, n, i)
            }
        }, {
            key: "createHeaderIntro",
            value: function() {
                var t = this._assets.getScatterHeaderIntroAnimation();
                return this._createIntro(t, this._config.scatter.intro)
            }
        }, {
            key: "_createIntro",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (!t) return null;
                var n = this._createAnimatedSprite(t, e.fps);
                return n.stop(), n.loop = !1, n.x = e.x || 0, n.y = e.y || 0, n
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 12,
                    n = new c.extras.AnimatedSprite(t);
                return n.animationSpeed = e / h.a.FPS, n
            }
        }, {
            key: "createSelectIntro",
            value: function() {
                var t = this._assets.getScatterSelectIntroAnimation();
                return this._createIntro(t, this._config.scatter.select)
            }
        }, {
            key: "createSelectSymbol",
            value: function(t) {
                var e = this._config.scatter.select.symbol,
                    n = this._createSelectSymbol(t, e);
                return n.x = e ? e.x : 0, n.y = e ? e.y : 0, n
            }
        }, {
            key: "_createSelectSymbol",
            value: function(t, e) {
                if (e.fps) {
                    var n = this._assets.getAnimatedScatterSelectSymbol(t),
                        i = this._createAnimatedSprite(n, e.fps);
                    return i.stop(), i.loop = !1, i
                }
                var o = this._assets.getStaticScatterSelectSymbol(t);
                return this._createSprite(o)
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }, {
            key: "createScatterMessage",
            value: function(t) {
                var e = this._createMessageBox(t);
                return this._positionMessageBox(e)
            }
        }, {
            key: "_createMessageBox",
            value: function(t) {
                var e = this._getMessageConfigFor(t);
                return new I({
                    message: t,
                    style: e.style,
                    setup: e.setup,
                    assets: this._assets
                })
            }
        }, {
            key: "_getMessageConfigFor",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 28,
                    n = this._config.scatter.outro;
                if (!n) return {
                    setup: {},
                    style: this._config.text.style
                };
                var i = n.large || n;
                return t.length > e ? n : i
            }
        }, {
            key: "_positionMessageBox",
            value: function(t) {
                var e = this._config.reels,
                    n = this._config.symbol,
                    i = n.width * e.count + e.gap * (e.count - 1),
                    o = n.height * e.countOfVisibleSymbols;
                return t.x = e.x + .5 * (i - t.width), t.y = e.y + .5 * (o - t.height), t
            }
        }, {
            key: "createSelection",
            value: function() {
                return new Y(this._config, this._assets)
            }
        }, {
            key: "createSelectOverlay",
            value: function(t) {
                var e = this._config.scatter.select || {},
                    n = e.overlayMap || {},
                    i = this._padTextureId(t),
                    o = n["_".concat(i)];
                if (o > -1) {
                    var r = this._assets.getScatterSelectOverlay(o),
                        a = this._createSprite(r);
                    return a.x = e.x || 0, a.y = e.y || 0, a
                }
                return this._createContainer()
            }
        }, {
            key: "_padTextureId",
            value: function(t) {
                for (var e = String(t); e.length < 2;) e = "0".concat(e);
                return e
            }
        }, {
            key: "destroy",
            value: function() {
                this._config = null, this._assets = null
            }
        }]), t
    }();

    function X(t) {
        return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Q(t, e) {
        return !e || "object" !== X(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function J(t) {
        return (J = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $(t, e) {
        return ($ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Z = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Q(this, J(e).call(this, {
                    model: i,
                    config: o,
                    assets: r
                })))._layoutAdjuster = a, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && $(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && z(t.prototype, e), n && z(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        if (this._config.scatter) {
                            this._workshop = this._createWorkshop();
                            var t = this._workshop.createHeaderIntro(),
                                e = this._workshop.createBlankHeader(),
                                n = this._workshop.createSelectIntro(),
                                i = this._workshop.createSelection(),
                                o = this._createStatusChangeHandler({
                                    headerIntro: t,
                                    blankHeader: e,
                                    selectIntro: n,
                                    selection: i
                                });
                            this._model.on(s.a.STATUS_CHANGE, o, this), this._model.on(s.a.SCATTER_MESSAGE_CHANGE, this._handleScatterMessageChange, this)
                        }
                        return this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new V({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t) {
                        var e = t.headerIntro,
                            n = t.blankHeader,
                            i = t.selectIntro,
                            o = t.selection;
                        return function(t, r) {
                            switch (r) {
                                case l.a.SCATTER_INTRO:
                                    this._playHeaderIntro(e, n);
                                    break;
                                case l.a.SCATTER_SELECT:
                                    this._handleScatterSelect({
                                        selectIntro: i,
                                        headerIntro: e,
                                        blankHeader: n,
                                        selection: o
                                    });
                                    break;
                                case l.a.SPINNING:
                                    this._removeSelectIntro(i), this._hideScatterMessage()
                            }
                        }
                    }
                }, {
                    key: "_playHeaderIntro",
                    value: function(t, e) {
                        var n = this;
                        t ? (t.alpha = 1, e.alpha = 1, this.addChild(e), this.addChild(t), t.onComplete = function() {
                            n.emit(a.a.SCATTER_INTRO_COMPLETE)
                        }, t.gotoAndPlay(0)) : this.emit(a.a.SCATTER_INTRO_COMPLETE)
                    }
                }, {
                    key: "_handleScatterSelect",
                    value: function(t) {
                        var e = t.selectIntro,
                            n = t.headerIntro,
                            i = t.blankHeader,
                            r = t.selection;
                        this._model.hasScatterSelection ? (r.showQuery(this._model.scatterWin.positions, this._model.scatterSelection), r.once(o.a.INPUT_CHANGE, this._handleSelectionInputChange, this), r.once(o.a.INPUT_SUBMIT, this._handleSelectionInputSubmit, this), this.addChild(r)) : this._playSelectIntro({
                            selectIntro: e,
                            headerIntro: n,
                            blankHeader: i
                        })
                    }
                }, {
                    key: "_handleSelectionInputChange",
                    value: function(t) {
                        this.emit(a.a.SCATTER_SELECT)
                    }
                }, {
                    key: "_handleSelectionInputSubmit",
                    value: function(t, e) {
                        this.removeChild(t), this.emit(a.a.SCATTER_SELECT_COMPLETE, e)
                    }
                }, {
                    key: "_playSelectIntro",
                    value: function(t) {
                        var e = this,
                            n = t.selectIntro,
                            i = t.headerIntro,
                            o = t.blankHeader;
                        n ? (this.addChild(n), n.onComplete = function() {
                            e._handleSelectIntroComplete({
                                selectIntro: n,
                                headerIntro: i,
                                blankHeader: o
                            })
                        }, n.gotoAndPlay(0)) : this._model.hasScatterSelection || this._completeScatterSelect(i, o)
                    }
                }, {
                    key: "_completeScatterSelect",
                    value: function(t, e) {
                        t && this._fadeHeaderIntro(t), e && this._fadeBlankHeader(e), this.emit(a.a.SCATTER_SELECT_COMPLETE)
                    }
                }, {
                    key: "_handleSelectIntroComplete",
                    value: function(t) {
                        var e = this,
                            n = (t.selectIntro, t.headerIntro),
                            i = t.blankHeader;
                        this._showSelectSymbol();
                        var o = this._getSelectDisplayDuration();
                        setTimeout(function() {
                            e._completeScatterSelect(n, i)
                        }, o)
                    }
                }, {
                    key: "_getSelectDisplayDuration",
                    value: function() {
                        var t = this._config.scatter.select;
                        return (t ? t.displayDuration : 0) || 0
                    }
                }, {
                    key: "_fadeHeaderIntro",
                    value: function(t) {
                        var e = this,
                            n = this._getIntroFadeDuration();
                        w.TweenLite.to(t, n, {
                            alpha: 0,
                            onComplete: function() {
                                e.removeChild(t)
                            }
                        })
                    }
                }, {
                    key: "_fadeBlankHeader",
                    value: function(t) {
                        var e = this,
                            n = this._getIntroFadeDuration();
                        w.TweenLite.to(t, n, {
                            alpha: 0,
                            onComplete: function() {
                                e.removeChild(t)
                            }
                        })
                    }
                }, {
                    key: "_getIntroFadeDuration",
                    value: function() {
                        var t = this._config.scatter.intro;
                        return (t ? t.fadeDuration : 0) || 0
                    }
                }, {
                    key: "_removeSelectIntro",
                    value: function(t) {
                        t && t.parent === this && this.removeChild(t)
                    }
                }, {
                    key: "_showSelectSymbol",
                    value: function() {
                        var t = this;
                        if (this._model.specialSymbolId && this._config.scatter.select) {
                            var e = this._addSelectSymbol(this._model.specialSymbolId),
                                n = this._addSelectOverlay(this._model.specialSymbolId);
                            this._model.on(s.a.STATUS_CHANGE, function(i, o) {
                                o === l.a.SPINNING && (t.removeChild(e), t.removeChild(n))
                            })
                        }
                    }
                }, {
                    key: "_addSelectSymbol",
                    value: function(t) {
                        var e = this._workshop.createSelectSymbol(t);
                        return this._fadeSelectSymbol(e), this._scaleSelectSymbol(e), e.play && e.play(), this.addChild(e), e
                    }
                }, {
                    key: "_fadeSelectSymbol",
                    value: function(t) {
                        var e = this._getSelectSymbolFadeDuration();
                        return e ? (t.alpha = 0, w.TweenLite.to(t, e, {
                            alpha: 1
                        }), t) : t
                    }
                }, {
                    key: "_scaleSelectSymbol",
                    value: function(t) {
                        var e = this._getSelectSymbolScaleDuration();
                        if (!e) return t;
                        var n = .5 * t.width,
                            i = .5 * t.height;
                        return t.x += n, t.y += i, t.pivot.x = n, t.pivot.y = i, w.TweenLite.from(t.scale, e, {
                            x: .25,
                            y: .25
                        }), t
                    }
                }, {
                    key: "_getSelectSymbolFadeDuration",
                    value: function() {
                        var t = this._config.scatter.select.symbol;
                        return (t ? t.fadeDuration : 0) || 0
                    }
                }, {
                    key: "_getSelectSymbolScaleDuration",
                    value: function() {
                        var t = this._config.scatter.select.symbol;
                        return (t ? t.scaleDuration : 0) || 0
                    }
                }, {
                    key: "_addSelectOverlay",
                    value: function(t) {
                        var e = this._workshop.createSelectOverlay(t);
                        return this.addChild(e), e
                    }
                }, {
                    key: "_hideScatterMessage",
                    value: function() {
                        this._scatterMessage && (this.removeChild(this._scatterMessage), this._scatterMessage.destroy(!1), this._scatterMessage = null)
                    }
                }, {
                    key: "_handleScatterMessageChange",
                    value: function(t, e) {
                        e && (this._hideScatterMessage(), this._scatterMessage = this._workshop.createScatterMessage(e), this.addChild(this._scatterMessage))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._workshop.destroy(), this._workshop = null, this._scatterMessage = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        tt = n(43),
        et = n(27);

    function nt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var it = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e
            }
            return function(t, e, n) {
                e && nt(t.prototype, e), n && nt(t, n)
            }(t, [{
                key: "hold",
                value: function(t) {
                    var e = 1e3 / (h.a.FPS * t.animationSpeed),
                        n = Math.round(t.totalFrames * e),
                        i = e,
                        o = this._config.controls.minHoldingTime - n + i;
                    return this._chargeAnimation = setTimeout(function() {
                        t.alpha = 1, t.gotoAndPlay(1)
                    }, o), t
                }
            }, {
                key: "release",
                value: function(t) {
                    return this._chargeAnimation && clearTimeout(this._chargeAnimation), t.alpha = 0, t.gotoAndStop(1), t
                }
            }]), t
        }(),
        ot = n(30);

    function rt(t) {
        return (rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function at(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function st(t, e) {
        return !e || "object" !== rt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ut(t) {
        return (ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function lt(t, e) {
        return (lt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ct = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = st(this, ut(e).call(this, t, n)))._layout = i._config.controls.tilesheetLayout, i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && lt(t, e)
                }(e, ot["a"]),
                function(t, e, n) {
                    e && at(t.prototype, e), n && at(t, n)
                }(e, [{
                    key: "createSpin",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.square.height,
                            i = e.button.width,
                            o = e.button.long.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = e.spin.margin.left, s.y = 2 * e.button.square.height + e.spin.margin.top, s
                    }
                }, {
                    key: "createAutoPlayCharge",
                    value: function() {
                        var t = this._createAnimatedSprite(this._assets.getAutoPlayCharge());
                        return t.animationSpeed = 25 / h.a.FPS, t.loop = !1, t.alpha = 0, this._positionAutoPlay(t), t
                    }
                }, {
                    key: "_createAnimatedSprite",
                    value: function(t) {
                        return new c.extras.AnimatedSprite(t)
                    }
                }, {
                    key: "_positionAutoPlay",
                    value: function(t) {
                        var e = this._layout.ready;
                        return t.x = e.charge.margin.left, t.y = 2 * e.button.square.height + e.spin.margin.top + e.charge.margin.top, t
                    }
                }, {
                    key: "createAutoPlayActive",
                    value: function() {
                        var t = this._createContainer(),
                            e = this.createSpin(),
                            n = this._createSprite(this._assets.getAutoPlayActive());
                        return this._positionAutoPlay(n), t.addChild(e), t.addChild(n), t
                    }
                }, {
                    key: "createGamble",
                    value: function() {
                        var t = this._layout.waiting,
                            e = this._assets.getSlotGambleControls(),
                            n = t.button.width,
                            i = t.button.height,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = t.margin.left, a.y = t.margin.top, a
                    }
                }, {
                    key: "createTake",
                    value: function() {
                        var t = this._layout.waiting,
                            e = this._assets.getSlotGambleControls(),
                            n = t.button.height,
                            i = t.button.width,
                            o = t.button.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + t.button.height, s
                    }
                }, {
                    key: "createSettings",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.square.height + e.button.long.height,
                            i = e.button.width,
                            o = e.button.square.height + e.settings.padding.bottom,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = e.settings.margin.left, s.y = e.button.square.height + e.settings.margin.top, s
                    }
                }, {
                    key: "createHome",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.width,
                            i = e.button.square.height + e.home.padding.bottom,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: t
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: t
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = e.home.margin.left, a.y = e.home.margin.top, a
                    }
                }, {
                    key: "createStop",
                    value: function() {
                        var t = this._assets.getSlotStopControls(),
                            e = this._layout.spinning,
                            n = this._createFromTilesheet({
                                baseTexture: t,
                                frameWidth: e.button.width
                            }),
                            i = this._createFromTilesheet({
                                baseTexture: t,
                                frameX: e.button.width
                            }),
                            o = this._createButton({
                                up: n,
                                down: i
                            });
                        return o.x = e.margin.left, o.y = e.margin.top, o
                    }
                }, {
                    key: "createAnimator",
                    value: function() {
                        return new it(this._config)
                    }
                }]), e
        }(),
        ht = n(44);

    function ft(t) {
        return (ft = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yt(t, e) {
        return !e || "object" !== ft(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function dt(t) {
        return (dt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pt(t, e) {
        return (pt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mt = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = yt(this, dt(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && pt(t, e)
                }(e, ht["a"]),
                function(t, e, n) {
                    e && _t(t.prototype, e), n && _t(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = this._addComponent({
                                creator: e.createControlsBackground.bind(e)
                            });
                        this._adjustBackground(n);
                        var i = e.createAutoPlayCharge(),
                            o = this._addComponent({
                                creator: e.createStop.bind(e),
                                eventToDispatch: a.a.STOP_SPIN,
                                expectedStatus: l.a.SPINNING,
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            });
                        this.addChild(o);
                        var r = this._addComponent({
                            creator: e.createSpin.bind(e),
                            eventToDispatch: a.a.SPIN,
                            expectedStatus: l.a.READY,
                            holdEnabled: this._config.autoPlay.enabled,
                            holdHighlight: i,
                            keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                        });
                        this.addChild(i);
                        var u = this._addComponent({
                                creator: e.createAutoPlayActive.bind(e),
                                eventToDispatch: a.a.STOP_AUTO_PLAY,
                                expectedStatus: [l.a.READY, l.a.SPINNING, l.a.STOP_SPINNING, l.a.AFTER_SPIN, l.a.BEFORE_WINLINE_WALK, l.a.FAST_WINLINE_WALK, l.a.BEFORE_SPECIAL_WALK, l.a.BEFORE_FAST_SPECIAL_WALK, l.a.SPECIAL_WALK, l.a.FAST_SPECIAL_WALK, l.a.TAKING],
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            }),
                            c = this._addComponent({
                                creator: e.createTake.bind(e),
                                eventToDispatch: a.a.TAKE,
                                expectedStatus: [l.a.WAITING, l.a.FIRST_WINLINE_WALK, l.a.NTH_WINLINE_WALK, l.a.SPECIAL_WALK, l.a.BEFORE_SPECIAL_WALK],
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            }),
                            h = this._addComponent({
                                creator: e.createGamble.bind(e),
                                eventToDispatch: a.a.GAMBLE,
                                expectedStatus: [l.a.WAITING, l.a.FIRST_WINLINE_WALK, l.a.NTH_WINLINE_WALK, l.a.SPECIAL_WALK, l.a.BEFORE_SPECIAL_WALK]
                            }),
                            f = this._addComponent({
                                creator: e.createSettings.bind(e),
                                eventToDispatch: a.a.SETTINGS,
                                expectedStatus: [l.a.READY, l.a.WAITING]
                            }),
                            _ = this._addComponent({
                                creator: e.createHome.bind(e),
                                eventToDispatch: a.a.EXIT
                            });
                        this._model.on(s.a.STATUS_CHANGE, this._createStatusChangeHandler({
                            spin: r,
                            stop: o,
                            take: c,
                            gamble: h,
                            settings: f,
                            home: _,
                            stopAutoPlay: u,
                            holdSpin: i
                        }), this), this._model.once(s.a.REELS_CHANGE, this._createReelsChangeHandler(o), this), this._model.on(s.a.AUTO_PLAY_ENABLED_CHANGE, function(e, n) {
                            o.visible = !n && t._model.status === l.a.SPINNING, u.visible = n, i.visible = u.visible
                        }), this._model.on(s.a.IS_ACTIVE_CHANGE, this._handleChangeIsActive, this), this._animator = e.createAnimator()
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new ct(this._config, this._assets)
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t) {
                        var e = this,
                            n = t.spin,
                            i = t.stop,
                            o = t.take,
                            r = t.gamble,
                            a = t.settings,
                            s = t.home,
                            u = t.stopAutoPlay,
                            c = t.holdSpin;
                        return function(t, h) {
                            o.visible = e._model.isReadyForTaking, r.visible = o.visible && e._model.gambleEnabled, n.visible = h === l.a.READY, a.visible = h === l.a.READY;
                            var f = e._model.isInScatter && e._config.timing.speed.revealDuration;
                            i.visible = h === l.a.SPINNING && !e._model.turboEnabled && !f && !e._model.autoPlayEnabled, s.visible = a.visible, u.visible = e._model.autoPlayEnabled && h === l.a.SPINNING, c.visible = u.visible, h !== l.a.AFTER_SPIN && h !== l.a.STOP_SPINNING || (i.interactive = !1)
                        }
                    }
                }, {
                    key: "_createReelsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            n.forEach(function(e) {
                                e.on(tt.a.SYMBOLS_CHANGE, function() {
                                    t.interactive = !0
                                })
                            })
                        }
                    }
                }, {
                    key: "_handleChangeIsActive",
                    value: function(t, e) {
                        this.visible = e, e ? this.enable() : this.disable()
                    }
                }]), e
        }(),
        vt = n(17),
        gt = {
            X1: 0,
            X2: 1,
            X3: 2
        },
        bt = n(13);

    function St(t) {
        return (St = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function kt(t, e) {
        return !e || "object" !== St(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Et(t) {
        return (Et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Tt(t, e) {
        return (Tt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ct = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = kt(this, Et(e).call(this, t)))._delayedStartOverlay = o._createSprite(n), o._loopCount = 0, o._restartCount = 0, o._startFrame = 0, o._loopFrom = 0, o._position = i, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Tt(t, e)
            }(e, c["extras"].AnimatedSprite),
            function(t, e, n) {
                e && wt(t.prototype, e), n && wt(t, n)
            }(e, [{
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "applyConfig",
                value: function(t) {
                    var e = t.loopRepeatDelay,
                        n = t.maxLoopCount,
                        i = t.nthMaxLoopCount,
                        o = t.shouldEndOnFirstFrame,
                        r = t.startFrame,
                        a = t.hideOnComplete,
                        s = t.loopFrom;
                    e && this.setLoopRepeatDelay(e), this.setMaxLoopCount(n), this.setNthMaxLoopCount(i), this.setShouldEndOnFirstFrame({
                        shouldEndOnFirstFrame: o
                    }), this.setHideOnComplete({
                        hideOnComplete: a
                    }), this._startFrame = r || 0, this._loopFrom || this.setLoopFrom(s)
                }
            }, {
                key: "setLoopRepeatDelay",
                value: function(t) {
                    var e = this;
                    this._loopRepeatDelay = t, this.loop = !1, this.onComplete = function() {
                        e.parent && e.parent.parent ? (e._setLoopRepeatTimeout(e._loopRepeatDelay), e._shouldEndOnFirstFrame && !e._startFrame && e.gotoAndStop(e._loopFrom)) : e.onComplete = null
                    }
                }
            }, {
                key: "_setLoopRepeatTimeout",
                value: function(t) {
                    var e = this;
                    this._loopRepeatTimeout = setTimeout(function() {
                        e._loopRepeatTimeout = null, e._loopCount += 1;
                        var t = e._restartCount > 1 ? e._nthMaxLoopCount : e._maxLoopCount,
                            n = !t || e._loopCount < t;
                        e.parent && (n ? e.gotoAndPlay(e._loopFrom) : e._startFrame && e.gotoAndStop(e._loopFrom))
                    }, t)
                }
            }, {
                key: "clearLoopRepeatTimeout",
                value: function() {
                    this._loopRepeatTimeout && (clearTimeout(this._loopRepeatTimeout), this._loopRepeatTimeout = null)
                }
            }, {
                key: "setStartDelay",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        useStartOverlay: !1
                    }).useStartOverlay;
                    this._useStartOverlay = e, this._startDelay = t
                }
            }, {
                key: "setLoopFrom",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    if (this._loopFrom = e, this._loopFrom) {
                        this.loop = !1;
                        var n = this.onComplete;
                        this.onComplete = function() {
                            n && n(), t.gotoAndPlay(t._loopFrom)
                        }
                    }
                }
            }, {
                key: "restart",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._restartCount += 1, this._loopCount = 0, this.visible = !0, this._startDelay ? this._delayedRestart() : this.gotoAndPlay(t || this._startFrame)
                }
            }, {
                key: "_delayedRestart",
                value: function() {
                    var t = this;
                    this.gotoAndStop(this._startFrame || 0), clearTimeout(this._startDelayTimeout), this._useStartOverlay && !this._startFrame && this.addChild(this._delayedStartOverlay), this._startDelayTimeout = setTimeout(function() {
                        t._startDelayTimeout = null, t.gotoAndPlay(t._loopFrom), t._delayedStartOverlay.parent === t && t.removeChild(t._delayedStartOverlay)
                    }, this._startDelay)
                }
            }, {
                key: "setMaxLoopCount",
                value: function(t) {
                    this._maxLoopCount = t, !(this._loopRepeatDelay >= 0) && t && this.setLoopRepeatDelay(0)
                }
            }, {
                key: "setNthMaxLoopCount",
                value: function(t) {
                    this._nthMaxLoopCount = t, !(this._loopRepeatDelay >= 0) && t && this.setLoopRepeatDelay(0)
                }
            }, {
                key: "setShouldEndOnFirstFrame",
                value: function() {
                    var t = this,
                        e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldEndOnFirstFrame: !1
                        }).shouldEndOnFirstFrame;
                    if (this._shouldEndOnFirstFrame = e, this._shouldEndOnFirstFrame) {
                        var n = this.onComplete;
                        this.onComplete = function() {
                            n && n(), t._startFrame || t.gotoAndStop(t._loopFrom)
                        }
                    }
                }
            }, {
                key: "setHideOnComplete",
                value: function() {
                    var t = this;
                    if ((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            hideOnComplete: !1
                        }).hideOnComplete) {
                        var e = this.onComplete;
                        this.onComplete = function() {
                            e && e(), t.visible = !1
                        }
                    }
                }
            }, {
                key: "getPosition",
                value: function() {
                    return this._position
                }
            }, {
                key: "destroy",
                value: function() {
                    var t;
                    this.removeChildren(), this._delayedStartOverlay.destroy(), this._delayedStartOverlay = null, clearTimeout(this._startDelayTimeout), this._startDelayTimeout = null, clearTimeout(this._loopRepeatTimeout), this._loopRepeatTimeout = null, this._position = null;
                    for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++) n[i] = arguments[i];
                    (t = c.extras.AnimatedSprite.prototype.destroy).call.apply(t, [this].concat(n))
                }
            }]), e
    }();

    function Ot(t) {
        return (Ot = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function At(t, e) {
        return !e || "object" !== Ot(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Pt(t) {
        return (Pt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function It(t, e) {
        return (It = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var xt = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), At(this, Pt(e).call(this, t))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && It(t, e)
        }(e, c["Sprite"]), e
    }();

    function Rt(t) {
        return (Rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Nt(t, e) {
        return !e || "object" !== Rt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function jt(t) {
        return (jt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Lt(t, e) {
        return (Lt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Gt = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Nt(this, jt(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Lt(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Wt(t.prototype, e), n && Wt(t, n)
            }(e, [{
                key: "applyConfig",
                value: function(t, e) {
                    t.loopRepeatDelay && (!this.loopRepeatDelay || this.loopRepeatDelay < t.loopRepeatDelay) && (this.loopRepeatDelay = t.loopRepeatDelay), t.loopCutOff && (!this.loopCutOff || this.loopCutOff < t.loopCutOff) && (this.loopCutOff = t.loopCutOff), (!this.duration || e > this.duration) && (this.duration = e)
                }
            }]), e
    }();

    function Mt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Bt = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Mt(t.prototype, e), n && Mt(t, n)
            }(t, [{
                key: "createWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.creator,
                        r = this._createWinAnimationContainer(),
                        a = bt.a.hasDelayer(n, i, this._config),
                        s = bt.a.getWinSymbolId(n, i, this._config);
                    return n.filter(function(t) {
                        return !(t.flags && t.flags.sticky)
                    }).map(function(t) {
                        return {
                            animation: o.call(e, t, i, s),
                            position: t
                        }
                    }).map(function(t) {
                        var n = t.animation,
                            o = t.position;
                        return e._addAnimationToContainer({
                            animation: n,
                            position: o,
                            reels: i,
                            hasDelayer: a,
                            container: r
                        })
                    }).forEach(function(t) {
                        var n = t.animation,
                            i = t.animationConfig,
                            o = t.duration;
                        e._adjustMaxLoopCount({
                            container: r,
                            animation: n,
                            animationConfig: i,
                            duration: o
                        })
                    }), r
                }
            }, {
                key: "_createWinAnimationContainer",
                value: function() {
                    return new Gt
                }
            }, {
                key: "_createWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: this._createWinAnimationFrames,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_symbolIdGetter",
                value: function(t) {
                    return t.transformToId || t.id
                }
            }, {
                key: "_createStillFrame",
                value: function(t) {
                    return this._assets.getStaticSymbol(t)
                }
            }, {
                key: "_createAnimation",
                value: function(t) {
                    var e = t.position,
                        n = t.reels,
                        i = t.symbolIdGetter,
                        o = t.animationFramesCreator,
                        r = t.stillFrameCreator,
                        a = t.isLoop,
                        s = t.winSymbolId,
                        u = bt.a.getSymbolAtPosition(n, e),
                        l = i.call(this, u),
                        c = o.call(this, e, l, s),
                        _ = r.call(this, l),
                        y = this._createAnimatedSymbol(c, _, e),
                        d = bt.a.getAnimationConfigByPosition({
                            position: e,
                            reels: n,
                            config: this._config.winlines,
                            id: l
                        });
                    y.x = f.calculateOnReelX(e, this._config), y.y = f.calculateOnReelY(e, this._config);
                    var p = d.fps || this._config.symbol.fps;
                    y.setLoopFrom(d.loopFrom), y.animationSpeed = p / h.a.FPS;
                    var m = !d.playOnlyOnce && !d.hideOnComplete && !d.loopFrom;
                    return y.loop = a && m, y.play(), y
                }
            }, {
                key: "_createAnimatedSymbol",
                value: function(t, e, n) {
                    return new Ct(t, e, n)
                }
            }, {
                key: "_createWinAnimationFrames",
                value: function(t, e, n) {
                    var i = this._toJokerAdjustedId(e, n);
                    if (t.isSpecial && this._config.winlines.special && this._config.winlines.special.fps) return this._assets.getAnimatedScatterSpecialSymbol(i);
                    if (t.flags) {
                        if (t.flags.x3) return this._assets.getAnimatedMultiplierSymbol(i, gt.X3);
                        if (t.flags.x2) return this._assets.getAnimatedMultiplierSymbol(i, gt.X2);
                        if (t.flags.x1) return this._assets.getAnimatedMultiplierSymbol(i, gt.X1);
                        if (t.flags.highWin) return this._assets.getAnimatedHighWinSymbol(i)
                    }
                    return this._assets.getAnimatedSymbol(i)
                }
            }, {
                key: "_toJokerAdjustedId",
                value: function(t, e) {
                    return this._config.joker && t === this._config.joker.id && e ? String(Number(e) + this._config.joker.winAnimationOffset) : t
                }
            }, {
                key: "_addAnimationToContainer",
                value: function(t) {
                    var e = t.animation,
                        n = t.position,
                        i = t.reels,
                        o = t.hasDelayer,
                        r = t.container,
                        a = bt.a.getAnimationConfigByPosition({
                            position: n,
                            reels: i,
                            config: this._config.winlines
                        });
                    o && !bt.a.isDelayer(n, i, this._config) && e.setStartDelay(this._config.delayer.otherSymbolsDelay, {
                        useStartOverlay: this._config.delayer.useStartOverlay
                    }), e.applyConfig(a);
                    var s = bt.a.calculateDuration(e);
                    return r.applyConfig(a, s), r.addChild(e), {
                        container: r,
                        animation: e,
                        animationConfig: a,
                        duration: s
                    }
                }
            }, {
                key: "_adjustMaxLoopCount",
                value: function(t) {
                    var e = t.container,
                        n = t.animation,
                        i = t.animationConfig,
                        o = t.duration;
                    if (e.duration < o && (i.nthMaxLoopCount > 1 || i.useAutoMaxLoopCount)) n.setNthMaxLoopCount(1);
                    else if (e.duration >= o && i.useAutoMaxLoopCount) {
                        var r = Math.floor(e.duration / o) || 1,
                            a = i.nthMaxLoopCount < r ? i.nthMaxLoopCount : r;
                        n.setNthMaxLoopCount(a)
                    }
                }
            }, {
                key: "createPreWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.compositeCache,
                        r = this._createContainer();
                    return n.forEach(function(t, n) {
                        var a = bt.a.getSymbolAtPosition(i, t),
                            s = bt.a.getIsPartOfTransform(a.id, e._config) || a.transformToId,
                            u = bt.a.getIsMultiplierAt(t),
                            l = bt.a.getIsPartOfComposite(a.id, e._config),
                            c = u ? e._createMultiplierTransition : e._createTransform;
                        if (u || s || a.isNewSticky) {
                            var h = o.indexOf(t.x) < 0;
                            if (l) {
                                if (h) {
                                    e._createCompositeAnimation(t, i).forEach(function(t) {
                                        r.addChild(t)
                                    }), o.push(t.x)
                                }
                            } else {
                                var f = e._createPreWinAnimationAtPosition({
                                        position: t,
                                        reels: i,
                                        animationFramesCreator: c
                                    }),
                                    _ = (e._config.winlines.symbolTransformStagger || 0) * n;
                                _ > 0 ? setTimeout(function() {
                                    f.gotoAndPlay(0), r.addChild(f)
                                }, _) : r.addChild(f)
                            }
                        }
                    }), r
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new c.Container
                }
            }, {
                key: "_createCompositeAnimation",
                value: function(t, e) {
                    for (var n = [], i = 1; i <= this._config.reels.countOfVisibleSymbols; i += 1) {
                        var o = JSON.parse(JSON.stringify(t));
                        o.y = i;
                        var r = this._createWinAnimationAtPosition(o, e);
                        n.push(r)
                    }
                    return n
                }
            }, {
                key: "_createPreWinAnimationAtPosition",
                value: function(t) {
                    var e = t.position,
                        n = t.reels,
                        i = t.animationFramesCreator;
                    return this._createAnimation({
                        position: e,
                        reels: n,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: i,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: this._config.winlines.loopPreWin
                    })
                }
            }, {
                key: "_createMultiplierTransition",
                value: function(t, e) {
                    if (t.flags) {
                        if (t.flags.x3) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X3);
                        if (t.flags.x2) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X2);
                        if (t.flags.x1) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X1)
                    }
                    return [this._assets.getStaticSymbol(e)]
                }
            }, {
                key: "_createTransform",
                value: function(t, e) {
                    return this._assets.getAnimatedSymbol(e)
                }
            }, {
                key: "createCompositeWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.compositeCache,
                        r = this._createContainer();
                    return n.forEach(function(t) {
                        var n = bt.a.getSymbolAtPosition(i, t);
                        bt.a.getIsPartOfComposite(n.id, e._config) && (o.indexOf(t.x) < 0 && (e._createCompositeAnimation(t, i).forEach(function(t) {
                            r.addChild(t)
                        }), o.push(t.x)))
                    }), r
                }
            }, {
                key: "createSpecialWinAnimation",
                value: function(t, e) {
                    var n = this;
                    return t.map(function(t) {
                        var i = bt.a.getSymbolAtPosition(e, t),
                            o = n._assets.getStaticScatterSpecialSymbol(i.specialTransformTo || i.id),
                            r = n._createStaticSymbol(o);
                        return r.isSpecial = i.isSpecial, r.x = f.calculateOnReelX(t, n._config), r.y = f.calculateOnReelY(t, n._config), r
                    }).reduce(function(t, e) {
                        return (e.isSpecial ? t.push : t.unshift).call(t, e), t
                    }, [])
                }
            }, {
                key: "_createStaticSymbol",
                value: function(t) {
                    return new xt(t)
                }
            }, {
                key: "createInScatterWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createInScatterWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createInScatterWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: this._createInScatterWinAnimationFrames,
                        stillFrameCreator: this._createInScatterStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_createInScatterWinAnimationFrames",
                value: function(t, e, n) {
                    var i = this._toJokerAdjustedId(e, n);
                    return t.isSpecial && this._config.winlines.special && this._config.winlines.special.fps ? this._assets.getAnimatedScatterSpecialSymbol(i) : this._assets.getAnimatedInScatterSymbol(i)
                }
            }, {
                key: "_createInScatterStillFrame",
                value: function(t) {
                    return this._assets.getStaticInScatterSymbol(t)
                }
            }, {
                key: "createStickyWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createStickyWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createStickyWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._stickySymbolIdGetter,
                        animationFramesCreator: this._createWinAnimationFrames,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_stickySymbolIdGetter",
                value: function(t) {
                    return t.stickyId || t.id
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null
                }
            }]), t
        }(),
        Ft = {
            WIZARD: "transformType.wizzar",
            PHARAO: "transformType.phara"
        },
        Ht = n(9),
        Dt = n.n(Ht);

    function Kt(t) {
        return (Kt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ut(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Yt(t, e) {
        return !e || "object" !== Kt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function qt(t) {
        return (qt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Vt(t, e) {
        return (Vt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Xt = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Yt(this, qt(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Vt(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && Ut(t.prototype, e), n && Ut(t, n)
            }(e, [{
                key: "animate",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        o = t.sort(this._sortByY).sort(this._sortByX),
                        r = n,
                        a = o.filter(function(t) {
                            return !t.isSpecial
                        });
                    a.forEach(function(t) {
                        t.visible = !1, setTimeout(function() {
                            e.emit(i.a.SPECIAL_TRANSFORM), t.visible = !0
                        }, r), r += n
                    });
                    var s = n * (a.length + 1);
                    setTimeout(function() {
                        e.emit(i.a.SPECIAL_TRANSFORM_COMPLETE)
                    }, s)
                }
            }, {
                key: "_sortByX",
                value: function(t, e) {
                    return e.x - t.x
                }
            }, {
                key: "_sortByY",
                value: function(t, e) {
                    return e.y - t.y
                }
            }]), e
    }();

    function zt(t) {
        return (zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Qt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Jt(t, e) {
        return !e || "object" !== zt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function $t(t) {
        return ($t = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Zt(t, e) {
        return (Zt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var te = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Jt(this, $t(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Zt(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && Qt(t.prototype, e), n && Qt(t, n)
            }(e, [{
                key: "animate",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        i = {};
                    t.forEach(function(t) {
                        t.isSpecial && (i[t.x] = t.y)
                    });
                    var o = {
                        incomplete: 0
                    };
                    t.forEach(function(t) {
                        e._animateSprite({
                            sprite: t,
                            specialY: i[t.x],
                            countCache: o,
                            duration: n
                        })
                    })
                }
            }, {
                key: "_animateSprite",
                value: function(t) {
                    var e = t.sprite,
                        n = t.specialY,
                        i = t.countCache,
                        o = t.duration,
                        r = e.y,
                        a = (r - n) / e.height;
                    e.y = n;
                    var s = Math.abs(a);
                    if (s > 0) {
                        var u = a < 0 ? -1 : 1;
                        this._move({
                            sprite: e,
                            targetY: r,
                            offset: s - 1,
                            sign: u,
                            countCache: i,
                            duration: o
                        })
                    }
                }
            }, {
                key: "_move",
                value: function(t) {
                    var e = this,
                        n = t.sprite,
                        o = t.targetY,
                        r = t.offset,
                        a = t.sign,
                        s = t.countCache,
                        u = t.duration,
                        l = r * u;
                    s.incomplete += 1, setTimeout(function() {
                        e.emit(i.a.SPECIAL_TRANSFORM), n.y += r * a * n.height, w.TweenLite.to(n, .001 * u, {
                            y: o,
                            onComplete: function() {
                                s.incomplete -= 1, s.incomplete <= 0 && e.emit(i.a.SPECIAL_TRANSFORM_COMPLETE)
                            }
                        })
                    }, l)
                }
            }]), e
    }();

    function ee(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ne = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && ee(t.prototype, e), n && ee(t, n)
        }(t, [{
            key: "createAnimator",
            value: function() {
                var t = this._config.scatter;
                switch (t ? t.transformType : Ft.WIZARD) {
                    case Ft.PHARAO:
                        return new Xt;
                    default:
                        return new te
                }
            }
        }]), t
    }();

    function ie(t) {
        return (ie = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function oe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function re(t, e) {
        return !e || "object" !== ie(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ae(t) {
        return (ae = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function se(t, e) {
        return (se = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ue = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = re(this, ae(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                })))._init(), o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && se(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && oe(t.prototype, e), n && oe(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._stickyCache = {}, this._regular = this._createContainer(), this.addChild(this._regular), this._sticky = this._createContainer(), this.addChild(this._sticky);
                        var t = this._createSpriteFactory(),
                            e = this._createAnimatorFactory().createAnimator();
                        return this._model.once(s.a.STICKY_SYMBOLS_CHANGE, this._createChangeStickySymbolsHandler(t), this), this._model.on(s.a.STATUS_CHANGE, this._createChangeStatusHandler(t, e), this), this
                    }
                }, {
                    key: "_createContainer",
                    value: function() {
                        return new c.Container
                    }
                }, {
                    key: "_createSpriteFactory",
                    value: function() {
                        return new Bt(this._config, this._assets)
                    }
                }, {
                    key: "_createAnimatorFactory",
                    value: function() {
                        return new ne(this._config)
                    }
                }, {
                    key: "_createChangeStickySymbolsHandler",
                    value: function(t) {
                        return function(e, n) {
                            e.status === l.a.READY && this._showStickySymbols(t)
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t, e) {
                        var n = this;
                        return e.on(i.a.SPECIAL_TRANSFORM_COMPLETE, function() {
                                n.emit(a.a.BEFORE_SPECIAL_WALK_COMPLETE)
                            }), e.on(i.a.SPECIAL_TRANSFORM, function() {
                                n.emit(a.a.BEFORE_SPECIAL_WALK_TRANSFORM)
                            }),
                            function(n, i) {
                                switch (i) {
                                    case l.a.BEFORE_WINLINE_WALK:
                                        this._showSymbolTransformOverlay(t);
                                        break;
                                    case l.a.BEFORE_SPECIAL_WALK:
                                        this._showSpecialSymbolTransformOverlay({
                                            spriteFactory: t,
                                            animator: e,
                                            transformDuration: this._config.scatter.transformDuration
                                        });
                                        break;
                                    case l.a.BEFORE_FAST_SPECIAL_WALK:
                                        this._showSpecialSymbolTransformOverlay({
                                            spriteFactory: t,
                                            animator: e,
                                            transformDuration: this._config.scatter.fastTransformDuration
                                        });
                                        break;
                                    case l.a.BEFORE_READY:
                                        this._showBeforeReadyBonus(t);
                                        break;
                                    case l.a.FIRST_WINLINE_WALK:
                                        this._playStickyAnimations();
                                        break;
                                    case l.a.TAKING:
                                    case l.a.GAMBLING:
                                        this._removeAnimations();
                                        break;
                                    case l.a.READY:
                                        this._removeAnimations(), this._pauseStickyAnimations(), this._removeStickyAnimations();
                                        break;
                                    case l.a.SPINNING:
                                        this._instantlyRemoveStickyAnimations()
                                }
                            }
                    }
                }, {
                    key: "_showSymbolTransformOverlay",
                    value: function(t) {
                        var e = this,
                            n = bt.a.getTransformPositions(this._model.reels, this._config);
                        if (n.length > 0) this._showPreWinTransform(t, [{
                            positions: n
                        }]), this.emit(a.a.BEFORE_WINLINE_WALK);
                        else if (bt.a.hasPreWin(this._model.winlineWins, this._model.reels, this._config)) this._showPreWinTransform(t, this._model.winlineWins), this.emit(a.a.BEFORE_WINLINE_WALK);
                        else {
                            this._showBeforeWinlineWalkBonus(t);
                            var i = this._showStickySymbols(t),
                                o = this._calculateCompletionDelay(i);
                            setTimeout(function() {
                                e.emit(a.a.BEFORE_WINLINE_WALK_COMPLETE)
                            }, o)
                        }
                        return this
                    }
                }, {
                    key: "_calculateCompletionDelay",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            e = this._config.winlines;
                        return e.stickySymbolDelay > 0 && e.symbolTransformDuration > 0 && t.length > 0 ? e.symbolTransformDuration - e.stickySymbolDelay : 0
                    }
                }, {
                    key: "_showBeforeWinlineWalkBonus",
                    value: function(t) {
                        this._model.bonusType === vt.a.BEFORE_WINLINE_WALK && this._model.bonusTriggerId && this._addScatterGameBonusWinAnimation(t)
                    }
                }, {
                    key: "_addScatterGameBonusWinAnimation",
                    value: function(t) {
                        var e = this,
                            n = bt.a.getPositionsById(this._model.bonusTriggerId, this._model.reels),
                            i = t.createWinAnimation(n, this._model.reels);
                        this._regular.addChild(i), this._model.once(s.a.STATUS_CHANGE, function() {
                            e.removeChild(i)
                        })
                    }
                }, {
                    key: "_showPreWinTransform",
                    value: function(t, e) {
                        var n = this,
                            i = [];
                        e.forEach(function(e, o) {
                            n._addPreWinAnimation(e.positions, t, i)
                        });
                        var o = this._config.winlines.stickySymbolDelay || 0;
                        setTimeout(function() {
                            n._showStickySymbols(t)
                        }, o);
                        var r = this._config.winlines.symbolTransformDuration || 0;
                        return setTimeout(function() {
                            n._showBeforeWinlineWalkBonus(t), n.emit(a.a.BEFORE_WINLINE_WALK_COMPLETE)
                        }, r), this
                    }
                }, {
                    key: "_addPreWinAnimation",
                    value: function(t, e, n) {
                        if (t) {
                            var i = e.createPreWinAnimation({
                                positions: t,
                                reels: this._model.reels,
                                compositeCache: n
                            });
                            i.children.length && this._regular.addChild(i)
                        }
                        return this
                    }
                }, {
                    key: "_showSpecialSymbolTransformOverlay",
                    value: function(t) {
                        var e = this,
                            n = t.spriteFactory,
                            i = t.animator,
                            o = t.transformDuration,
                            r = this._model.special;
                        if (r && r.winlineWins) {
                            var s = bt.a.reduceToUniquePositions(r.winlineWins),
                                u = n.createSpecialWinAnimation(s, this._model.reels);
                            u.forEach(function(t) {
                                e._regular.addChild(t)
                            });
                            var l = o || 0;
                            i.animate(u, l)
                        } else this.emit(a.a.BEFORE_SPECIAL_WALK_COMPLETE)
                    }
                }, {
                    key: "_showBeforeReadyBonus",
                    value: function(t) {
                        this._model.bonusType === vt.a.BEFORE_READY && this._model.bonusTriggerId && this._addScatterGameBonusWinAnimation(t)
                    }
                }, {
                    key: "_showStickySymbols",
                    value: function(t) {
                        var e = this;
                        if (this._model.stickySymbols.length <= 0) return [];
                        var n = this._model.stickySymbols.filter(function(t) {
                                var n = !Boolean(e._stickyCache[t.x] && e._stickyCache[t.x][t.y]);
                                return e._stickyCache[t.x] = e._stickyCache[t.x] || {}, e._stickyCache[t.x][t.y] = !0, n
                            }),
                            i = t.createStickyWinAnimation(n, this._model.reels);
                        return this._sticky.addChild(i), n.length > 0 && (this._config.winlines.restartStickyOnNew ? this._restartStickySymbols() : this._normalizeStickySymbols(i)), this._config.winlines.staticStickies && i.children.forEach(function(t) {
                            t.stop()
                        }), n
                    }
                }, {
                    key: "_restartStickySymbols",
                    value: function() {
                        this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.restart()
                            })
                        })
                    }
                }, {
                    key: "_normalizeStickySymbols",
                    value: function(t) {
                        var e = this;
                        t.children.forEach(function(t) {
                            e._regular.children.forEach(function(e) {
                                e.children.filter(function(e) {
                                    var n = e.x === t.x && e.y === t.y,
                                        i = e.totalFrames === t.totalFrames;
                                    if (n && i) {
                                        var o = (e.currentFrame + 1) % t.totalFrames;
                                        t.gotoAndPlay(o)
                                    }
                                })
                            })
                        })
                    }
                }, {
                    key: "_playStickyAnimations",
                    value: function() {
                        var t = this;
                        return this._config.winlines.staticStickies && this._model.hasStickySymbols ? (this._sticky.children.forEach(function(e) {
                            e.children.filter(function(e) {
                                return t._isPartOfWin(e.getPosition())
                            }).forEach(function(t) {
                                t.play()
                            })
                        }), this) : this
                    }
                }, {
                    key: "_isPartOfWin",
                    value: function(t) {
                        for (var e = this._model.winlineWins, n = 0; n < e.length; n += 1)
                            if (e[n].positions)
                                for (var i = 0; i < e[n].positions.length; i += 1) {
                                    var o = e[n].positions[i];
                                    if (o.x === t.x && o.y === t.y) return !0
                                }
                        return !1
                    }
                }, {
                    key: "_removeAnimations",
                    value: function() {
                        return this._regular.removeChildren(), this
                    }
                }, {
                    key: "_pauseStickyAnimations",
                    value: function() {
                        return this._config.winlines.staticStickies && this._model.hasStickySymbols ? (this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.gotoAndStop(0)
                            })
                        }), this) : this
                    }
                }, {
                    key: "_removeStickyAnimations",
                    value: function() {
                        var t = this;
                        if (this._model.hasStickySymbols) return this;
                        if (this._config.winlines.staticStickies) return this._instantlyRemoveStickyAnimations();
                        var e = 0;
                        return this._sticky.children.forEach(function(n) {
                            n.children.forEach(function(n) {
                                e += 1, n.loop = !1, n.gotoAndPlay(n.currentFrame), n.onComplete = function() {
                                    (e -= 1) <= 0 && t._sticky.removeChildren()
                                }
                            })
                        }), this._stickyCache = {}, this
                    }
                }, {
                    key: "_instantlyRemoveStickyAnimations",
                    value: function() {
                        return this._model.hasStickySymbols ? this : (this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.onComplete = null
                            })
                        }), this._sticky.removeChildren(), this._stickyCache = {}, this)
                    }
                }]), e
        }(),
        le = n(85),
        ce = n(22),
        he = {
            Elastic: w.Elastic,
            Back: w.Back,
            Sine: w.Sine,
            Bounce: w.Bounce,
            Circ: w.Circ,
            "elastic.easeInOut": w.Elastic.easeInOut,
            "elastic.easeIn": w.Elastic.easeIn,
            "elastic.easeOut": w.Elastic.easeOut,
            "back.easeInOut": w.Back.easeInOut,
            "back.easeIn": w.Back.easeIn,
            "back.easeOut": w.Back.easeOut,
            "sine.easeInOut": w.Sine.easeInOut,
            "sine.easeIn": w.Sine.easeIn,
            "sine.easeOut": w.Sine.easeOut,
            "bounce.easeInOut": w.Bounce.easeInOut,
            "bounce.easeIn": w.Bounce.easeIn,
            "bounce.easeOut": w.Bounce.easeOut,
            "circ.easeInOut": w.Circ.easeInOut,
            "circ.easeIn": w.Circ.easeIn,
            "circ.easeOut": w.Circ.easeOut
        };

    function fe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _e = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && fe(t.prototype, e), n && fe(t, n)
        }(t, [{
            key: "animate",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        isFirstShow: !0,
                        isSpecialWalk: !1,
                        isInScatter: !1
                    },
                    i = n.isFirstShow,
                    o = n.isSpecialWalk,
                    r = n.isInScatter,
                    a = this._extractConfig({
                        isSpecialWalk: o,
                        isInScatter: r
                    }),
                    s = a.jumpDuration || 0;
                t.scale && s && (i || (w.TweenLite.killTweensOf(t), w.TweenLite.killTweensOf(t.scale)), this._animatePulseScale(t, {
                    config: a,
                    duration: s
                }), this._animatePulsePosition(t, {
                    isFirstShow: i,
                    winSize: e,
                    config: a,
                    duration: s
                }))
            }
        }, {
            key: "_extractConfig",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        isSpecialWalk: !1,
                        isInScatter: !1
                    },
                    e = t.isSpecialWalk,
                    n = t.isInScatter,
                    i = this._config.text.animation || {};
                return e ? i.special || i : n && i.inScatter || i
            }
        }, {
            key: "_animatePulseScale",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = n.scale || 1;
                w.TweenLite.from(t.scale, i, {
                    x: o,
                    y: o
                })
            }
        }, {
            key: "_animatePulsePosition",
            value: function(t, e) {
                var n = this,
                    i = e.isFirstShow,
                    o = e.winSize,
                    r = e.config,
                    a = e.duration,
                    s = t.x + (r.x || 0),
                    u = t.y + (r.y || 0);
                w.TweenLite.from(t, a, {
                    x: s,
                    y: u,
                    onComplete: function() {
                        i && n._moveToWinnings(t, {
                            winSize: o,
                            config: r
                        })
                    }
                })
            }
        }, {
            key: "_moveToWinnings",
            value: function(t, e) {
                var n = e.winSize,
                    i = e.config,
                    o = i.moveDuration || 0,
                    r = i.waitDuration || 0,
                    a = r.length ? r : [r],
                    s = a.length >= n ? n - 1 : a.length - 1;
                this._animateMovePosition(t, {
                    config: i,
                    duration: o,
                    moveDelay: a[s]
                }), this._animateMoveFadeout(t, {
                    duration: o,
                    moveDelay: a[s]
                }), this._animateMoveScale(t, {
                    config: i,
                    duration: o,
                    moveDelay: a[s]
                })
            }
        }, {
            key: "_animateMovePosition",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = e.moveDelay,
                    r = {
                        x: t.x,
                        y: t.y
                    },
                    a = he[n.moveEase] || w.Back.easeInOut;
                w.TweenLite.to(t, i, {
                    x: n.endX,
                    y: n.endY,
                    delay: o,
                    ease: a,
                    onComplete: function() {
                        t.visible = !1, t.x = r.x, t.y = r.y
                    }
                })
            }
        }, {
            key: "_animateMoveFadeout",
            value: function(t, e) {
                var n = e.duration,
                    i = e.moveDelay,
                    o = .8 * n,
                    r = n - o;
                w.TweenLite.to(t, r, {
                    delay: o + i,
                    alpha: 0,
                    onComplete: function() {
                        t.alpha = 1, t.visible = !1
                    }
                })
            }
        }, {
            key: "_animateMoveScale",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = e.moveDelay,
                    r = .5 * i,
                    a = n.moveMidScale || 1,
                    s = n.moveEndScale || 1;
                w.TweenLite.to(t.scale, r, {
                    x: a,
                    y: a,
                    delay: o,
                    ease: w.Expo.easeIn,
                    onComplete: function() {
                        w.TweenLite.to(t.scale, r, {
                            x: s,
                            y: s,
                            onComplete: function() {
                                t.scale.x = 1, t.scale.y = 1
                            }
                        })
                    }
                })
            }
        }, {
            key: "destroy",
            value: function() {
                this._config = null
            }
        }]), t
    }();

    function ye(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var de = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._currentIndex = -1, this._containers = []
        }
        return function(t, e, n) {
            e && ye(t.prototype, e), n && ye(t, n)
        }(t, [{
            key: "add",
            value: function(t) {
                return t.hide(), this._config.winlines.animateSelectedOnly || t.showWinAnimation(), this._containers.push(t)
            }
        }, {
            key: "hideCurrent",
            value: function() {
                var t = this.getCurrent();
                return t && (t.hide(), this._config.winlines.animateSelectedOnly || t.showWinAnimation(), t.showWinModifier()), this
            }
        }, {
            key: "next",
            value: function() {
                return this._currentIndex += 1, this
            }
        }, {
            key: "show",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    e = this.getCurrent();
                e && (e.show(), this._getShouldRestart() && e.restartWinAnimation(t));
                return this
            }
        }, {
            key: "_getShouldRestart",
            value: function() {
                var t = this._config.winlines,
                    e = this.getCurrentWinType() === ce.a.SCATTER,
                    n = 1 === this.getLength();
                return !(!t.walkIfSingleScatter && e && n) && (!(!t.walkIfSingle && n) && (this.getLength() && t.animateSelectedOnly))
            }
        }, {
            key: "reset",
            value: function() {
                return this._currentIndex = -1, this
            }
        }, {
            key: "getLength",
            value: function() {
                return this._containers.length
            }
        }, {
            key: "getCurrentIndex",
            value: function() {
                return this._currentIndex
            }
        }, {
            key: "getCurrent",
            value: function() {
                return this._currentIndex > -1 && this._currentIndex < this._containers.length ? this._containers[this._currentIndex] : null
            }
        }, {
            key: "getCurrentWinType",
            value: function() {
                var t = this.getCurrent();
                return t && t.winline.winType || ce.a.REGULAR
            }
        }, {
            key: "hasNext",
            value: function() {
                return this._currentIndex < this._containers.length - 1
            }
        }, {
            key: "clear",
            value: function() {
                this._containers.forEach(function(t) {
                    t.hide(), t.showWinModifier()
                }), this._containers = [], this._currentIndex = -1
            }
        }, {
            key: "destroy",
            value: function() {
                this._containers.forEach(function(t) {
                    t.destroy()
                }), this._containers = null, this._config = null
            }
        }]), t
    }();

    function pe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var me = function() {
        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                n = e.winline,
                i = e.winModifier,
                o = e.winAnimation,
                r = e.winText,
                a = e.animateSelectedOnly,
                s = e.winTextAnimator,
                u = e.isSpecialWalk,
                l = e.isInScatter;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.winline = n || {}, this.winModifier = i || {}, this.winAnimation = o || {}, this.winText = r || {}, this._animateSelectedOnly = a, this._winTextAnimator = s, this._isSpecialWalk = u || !1, this._isInScatter = l || !1, this._isFirstShow = !0, this._children = [this.winline, this.winModifier, this.winAnimation, this.winText]
        }
        return function(t, e, n) {
            e && pe(t.prototype, e), n && pe(t, n)
        }(t, [{
            key: "show",
            value: function() {
                if (this._children.forEach(function(t) {
                        t.visible = !0
                    }), this._winTextAnimator) {
                    var t = (this.winline.positions || []).length || 1;
                    this._winTextToCache(), this._winTextFromCache(), this._winTextAnimator.animate(this.winText, t, {
                        isFirstShow: this._isFirstShow,
                        isSpecialWalk: this._isSpecialWalk,
                        isInScatter: this._isInScatter
                    }), this._isFirstShow = !1
                }
                return this
            }
        }, {
            key: "_winTextToCache",
            value: function() {
                var t = this.winText;
                this._isFirstShow && t.scale && (this._winTextCache = {
                    alpha: t.alpha,
                    x: t.x,
                    y: t.y,
                    scale: {
                        x: t.scale.x,
                        y: t.scale.y
                    }
                })
            }
        }, {
            key: "_winTextFromCache",
            value: function() {
                var t = this.winText,
                    e = this._winTextCache;
                e && t.scale && e.scale && (t.alpha = e.alpha, t.x = e.x, t.y = e.y, t.scale.x = e.scale.x, t.scale.y = e.scale.y)
            }
        }, {
            key: "hide",
            value: function() {
                return this._children.forEach(function(t) {
                    t.visible = !1
                }), this
            }
        }, {
            key: "showWinAnimation",
            value: function() {
                return this.winAnimation.visible = !0, this
            }
        }, {
            key: "showWinModifier",
            value: function() {
                return this.winModifier.visible = !0, this
            }
        }, {
            key: "hideWinModifier",
            value: function() {
                return this.winModifier.visible = !1, this
            }
        }, {
            key: "restartWinAnimation",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return this.winAnimation.children && this.winAnimation.children.forEach(function(e) {
                    e.clearLoopRepeatTimeout(), e.restart(t)
                }), this
            }
        }, {
            key: "destroy",
            value: function() {
                this.winline = null, this.winModifier = null, this.winAnimation = null, this.winText = null, this._children = null, this._winTextAnimator = null
            }
        }]), t
    }();

    function ve(t) {
        return (ve = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ge(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function be(t, e) {
        return !e || "object" !== ve(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Se(t) {
        return (Se = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function we(t, e) {
        return (we = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ke = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = be(this, Se(e).call(this)))._config = t, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && we(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && ge(t.prototype, e), n && ge(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._winContainers = new de(this._config), this._winTextAnimator = new _e(this._config), this
                    }
                }, {
                    key: "addToWinlineWalk",
                    value: function(t) {
                        var e = t.winline,
                            n = t.winModifier,
                            i = t.winAnimation,
                            o = t.winText,
                            r = t.isSpecialWalk,
                            a = t.isInScatter;
                        this._startFrame = 0, this._walkDelay = 0, this._fastWalkDelay = 0, clearTimeout(this._timer), this._timer = null;
                        var s = new me({
                            winline: e,
                            winText: o,
                            winAnimation: i,
                            winModifier: n,
                            winTextAnimator: this._winTextAnimator,
                            isSpecialWalk: r,
                            isInScatter: a
                        });
                        return this._winContainers.add(s)
                    }
                }, {
                    key: "walk",
                    value: function() {
                        return this._isPaused = !1, this._winContainers.getLength() && this._walk(), this
                    }
                }, {
                    key: "_walk",
                    value: function() {
                        return this._isPaused || (this._hideCurrent(), this._showNext(), this._checkForCompletion()), this
                    }
                }, {
                    key: "_checkForCompletion",
                    value: function() {
                        return this._timer && !this._winContainers.getCurrent() && this.emit(i.a.WINLINE_WALK_COMPLETE), this
                    }
                }, {
                    key: "_hideCurrent",
                    value: function() {
                        var t = this._calculateWalkThreshold();
                        return this._winContainers.getLength() > t && this._winContainers.hideCurrent(), this
                    }
                }, {
                    key: "_calculateWalkThreshold",
                    value: function() {
                        var t = this._config.winlines,
                            e = this._winContainers.getCurrentWinType();
                        return (t.walkIfSingleScatter || e !== ce.a.SCATTER) && t.walkIfSingle ? 0 : 1
                    }
                }, {
                    key: "_showNext",
                    value: function() {
                        this._winContainers.hasNext() ? (this._winContainers.next(), this._winContainers.show(this._startFrame), this._updateTimer()) : (this._winContainers.reset(), this.initializeTimer()), this.emit(i.a.WINLINE_WALK, this._winContainers.getCurrentIndex())
                    }
                }, {
                    key: "initializeTimer",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this._walkDelay = e, this._timer = setTimeout(function() {
                            t._walk()
                        }, this._getDelay()), this
                    }
                }, {
                    key: "_updateTimer",
                    value: function() {
                        var t = this;
                        return this._timer && (this._timer = setTimeout(function() {
                            t._walk()
                        }, this._getDelay())), this
                    }
                }, {
                    key: "_getDelay",
                    value: function() {
                        if (this._fastWalkDelay) return this._fastWalkDelay;
                        if (this._walkDelay) return this._walkDelay;
                        var t = this._config.winlines,
                            e = this._winContainers.getCurrent();
                        if (!e) return t.walkRepeatDelay;
                        var n = this._winContainers.getCurrentWinType(),
                            i = t.scatter.delay || t.regular.delay,
                            o = n === ce.a.REGULAR ? t.regular.delay : i,
                            r = e.winAnimation,
                            a = r.loopRepeatDelay || 0,
                            s = r.duration + a,
                            u = t.loopCutOff || r.loopCutOff || 0;
                        return o || s - u
                    }
                }, {
                    key: "fastWalk",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this._isPaused = !1, this._fastWalkDelay = e || this._config.winlines.fastWalkDelay, clearTimeout(this._timer), this._timer = setTimeout(function() {
                            t._startFrame = t._config.winlines.fastWalkStartFrame || 0, t._walk()
                        }, this._fastWalkDelay), this
                    }
                }, {
                    key: "fastSpecialWalk",
                    value: function() {
                        return this.fastWalk(this._config.winlines.fastSpecialWalkDelay)
                    }
                }, {
                    key: "pause",
                    value: function() {
                        return this._isPaused = !0, clearTimeout(this._timer), this
                    }
                }, {
                    key: "clearWinlineWalk",
                    value: function() {
                        var t = this._winContainers.getLength();
                        return this._winContainers.clear(), clearTimeout(this._timer), this._timer = null, t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._timer), this._timer = null, this._config = null, this._winContainers.destroy(), this._winContainers = null, this._winTextAnimator.destroy(), this._winTextAnimator = null
                    }
                }]), e
        }(),
        Ee = n(36);

    function Te(t) {
        return (Te = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ce(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Oe(t, e) {
        return !e || "object" !== Te(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ae(t) {
        return (Ae = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pe(t, e) {
        return (Pe = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ie = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Oe(this, Ae(e).call(this, i)))._style = t, o._setup = n, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Pe(t, e)
            }(e, Ee["a"]),
            function(t, e, n) {
                e && Ce(t.prototype, e), n && Ce(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._info = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style)
                    }), this._setAlign(this._setup.align || this._style.align)
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._info.text = isNaN(t) ? t : this._formatCredit(t), this._info.text
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._info.x = .5 * -this._info.width
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._info.x = -this._info.width
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, Ee.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function xe(t) {
        return (xe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Re(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function We(t, e) {
        return !e || "object" !== xe(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ne(t) {
        return (Ne = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function je(t, e) {
        return (je = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Le = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = We(this, Ne(e).call(this))).winType = t || ce.a.REGULAR, i.positions = n || [], i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && je(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Re(t.prototype, e), n && Re(t, n)
            }(e, [{
                key: "destroy",
                value: function() {
                    this.positions = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ge(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Me = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && Ge(t.prototype, e), n && Ge(t, n)
        }(t, [{
            key: "createWinline",
            value: function(t) {
                var e = this,
                    n = t.positions,
                    i = t.frameConfig,
                    o = t.emphasizedPositions,
                    r = t.winlineIndex,
                    a = t.winType,
                    s = this._createWinline(a, o || n);
                return n.forEach(function(t) {
                    var n = !!(o && o.length) && o.indexOf(t.x - 1) < 0,
                        a = e._createWinlineFrame({
                            position: t,
                            config: i,
                            isFaded: n,
                            winlineIndex: r
                        });
                    s.addChild(a)
                }), s.cacheAsBitmap = !0, s
            }
        }, {
            key: "_createWinline",
            value: function(t, e) {
                return new Le(t, e)
            }
        }, {
            key: "_createWinlineFrame",
            value: function(t) {
                var e = t.position,
                    n = t.config,
                    i = t.isFaded,
                    o = t.winlineIndex,
                    r = n.padding || 0,
                    a = n.lineWidth % 2 ? .5 : 2,
                    s = f.calculateOnReelX(e, this._config) + a - r,
                    u = f.calculateOnReelY(e, this._config) + a - r,
                    l = this._extractColor({
                        config: n,
                        isFaded: i,
                        winlineIndex: o
                    }),
                    c = n.lineWidth,
                    h = this._createGraphics(),
                    _ = this._config.symbol,
                    y = n.lineWidth % 2 ? 0 : -4,
                    d = _.width + y + 2 * r,
                    p = _.height + y + 2 * r;
                h.lineStyle(c, l, 1);
                var m = this._extractBaseWinFrameSetupAtPosition(e),
                    v = !!n.inset && this._extractColor({
                        config: n.inset,
                        isFaded: i,
                        winlineIndex: o
                    });
                if (m.padding || m.curve || m.skew) {
                    var g = this._toWinFrameSetup(m);
                    this._drawCustomWinFrame(h, d, p, g), v && n.inset && (h.lineStyle(n.inset.lineWidth, v, 1), this._drawCustomWinFrame(h, d, p, g));
                    var b = h.generateTexture(),
                        S = this._createSprite(b);
                    return S.x = s - g.paddingLeft, S.y = u - c, S
                }
                return h.drawRect(s, u, d, p), v && n.inset && (h.lineStyle(n.inset.lineWidth, v, 1), h.drawRect(s, u, d, p)), h
            }
        }, {
            key: "_extractColor",
            value: function(t) {
                var e = t.config,
                    n = t.winlineIndex,
                    i = t.isFaded && e.fadedColor ? e.fadedColor : e.lineColor;
                return i.length ? i[n % i.length] : i
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new c.Graphics
            }
        }, {
            key: "_extractBaseWinFrameSetupAtPosition",
            value: function(t) {
                var e = t.x,
                    n = t.y;
                return this._config.winlines.frames ? this._config.winlines.frames.length < n - 1 ? {} : this._config.winlines.frames[n - 1].length < e - 1 ? {} : this._config.winlines.frames[n - 1][e - 1] : {}
            }
        }, {
            key: "_toWinFrameSetup",
            value: function(t) {
                var e = t.padding || {},
                    n = t.curve || {},
                    i = t.skew || {};
                return {
                    padding: e,
                    curve: n,
                    skew: i,
                    paddingLeft: e.left || 0,
                    paddingRight: e.right || 0,
                    curveLeft: n.left || [0, 0],
                    curveRight: n.right || [0, 0],
                    skewLeft: i.left || 0,
                    skewRight: i.right || 0
                }
            }
        }, {
            key: "_drawCustomWinFrame",
            value: function(t, e, n, i) {
                var o = i.paddingLeft,
                    r = i.paddingRight,
                    a = i.curveLeft,
                    s = i.curveRight,
                    u = i.skewLeft,
                    l = i.skewRight,
                    c = -1 * o;
                t.moveTo(c, 0);
                var h = e + r,
                    f = .33 * n,
                    _ = .66 * n;
                return t.lineTo(h, 0), this._drawCurve(t, {
                    cpX: h + s[0],
                    cpY: f,
                    cpX2: h + s[1],
                    cpY2: _,
                    toX: h + l,
                    toY: n
                }), t.lineTo(c + u, n), this._drawCurve(t, {
                    cpX: c + a[1],
                    cpY: f,
                    cpX2: c + a[0],
                    cpY2: _,
                    toX: c,
                    toY: 0
                }), t
            }
        }, {
            key: "_drawCurve",
            value: function(t, e) {
                var n = e.cpX,
                    i = e.cpY,
                    o = e.cpX2,
                    r = e.cpY2,
                    a = e.toX,
                    s = e.toY;
                return t.bezierCurveTo(n, i, o, r, a, s), t
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }]), t
    }();

    function Be(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Fe = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && Be(t.prototype, e), n && Be(t, n)
        }(t, [{
            key: "createWinModifier",
            value: function(t, e) {
                var n = this,
                    i = new c.Container;
                return t.forEach(function(t) {
                    if (t.flags) {
                        var o = n._createWinSymbolAtPosition(t, e);
                        i.addChild(o)
                    }
                }), i
            }
        }, {
            key: "_createWinSymbolAtPosition",
            value: function(t, e) {
                if (t.flags) {
                    if (t.flags.x3) return this._createMultiplierSymbol(t, e, gt.X3);
                    if (t.flags.x2) return this._createMultiplierSymbol(t, e, gt.X2);
                    if (t.flags.x1) return this._createMultiplierSymbol(t, e, gt.X1);
                    if (t.flags.highWin) return this._createHugeWinSymbol(t, e)
                }
                return new c.Container
            }
        }, {
            key: "_createHugeWinSymbol",
            value: function(t, e) {
                return this._createChangedSymbol({
                    position: t,
                    reels: e,
                    changedTextureGetter: this._assets.getStaticHighWinSymbol
                })
            }
        }, {
            key: "_createChangedSymbol",
            value: function(t) {
                var e = t.position,
                    n = t.reels,
                    i = t.changedTextureGetter,
                    o = t.changedTextureGetterArgs,
                    r = bt.a.getSymbolAtPosition(n, e),
                    a = i.apply(this._assets, [r.id].concat(o));
                if (a !== this._assets.getStaticSymbol(r.id)) {
                    var s = new c.Sprite(a);
                    return s.x = f.calculateOnReelX(e, this._config), s.y = f.calculateOnReelY(e, this._config), s
                }
                return new c.Container
            }
        }, {
            key: "_createMultiplierSymbol",
            value: function(t, e, n) {
                return this._createChangedSymbol({
                    position: t,
                    reels: e,
                    changedTextureGetter: this._assets.getStaticMultiplierSymbol,
                    changedTextureGetterArgs: [n]
                })
            }
        }]), t
    }();

    function He(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var De = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._init()
        }
        return function(t, e, n) {
            e && He(t.prototype, e), n && He(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                return this._winlineFactory = new Me(this._config), this._winModifierFactory = new Fe(this._config, this._assets), this._winAnimationFactory = new Bt(this._config, this._assets), this
            }
        }, {
            key: "createRegularWinline",
            value: function(t) {
                var e = t.positions,
                    n = t.emphasizedPositions,
                    i = t.winlineIndex,
                    o = t.isInScatter,
                    r = this._getRegularWinlineConfig({
                        isFullWin: n && n.length > this._config.reels.count,
                        isInScatter: o
                    });
                return this._winlineFactory.createWinline({
                    positions: e,
                    frameConfig: r,
                    emphasizedPositions: n,
                    winlineIndex: i,
                    winType: ce.a.REGULAR
                })
            }
        }, {
            key: "_getRegularWinlineConfig",
            value: function(t) {
                var e = t.isFullWin,
                    n = t.isInScatter,
                    i = this._config.scatter.winlines || this._config.winlines;
                return n && e ? i.full || i.regular : n ? i.regular : this._config.winlines.regular
            }
        }, {
            key: "createScatterWinline",
            value: function(t) {
                return this._winlineFactory.createWinline({
                    positions: t,
                    frameConfig: this._config.winlines.scatter,
                    winType: ce.a.SCATTER
                })
            }
        }, {
            key: "createWinModifier",
            value: function(t, e) {
                return this._winModifierFactory.createWinModifier(t, e)
            }
        }, {
            key: "createWinAnimation",
            value: function(t, e) {
                return this._winAnimationFactory.createWinAnimation(t, e)
            }
        }, {
            key: "createWinlineAnimator",
            value: function() {
                return new ke(this._config)
            }
        }, {
            key: "createWinText",
            value: function(t, e) {
                if (!e) return this._createGuiObject();
                var n = this._config.text,
                    i = f.calculateCenter(t, this._config.reels.count),
                    o = this._createWinInfo(n.style, {}, n.format),
                    r = bt.a.getIsMultiplierAt(t[i]) ? .6 : .33,
                    a = this._config.reels,
                    s = a.count % 2 == 0 && t.length >= a.count,
                    u = this._config.symbol,
                    l = s ? 1 * u.width + .5 * a.gap : .5 * u.width,
                    c = u.height * r;
                return o.setContent(e), o.x = f.calculateOnReelX(t[i], this._config) + l, o.y = f.calculateOnReelY(t[i], this._config) + c, o
            }
        }, {
            key: "_createGuiObject",
            value: function() {
                return new B.a
            }
        }, {
            key: "_createWinInfo",
            value: function(t, e, n) {
                return new Ie(t, e, n)
            }
        }, {
            key: "createCompositeWinAnimation",
            value: function(t, e) {
                var n = this,
                    i = this._createContainer(),
                    o = [];
                return t.forEach(function(t, r) {
                    var a = n._createCompositeWinAnimation(t.positions, e, o);
                    a.children.length && i.addChild(a)
                }), i
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "createInScatterWinAnimation",
            value: function(t, e) {
                return this._winAnimationFactory.createInScatterWinAnimation(t, e)
            }
        }, {
            key: "_createCompositeWinAnimation",
            value: function(t, e, n) {
                return t ? this._winAnimationFactory.createCompositeWinAnimation({
                    positions: t,
                    reels: e,
                    compositeCache: n
                }) : this._createContainer()
            }
        }]), t
    }();

    function Ke(t) {
        return (Ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ue(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ye(t, e) {
        return !e || "object" !== Ke(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function qe(t) {
        return (qe = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ve(t, e) {
        return (Ve = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Xe, ze = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Ye(this, qe(e).call(this, {
                model: t,
                config: n,
                assets: i
            })))._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ve(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Ue(t.prototype, e), n && Ue(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    return this._workshop = this._createWorkshop(), this._winlineAnimator = this._workshop.createWinlineAnimator(), this._containers = {
                        winModifier: this._addContainer(),
                        winAnimation: this._addContainer(),
                        compositeWinAnimation: this._addContainer(),
                        winline: this._addContainer(),
                        winText: this._addContainer()
                    }, this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new De(this._config, this._assets)
                }
            }, {
                key: "_addContainer",
                value: function() {
                    return this.addChild(new c.Container)
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case l.a.FIRST_WINLINE_WALK:
                            this._startWalk(this._addWinlineGraphics);
                            break;
                        case l.a.SPECIAL_WALK:
                            this._startWalk(this._addSpecialWinlineGraphics), this._winlineAnimator.initializeTimer(this._config.winlines.specialWalkDelay);
                            break;
                        case l.a.BEFORE_SPECIAL_WALK:
                        case l.a.BEFORE_FAST_SPECIAL_WALK:
                        case l.a.WAITING:
                        case l.a.GAMBLING:
                        case l.a.TAKING:
                            this._clearWinAnimations();
                            break;
                        case l.a.FAST_SPECIAL_WALK:
                            this._fastSpecialWalk();
                            break;
                        case l.a.FAST_WINLINE_WALK:
                            this._fastWalk();
                            break;
                        case l.a.SPINNING:
                            this._clearWinModifiers()
                    }
                }
            }, {
                key: "_startWalk",
                value: function(t) {
                    this._wins = [], t.call(this), this._addAnimatorListeners(), this._model.hasMultiplier || this.walk()
                }
            }, {
                key: "_addWinlineGraphics",
                value: function() {
                    var t = this;
                    this._model.winlineWins.forEach(function(e, n) {
                        t._processWinline(t._addRegularWinline, e, n)
                    }), this._model.scatterWin && this._processWinline(this._addScatterWinline, this._model.scatterWin), this._checkForCompositeAnimation = !0
                }
            }, {
                key: "_addSpecialWinlineGraphics",
                value: function() {
                    var t = this;
                    this._model.special && this._model.special.winlineWins && this._model.special.winlineWins.forEach(function(e, n) {
                        t._processWinline(t._addRegularWinline, e, n)
                    })
                }
            }, {
                key: "_addAnimatorListeners",
                value: function() {
                    var t = this;
                    this._winlineAnimator.on(i.a.WINLINE_WALK_COMPLETE, function() {
                        t.emit(a.a.WINLINE_WALK_COMPLETE)
                    }), this._winlineAnimator.on(i.a.WINLINE_WALK, function(e) {
                        var n = e > -1 ? t._wins[e] : null;
                        t.emit(a.a.WINLINE_WALK, n)
                    })
                }
            }, {
                key: "_processWinline",
                value: function(t, e, n) {
                    if (e && e.positions && e.positions.length) {
                        var i = this._extractCurrentWinline(n),
                            o = t.call(this, e, i, n),
                            r = this._addWinModifier(e),
                            a = this._addWinAnimation(e),
                            s = this._addWinText(e);
                        this._winlineAnimator.addToWinlineWalk({
                            winline: o,
                            winModifier: r,
                            winAnimation: a,
                            winText: s,
                            isSpecialWalk: this._model.isSpecialWalk,
                            isInScatter: this._model.isInScatter
                        })
                    }
                    return this._winlineAnimator
                }
            }, {
                key: "_extractCurrentWinline",
                value: function(t) {
                    var e;
                    return (t || 0 === t) && t < this._model.availableWinlines.length && (e = this._model.availableWinlines[t]), e
                }
            }, {
                key: "_addRegularWinline",
                value: function(t, e, n) {
                    var i = t.positions.map(function(t) {
                            return t.x - 1
                        }),
                        o = this._config.winlines,
                        r = o.fadeNonSelected || o.fadeNonSelectedFrames ? i : [],
                        a = e || t.positions,
                        s = this._workshop.createRegularWinline({
                            positions: a,
                            emphasizedPositions: r,
                            winlineIndex: n,
                            isInScatter: this._model.isInScatter
                        }),
                        u = !!this._config.offbeat && this._getHasOffbeat(t.positions);
                    return this._containers.winline.addChild(s), this._wins.push({
                        credits: t.credits,
                        size: t.positions.length,
                        coordinates: this._calculateCoordinatesFromPositions(t.positions),
                        hasOffbeat: u,
                        type: ce.a.REGULAR,
                        index: n
                    }), s
                }
            }, {
                key: "_calculateCoordinatesFromPositions",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        return {
                            x: t.x * (e._config.symbol.width + e._config.reels.gap),
                            y: (t.y + .5) * e._config.symbol.height
                        }
                    })
                }
            }, {
                key: "_getHasOffbeat",
                value: function(t) {
                    for (var e = 0; e < t.length; e += 1) {
                        var n = t[e];
                        if (this._model.reels[n.x - 1].symbols[n.y].id === this._config.offbeat.id) return !0
                    }
                    return !1
                }
            }, {
                key: "_addWinModifier",
                value: function(t) {
                    var e = this._workshop.createWinModifier(t.positions, this._model.reels);
                    return this._containers.winModifier.addChild(e), e
                }
            }, {
                key: "_addWinAnimation",
                value: function(t) {
                    var e = this._createWinAnimaton(t);
                    return this._containers.winAnimation.addChild(e), e
                }
            }, {
                key: "_createWinAnimaton",
                value: function(t) {
                    switch (this._model.gameType) {
                        case u.a.SCATTER:
                            return this._workshop.createInScatterWinAnimation(t.positions, this._model.reels);
                        default:
                            return this._workshop.createWinAnimation(t.positions, this._model.reels)
                    }
                }
            }, {
                key: "_addWinText",
                value: function(t) {
                    var e = this._workshop.createWinText(t.positions, t.credits);
                    return this._containers.winText.addChild(e), e
                }
            }, {
                key: "_addScatterWinline",
                value: function(t) {
                    var e = this._workshop.createScatterWinline(t.positions);
                    return this._containers.winline.addChild(e), this._wins.push({
                        credits: t.credits,
                        size: t.positions.length,
                        coordinates: this._calculateCoordinatesFromPositions(t.positions),
                        type: ce.a.SCATTER,
                        index: -1
                    }), e
                }
            }, {
                key: "_fastWalk",
                value: function() {
                    this._model.hasMultiplier && this.walk(), this._winlineAnimator.fastWalk()
                }
            }, {
                key: "_fastSpecialWalk",
                value: function() {
                    this._winlineAnimator.fastSpecialWalk()
                }
            }, {
                key: "_clearWinAnimations",
                value: function() {
                    this._winlineAnimator.removeAllListeners(), this._winlineAnimator.clearWinlineWalk(), this._containers.winline.children.forEach(function(t) {
                        t.children.forEach(function(t) {
                            t.destroy(!0, !0)
                        })
                    }), this._containers.winline.removeChildren(), this._containers.winAnimation.removeChildren(), this._containers.compositeWinAnimation.removeChildren(), this._containers.winText.children.forEach(function(t) {
                        t.destroy()
                    }), this._containers.winText.removeChildren()
                }
            }, {
                key: "_clearWinModifiers",
                value: function() {
                    this._containers.winModifier.removeChildren()
                }
            }, {
                key: "walk",
                value: function() {
                    this._winlineAnimator.walk(), this._showCompositeWinAnimation()
                }
            }, {
                key: "_showCompositeWinAnimation",
                value: function() {
                    if (this._checkForCompositeAnimation) {
                        var t = this._workshop.createCompositeWinAnimation(this._model.winlineWins, this._model.reels);
                        t.children.length && this._containers.compositeWinAnimation.addChild(t), this._checkForCompositeAnimation = !1
                    }
                }
            }, {
                key: "pause",
                value: function() {
                    this._winlineAnimator.pause()
                }
            }, {
                key: "getWinTextContainer",
                value: function() {
                    return this._containers.winText
                }
            }, {
                key: "destroy",
                value: function() {
                    this._workshop = null, this._winlineAnimator.removeAllListeners(), this._winlineAnimator.destroy(), this._winlineAnimator = null, this._wins = null, this._containers = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Qe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }! function(t) {
        t.INIT = "init", t.SMALL_WIN = "smallWin", t.REGULAR_WIN = "regularWin", t.HIGH_WIN = "highWin", t.HUGE_WIN = "hugeWin", t.FULL_WIN = "fullWin", t.POT_WIN = "potWin", t.BEFORE_READY = "beforeReady"
    }(Xe || (Xe = {}));
    var Je = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._sprite = e, this._config = n
        }
        return function(t, e, n) {
            e && Qe(t.prototype, e), n && Qe(t, n)
        }(t, [{
            key: "initialize",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.range,
                    n = t.xStep,
                    i = t.yStep,
                    o = t.rotationStep,
                    r = t.sharedState,
                    a = t.emissionPoint,
                    s = e ? {
                        x: e.x || 0,
                        y: e.y || 0,
                        rotation: e.rotation || 0
                    } : {
                        x: 0,
                        y: 0,
                        rotation: 0
                    },
                    u = a ? {
                        x: a.x || 0,
                        y: a.y || 0
                    } : {
                        x: 0,
                        y: 0
                    };
                return this._sprite.x = u.x + Math.random() * s.x, this._sprite.y = u.y + Math.random() * s.y, this._sprite.pivot.x = .5 * this._sprite.width, this._sprite.pivot.y = .5 * this._sprite.height, this._sprite.rotation = Math.random() * Math.PI * 2 * s.rotation - Math.PI * s.rotation, this._sprite.scale.x = this._config.motion.startScale, this._sprite.scale.y = this._config.motion.startScale, this._motion = {
                    xStep: this._calculateXStep(n, r),
                    yStep: this._calculateYStep(i, r),
                    rotationStep: this._calculateRotationStep(o, r)
                }, {
                    sprite: this._sprite,
                    motion: this._motion
                }
            }
        }, {
            key: "_calculateXStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        lastRandomXStep: 0
                    },
                    n = t.base || this._config.motion.xStep.base || 0,
                    i = t.fuzz || this._config.motion.xStep.fuzz || 0,
                    o = t.range || this._config.motion.xStep.range || 0;
                return e.lastRandomXStep += n + Math.random() * i, e.lastRandomXStep %= o, e.lastRandomXStep - .5 * o
            }
        }, {
            key: "_calculateYStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = (arguments.length > 1 && void 0 !== arguments[1] && arguments[1], t.base || this._config.motion.yStep.base || 0),
                    n = t.fuzz || this._config.motion.yStep.fuzz || 0;
                return e + Math.random() * n
            }
        }, {
            key: "_calculateRotationStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = (arguments.length > 1 && void 0 !== arguments[1] && arguments[1], t.base || this._config.motion.rotationStep.base || 0),
                    n = t.fuzz || this._config.motion.rotationStep.fuzz || 0;
                return e + Math.random() * n
            }
        }, {
            key: "addTo",
            value: function(t) {
                t.addChildAt(this._sprite, 0)
            }
        }, {
            key: "onEnterFrame",
            value: function() {
                return {
                    sprite: this._applyMotion(),
                    motion: this._applyPhysics()
                }
            }
        }, {
            key: "_applyMotion",
            value: function() {
                this._sprite.x += this._motion.xStep * (2 * this._sprite.scale.x), this._sprite.y += this._motion.yStep * (2 * this._sprite.scale.x), this._sprite.rotation += this._motion.rotationStep;
                var t = this._config.motion.maxScale,
                    e = this._sprite.scale.x * this._config.motion.scaleStep;
                return this._sprite.scale.x = e < t ? e : t, this._sprite.scale.y = this._sprite.scale.x, this._sprite
            }
        }, {
            key: "_applyPhysics",
            value: function() {
                this._motion.xStep *= this._config.physics.damping, this._motion.rotationStep *= this._config.physics.damping;
                var t = this._config.physics.terminalVelocity,
                    e = this._motion.yStep + this._config.physics.gravity;
                return this._motion.yStep = e < t ? e : t, this._motion
            }
        }, {
            key: "destroy",
            value: function() {
                this._motion = null, this._config = null, this._sprite.destroy(), this._sprite = null
            }
        }]), t
    }();

    function $e(t) {
        return ($e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ze(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function tn(t, e) {
        return !e || "object" !== $e(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function en(t) {
        return (en = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function nn(t, e) {
        return (nn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var on = function(t) {
        function e(t) {
            var n, i = t.config,
                o = t.assets,
                r = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = tn(this, en(e).call(this)))._config = i, n._assets = o, n._layoutAdjuster = r, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && nn(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Ze(t.prototype, e), n && Ze(t, n)
            }(e, [{
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, this._layoutAdjuster = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function rn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var an = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster,
                r = e.multiplierIndex;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o, this._multiplierIndex = r, this._guard()
        }
        return function(t, e, n) {
            e && rn(t.prototype, e), n && rn(t, n)
        }(t, [{
            key: "_guard",
            value: function() {
                if (!this._config || !this._assets || !this._layoutAdjuster) throw new Error("Invalid config/parameters passed to MultiplierBannerWorkshop!")
            }
        }, {
            key: "createBackground",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsBackground());
                return t.x = 0, t.y = this._config.y, t
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }, {
            key: "createWinText",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsWinText());
                return t.x = -1 * t.width, t.y = this._config.textBottomY + this._config.y - t.height, t
            }
        }, {
            key: "createMultiplier",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsMultiplier(this._multiplierIndex));
                return t.x = this._layoutAdjuster.getMainWidth(), t.y = this._config.textBottomY + this._config.y - t.height, t
            }
        }, {
            key: "createMask",
            value: function() {
                var t = this._createGraphics();
                return t.beginFill(10066329, 1), t.drawRect(0, 0, this._layoutAdjuster.getMainWidth(), this._layoutAdjuster.getHeight()), t.endFill(), t
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new c.Graphics
            }
        }]), t
    }();

    function sn(t) {
        return (sn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function un(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ln(t, e) {
        return !e || "object" !== sn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function cn(t) {
        return (cn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function hn(t, e) {
        return (hn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var fn = function(t) {
        function e(t) {
            var n, i = t.config,
                o = t.assets,
                r = t.layoutAdjuster,
                a = t.multiplierIndex;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ln(this, cn(e).call(this, {
                config: i,
                assets: o,
                layoutAdjuster: r
            })))._multiplierIndex = a, n._ease = w.Bounce.easeOut, n._config = i || {
                duration: 0,
                repeatDelay: 0,
                loopCount: 1
            }, n._BANNER_PADDING = 3, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && hn(t, e)
            }(e, on),
            function(t, e, n) {
                e && un(t.prototype, e), n && un(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._sprites = {}, this._sprites.background = t.createBackground(), this.addChild(this._sprites.background), this._sprites.winText = t.createWinText(), this.addChild(this._sprites.winText), this._sprites.multiplier = t.createMultiplier(), this.addChild(this._sprites.multiplier);
                    var e = t.createMask();
                    this.addChild(e), this.mask = e
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new an({
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster,
                        multiplierIndex: this._multiplierIndex
                    })
                }
            }, {
                key: "play",
                value: function() {
                    var t = .5 * (this._sprites.winText.width - this._sprites.multiplier.width),
                        e = this._layoutAdjuster.getMainWidth() / 2 + t;
                    this._loopCount = 1, this._playWinText(e), this._playMultiplier(e)
                }
            }, {
                key: "_playWinText",
                value: function(t) {
                    if (this._winTextTimeline) this._winTextTimeline.restart();
                    else {
                        this._winTextTimeline = new w.TimelineLite;
                        var e = -1 * (this._sprites.winText.width + this._BANNER_PADDING);
                        this._winTextTimeline.to(this._sprites.winText, this._config.duration, {
                            x: t + e,
                            ease: this._ease
                        }), this._winTextTimeline.to(this._sprites.winText, this._config.repeatDelay, {
                            onComplete: this._onTimelineComplete.bind(this)
                        })
                    }
                }
            }, {
                key: "_playMultiplier",
                value: function(t) {
                    this._multiplierTimeline ? this._multiplierTimeline.restart() : (this._multiplierTimeline = new w.TimelineLite, this._multiplierTimeline.to(this._sprites.multiplier, this._config.duration, {
                        x: t + this._BANNER_PADDING,
                        ease: this._ease
                    }))
                }
            }, {
                key: "stop",
                value: function() {
                    this._winTextTimeline && this._winTextTimeline.stop(), this._multiplierTimeline && this._multiplierTimeline.stop()
                }
            }, {
                key: "_onTimelineComplete",
                value: function() {
                    this._loopCount < this._config.loopCount ? (this._winTextTimeline && this._winTextTimeline.restart(), this._multiplierTimeline && this._multiplierTimeline.restart(), this._loopCount += 1) : this.emit(i.a.MULTIPLIER_BANNER_COMPLETE)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._winTextTimeline && this._winTextTimeline.kill(), this._multiplierTimeline && this._multiplierTimeline.kill(), this._winTextTimeline = null, this._multiplierTimeline = null, this._sprites = null, on.prototype.destroy.call(this)
                }
            }]), e
    }();

    function _n(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var yn = function() {
        function t(e) {
            var n = e.particleCreator,
                i = e.stage,
                o = e.config;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._particleCreator = n, this._stage = i, this._config = o, this._particles = [], this._container = this._createContainer()
        }
        return function(t, e, n) {
            e && _n(t.prototype, e), n && _n(t, n)
        }(t, [{
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "emit",
            value: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = e.triggerType,
                    i = e.triggerIndex,
                    o = e.duration,
                    r = e.interval,
                    a = e.delay,
                    s = e.position,
                    u = e.range,
                    l = e.xStep,
                    c = e.yStep,
                    h = e.rotationStep,
                    f = this._extractTriggerOptions(n, i) || {},
                    _ = {
                        duration: o || f.duration,
                        interval: r || f.interval,
                        delay: a || f.delay,
                        position: s || f.position || {},
                        range: u || f.range || {},
                        xStep: l || f.xStep || {},
                        yStep: c || f.yStep || {},
                        rotationStep: h || f.rotationStep || {}
                    };
                _.duration && (clearTimeout(this._delay), this._delay = setTimeout(function() {
                    t._emissionPoint = t._initializeEmissionPosition(_.position), t._moveEmissionPoint(_.duration, _.position), t._emissionInterval = t._createEmissionInterval(_), t._animationFrameRequest || t._onEnterFrame()
                }, _.delay))
            }
        }, {
            key: "_extractTriggerOptions",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
                if (!this._config.triggers || !this._config.triggers[t]) return null;
                if (e > -1 && this._config.triggers[t].length > 0) {
                    var n = e % this._config.triggers[t].length;
                    return this._config.triggers[t][n]
                }
                return this._config.triggers[t]
            }
        }, {
            key: "_initializeEmissionPosition",
            value: function(t) {
                var e = t.keyframes && t.keyframes.length > 0;
                return {
                    x: e ? t.keyframes[0].x : t.x,
                    y: e ? t.keyframes[0].y : t.y
                }
            }
        }, {
            key: "_moveEmissionPoint",
            value: function(t, e) {
                var n = this;
                if (!t || !e || !e.keyframes || e.keyframes.length < 0) return null;
                var i = e.keyframes,
                    o = .001 * t / i.length,
                    r = this._createTimelineLite();
                return i.forEach(function(t) {
                    r.add(w.TweenLite.to(n._emissionPoint, o, {
                        x: t.x,
                        y: t.y
                    }))
                }), r.play(), r
            }
        }, {
            key: "_createTimelineLite",
            value: function() {
                return new w.TimelineLite
            }
        }, {
            key: "_createEmissionInterval",
            value: function(t) {
                var e = this,
                    n = t.duration,
                    i = t.interval,
                    o = t.range,
                    r = t.xStep,
                    a = t.yStep,
                    s = t.rotationStep,
                    u = Math.floor(n / i),
                    l = {
                        lastRandomXStep: 0
                    },
                    c = setInterval(function() {
                        u > 0 ? (e._emitParticle({
                            range: o,
                            xStep: r,
                            yStep: a,
                            rotationStep: s,
                            sharedState: l
                        }), u -= 1) : clearInterval(c)
                    }, i);
                return c
            }
        }, {
            key: "_emitParticle",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.range,
                    n = t.xStep,
                    i = t.yStep,
                    o = t.rotationStep,
                    r = t.sharedState,
                    a = this._particleCreator();
                a.initialize({
                    range: e,
                    xStep: n,
                    yStep: i,
                    rotationStep: o,
                    sharedState: r,
                    emissionPoint: this._emissionPoint
                }), this._particles.push(a), this._stage.addChild(this._container), a.addTo(this._container)
            }
        }, {
            key: "_onEnterFrame",
            value: function() {
                this._animationFrameRequest = requestAnimationFrame(this._onEnterFrame.bind(this));
                for (var t = 0; t < this._particles.length; t += 1) this._particles[t].onEnterFrame()
            }
        }, {
            key: "clear",
            value: function() {
                w.TweenLite.killTweensOf(this._emissionPoint), cancelAnimationFrame(this._animationFrameRequest), this._animationFrameRequest = null, clearInterval(this._emissionInterval), this._emissionInterval = null, clearTimeout(this._delay), this._delay = null, this._container.removeChildren(), this._stage === this._container.parent && this._stage.removeChild(this._container), this._particles.forEach(function(t) {
                    t.destroy()
                }), this._particles = []
            }
        }, {
            key: "destroy",
            value: function() {
                this.clear(), this._emissionPoint = null, this._container.destroy(), this._container = null, this._stage = null, this._config = null, this._particles.forEach(function(t) {
                    t.destroy()
                }), this._particles = null
            }
        }]), t
    }();

    function dn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var pn = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
        }
        return function(t, e, n) {
            e && dn(t.prototype, e), n && dn(t, n)
        }(t, [{
            key: "createRevealAnimation",
            value: function() {
                var t = this._assets.getScatterRevealAnimation();
                if (!t) return this._createContainer();
                var e = this._createAnimatedSprite(t);
                return e.animationSpeed = this._config.fps / h.a.FPS, e.loop = !1, e
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                return new c.extras.AnimatedSprite(t)
            }
        }]), t
    }();

    function mn(t) {
        return (mn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function vn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function gn(t, e) {
        return !e || "object" !== mn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function bn(t) {
        return (bn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Sn(t, e) {
        return (Sn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var wn = function(t) {
            function e(t) {
                var n, i = t.config,
                    o = t.assets,
                    r = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = gn(this, bn(e).call(this, {
                    config: i,
                    assets: o,
                    layoutAdjuster: r
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Sn(t, e)
                }(e, on),
                function(t, e, n) {
                    e && vn(t.prototype, e), n && vn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createFactory();
                        return this._addRevealAnimations(t), this
                    }
                }, {
                    key: "_createFactory",
                    value: function() {
                        return new pn({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_addRevealAnimations",
                    value: function(t) {
                        for (var e = 0; e < this._config.reels.count; e += 1)
                            for (var n = 0; n < this._config.reels.countOfVisibleSymbols; n += 1) {
                                var i = t.createRevealAnimation();
                                i.x = e * (this._config.symbol.width + this._config.reels.gap), i.y = n * this._config.symbol.height, this.addChild(i)
                            }
                        return this
                    }
                }, {
                    key: "gotoAndPlay",
                    value: function(t) {
                        var e = this,
                            n = 0;
                        this.children.filter(function(t) {
                            return t.gotoAndPlay && t.gotoAndStop
                        }).forEach(function(i, o) {
                            i.alpha = 1, i.gotoAndStop(t), i.timeout = setTimeout(function() {
                                i.timeout = null;
                                var n = i.totalFrames / i.animationSpeed / h.a.FPS,
                                    o = n * (e._config.fadeoutDelayPercentage || 0),
                                    r = n - o;
                                w.TweenLite.to(i, r, {
                                    delay: o,
                                    alpha: 0,
                                    ease: w.Circ.easeIn
                                }), i.gotoAndPlay(t)
                            }, n), n += e._getStaggerDelay(o)
                        })
                    }
                }, {
                    key: "_getStaggerDelay",
                    value: function(t) {
                        return this._config.staggerDelay.length > 0 ? this._config.staggerDelay[t % this._config.staggerDelay.length] : this._config.staggerDelay || 0
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.children.filter(function(t) {
                            return Boolean(t.timeout)
                        }).forEach(function(t) {
                            clearTimeout(t.timeout)
                        }), on.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        kn = n(15),
        En = {
            REMOVED: "removed"
        };

    function Tn(t) {
        return (Tn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Cn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function On(t, e) {
        return !e || "object" !== Tn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function An(t) {
        return (An = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pn(t, e) {
        return (Pn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var In = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = On(this, An(e).call(this)))._setup = t, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Pn(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Cn(t.prototype, e), n && Cn(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._setup.text || "";
                    this._label = this._createLabel(e, this._setup.font), this._updatePivot(this._label), this.addChild(this._label);
                    var n = this._setup.filters || [];
                    this._filterContainers = n.map(function(n) {
                        return {
                            label: t._createLabel(e, n.font),
                            setup: n
                        }
                    }), this._filterContainers.forEach(function(e) {
                        e.label.alpha = 0, t._updatePivot(e.label, e.setup), t.addChild(e.label)
                    }), this.on(En.REMOVED, function() {
                        t.destroy()
                    })
                }
            }, {
                key: "_createLabel",
                value: function(t, e) {
                    var n = new c.extras.BitmapText(t, {
                        font: e,
                        align: "center"
                    });
                    return n.x = this._setup.x || 0, n.y = this._setup.y || 0, n
                }
            }, {
                key: "_updatePivot",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = e.offsetX || 0,
                        i = e.offsetY || 0;
                    switch (t.pivot.x = .5 * t.width / t.scale.x - n, this._setup.verticalAlignment) {
                        case "bottom":
                            t.pivot.y = 0 - i;
                            break;
                        case "top":
                            t.pivot.y = 1 * t.height - i;
                            break;
                        default:
                            t.pivot.y = .5 * t.height - i
                    }
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    this._label.text = e, this._updatePivot(this._label), this._filterContainers.forEach(function(n) {
                        n.label.text = e, t._updatePivot(n.label, n.setup)
                    })
                }
            }, {
                key: "play",
                value: function() {
                    var t = this,
                        e = this._filterContainers.map(function(t) {
                            return t.label
                        });
                    [this._label].concat(e).forEach(function(e) {
                        t._play({
                            label: e,
                            startScale: t._setup.startScale || 1,
                            introDuration: t._setup.introDuration || 0,
                            outroDuration: t._setup.outroDuration || 0,
                            fadeoutDuration: t._setup.fadeoutDuration || 0,
                            introScale: t._setup.introScale || 1,
                            outroScale: t._setup.outroScale || 1
                        })
                    }), this._filterContainers.forEach(function(e) {
                        t._animateFilter({
                            label: e.label,
                            fadeinDelay: e.setup.fadeinDelay || 0,
                            fadeinDuration: e.setup.fadeinDuration || 0,
                            fadeoutDelay: e.setup.fadeoutDelay || 0,
                            fadeoutDuration: e.setup.fadeoutDuration || 0
                        })
                    })
                }
            }, {
                key: "_play",
                value: function(t) {
                    var e = t.label,
                        n = t.startScale,
                        i = t.introDuration,
                        o = t.outroDuration,
                        r = t.fadeoutDuration,
                        a = t.introScale,
                        s = t.outroScale;
                    e.scale.x = n, e.scale.y = n;
                    var u = o - r;
                    w.TweenLite.to(e.scale, i, {
                        x: a,
                        y: a,
                        onComplete: function() {
                            w.TweenLite.to(e.scale, o, {
                                x: s,
                                y: s,
                                ease: he.Circ.easeOut
                            }), w.TweenLite.to(e, r, {
                                delay: u,
                                alpha: 0
                            })
                        }
                    })
                }
            }, {
                key: "_animateFilter",
                value: function(t) {
                    var e = t.label,
                        n = t.fadeinDelay,
                        i = t.fadeinDuration,
                        o = t.fadeoutDelay,
                        r = t.fadeoutDuration;
                    w.TweenLite.to(e, i, {
                        delay: n,
                        alpha: 1,
                        onComplete: function() {
                            w.TweenLite.to(e, r, {
                                delay: o,
                                alpha: 0
                            })
                        }
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._setup = null, w.TweenLite.killTweensOf(this._label), w.TweenLite.killTweensOf(this._label.scale), this._label.destroy(), this._label = null, this._filterContainers.forEach(function(t) {
                        w.TweenLite.killTweensOf(t.label), w.TweenLite.killTweensOf(t.label.scale), t.label.destroy()
                    }), this._filterContainers = null, this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function xn(t) {
        return (xn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Rn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Wn(t, e) {
        return !e || "object" !== xn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Nn(t) {
        return (Nn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function jn(t, e) {
        return (jn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ln = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Wn(this, Nn(e).call(this, t)))._FRAME_INTERVAL = 50, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && jn(t, e)
            }(e, In),
            function(t, e, n) {
                e && Rn(t.prototype, e), n && Rn(t, n)
            }(e, [{
                key: "setAmount",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._targetAmount = t;
                    var e = 1e3 * this._setup.countUpDuration || 0,
                        n = Math.floor(e / this._FRAME_INTERVAL) || 1;
                    this._countStep = Math.floor(this._targetAmount / n), this._countUp(this._countStep)
                }
            }, {
                key: "_countUp",
                value: function(t) {
                    var e = this,
                        n = t < this._targetAmount ? t : this._targetAmount,
                        i = kn.a.formatCredit(n, this._setup.format);
                    this.setContent(i), n < this._targetAmount && (this._counter = setTimeout(function() {
                        e._countUp(t + e._countStep)
                    }, this._FRAME_INTERVAL))
                }
            }]), e
    }();

    function Gn(t) {
        return (Gn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Mn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Bn(t, e) {
        return !e || "object" !== Gn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Fn(t) {
        return (Fn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Hn(t, e) {
        return (Hn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Dn = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = Bn(this, Fn(e).call(this)))._config = t, i._animationCreator = n, i._animationStartDelays = [], i._isDestroyed = !1, i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Hn(t, e)
                }(e, c["Container"]),
                function(t, e, n) {
                    e && Mn(t.prototype, e), n && Mn(t, n)
                }(e, [{
                    key: "showIdleAnimations",
                    value: function(t) {
                        var e = this;
                        t.forEach(function(t, n) {
                            t.symbols.filter(function(t, i) {
                                var o = n + 1;
                                bt.a.getIsWithinVisibleArea(i, e._config) && e._showIdleAnimation(t.id, {
                                    x: o,
                                    y: i
                                })
                            })
                        });
                        var n = this._calculateIdleRepeatDelay();
                        n > 0 && !this._isDestroyed && (this._repeatDelay = setTimeout(function() {
                            e._isDestroyed || e.showIdleAnimations(t)
                        }, n))
                    }
                }, {
                    key: "_showIdleAnimation",
                    value: function(t, e) {
                        var n = this,
                            i = e.x,
                            o = e.y;
                        if (this._calculateShouldDisplayIdleAnimation()) {
                            var r = this._calculateIdleDelay(),
                                a = setTimeout(function() {
                                    if (!n._isDestroyed) {
                                        var e = n._animationCreator(t, {
                                            x: i,
                                            y: o
                                        });
                                        n.addChild(e)
                                    }
                                }, r);
                            this._animationStartDelays.push(a)
                        }
                    }
                }, {
                    key: "_calculateShouldDisplayIdleAnimation",
                    value: function() {
                        var t = (this._config.idle || {}).likeliness || 0;
                        return Math.random() < t
                    }
                }, {
                    key: "_calculateIdleDelay",
                    value: function() {
                        var t = (this._config.idle || {}).delay || {},
                            e = t.base || 0,
                            n = t.fuzz || 0;
                        return e + Math.floor(Math.random() * n)
                    }
                }, {
                    key: "_calculateIdleRepeatDelay",
                    value: function() {
                        return ((this._config.idle || {}).delay || {}).repeat || 0
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.removeChildren(), this._animationStartDelays.forEach(function(t) {
                            clearTimeout(t)
                        }), this._animationStartDelays = [], clearTimeout(this._repeatDelay)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._isDestroyed = !0, this._config = null, this._animationCreator = null, clearTimeout(this._repeatDelay), this._repeatDelay = null, this._animationStartDelays.forEach(function(t) {
                            clearTimeout(t)
                        }), this._animationStartDelays = null, this.children.forEach(function(t) {
                            t.removeAllListeners()
                        }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Kn = n(69);

    function Un(t) {
        return (Un = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Yn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function qn(t, e) {
        return !e || "object" !== Un(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Vn(t) {
        return (Vn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Xn(t, e) {
        return (Xn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var zn = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = qn(this, Vn(e).call(this));
            var i = t.config,
                o = t.assets,
                r = t.layoutAdjuster;
            return n._config = i, n._assets = o, n._layoutAdjuster = r, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Xn(t, e)
            }(e, Kn["a"]),
            function(t, e, n) {
                e && Yn(t.prototype, e), n && Yn(t, n)
            }(e, [{
                key: "createMultiplierBanner",
                value: function(t) {
                    var e = this._config.effects;
                    if (!(e && e.multiplier && e.multiplier.indexMap) || !t.special) return this._createContainer();
                    var n = e.multiplier.indexMap.indexOf(t.special.multiplier);
                    return n > -1 && n < e.multiplier.indexMap.length ? this._createMultiplierBanner({
                        config: e.multiplier,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster,
                        multiplierIndex: n
                    }) : this._createContainer()
                }
            }, {
                key: "_createMultiplierBanner",
                value: function(t) {
                    var e = t.config,
                        n = t.assets,
                        i = t.layoutAdjuster,
                        o = t.multiplierIndex;
                    return new fn({
                        config: e,
                        assets: n,
                        layoutAdjuster: i,
                        multiplierIndex: o
                    })
                }
            }, {
                key: "createWinHeader",
                value: function(t) {
                    var e = this._config.winHeader || {},
                        n = {
                            regular: this._assets.getWinHeader(),
                            scatter: this._assets.getScatterWinHeader()
                        },
                        i = this._createGameTypeAnimatedSprite({
                            model: t,
                            spriteCreator: this._createAnimatedSprite.bind(this),
                            texture: n,
                            scatterOffset: e.scatterOffset,
                            playOnlyOnce: !0
                        });
                    return i.x = e.x || 0, i.y = e.y || 0, this._layoutAdjuster.adjustToMain(i)
                }
            }, {
                key: "createRevealOverlay",
                value: function() {
                    var t = this._config.effects;
                    if (!t || !t.revealOverlay) return this._createContainer();
                    var e = this._createRevealOverlay({
                        config: t.revealOverlay,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.x = this._config.reels.x, e.y = this._config.reels.y, this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "_createRevealOverlay",
                value: function(t) {
                    var e = t.config,
                        n = t.assets,
                        i = t.layoutAdjuster;
                    return new wn({
                        config: e,
                        assets: n,
                        layoutAdjuster: i
                    })
                }
            }, {
                key: "createCoinEmitter",
                value: function(t) {
                    return new yn({
                        particleCreator: this._createCoin.bind(this),
                        stage: t,
                        config: this._config.effects.coinEmitter
                    })
                }
            }, {
                key: "_createCoin",
                value: function() {
                    var t = this._assets.getEffectsCoin();
                    if (!t) return this._createContainer();
                    var e = this._createAnimatedSprite(t),
                        n = Math.floor(15 + 10 * Math.random());
                    return e.animationSpeed = n / h.a.FPS, e.play(), new Je(e, this._config.effects.coinEmitter)
                }
            }, {
                key: "createWinMessage",
                value: function(t) {
                    if (!t) return this._createContainer();
                    var e = new In(t);
                    return e.play(), this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "createWinAmountMessage",
                value: function(t, e) {
                    if (!t) return this._createContainer();
                    var n = new Ln(t);
                    return n.setAmount(e), n.play(), this._layoutAdjuster.adjustToMain(n)
                }
            }, {
                key: "createIdleAnimationContainer",
                value: function() {
                    return new Dn(this._config, this._createIdleSymbol.bind(this))
                }
            }, {
                key: "_createIdleSymbol",
                value: function(t, e) {
                    var n = this._assets.getIdleSymbol(t);
                    if (!n) return this._createContainer();
                    var i = this._createAnimatedSprite(n);
                    return i.animationSpeed = this._config.symbol.fps / h.a.FPS, i.x = f.calculateOnReelX(e, this._config), i.y = f.calculateOnReelY(e, this._config), i.loop = !1, i.play(), i.onComplete = function() {
                        i.parent && (i.parent.removeChild(i), i.destroy())
                    }, this._layoutAdjuster.adjustToMain(i)
                }
            }]), e
    }();

    function Qn(t) {
        return (Qn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Jn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function $n(t, e) {
        return !e || "object" !== Qn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Zn(t) {
        return (Zn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ti(t, e) {
        return (ti = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ei = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = $n(this, Zn(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ti(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Jn(t.prototype, e), n && Jn(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._workshop = this._createWorkshop(), this._idleAnimationContainer = this._workshop.createIdleAnimationContainer(), this.addChild(this._idleAnimationContainer);
                    var t = this._workshop.createWinHeader(this._model);
                    this._addEffect(t);
                    var e = this._workshop.createRevealOverlay(),
                        n = this._createStatusChangeHandler({
                            winHeader: t,
                            revealOverlay: e
                        });
                    this._model.on(s.a.STATUS_CHANGE, n, this);
                    var i = this._createGameTypeChangeHandler({
                        winHeader: t,
                        revealOverlay: e
                    });
                    this._model.on(s.a.GAME_TYPE_CHANGE, i, this), this._coinEmitter = this._workshop.createCoinEmitter(this), this._coinEmitter.emit({
                        triggerType: Xe.INIT
                    }), this._winMessageContainer = this._createContainer(), this.addChild(this._winMessageContainer)
                }
            }, {
                key: "_addEffect",
                value: function(t) {
                    t.parent !== this && (t.visible = !1, this.addChild(t))
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new zn({
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "_createStatusChangeHandler",
                value: function(t) {
                    var e = this,
                        n = t.winHeader,
                        i = t.revealOverlay;
                    return function(t, o) {
                        switch (o) {
                            case l.a.SCATTER_INTRO:
                                e._cancelWinHeader(n);
                                break;
                            case l.a.FIRST_WINLINE_WALK:
                                e._showWinHeader(n), e._showMultiplier();
                                break;
                            case l.a.FAST_SPECIAL_WALK:
                            case l.a.FAST_WINLINE_WALK:
                            case l.a.WAITING:
                            case l.a.GAMBLING:
                            case l.a.TAKING:
                                e._hideMultiplier();
                                break;
                            case l.a.READY:
                                e._winMessageContainer.removeChildren(), e._idleAnimationContainer.showIdleAnimations(e._model.reels);
                                break;
                            case l.a.SPINNING:
                                e._showRevealOverlay(i), e._idleAnimationContainer.clear(), e._coinEmitter.clear()
                        }
                    }
                }
            }, {
                key: "_cancelWinHeader",
                value: function(t) {
                    this._isAnimatedSprite(t) && (t.visible = !1, t.onComplete = null)
                }
            }, {
                key: "_showWinHeader",
                value: function(t) {
                    var e = this;
                    this._isAnimatedSprite(t) && (this.emit(i.a.WIN_HEADER_START), t.visible = !0, t.onComplete = function() {
                        e.emit(i.a.WIN_HEADER_COMPLETE), t.visible = !1
                    }, t.gotoAndPlay(0))
                }
            }, {
                key: "_isAnimatedSprite",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "_showMultiplier",
                value: function() {
                    this._model.hasMultiplier && this._showBanner()
                }
            }, {
                key: "_showBanner",
                value: function() {
                    this.emit(a.a.SPECIAL_MULTIPLIER), this._banner = this._workshop.createMultiplierBanner(this._model), this._banner.on(i.a.MULTIPLIER_BANNER_COMPLETE, this._handleBannerComplete, this), this._isMultiplerBanner(this._banner) && this._banner.play(), this.addChild(this._banner)
                }
            }, {
                key: "_isMultiplerBanner",
                value: function(t) {
                    return "play" in t && "stop" in t
                }
            }, {
                key: "_handleBannerComplete",
                value: function() {
                    this._banner && (this._isMultiplerBanner(this._banner) && this._banner.stop(), this._banner.visible = !1), this.emit(i.a.MULTIPLIER_BANNER_COMPLETE)
                }
            }, {
                key: "_hideMultiplier",
                value: function() {
                    this._banner && (this._isMultiplerBanner(this._banner) && this._banner.stop(), this._banner.removeAllListeners(), this.removeChild(this._banner), this._banner = null), this._bannerDelay && clearTimeout(this._bannerDelay)
                }
            }, {
                key: "_createGameTypeChangeHandler",
                value: function(t) {
                    var e = this,
                        n = t.revealOverlay;
                    return function(t, i) {
                        (i === u.a.SCATTER ? e._addEffect : e._removeEffect).call(e, n)
                    }
                }
            }, {
                key: "_removeEffect",
                value: function(t) {
                    t.parent === this && this.removeChild(t)
                }
            }, {
                key: "_showRevealOverlay",
                value: function(t) {
                    t.visible = !0, this._isRevealOverlay(t) && t.gotoAndPlay(0)
                }
            }, {
                key: "_isRevealOverlay",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "showBanner",
                value: function() {
                    this._banner && (this._banner.visible = !0, this._isMultiplerBanner(this._banner) && this._banner.play())
                }
            }, {
                key: "hasBanner",
                value: function() {
                    return Boolean(this._banner)
                }
            }, {
                key: "showSmallWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.SMALL_WIN,
                        messageSetup: this._getMessageConfig().smallWin
                    })
                }
            }, {
                key: "_showWin",
                value: function(t) {
                    var e = t.coordinates,
                        n = t.triggerType,
                        i = t.messageSetup;
                    this._winMessageContainer.removeChildren(), this._showWinMessage(i), this._coinEmitter.emit({
                        triggerType: n,
                        position: {
                            keyframes: e
                        }
                    })
                }
            }, {
                key: "_getMessageConfig",
                value: function() {
                    return (this._config.effects ? this._config.effects.message : {}) || {}
                }
            }, {
                key: "_showWinMessage",
                value: function(t) {
                    var e = this._workshop.createWinMessage(t);
                    this._winMessageContainer.addChild(e)
                }
            }, {
                key: "showRegularWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.REGULAR_WIN,
                        messageSetup: this._getMessageConfig().regularWin
                    })
                }
            }, {
                key: "showHighWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.HIGH_WIN,
                        messageSetup: this._getMessageConfig().highWin
                    })
                }
            }, {
                key: "showHugeWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.HUGE_WIN,
                        messageSetup: this._getMessageConfig().hugeWin
                    })
                }
            }, {
                key: "showFullWin",
                value: function() {
                    this._winMessageContainer.removeChildren(), this._showWinMessage(this._getMessageConfig().fullWin), this._coinEmitter.emit({
                        triggerType: Xe.FULL_WIN
                    })
                }
            }, {
                key: "showPotWin",
                value: function(t, e) {
                    this._winMessageContainer.removeChildren();
                    var n = this._getMessageConfig().potWins,
                        i = n[t % n.length];
                    this._showWinMessage(i), this._showWinAmountMessage(i.amount, e), this._coinEmitter.emit({
                        triggerType: Xe.POT_WIN,
                        triggerIndex: t
                    })
                }
            }, {
                key: "_showWinAmountMessage",
                value: function(t, e) {
                    var n = this._workshop.createWinAmountMessage(t, e);
                    this._winMessageContainer.addChild(n)
                }
            }, {
                key: "showBeforeReady",
                value: function(t) {
                    this._coinEmitter.emit({
                        triggerType: Xe.BEFORE_READY
                    })
                }
            }, {
                key: "getWinMessageContainer",
                value: function() {
                    return this._winMessageContainer
                }
            }, {
                key: "destroy",
                value: function() {
                    this._workshop = null, clearTimeout(this._bannerDelay), this._bannerDelay = null, this._banner && (this._banner.destroy(), this._banner = null), this._coinEmitter.destroy(), this._coinEmitter = null, this._winMessageContainer.destroy(), this._winMessageContainer = null, this._idleAnimationContainer.destroy(), this._idleAnimationContainer = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function ni(t) {
        return (ni = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ii(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function oi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ri(t, e) {
        return !e || "object" !== ni(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ai(t) {
        return (ai = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function si(t, e) {
        return (si = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ui = function(t) {
            function e(t) {
                var n, i, o = t.config,
                    r = t.model,
                    a = t.regular,
                    s = t.scatter;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = ri(this, ai(e).call(this)))._config = o, i._model = r, i._animators = (ii(n = {}, u.a.REGULAR, a), ii(n, u.a.SCATTER, s), n), i._init(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && si(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && oi(t.prototype, e), n && oi(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._forEachAnimator(this._addEventForwardingTo), this
                    }
                }, {
                    key: "_forEachAnimator",
                    value: function(t) {
                        for (var e in this._animators) this._animators.hasOwnProperty(e) && this._animators[e] && t.call(this, this._animators[e])
                    }
                }, {
                    key: "_addEventForwardingTo",
                    value: function(t) {
                        for (var e = this, n = [i.a.REEL_ENTER_FINAL_SYMBOLS, i.a.REEL_STOPPING], o = 0; o < this._config.reels.count; o += 1) n.push(i.a.spinCompleteForId(o)), n.push(i.a.afterSpinCompleteForId(o));
                        return n.forEach(function(n) {
                            t.on(n, function() {
                                for (var t = arguments.length, i = new Array(t), o = 0; o < t; o++) i[o] = arguments[o];
                                e.emit.apply(e, [n].concat(i))
                            })
                        }), t
                    }
                }, {
                    key: "spin",
                    value: function(t) {
                        var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            turboEnabled: !1
                        }).turboEnabled;
                        return this._getActiveAnimator().spin(t, {
                            turboEnabled: e
                        })
                    }
                }, {
                    key: "afterSpin",
                    value: function(t, e) {
                        return this._getActiveAnimator().afterSpin(t, e)
                    }
                }, {
                    key: "_getActiveAnimator",
                    value: function() {
                        return this._animators[this._model.gameType] || this._animators[u.a.REGULAR]
                    }
                }, {
                    key: "slowDown",
                    value: function(t) {
                        return this._getActiveAnimator().slowDown(t)
                    }
                }, {
                    key: "stop",
                    value: function(t) {
                        return this._getActiveAnimator().stop(t)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._forEachAnimator(this._destroyAnimator), this._animators = null, this._config = null, this._model = null
                    }
                }, {
                    key: "_destroyAnimator",
                    value: function(t) {
                        t.removeAllListeners(), t.destroy()
                    }
                }]), e
        }(),
        li = {
            isDisplayObject: function(t) {
                var e = !(isNaN(t.x) || isNaN(t.y) || isNaN(t.width) || isNaN(t.height)),
                    n = t.width >= 0 && t.height >= 0;
                return e && n
            }
        };

    function ci(t) {
        return (ci = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function hi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function fi(t, e) {
        return !e || "object" !== ci(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _i(t) {
        return (_i = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function yi(t, e) {
        return (yi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var di = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = fi(this, _i(e).call(this)))._config = t, n._timelines = [], n._endTweens = [], n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && yi(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && hi(t.prototype, e), n && hi(t, n)
            }(e, [{
                key: "spin",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        turboEnabled: !1
                    }).turboEnabled;
                    if (!li.isDisplayObject(t) || void 0 === t.getId()) throw new TypeError;
                    var n = this._calculateSpinTargetPositions(t),
                        i = this._calculateSpinDurations(t, n.completeY),
                        o = this._createSpinParameters(n, i, {
                            id: t.getId(),
                            shouldSlowDownNext: t.getShouldSlowDownNext(),
                            hasEnterSound: t.getHasEnterSound()
                        }),
                        r = new w.TimelineLite({
                            onComplete: this._createSpinCompleteDispatcher(t).bind(this)
                        });
                    return e || r.to(t, i.windupDuration, o.windupVars), r.to(t, i.completeDuration, o.completeVars).to(t, i.overshootDuration, o.overshootVars), this._animateSpinSpeedup(r), this._endTweens[t.getId()] = this._animateSpinSlowdown(r, i.completeDuration), this._timelines[t.getId()] = r, this._quickSpinDuration = 0, t
                }
            }, {
                key: "_createSpinParameters",
                value: function(t, e, n) {
                    var o = this,
                        r = n.shouldSlowDownNext,
                        a = n.hasEnterSound,
                        s = n.id,
                        u = this._config.timing.windup;
                    return {
                        windupVars: {
                            y: t.windupY,
                            ease: w.Sine.easeInOut
                        },
                        completeVars: {
                            y: t.overshootY,
                            ease: w.Power0.easeNone,
                            delay: u.delay,
                            onStart: function() {
                                var t = o._calculateFinalSymbolsDuration(),
                                    n = e.completeDuration - t;
                                setTimeout(function() {
                                    o.emit(i.a.REEL_ENTER_FINAL_SYMBOLS)
                                }, 1e3 * n)
                            },
                            onComplete: function() {
                                o.emit(i.a.REEL_STOPPING, {
                                    id: s,
                                    shouldSlowDownNext: r,
                                    hasEnterSound: a
                                })
                            }
                        },
                        overshootVars: {
                            y: t.completeY,
                            ease: w.Power1.easeIn
                        }
                    }
                }
            }, {
                key: "_calculateSpinDurations",
                value: function(t, e) {
                    var n = this._config.timing.speed,
                        i = this._config.timing.overshoot;
                    return {
                        windupDuration: this._config.timing.windup.duration * n.correctionFactor,
                        completeDuration: this._calculateSpinCompleteDuration(t, e) * n.correctionFactor,
                        overshootDuration: i.duration * n.correctionFactor
                    }
                }
            }, {
                key: "_calculateSpinCompleteDuration",
                value: function(t, e) {
                    return (e - t.y) / this._config.symbol.height / this._config.timing.speed.symbolsPerSecond
                }
            }, {
                key: "_calculateFinalSymbolsDuration",
                value: function() {
                    return this._config.reels.countOfVisibleSymbols / this._config.timing.speed.symbolsPerSecond
                }
            }, {
                key: "_calculateSpinTargetPositions",
                value: function(t) {
                    var e = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1,
                        n = t.height + e,
                        i = n + this._config.timing.overshoot.distance;
                    return {
                        windupY: t.y + this._config.timing.windup.distance,
                        overshootY: i,
                        completeY: n
                    }
                }
            }, {
                key: "_createSpinCompleteDispatcher",
                value: function(t) {
                    return function() {
                        var e = i.a.spinCompleteForId(t.getId());
                        this._timelines[t.getId()] = null, this.emit(e)
                    }
                }
            }, {
                key: "_animateSpinSpeedup",
                value: function(t) {
                    var e = this._config.timing.speedup.duration,
                        n = {
                            timeScale: this._config.timing.speedup.timeScale,
                            ease: w.Sine.easeInOut
                        };
                    return w.TweenLite.from(t, e, n)
                }
            }, {
                key: "_animateSpinSlowdown",
                value: function(t, e) {
                    var n = this._config.timing,
                        i = (n.slowdown.distance + n.overshoot.distance) / this._config.symbol.height / n.speed.symbolsPerSecond,
                        o = {
                            delay: e - i,
                            timeScale: n.slowdown.timeScale,
                            ease: w.Sine.easeOut
                        };
                    return w.TweenLite.to(t, i, o)
                }
            }, {
                key: "afterSpin",
                value: function(t, e) {
                    var n = this,
                        o = e > 0 && this._quickSpinDuration > 0 ? 1 : e,
                        r = t.y + o * this._config.symbol.height;
                    return w.TweenLite.to(t, .3, {
                        y: r,
                        onComplete: function() {
                            setTimeout(function() {
                                n.emit(i.a.afterSpinCompleteForId(t.getId()))
                            }, 100)
                        }
                    }), t
                }
            }, {
                key: "slowDown",
                value: function(t) {
                    var e = this._config.timing.speed;
                    if (e.slowSymbolsPerSecond) {
                        var n = e.slowSymbolsPerSecond / e.symbolsPerSecond,
                            i = n * this._timelines[t].timeScale(),
                            o = this._endTweens[t].delay() / n;
                        this._timelines[t].timeScale(i), this._endTweens[t].delay(o)
                    }
                    return t
                }
            }, {
                key: "stop",
                value: function(t) {
                    var e = this._timelines[t.getId()],
                        n = t.prepareToStop();
                    if (e) {
                        var i = this._calculateSpinTargetPositions(t),
                            o = this._calculateSpinDurations(t, i.completeY);
                        this._quickSpinDuration = this._getQuickSpinDuration({
                            droppedSymbolsCount: n,
                            timeline: e,
                            durations: o
                        }), o.overshootDuration < this._quickSpinDuration && (e.stop(), this._quickSpin({
                            reel: t,
                            targets: i,
                            durations: o
                        }), e.kill())
                    }
                    return t
                }
            }, {
                key: "_getQuickSpinDuration",
                value: function(t) {
                    var e = t.droppedSymbolsCount,
                        n = (t.timeline, t.durations);
                    if (e <= 0) return 0;
                    var i = n.completeDuration + n.overshootDuration;
                    return this._quickSpinDuration || i
                }
            }, {
                key: "_quickSpin",
                value: function(t) {
                    var e = t.reel,
                        n = t.targets,
                        i = t.durations,
                        o = this._createSpinParameters(n, i, {
                            id: e.getId(),
                            shouldSlowDownNext: e.getShouldSlowDownNext(),
                            hasEnterSound: e.getHasEnterSound()
                        }),
                        r = new w.TimelineLite({
                            onComplete: this._createSpinCompleteDispatcher(e).bind(this)
                        });
                    r.to(e, this._quickSpinDuration, o.completeVars).to(e, i.overshootDuration, o.overshootVars);
                    var a = this._config.timing.windup,
                        s = a.duration - a.delay;
                    return r.time(s), this._endTweens[e.getId()] = this._animateSpinSlowdown(r, this._quickSpinDuration), this._timelines[e.getId()] = r, e
                }
            }, {
                key: "destroy",
                value: function() {
                    for (var t = 0; t < this._config.reels.count; t += 1) this._timelines[t] && (this._timelines[t].kill(), this._timelines[t] = null), this._endTweens[t] && (this._endTweens[t].kill(), this._endTweens[t] = null);
                    this._timelines = null, this._endTweens = null, this._config = null
                }
            }]), e
    }();

    function pi(t) {
        return (pi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function mi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function vi(t, e) {
        return !e || "object" !== pi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function gi(t) {
        return (gi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function bi(t, e) {
        return (bi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Si = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = vi(this, gi(e).call(this)))._config = t, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && bi(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && mi(t.prototype, e), n && mi(t, n)
                }(e, [{
                    key: "spin",
                    value: function(t) {
                        var e = this,
                            n = ((arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                turboEnabled: !1
                            }).turboEnabled, this._calculateSpinTargetPosition(t));
                        t.y = n;
                        var o = i.a.spinCompleteForId(t.getId()),
                            r = 1e3 * this._config.timing.speed.revealDuration || 0;
                        this._spinCompleteTimeout = setTimeout(function() {
                            e.emit(o)
                        }, r);
                        var a = this._config.effects.revealOverlay || {
                                staggerDelay: 0,
                                reels: {
                                    countOfVisibleSymbols: 3
                                }
                            },
                            s = (a.enterReelStaggerDelay || a.staggerDelay) * (a.reels.countOfVisibleSymbols + 1),
                            u = a.stoppingOffset || 1.3,
                            l = s * (t.getId() + u);
                        return this._reelStopDelay = setTimeout(function() {
                            e.emit(i.a.REEL_STOPPING, {
                                id: t.getId(),
                                shouldSlowDownNext: t.getShouldSlowDownNext(),
                                hasEnterSound: t.getHasEnterSound()
                            })
                        }, l), t
                    }
                }, {
                    key: "_calculateSpinTargetPosition",
                    value: function(t) {
                        var e = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1;
                        return t.height + e
                    }
                }, {
                    key: "afterSpin",
                    value: function(t, e) {
                        return t
                    }
                }, {
                    key: "slowDown",
                    value: function(t) {
                        return t
                    }
                }, {
                    key: "stop",
                    value: function(t) {
                        return t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._config = null, clearTimeout(this._spinCompleteTimeout), this._spinCompleteTimeout = null, clearTimeout(this._reelStopDelay), this._reelStopDelay = null
                    }
                }]), e
        }(),
        wi = n(45),
        ki = {
            ID_CHANGE: "change:id",
            GAME_TYPE_CHANGE: "change:gameType"
        };

    function Ei(t) {
        return (Ei = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ti(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ci(t, e) {
        return !e || "object" !== Ei(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Oi(t) {
        return (Oi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ai(t, e) {
        return (Ai = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Pi = function(t) {
        function e(t, n, i) {
            var o;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var r = (o = Ci(this, Oi(e).call(this)))._getTexture(t, n);
            return o._sprite = o._createSprite(r), o.addChild(o._sprite), o._model = t, o._assets = n, o._config = i, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ai(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Ti(t.prototype, e), n && Ti(t, n)
            }(e, [{
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "_getTexture",
                value: function(t, e) {
                    return t.isSpecial || t.id === t.specialTransformTo ? e.getStaticScatterSpecialSymbol(t.id) : t.gameType === u.a.SCATTER ? e.getStaticInScatterSymbol(t.id) : e.getStaticSymbol(t.id)
                }
            }, {
                key: "_init",
                value: function() {
                    var t = this._config.transform;
                    (t && t.from && t.from.indexOf(this._model.id) > -1 || this._model.specialTransformTo || this._model.isQuery || this._model.transformToId || this._model.stickyId) && this._model.on(ki.ID_CHANGE, this._handleChangeId, this);
                    var e = this._config.scatter;
                    return e && e.changeSymbolsWithGameType && this._model.on(ki.GAME_TYPE_CHANGE, this._handleChangeGameType, this), this
                }
            }, {
                key: "_handleChangeId",
                value: function(t, e) {
                    this._sprite.texture = this._getTexture(t, this._assets)
                }
            }, {
                key: "_handleChangeGameType",
                value: function(t, e) {
                    this._sprite.texture = this._getTexture(t, this._assets)
                }
            }, {
                key: "equalsModel",
                value: function(t) {
                    return this._model === t
                }
            }, {
                key: "getId",
                value: function() {
                    return this._model.id
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._sprite.destroy(), this._sprite = null, c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ii(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var xi = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Ii(t.prototype, e), n && Ii(t, n)
            }(t, [{
                key: "createSymbols",
                value: function(t) {
                    var e = this,
                        n = [],
                        i = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0) - t.length * this._config.symbol.height;
                    return t.forEach(function(t) {
                        var o = new Pi(t, e._assets, e._config);
                        o.y = i, i += e._config.symbol.height, n.push(o)
                    }), n
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null
                }
            }]), t
        }(),
        Ri = n(25);

    function Wi(t) {
        return (Wi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ni(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ji(t, e) {
        return !e || "object" !== Wi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Li(t) {
        return (Li = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Gi(t, e) {
        return (Gi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mi = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ji(this, Li(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Gi(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Ni(t.prototype, e), n && Ni(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._targetSymbolCount = Ri.a.getTargetReelLength(this._config), this._factory = this._createSymbolFactory(), this._updateSymbols(this._model.symbols), this._model.on(tt.a.SYMBOLS_CHANGE, this._handleChangeSymbols, this)
                }
            }, {
                key: "_createSymbolFactory",
                value: function() {
                    return new xi(this._config, this._assets)
                }
            }, {
                key: "_handleChangeSymbols",
                value: function(t, e) {
                    if (this._updateSymbols(e), this.children.length > 1 && this._turboEnabled && 0 === this._model.afterSpin.distance) {
                        var n = this.children[0],
                            i = this.children[this.children.length - 1];
                        n.y === i.y && this.swapChildren(n, i)
                    }
                }
            }, {
                key: "_updateView",
                value: function(t) {
                    this.cacheAsBitmap = !1, t.apply(this);
                    var e = h.a.isBigScreen() ? h.a.MAX_DESKTOP_TEXTURE_SIZE : h.a.MAX_MOBILE_TEXTURE_SIZE;
                    return this.cacheAsBitmap = this.height <= e, this
                }
            }, {
                key: "_updateSymbols",
                value: function(t) {
                    var e = this;
                    return this._updateView(function() {
                        e._previousSymbolCount = e.children.length, e._addNewSymbols(t)
                    }), this
                }
            }, {
                key: "_addNewSymbols",
                value: function(t) {
                    var e = this,
                        n = this.children.length;
                    return this._createNewSymbols(t, n).forEach(function(t) {
                        var i = n && e._turboEnabled ? e._config.symbol.height : 0;
                        t.y += i, e.addChild(t)
                    }), this
                }
            }, {
                key: "_createNewSymbols",
                value: function(t, e) {
                    var n = this._calculateTurboEnd(t, e),
                        i = this._turboEnabled ? n : t.length,
                        o = t.slice(e, i),
                        r = e * this._config.symbol.height * -1;
                    return this._cacheAfterSpinSymbolsBelow(t, i), this._factory.createSymbols(o, r)
                }
            }, {
                key: "_calculateTurboEnd",
                value: function(t, e) {
                    var n = e + this._targetSymbolCount,
                        i = t.length - n;
                    return this._model.willSlowDown ? i : n
                }
            }, {
                key: "_cacheAfterSpinSymbolsBelow",
                value: function(t, e) {
                    var n = -1 * this._model.afterSpin.distance - 1,
                        i = n > 0 && this._turboEnabled;
                    return this._cachedAfterSpinSymbols = i ? t.slice(e, e + n) : [], this._cachedAfterSpinSymbols
                }
            }, {
                key: "addChangeListener",
                value: function(t, e) {
                    return this._model.on(tt.a.SYMBOLS_CHANGE, t, e), this
                }
            }, {
                key: "trimSymbols",
                value: function() {
                    if (!(this.children.length > this._targetSymbolCount)) {
                        var t = "expected more than ".concat(this._targetSymbolCount, " Symbols, has ").concat(this.children.length);
                        throw new Error(t)
                    }
                    return this._updateView(this._trimSymbols), this
                }
            }, {
                key: "_trimSymbols",
                value: function() {
                    var t = this._removeOldSymbols,
                        e = this._calculateHeightDifference(t),
                        n = this._model.afterSpin,
                        i = e + (n.distance - n.symbols.length) * this._config.symbol.height;
                    return this._adjustSymbolsPosition(i), this
                }
            }, {
                key: "_calculateHeightDifference",
                value: function(t) {
                    var e = this.height;
                    return t.apply(this), e - this.height
                }
            }, {
                key: "_removeOldSymbols",
                value: function() {
                    var t = this._removeLeftoverSymbols(),
                        e = this._removeMissedSymbols(),
                        n = t.concat(e);
                    return this._wrapSymbolsAround(), n.forEach(function(t) {
                        t.destroy()
                    }), this
                }
            }, {
                key: "__logSymbols",
                value: function(t) {
                    console.log(t), this.children.forEach(function(t) {
                        console.log("symbol: ".concat([t.getId(), t.y]))
                    })
                }
            }, {
                key: "_removeLeftoverSymbols",
                value: function() {
                    var t = [];
                    if (this._previousSymbolCount > 0) {
                        var e = this._model.afterSpin,
                            n = e.distance < 0 && !this._turboEnabled ? -1 * e.distance : 0,
                            i = this._cachedAfterSpinSymbols.length;
                        t = this.removeChildren(0, this._previousSymbolCount + n + i)
                    }
                    return t
                }
            }, {
                key: "_removeMissedSymbols",
                value: function() {
                    var t = [];
                    if (this.children.length > this._targetSymbolCount) {
                        var e = this._model.afterSpin.symbols.length,
                            n = this._targetSymbolCount - e,
                            i = this.children.length - e;
                        t = this.removeChildren(n, i)
                    }
                    return t
                }
            }, {
                key: "_wrapSymbolsAround",
                value: function() {
                    return this._model.afterSpin.distance > 0 ? this._moveSymbolsUp() : this._moveSymbolsDown()
                }
            }, {
                key: "_moveSymbolsUp",
                value: function() {
                    for (var t = this._model.afterSpin, e = t.distance > 0 ? t.distance : 0, n = this.getChildAt(0).y, i = 1; i <= e; i += 1) {
                        this.getChildAt(this.children.length - i).y = n - this._config.symbol.height * i
                    }
                    return e
                }
            }, {
                key: "_moveSymbolsDown",
                value: function() {
                    var t = this._model.afterSpin,
                        e = t.distance < 0 ? -1 * t.distance : 0;
                    this._turboEnabled && e > 1 && (e = 1);
                    var n = this.getChildAt(this.children.length - 1).y + this._config.symbol.height;
                    if (this._turboEnabled)
                        for (var i = 0; i < e; i += 1) {
                            this.getChildAt(i).y = n + this._config.symbol.height * i
                        }
                    return e
                }
            }, {
                key: "_adjustSymbolsPosition",
                value: function(t) {
                    return this.children.forEach(function(e) {
                        e.y += t
                    }), this._previousSymbolCount = this.children.length, this
                }
            }, {
                key: "adjustPosition",
                value: function() {
                    var t = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1;
                    return this.y = this.height + t, this
                }
            }, {
                key: "getId",
                value: function() {
                    return this._model.id
                }
            }, {
                key: "getSymbols",
                value: function() {
                    return this._model.symbols
                }
            }, {
                key: "getShouldSlowDownNext",
                value: function() {
                    return this._model.shouldSlowDownNext
                }
            }, {
                key: "getHasEnterSound",
                value: function() {
                    return this._model.hasEnterSound
                }
            }, {
                key: "setTurbo",
                value: function() {
                    var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        enabled: !1
                    }).enabled;
                    this._turboEnabled = t
                }
            }, {
                key: "update",
                value: function() {
                    this.cacheAsBitmap && (this.cacheAsBitmap = !1, this.cacheAsBitmap = !0)
                }
            }, {
                key: "getAfterSpin",
                value: function() {
                    return this._model.afterSpin
                }
            }, {
                key: "addAfterSpinSymbolsAbove",
                value: function() {
                    var t = this;
                    if (this._model.afterSpin.symbols.length) {
                        var e = this.getChildAt(this._previousSymbolCount).y;
                        this._factory.createSymbols(this._model.afterSpin.symbols, e).forEach(function(e) {
                            t.addChild(e)
                        }), this.update()
                    }
                }
            }, {
                key: "addAfterSpinSymbolsBelow",
                value: function() {
                    var t = this;
                    if (this._cachedAfterSpinSymbols.length) {
                        var e = this.getChildAt(this.children.length - 1).y + 2 * this._config.symbol.height;
                        this._factory.createSymbols(this._cachedAfterSpinSymbols, e).forEach(function(e) {
                            t.addChild(e)
                        }), this.update()
                    }
                }
            }, {
                key: "prepareToStop",
                value: function() {
                    var t = this,
                        e = [],
                        n = this._config.reels.countOfHiddenSymbolsAbove * this._config.symbol.height * -1,
                        i = (this._config.reels.countOfHiddenSymbolsBelow + this._config.reels.countOfVisibleSymbols + Math.abs(this._model.afterSpin.distance)) * this._config.symbol.height;
                    this.children.forEach(function(o) {
                        var r = o.y + t.y < n,
                            a = o.y + t.height > i;
                        r && a && (o.visible = !1, e.push(o))
                    });
                    var o = e.length * this._config.symbol.height;
                    return this.children.forEach(function(e) {
                        e.y + t.y < n && (e.y += o)
                    }), e.length > 0 && this.update(), e.length
                }
            }, {
                key: "destroy",
                value: function() {
                    this._factory.destroy(), this._factory = null, this._cachedAfterSpinSymbols = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Bi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Fi = function() {
        function t(e, n, i) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
        }
        return function(t, e, n) {
            e && Bi(t.prototype, e), n && Bi(t, n)
        }(t, [{
            key: "createReelsContainer",
            value: function() {
                var t = new c.Container;
                return t.x = this._config.reels.x, t.y = this._config.reels.y, t
            }
        }, {
            key: "createReels",
            value: function(t) {
                var e = this,
                    n = [],
                    i = 0,
                    o = this._config.reels.countOfHiddenSymbolsAbove + this._config.reels.countOfVisibleSymbols + this._config.reels.countOfHiddenSymbolsBelow;
                return t.forEach(function(t, r) {
                    t.id = r, t.symbols = t.symbols.slice(0, o);
                    var a = new Mi({
                        model: t,
                        config: e._config,
                        assets: e._assets
                    });
                    a.x = i, i += e._config.symbol.width + e._config.reels.gap, n.push(a)
                }), n
            }
        }, {
            key: "createReelAnimator",
            value: function(t) {
                var e = this._createRegularAnimator(),
                    n = this._createScatterAnimator();
                return new ui({
                    config: this._config,
                    model: t,
                    regular: e,
                    scatter: n
                })
            }
        }, {
            key: "_createRegularAnimator",
            value: function() {
                return new di(this._config)
            }
        }, {
            key: "_createScatterAnimator",
            value: function() {
                if (this._config.timing.speed.revealDuration) return new Si(this._config);
                var t = JSON.parse(JSON.stringify(this._config));
                return t.timing = this._config.scatter.timing, this._config.scatter.timing ? new di(t) : null
            }
        }, {
            key: "createReelClipper",
            value: function(t) {
                var e = {
                        slot: this._assets.getSlotBackground() || this._assets.getGlobalBackground(),
                        scatter: this._assets.getScatterBackground() || this._assets.getScatterGlobalBackground()
                    },
                    n = {
                        slot: this._createReelClipper(e.slot),
                        scatter: this._createReelClipper(e.scatter)
                    },
                    i = new wi.a(t, {
                        regular: n.slot,
                        scatter: n.scatter
                    });
                return this._layoutAdjuster.adjustReelClipperToMain(i), i
            }
        }, {
            key: "_createReelClipper",
            value: function(t) {
                var e = new c.Container;
                return this._addTopClipper(t, e), this._addBottomClipper(t, e), e.cacheAsBitmap = !0, e.x = this._getClipperXOffset(), e
            }
        }, {
            key: "_addTopClipper",
            value: function(t, e) {
                var n = this._getClipperXOffset(),
                    i = t.width - n + this._layoutAdjuster.getMainX(),
                    o = new c.Rectangle(n, 0, i, this._config.reels.y),
                    r = this._createClipper(t, o);
                return e.addChild(r), e
            }
        }, {
            key: "_getClipperXOffset",
            value: function() {
                var t = this._config.reels;
                return "number" == typeof t.clipperXOffset ? t.clipperXOffset : t.x
            }
        }, {
            key: "_createClipper",
            value: function(t, e) {
                var n = t.clone();
                return n.frame = e, new c.Sprite(n)
            }
        }, {
            key: "_addBottomClipper",
            value: function(t, e) {
                var n = this._getClipperXOffset(),
                    i = t.width - n + this._layoutAdjuster.getMainX(),
                    o = this._config.symbol.height * this._config.reels.countOfVisibleSymbols,
                    r = this._config.reels.y + o,
                    a = t.height - r,
                    s = new c.Rectangle(n, r, i, a),
                    u = this._createClipper(t, s);
                return u.y = r, e.addChild(u), e
            }
        }]), t
    }();

    function Hi(t) {
        return (Hi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Di(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ki(t, e) {
        return !e || "object" !== Hi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ui(t) {
        return (Ui = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yi(t, e) {
        return (Yi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qi = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Ki(this, Ui(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Yi(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && Di(t.prototype, e), n && Di(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t),
                            n = e(t.createReelsContainer);
                        this._reelClipper = e(t.createReelClipper), this._reelAnimator = e(t.createReelAnimator, this._prepareReelAnimator), this._model.on(s.a.STATUS_CHANGE, this._createChangeStatusHandler(n), this), this._model.on(s.a.REELS_CHANGE, this._createChangeReelsHandler(t, n), this), this._model.on(s.a.TURBO_ENABLED_CHANGE, this._handleChangeTurboEnabled, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Fi(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareReelAnimator",
                    value: function(t) {
                        var e = this;
                        return t.on(i.a.REEL_STOPPING, function() {
                            for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                            e._applyReelFeatures.apply(e, [t].concat(i)), e.emit.apply(e, [a.a.REEL_STOPPING].concat(i))
                        }), t.on(i.a.REEL_ENTER_FINAL_SYMBOLS, function() {
                            e.emit(a.a.REEL_ENTER_FINAL_SYMBOLS)
                        }), t
                    }
                }, {
                    key: "_applyReelFeatures",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                id: -1,
                                shouldSlowDownNext: !1
                            },
                            n = e.id;
                        if (e.shouldSlowDownNext && n >= 0 && !this._hasSlowedDown) {
                            for (var i = n + 1; i < this._model.reels.length;) t.slowDown(i), i += 1;
                            this._hasSlowedDown = !0
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            var o = e._config.winlines.fadeNonSelected,
                                r = e._config.winlines.nonSelectedAlpha || .5,
                                a = e._config.winlines.nonSelectedSpecialAlpha || .3;
                            switch (i) {
                                case l.a.SPECIAL_WALK:
                                case l.a.BEFORE_SPECIAL_WALK:
                                case l.a.BEFORE_FAST_SPECIAL_WALK:
                                    t.alpha = o ? a : 1;
                                    break;
                                case l.a.FIRST_WINLINE_WALK:
                                    t.alpha = o ? r : 1;
                                    break;
                                case l.a.AFTER_SPIN:
                                    e._handleAfterSpinning();
                                    break;
                                case l.a.READY:
                                case l.a.WAITING:
                                case l.a.GAMBLING:
                                case l.a.TAKING:
                                    t.alpha = 1, e._updateReels();
                                    break;
                                case l.a.SPINNING:
                                    e._hasSlowedDown = !1;
                                    break;
                                case l.a.STOP_SPINNING:
                                    e._handleStopSpinning()
                            }
                        }
                    }
                }, {
                    key: "_handleAfterSpinning",
                    value: function() {
                        if (!this._reels) throw Error("unexpected _handleAfterSpinning() call");
                        var t = this._showAfterSpin() > 0 ? a.a.AFTER_SPIN : a.a.AFTER_SPIN_COMPLETE;
                        this.emit(t)
                    }
                }, {
                    key: "_showAfterSpin",
                    value: function() {
                        var t = this,
                            e = this._extractAfterSpinReels(),
                            n = e.length;
                        return e.forEach(function(e) {
                            var o = i.a.afterSpinCompleteForId(e.getId());
                            t._reelAnimator.once(o, function() {
                                e.trimSymbols(), e.adjustPosition(), (n -= 1) <= 0 && t.emit(a.a.AFTER_SPIN_COMPLETE)
                            }), t._reelAnimator.afterSpin(e, e.getAfterSpin().distance)
                        }), e.length
                    }
                }, {
                    key: "_extractAfterSpinReels",
                    value: function() {
                        var t = [];
                        return this._reels.forEach(function(e) {
                            e.getAfterSpin().distance && t.push(e)
                        }), t
                    }
                }, {
                    key: "_updateReels",
                    value: function() {
                        this._reels && this._reels.forEach(function(t) {
                            t.update()
                        })
                    }
                }, {
                    key: "_createChangeReelsHandler",
                    value: function(t, e) {
                        var n = this;
                        return function(i, o) {
                            n._reels || (n._reels = t.createReels(o), n._reels.forEach(function(t, i) {
                                n._addReel(t, i, e)
                            }))
                        }
                    }
                }, {
                    key: "_handleChangeTurboEnabled",
                    value: function(t, e) {
                        this._reels && this._reels.forEach(function(t) {
                            t.setTurbo({
                                enabled: e
                            })
                        })
                    }
                }, {
                    key: "_addReel",
                    value: function(t, e, n) {
                        return t.setTurbo({
                            enabled: this._model.turboEnabled
                        }), n.addChild(t), t.adjustPosition(), t.addChangeListener(this._createReelDetailsChangeHandler(t, e, n), this), t
                    }
                }, {
                    key: "_createReelDetailsChangeHandler",
                    value: function(t, e, n) {
                        var o = this;
                        return function() {
                            0 === e && (n.alpha = 1, o.emit(a.a.REEL_SPIN_START));
                            var r = i.a.spinCompleteForId(t.getId());
                            o._reelAnimator.once(r, o._createSpinCompleteHandler(t), o), o._reelAnimator.spin(t, {
                                turboEnabled: o._model.turboEnabled
                            }), t.addAfterSpinSymbolsAbove()
                        }
                    }
                }, {
                    key: "_createSpinCompleteHandler",
                    value: function(t) {
                        var e = this;
                        return function() {
                            t.getAfterSpin().distance || (t.trimSymbols(), t.adjustPosition()), t.addAfterSpinSymbolsBelow(), e.emit(a.a.SPIN_COMPLETE, t)
                        }
                    }
                }, {
                    key: "_handleStopSpinning",
                    value: function() {
                        var t = !0,
                            e = !1,
                            n = void 0;
                        try {
                            for (var i, o = this._reels[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {
                                var r = i.value;
                                if (this._reelAnimator.stop(r), r.getShouldSlowDownNext()) break
                            }
                        } catch (t) {
                            e = !0, n = t
                        } finally {
                            try {
                                t || null == o.return || o.return()
                            } finally {
                                if (e) throw n
                            }
                        }
                    }
                }, {
                    key: "setXOffset",
                    value: function(t) {
                        this._reelClipper.x -= t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._reelAnimator.removeAllListeners(), this._reelAnimator.destroy(), this._reelAnimator = null, this._reels && (this._reels.forEach(function(t) {
                            t.destroy()
                        }), this._reels = null), this._reelClipper.destroy(), this._reelClipper = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Vi = n(34);

    function Xi(t) {
        return (Xi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function zi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Qi(t, e) {
        return !e || "object" !== Xi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ji(t) {
        return (Ji = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $i(t, e) {
        return ($i = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Zi = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Qi(this, Ji(e).call(this, t, n, i)))._WinlineNumbersImplementation = le.a, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && $i(t, e)
            }(e, Vi["a"]),
            function(t, e, n) {
                e && zi(t.prototype, e), n && zi(t, n)
            }(e, [{
                key: "createModeBackground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getSlotBackground(),
                        scatter: this._assets.getScatterBackground()
                    };
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createModeForeground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getSlotForeground(),
                        scatter: this._assets.getScatterForeground()
                    };
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createModeHeader",
                value: function(t) {
                    var e = {
                            regular: this._assets.getSlotHeader(),
                            scatter: this._assets.getScatterHeader()
                        },
                        n = this._config.header || {},
                        i = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e,
                            scatterOffset: n.scatterOffset
                        });
                    return i.x = n.x || 0, i.y = n.y || 0, this._adjustBackgroundToMain(i)
                }
            }, {
                key: "createReelContainer",
                value: function(t) {
                    var e = new qi({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createWinline",
                value: function(t) {
                    var e = new ze(t, this._config, this._assets);
                    return this._adjustToMain(e)
                }
            }, {
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, mt)
                }
            }, {
                key: "createWinlineNumbers",
                value: function(t) {
                    var e = new this.WinlineNumbersImplementation({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createEffectsTopOverlay",
                value: function(t) {
                    return new ei({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "createEffectsBottomOverlay",
                value: function(t) {
                    return new S({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "createScatterTransitionOverlay",
                value: function(t) {
                    var e = new Z({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createSymbolTransformOverlay",
                value: function(t) {
                    var e = new ue(t, this._config, this._assets);
                    return this._adjustToMain(e)
                }
            }, {
                key: "WinlineNumbersImplementation",
                get: function() {
                    return this._WinlineNumbersImplementation
                },
                set: function(t) {
                    this._WinlineNumbersImplementation = t
                }
            }]), e
    }();

    function to(t) {
        return (to = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function eo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function no(t, e) {
        return !e || "object" !== to(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function io(t, e, n) {
        return (io = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var i = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = oo(t)););
                return t
            }(t, e);
            if (i) {
                var o = Object.getOwnPropertyDescriptor(i, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function oo(t) {
        return (oo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ro(t, e) {
        return (ro = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    n.d(e, "a", function() {
        return ao
    });
    var ao = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = no(this, oo(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ro(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && eo(t.prototype, e), n && eo(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._createComponentAdder(t);
                    this._globalBackground = e(t.createGlobalBackground, this._addFullscreenRequester);
                    e(t.createModeBackground);
                    this._reelContainer = e(t.createReelContainer, this._prepareReelContainer);
                    e(t.createModeForeground);
                    this._modeHeader = e(t.createModeHeader), e(t.createSymbolTransformOverlay, this._prepareSymbolTransformOverlay), this._backgroundOverlayContainer = this._createContainer(), this.addChild(this._backgroundOverlayContainer), this._createControlsAdder(t)(t.createControls, this._prepareControls), this._winlineNumbers = e(t.createWinlineNumbers), this._effectsTopOverlay = e(t.createEffectsTopOverlay, this._prepareEffectsOverlay), this._scatterTransitionOverlay = e(t.createScatterTransitionOverlay, this._prepareScatterTransitionOverlay);
                    var n = this._createWinlinePreparator(this._winlineNumbers, this._effectsTopOverlay);
                    return this._winline = e(t.createWinline, n), this._effectsBottomOverlay = e(t.createEffectsBottomOverlay), this._createThrobberAdder(t)(t.createThrobber, this._reelContainer), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this._moveOnTop(this._effectsTopOverlay), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Zi(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_prepareReelContainer",
                value: function(t) {
                    var e = this;
                    return [a.a.SPIN_COMPLETE, a.a.REEL_STOPPING, a.a.REEL_ENTER_FINAL_SYMBOLS, a.a.AFTER_SPIN, a.a.AFTER_SPIN_COMPLETE].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), this._forwardEvent(t, a.a.REEL_SPIN_START, function() {
                        e.hideThrobber()
                    }), t
                }
            }, {
                key: "_prepareSymbolTransformOverlay",
                value: function(t) {
                    var e = this;
                    return [a.a.BEFORE_WINLINE_WALK, a.a.BEFORE_WINLINE_WALK_COMPLETE, a.a.BEFORE_SPECIAL_WALK_COMPLETE, a.a.BEFORE_SPECIAL_WALK_TRANSFORM].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), t
                }
            }, {
                key: "_createWinlinePreparator",
                value: function(t, e) {
                    var n = this;
                    return function(i) {
                        return n._forwardEvent(i, a.a.WINLINE_WALK, function() {
                            t.walk()
                        }), n._forwardEvent(i, a.a.WINLINE_WALK_COMPLETE, function() {
                            n._model.special && e.hasBanner() && (e.showBanner(), i.pause())
                        }), n._forwardEvent(t, a.a.WINLINE_NUMBER_TAP), i
                    }
                }
            }, {
                key: "_prepareControls",
                value: function(t) {
                    var e = this;
                    [a.a.SPIN, a.a.STOP_SPIN, a.a.STOP_AUTO_PLAY, a.a.TAKE, a.a.GAMBLE, a.a.SETTINGS, o.a.REQUEST_FULLSCREEN].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), this._forwardEvent(t, a.a.EXIT, function() {
                        (e._model.gameType === u.a.REGULAR || e._model.willSwitchToRegular) && e._prepareThrobber()
                    })
                }
            }, {
                key: "_prepareEffectsOverlay",
                value: function(t) {
                    var e = this;
                    this._forwardEvent(t, a.a.SPECIAL_MULTIPLIER), t.on(i.a.MULTIPLIER_BANNER_COMPLETE, function() {
                        e.walkWinline()
                    }), t.on(i.a.WIN_HEADER_START, function() {
                        e._modeHeader.visible = !1
                    }), t.on(i.a.WIN_HEADER_COMPLETE, function() {
                        e._modeHeader.visible = !0
                    })
                }
            }, {
                key: "_prepareScatterTransitionOverlay",
                value: function(t) {
                    var e = this;
                    [a.a.SCATTER_INTRO_COMPLETE, a.a.SCATTER_SELECT, a.a.SCATTER_SELECT_COMPLETE].forEach(function(n) {
                        e._forwardEvent(t, n)
                    })
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case l.a.TAKING:
                            this._prepareThrobber();
                            break;
                        case l.a.SPINNING:
                            this._prepareThrobber(), this._moveOnTopOf(this._effectsTopOverlay, this._scatterTransitionOverlay), this._moveOnTopOf(this._winline, this._scatterTransitionOverlay);
                            break;
                        case l.a.SCATTER_INTRO:
                            this._modeHeader.visible = !1, this.hideThrobber();
                            break;
                        case l.a.SCATTER_SELECT:
                            this._modeHeader.visible = !0, this.hideThrobber();
                            break;
                        case l.a.BEFORE_SCATTER:
                        case l.a.SCATTER_OUTRO:
                        case l.a.WAITING:
                        case l.a.FIRST_WINLINE_WALK:
                        case l.a.BEFORE_SPECIAL_WALK:
                        case l.a.BEFORE_FAST_SPECIAL_WALK:
                        case l.a.SPECIAL_WALK:
                        case l.a.BEFORE_READY:
                            this.hideThrobber();
                            break;
                        case l.a.READY:
                            this.hideThrobber(), this._moveOnTopOf(this._scatterTransitionOverlay, this._winline), this._moveOnTopOf(this._scatterTransitionOverlay, this._effectsTopOverlay)
                    }
                    this.emit(o.a.CONTROLS_CHANGE)
                }
            }, {
                key: "_moveOnTopOf",
                value: function(t, e) {
                    this.getChildIndex(e) > this.getChildIndex(t) && this.swapChildren(t, e)
                }
            }, {
                key: "walkWinline",
                value: function() {
                    this._model.isActive && this._winline.walk()
                }
            }, {
                key: "pauseWinline",
                value: function() {
                    this._winline.pause()
                }
            }, {
                key: "getWinTextContainer",
                value: function() {
                    return this._winline.getWinTextContainer()
                }
            }, {
                key: "getWinMessageContainer",
                value: function() {
                    return this._effectsTopOverlay.getWinMessageContainer()
                }
            }, {
                key: "showSmallWin",
                value: function(t) {
                    this._effectsTopOverlay.showSmallWin(t)
                }
            }, {
                key: "showRegularWin",
                value: function(t) {
                    this._effectsTopOverlay.showRegularWin(t)
                }
            }, {
                key: "showHighWin",
                value: function(t) {
                    this._effectsTopOverlay.showHighWin(t)
                }
            }, {
                key: "showHugeWin",
                value: function(t) {
                    this._effectsTopOverlay.showHugeWin(t)
                }
            }, {
                key: "showFullWin",
                value: function() {
                    this._effectsTopOverlay.showFullWin()
                }
            }, {
                key: "showPotWin",
                value: function(t, e) {
                    this._effectsTopOverlay.showPotWin(t, e)
                }
            }, {
                key: "showBeforeReady",
                value: function() {
                    this._effectsTopOverlay.showBeforeReady()
                }
            }, {
                key: "setSelectedWinlines",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._winlineNumbers.setSelectedWinlines(t)
                }
            }, {
                key: "showSymbolIntro",
                value: function(t, e) {
                    this._effectsBottomOverlay.showSymbolIntro(t, e)
                }
            }, {
                key: "addToBackground",
                value: function(t) {
                    this._backgroundOverlayContainer.addChild(t)
                }
            }, {
                key: "_switchControlsToLeft",
                value: function() {
                    var t = io(oo(e.prototype), "_switchControlsToLeft", this).call(this);
                    return this._setReelContainerXOffset(t)
                }
            }, {
                key: "_setReelContainerXOffset",
                value: function(t) {
                    return this._assets.getUsesFullwidthBackground() && this._reelContainer.setXOffset(t), t
                }
            }, {
                key: "_switchControlsToRight",
                value: function() {
                    var t = io(oo(e.prototype), "_switchControlsToRight", this).call(this);
                    return this._setReelContainerXOffset(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._winline.destroy(), this._winline = null, this._winlineNumbers.destroy(), this._winlineNumbers = null, this._effectsTopOverlay.destroy(), this._effectsTopOverlay = null, this._effectsBottomOverlay.destroy(), this._effectsBottomOverlay = null, this._scatterTransitionOverlay.destroy(), this._scatterTransitionOverlay = null, this._backgroundOverlayContainer.destroy(), this._backgroundOverlayContainer = null, this._reelContainer.destroy(), this._reelContainer = null, this._globalBackground.destroy(), this._globalBackground = null, this._modeHeader.destroy(), this._modeHeader = null, r.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(1);

    function o(t) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function a(t, e) {
        return !e || "object" !== o(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function s(t) {
        return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function u(t, e) {
        return (u = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var l = function(t) {
        function e(t) {
            var n, i = t.assets,
                o = t.id,
                r = t.isInverted;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var u = (n = a(this, s(e).call(this)))._getWinlineNumber({
                    assets: i,
                    id: o,
                    emphasized: r
                }),
                l = n._getWinlineNumber({
                    assets: i,
                    id: o,
                    emphasized: !r
                });
            return n._regular = n._createSprite(u), n._emphasized = n._createSprite(l), n.addChild(n._regular), n.addChild(n._emphasized), n._regular.visible = !1, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && u(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(e, [{
                key: "_getWinlineNumber",
                value: function(t) {
                    var e = t.assets,
                        n = t.id,
                        i = t.emphasized;
                    return e.getWinlineNumber(n, {
                        emphasized: i
                    })
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "showRegular",
                value: function() {
                    this._regular.visible = !0, this._emphasized.visible = !1, clearTimeout(this._blinkTimeout)
                }
            }, {
                key: "showEmphasized",
                value: function() {
                    this._regular.visible = !1, this._emphasized.visible = !0, clearTimeout(this._blinkTimeout)
                }
            }, {
                key: "blink",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    this.showEmphasized(), e.length && this._blink(t, e)
                }
            }, {
                key: "_blink",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    this._blinkTimeout = setTimeout(function() {
                        t._switchVisibility();
                        var i = (e + 1) % n.length;
                        t._blink(i, n)
                    }, n[e])
                }
            }, {
                key: "_switchVisibility",
                value: function() {
                    this._regular.visible = !this._regular.visible, this._emphasized.visible = !this._emphasized.visible
                }
            }, {
                key: "destroy",
                value: function() {
                    this.removeChildren(), this._regular.destroy(), this._regular = null, this._emphasized.destroy(), this._emphasized = null, clearTimeout(this._blinkTimeout), this._blinkTimeout = null, i.Container.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = l
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(88);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), s(this, u(e).call(this))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && l(t, e)
                }(e, i["Container"]),
                function(t, e, n) {
                    e && a(t.prototype, e), n && a(t, n)
                }(e, [{
                    key: "showRegular",
                    value: function() {
                        this.children.forEach(function(t) {
                            t.showRegular()
                        })
                    }
                }, {
                    key: "showEmphasized",
                    value: function() {
                        this.children.forEach(function(t) {
                            t.showEmphasized()
                        })
                    }
                }, {
                    key: "blink",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                        this.children.forEach(function(n) {
                            n.blink(t, e)
                        })
                    }
                }, {
                    key: "blinkAt",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
                        this[t].blink(e, n)
                    }
                }]), e
        }(),
        h = n(70);

    function f(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _ = function() {
        function t(e, n, i) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
        }
        return function(t, e, n) {
            e && f(t.prototype, e), n && f(t, n)
        }(t, [{
            key: "createWinlineNumbersBackground",
            value: function() {
                var t = this._createContainer();
                return this._createWinlineNumbersElement(this._createContainer, this._createWinlineNumberBackground).forEach(function(e) {
                    t.addChild(e)
                }), t.cacheAsBitmap = !0, t
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createWinlineNumberBackground",
            value: function(t) {
                if (this._config.winlines.numbers.useBackground) {
                    var e = this._getWinlineNumberBackground(t);
                    return this._createSprite(e)
                }
                return this._createContainer()
            }
        }, {
            key: "_getWinlineNumberBackground",
            value: function(t) {
                return this._assets.getWinlineNumber(t, {
                    background: !0
                })
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new i.Sprite(t)
            }
        }, {
            key: "_createWinlineNumbersElement",
            value: function(t, e) {
                var n = this,
                    i = this._config.winlines.numbers.positions,
                    o = this._getColumns(),
                    r = this._getRatio();
                return i.map(function(i, a) {
                    var s = t.call(n);
                    return n._createRow({
                        container: s,
                        columns: o,
                        winlineNumberCreator: e,
                        position: i,
                        id: a,
                        ratio: r
                    })
                })
            }
        }, {
            key: "createWinlineNumbers",
            value: function() {
                return this._createWinlineNumbersElement(this._createWinlineNumberContainer, this._createWinlineNumber)
            }
        }, {
            key: "_createWinlineNumberContainer",
            value: function() {
                return new c
            }
        }, {
            key: "_createWinlineNumber",
            value: function(t) {
                return new o.a({
                    assets: this._assets,
                    id: t,
                    isInverted: this._config.winlines.numbers.invert
                })
            }
        }, {
            key: "_getColumns",
            value: function() {
                var t = this._config.symbol,
                    e = this._config.reels,
                    n = t.width * e.count + e.gap * (e.count - 1),
                    i = e.x,
                    o = e.x + n;
                return [{
                    x: i,
                    propertyName: h.a.LEFT
                }, {
                    x: o,
                    propertyName: h.a.RIGHT
                }]
            }
        }, {
            key: "_getRatio",
            value: function() {
                var t = this._layoutAdjuster.getRatio();
                return t < 1 ? t : 1
            }
        }, {
            key: "_createRow",
            value: function(t) {
                var e = this,
                    n = t.container,
                    i = t.columns,
                    o = t.winlineNumberCreator,
                    r = t.position,
                    a = t.id,
                    s = t.ratio;
                return i.forEach(function(t, i) {
                    var u = t.x,
                        l = t.propertyName,
                        c = r.length > 2 ? r[2] : 1,
                        h = Array.isArray(r) ? r[i % r.length] : r,
                        f = o.call(e, a);
                    e._adjustWinlineNumber({
                        winlineNumber: f,
                        x: u,
                        y: h,
                        scaleX: c,
                        align: i,
                        ratio: s
                    }), n[l] = n.addChild(f)
                }), n
            }
        }, {
            key: "_adjustWinlineNumber",
            value: function(t) {
                var e = t.winlineNumber,
                    n = t.x,
                    i = t.y,
                    o = t.scaleX,
                    r = t.align,
                    a = t.ratio;
                if (!1 === i) return e.visible = !1, e;
                e.scale.x = o;
                var s = this._calculateWinlineNumberOffset({
                    winlineNumber: e,
                    align: r,
                    ratio: a,
                    scaleX: o
                });
                return e.x = n + s, e.y = i, e
            }
        }, {
            key: "_calculateWinlineNumberOffset",
            value: function(t) {
                var e = t.winlineNumber,
                    n = t.ratio,
                    i = t.align,
                    o = t.scaleX,
                    r = this._config.winlines.numbers.margin,
                    a = this._layoutAdjuster.calculateWinlineNumberMargin(r, n),
                    s = Boolean(i % 2),
                    u = o < 0;
                return s && u ? -1 * (e.width - a) : s && !u ? a : !s && u ? -1 * a : -1 * (e.width + a)
            }
        }]), t
    }();
    e.a = _
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var i = n(4);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, [{
            key: "scaleMainView",
            value: function(t) {
                var e = this.getRatio(),
                    n = i.a.getRatioAdjustment({
                        width: this._config.width,
                        height: this._config.height
                    }) / e;
                return t.scale.x = n, t.scale.y = n, t
            }
        }, {
            key: "center",
            value: function(t) {
                return t.x -= .5 * this.getWidthDifference(), t
            }
        }, {
            key: "getControlsWidth",
            value: function() {
                var t = this._config.controls,
                    e = this.getRatio(),
                    n = e * e * e * e,
                    i = t.width * n + t.offsetX,
                    o = t.minWidth || 0;
                return i > o ? i : o
            }
        }, {
            key: "getMainWidth",
            value: function() {
                var t = this._getMainBaselineWidth(),
                    e = this._config.width * this.getRatio() - this.getControlsWidth();
                return e < t ? e : t
            }
        }, {
            key: "getHeight",
            value: function() {
                return this._config.height
            }
        }, {
            key: "getWidth",
            value: function() {
                return this._config.width
            }
        }, {
            key: "_getMainBaselineWidth",
            value: function() {
                return this._config.width - this._config.controls.width
            }
        }, {
            key: "getMainX",
            value: function() {
                return .5 * (this._getMainBaselineWidth() - this.getMainWidth())
            }
        }, {
            key: "getControlsX",
            value: function() {
                var t = this._config.controls,
                    e = t.width - this.getControlsWidth();
                return this.getMainWidth() - .5 * e + t.offsetX
            }
        }, {
            key: "_isNarrowScreen",
            value: function(t) {
                return (t || this.getRatio()) < this._config.adjustment.narrowScreenThreshold
            }
        }, {
            key: "getWidthDifference",
            value: function() {
                var t = this.getRatio(),
                    e = this._config.width * t;
                return t < 1 ? this._config.width - e : 0
            }
        }, {
            key: "adjustBackgroundToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "invertAdjustBackgroundToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "adjustReelClipperToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "adjustToMain",
            value: function(t) {
                return t.x -= this.getMainX(), t
            }
        }, {
            key: "calculateWinlineNumberMargin",
            value: function(t, e) {
                var n = this._config.adjustment.winlineNumbersOffset;
                return t + (this._isNarrowScreen(e) ? n : 0)
            }
        }, {
            key: "getRatio",
            value: function() {
                return i.a.getCappedRatioAdjustment({
                    width: this._config.width,
                    height: this._config.height
                })
            }
        }, {
            key: "adjustToMainFromControls",
            value: function(t) {
                return t.x += .5 * this.getWidthDifference(), t
            }
        }, {
            key: "centerAtMain",
            value: function(t) {
                var e = this.getMainWidth() - t.width;
                return t.x += .5 * e, t
            }
        }, {
            key: "getControlsSwitchedX",
            value: function() {
                var t = this._config.controls,
                    e = -.5 * (t.width - this.getControlsWidth());
                return e > 0 ? 0 : e + t.switchedBorderOffsetX
            }
        }, {
            key: "adjustStyle",
            value: function(t) {
                if (this._isNarrowScreen())
                    for (var e in t) t.hasOwnProperty(e) && this._adjustFontSize(t[e]);
                return t
            }
        }, {
            key: "_adjustFontSize",
            value: function(t) {
                var e = /(\d+)px/.exec(t.font);
                if (e && Number(e[1]) > 2) {
                    var n = Number(e[1]) + (this._config.adjustment.narrowFontSizeCorrection || 0);
                    t.font = t.font.replace(e[1], n)
                }
                return t
            }
        }]), t
    }()
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i;
    i = function() {
        return this
    }();
    try {
        i = i || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" === ("undefined" == typeof window ? "undefined" : n(window)) && (i = window)
    }
    t.exports = i
}, function(t, e, n) {
    var i = n(71),
        o = 0;
    t.exports = function(t) {
        var e = ++o;
        return i(t) + e
    }
}, function(t, e, n) {
    (function(e) {
        function n(t) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var i = "object" == (void 0 === e ? "undefined" : n(e)) && e && e.Object === Object && e;
        t.exports = i
    }).call(this, n(91))
}, function(t, e, n) {
    var i = n(73),
        o = n(47),
        r = n(134),
        a = n(39),
        s = n(49),
        u = n(41),
        l = Object.prototype.hasOwnProperty,
        c = r(function(t, e) {
            if (s(e) || a(e)) o(e, u(e), t);
            else
                for (var n in e) l.call(e, n) && i(t, n, e[n])
        });
    t.exports = c
}, function(t, e, n) {
    var i = n(96);
    t.exports = function(t, e, n) {
        "__proto__" == e && i ? i(t, e, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : t[e] = n
    }
}, function(t, e, n) {
    var i = n(40),
        o = function() {
            try {
                var t = i(Object, "defineProperty");
                return t({}, "", {}), t
            } catch (t) {}
        }();
    t.exports = o
}, function(t, e) {
    var n = Function.prototype.toString;
    t.exports = function(t) {
        if (null != t) {
            try {
                return n.call(t)
            } catch (t) {}
            try {
                return t + ""
            } catch (t) {}
        }
        return ""
    }
}, function(t, e, n) {
    var i = n(74),
        o = n(99),
        r = n(100);
    t.exports = function(t, e) {
        return r(o(t, e, i), t + "")
    }
}, function(t, e, n) {
    var i = n(135),
        o = Math.max;
    t.exports = function(t, e, n) {
        return e = o(void 0 === e ? t.length - 1 : e, 0),
            function() {
                for (var r = arguments, a = -1, s = o(r.length - e, 0), u = Array(s); ++a < s;) u[a] = r[e + a];
                a = -1;
                for (var l = Array(e + 1); ++a < e;) l[a] = r[a];
                return l[e] = n(u), i(t, this, l)
            }
    }
}, function(t, e, n) {
    var i = n(136),
        o = n(138)(i);
    t.exports = o
}, function(t, e, n) {
    var i = n(140),
        o = n(56),
        r = n(29),
        a = n(57),
        s = n(76),
        u = n(77),
        l = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        var n = r(t),
            c = !n && o(t),
            h = !n && !c && a(t),
            f = !n && !c && !h && u(t),
            _ = n || c || h || f,
            y = _ ? i(t.length, String) : [],
            d = y.length;
        for (var p in t) !e && !l.call(t, p) || _ && ("length" == p || h && ("offset" == p || "parent" == p) || f && ("buffer" == p || "byteLength" == p || "byteOffset" == p) || s(p, d)) || y.push(p);
        return y
    }
}, function(t, e, n) {
    var i = n(49),
        o = n(144),
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!i(t)) return o(t);
        var e = [];
        for (var n in Object(t)) r.call(t, n) && "constructor" != n && e.push(n);
        return e
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return function(n) {
            return t(e(n))
        }
    }
}, function(t, e, n) {
    var i = n(60),
        o = n(152),
        r = n(153),
        a = n(154),
        s = n(155),
        u = n(156);

    function l(t) {
        var e = this.__data__ = new i(t);
        this.size = e.size
    }
    l.prototype.clear = o, l.prototype.delete = r, l.prototype.get = a, l.prototype.has = s, l.prototype.set = u, t.exports = l
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t););
        return t
    }
}, function(t, e, n) {
    var i = n(101),
        o = n(171),
        r = n(39);
    t.exports = function(t) {
        return r(t) ? i(t, !0) : o(t)
    }
}, function(t, e) {
    t.exports = function() {
        return []
    }
}, function(t, e, n) {
    var i = n(81),
        o = n(82),
        r = n(80),
        a = n(107),
        s = Object.getOwnPropertySymbols ? function(t) {
            for (var e = []; t;) i(e, r(t)), t = o(t);
            return e
        } : a;
    t.exports = s
}, function(t, e, n) {
    var i = n(110),
        o = n(80),
        r = n(41);
    t.exports = function(t) {
        return i(t, r, o)
    }
}, function(t, e, n) {
    var i = n(81),
        o = n(29);
    t.exports = function(t, e, n) {
        var r = e(t);
        return o(t) ? r : i(r, n(t))
    }
}, function(t, e, n) {
    var i = n(110),
        o = n(108),
        r = n(106);
    t.exports = function(t) {
        return i(t, r, o)
    }
}, function(t, e, n) {
    var i = n(40)(n(33), "Set");
    t.exports = i
}, function(t, e, n) {
    var i = n(33).Uint8Array;
    t.exports = i
}, function(t, e, n) {
    var i = n(81),
        o = n(206);
    t.exports = function t(e, n, r, a, s) {
        var u = -1,
            l = e.length;
        for (r || (r = o), s || (s = []); ++u < l;) {
            var c = e[u];
            n > 0 && r(c) ? n > 1 ? t(c, n - 1, r, a, s) : i(s, c) : a || (s[s.length] = c)
        }
        return s
    }
}, function(t, e, n) {
    var i = n(211),
        o = n(41);
    t.exports = function(t, e) {
        return t && i(t, e, o)
    }
}, function(t, e, n) {
    var i = n(74);
    t.exports = function(t) {
        return "function" == typeof t ? t : i
    }
}, function(t, e, n) {
    var i = n(214),
        o = n(215),
        r = n(216);
    t.exports = function(t, e, n) {
        return e == e ? r(t, e, n) : i(t, o, n)
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(29),
        r = n(32),
        a = "[object String]";
    t.exports = function(t) {
        return "string" == typeof t || !o(t) && r(t) && i(t) == a
    }
}, function(t, e, n) {
    var i = n(217);
    t.exports = function(t) {
        var e = i(t),
            n = e % 1;
        return e == e ? n ? e - n : e : 0
    }
}, function(t, e, n) {
    var i = n(121),
        o = n(228),
        r = n(122),
        a = 1,
        s = 2;
    t.exports = function(t, e, n, u, l, c) {
        var h = n & a,
            f = t.length,
            _ = e.length;
        if (f != _ && !(h && _ > f)) return !1;
        var y = c.get(t);
        if (y && c.get(e)) return y == e;
        var d = -1,
            p = !0,
            m = n & s ? new i : void 0;
        for (c.set(t, e), c.set(e, t); ++d < f;) {
            var v = t[d],
                g = e[d];
            if (u) var b = h ? u(g, v, d, e, t, c) : u(v, g, d, t, e, c);
            if (void 0 !== b) {
                if (b) continue;
                p = !1;
                break
            }
            if (m) {
                if (!o(e, function(t, e) {
                        if (!r(m, e) && (v === t || l(v, t, n, u, c))) return m.push(e)
                    })) {
                    p = !1;
                    break
                }
            } else if (v !== g && !l(v, g, n, u, c)) {
                p = !1;
                break
            }
        }
        return c.delete(t), c.delete(e), p
    }
}, function(t, e, n) {
    var i = n(79),
        o = n(226),
        r = n(227);

    function a(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.__data__ = new i; ++e < n;) this.add(t[e])
    }
    a.prototype.add = a.prototype.push = o, a.prototype.has = r, t.exports = a
}, function(t, e) {
    t.exports = function(t, e) {
        return t.has(e)
    }
}, function(t, e, n) {
    "use strict";

    function i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return o
    });
    var o = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._assets = e.workshop.createAssetLibrary(), this._model = e.workshop.createModel(), this._model.isDemo = Boolean(e.isDemo), this._layoutAdjuster = e.workshop.createLayoutAdjuster(), this._view = e.workshop.createView({
                model: this._model,
                assets: this._assets,
                layoutAdjuster: this._layoutAdjuster
            }), this._controller = e.workshop.createController({
                model: this._model,
                view: this._view,
                assets: this._assets,
                layoutAdjuster: this._layoutAdjuster,
                authToken: e.authToken,
                socket: e.socket,
                exitCallback: e.exitCallback,
                beforeExitCallback: e.beforeExitCallback,
                logService: e.logService
            }), this._renderer = e.workshop.createRenderer(this._view)
        }
        return function(t, e, n) {
            e && i(t.prototype, e), n && i(t, n)
        }(t, [{
            key: "destroy",
            value: function() {
                var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    shouldKeepAudioContext: !1
                }).shouldKeepAudioContext;
                this._assets.destroy({
                    shouldKeepAudioContext: t
                }), this._assets = null, this._model = null, this._layoutAdjuster = null, this._view.destroy(), this._view = null, this._controller.destroy(), this._controller = null, this._renderer.destroy(), this._renderer = null
            }
        }]), t
    }()
}, function(t, e, n) {
    (function(t) {
        function e(t) {
            return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }! function() {
            function n(t, e) {
                document.addEventListener ? t.addEventListener("scroll", e, !1) : t.attachEvent("scroll", e)
            }

            function i(t) {
                this.a = document.createElement("div"), this.a.setAttribute("aria-hidden", "true"), this.a.appendChild(document.createTextNode(t)), this.b = document.createElement("span"), this.c = document.createElement("span"), this.h = document.createElement("span"), this.f = document.createElement("span"), this.g = -1, this.b.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.c.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.f.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.h.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;", this.b.appendChild(this.h), this.c.appendChild(this.f), this.a.appendChild(this.b), this.a.appendChild(this.c)
            }

            function o(t, e) {
                t.a.style.cssText = "max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:" + e + ";"
            }

            function r(t) {
                var e = t.a.offsetWidth,
                    n = e + 100;
                return t.f.style.width = n + "px", t.c.scrollLeft = n, t.b.scrollLeft = t.b.scrollWidth + 100, t.g !== e && (t.g = e, !0)
            }

            function a(t, e) {
                function i() {
                    var t = o;
                    r(t) && t.a.parentNode && e(t.g)
                }
                var o = t;
                n(t.b, i), n(t.c, i), r(t)
            }

            function s(t, e) {
                var n = e || {};
                this.family = t, this.style = n.style || "normal", this.weight = n.weight || "normal", this.stretch = n.stretch || "normal"
            }
            var u = null,
                l = null,
                c = null,
                h = null;

            function f() {
                return null === h && (h = !!document.fonts), h
            }

            function _(t, e) {
                return [t.style, t.weight, function() {
                    if (null === c) {
                        var t = document.createElement("div");
                        try {
                            t.style.font = "condensed 100px sans-serif"
                        } catch (t) {}
                        c = "" !== t.style.font
                    }
                    return c
                }() ? t.stretch : "", "100px", e].join(" ")
            }
            s.prototype.load = function(t, e) {
                var n = this,
                    r = t || "BESbswy",
                    s = 0,
                    c = e || 3e3,
                    h = (new Date).getTime();
                return new Promise(function(t, e) {
                    if (f() && ! function() {
                            if (null === l)
                                if (f() && /Apple/.test(window.navigator.vendor)) {
                                    var t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                                    l = !!t && 603 > parseInt(t[1], 10)
                                } else l = !1;
                            return l
                        }()) {
                        var y = new Promise(function(t, e) {
                                ! function i() {
                                    (new Date).getTime() - h >= c ? e() : document.fonts.load(_(n, '"' + n.family + '"'), r).then(function(e) {
                                        1 <= e.length ? t() : setTimeout(i, 25)
                                    }, function() {
                                        e()
                                    })
                                }()
                            }),
                            d = new Promise(function(t, e) {
                                s = setTimeout(e, c)
                            });
                        Promise.race([d, y]).then(function() {
                            clearTimeout(s), t(n)
                        }, function() {
                            e(n)
                        })
                    } else ! function(t) {
                        document.body ? t() : document.addEventListener ? document.addEventListener("DOMContentLoaded", function e() {
                            document.removeEventListener("DOMContentLoaded", e), t()
                        }) : document.attachEvent("onreadystatechange", function e() {
                            "interactive" != document.readyState && "complete" != document.readyState || (document.detachEvent("onreadystatechange", e), t())
                        })
                    }(function() {
                        function l() {
                            var e;
                            (e = -1 != p && -1 != m || -1 != p && -1 != v || -1 != m && -1 != v) && ((e = p != m && p != v && m != v) || (null === u && (e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent), u = !!e && (536 > parseInt(e[1], 10) || 536 === parseInt(e[1], 10) && 11 >= parseInt(e[2], 10))), e = u && (p == g && m == g && v == g || p == b && m == b && v == b || p == S && m == S && v == S)), e = !e), e && (w.parentNode && w.parentNode.removeChild(w), clearTimeout(s), t(n))
                        }
                        var f = new i(r),
                            y = new i(r),
                            d = new i(r),
                            p = -1,
                            m = -1,
                            v = -1,
                            g = -1,
                            b = -1,
                            S = -1,
                            w = document.createElement("div");
                        w.dir = "ltr", o(f, _(n, "sans-serif")), o(y, _(n, "serif")), o(d, _(n, "monospace")), w.appendChild(f.a), w.appendChild(y.a), w.appendChild(d.a), document.body.appendChild(w), g = f.a.offsetWidth, b = y.a.offsetWidth, S = d.a.offsetWidth,
                            function t() {
                                if ((new Date).getTime() - h >= c) w.parentNode && w.parentNode.removeChild(w), e(n);
                                else {
                                    var i = document.hidden;
                                    !0 !== i && void 0 !== i || (p = f.a.offsetWidth, m = y.a.offsetWidth, v = d.a.offsetWidth, l()), s = setTimeout(t, 50)
                                }
                            }(), a(f, function(t) {
                                p = t, l()
                            }), o(f, _(n, '"' + n.family + '",sans-serif')), a(y, function(t) {
                                m = t, l()
                            }), o(y, _(n, '"' + n.family + '",serif')), a(d, function(t) {
                                v = t, l()
                            }), o(d, _(n, '"' + n.family + '",monospace'))
                    })
                })
            }, "object" === e(t) ? t.exports = s : (window.FontFaceObserver = s, window.FontFaceObserver.prototype.load = s.prototype.load)
        }()
    }).call(this, n(52)(t))
}, function(t, e, n) {
    "use strict";

    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = {
        merge: function(t, e) {
            var n = JSON.parse(JSON.stringify(e));
            return this._mergeProperty(t, n), n
        },
        _mergeProperty: function(t, e) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var o = t[n],
                        r = e.hasOwnProperty(n);
                    "object" === i(o) && r && !Array.isArray(o) ? this._mergeProperty(t[n], e[n]) : void 0 !== e[n] && null !== e[n] || (e[n] = t[n])
                } return e
        }
    };
    e.a = o
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(9),
        r = n.n(o);

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var s = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e
            }
            return function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(t, [{
                key: "getImagePath",
                value: function(t) {
                    return "".concat(this._config.imagePath).concat(t)
                }
            }, {
                key: "getStaticSymbol",
                value: function(t) {
                    var e = this._config.mappedSymbolIds;
                    if (e && e.hasOwnProperty("_".concat(t))) return e["_".concat(t)];
                    var n = this._padTextureId(t);
                    return "".concat(n, "_anim01.png")
                }
            }, {
                key: "getStaticHighWinSymbol",
                value: function(t) {
                    var e = this._getIsHighWinException(t),
                        n = this._getIsMappedSymbolId(t);
                    if (e || n) return this.getStaticSymbol(t);
                    var i = this._padTextureId(t);
                    return "".concat(i, "_anim01").concat(this._config.highWinSuffix || "", ".png")
                }
            }, {
                key: "_getIsHighWinException",
                value: function(t) {
                    return !!this._config.highWinExceptions && this._config.highWinExceptions.indexOf(t) > -1
                }
            }, {
                key: "getStaticInScatterSymbol",
                value: function(t) {
                    var e = this._getIsMappedSymbolId(t);
                    return this._config.scatter && !e ? "".concat(this._config.scatter.prefix || "").concat(this.getStaticSymbol(t)) : this.getStaticSymbol(t)
                }
            }, {
                key: "_getIsMappedSymbolId",
                value: function(t) {
                    return !!this._config.mappedSymbolIds && this._config.mappedSymbolIds.hasOwnProperty("_".concat(t))
                }
            }, {
                key: "getStaticScatterSpecialSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.special) {
                        var n = this._padTextureId(t),
                            i = e.special.suffix || "";
                        return "".concat(n, "_anim01").concat(i, ".png")
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "getScatterWidgetSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.widget) {
                        var n = this._padTextureId(t),
                            i = e.widget.suffix || "";
                        return "".concat(n, "_anim01").concat(i, ".png")
                    }
                    return this.getStaticScatterSpecialSymbol(t)
                }
            }, {
                key: "getAnimatedScatterSpecialSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.special && e.special.hasWinAnimation) {
                        var n = this._padTextureId(t),
                            i = e.special.suffix || "";
                        return "".concat(n, "_anim").concat(i, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getStaticScatterSelectSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.select) {
                        var n = this._padTextureId(t),
                            i = e.select.suffix || "";
                        return "".concat(n).concat(i, ".png")
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "getAnimatedScatterSelectSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.select && e.select.animated) {
                        var n = this._padTextureId(t);
                        return e.select.animated.suffixes.map(function(t) {
                            return "".concat(n).concat(t, ".jpg")
                        })
                    }
                    var i = this.getAnimatedSymbol(t);
                    return this._toStringArray(i)
                }
            }, {
                key: "getStaticMultiplierSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e);
                    return "".concat(n, "_anim01").concat(i, ".png")
                }
            }, {
                key: "_getMultiplierSuffix",
                value: function(t) {
                    return this._config.multiplier && this._config.multiplier.available.length > t ? this._config.multiplier.available[t] : ""
                }
            }, {
                key: "getAnimatedQuerySymbol",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.query && t.query.id) {
                        var e = this._padTextureId(t.query.id),
                            n = t.query.suffix || "";
                        return "".concat(e, "_anim").concat(n, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getAnimatedQueryReveal",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.query && e.query.available) {
                        var n = t - e.query.revealOffset;
                        if (n >= 0 && n < e.query.available.length) {
                            var i = this._padTextureId(e.query.id),
                                o = e.query.revealInterfix || "",
                                r = e.query.available[n];
                            return "".concat(i, "_anim").concat(o).concat(r, ".jpg")
                        }
                    }
                    return ""
                }
            }, {
                key: "getStaticQueryResult",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.query && e.query.available) {
                        var n = t - e.query.revealOffset,
                            i = (e.special ? e.special.ids : null) || e.query.mapped;
                        if (n >= 0 && i && n < i.length) {
                            var o = i[n];
                            return this.getStaticSymbol(o)
                        }
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "_padTextureId",
                value: function(t) {
                    for (var e = String(t); e.length < 2;) e = "0".concat(e);
                    return e
                }
            }, {
                key: "getSymbolIntro",
                value: function(t) {
                    var e = this._config.symbolIntro;
                    if (e && e.ids) {
                        var n = this._padTextureId(t),
                            i = e.suffix || "";
                        return "".concat(n).concat(i, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getIdleSymbol",
                value: function(t) {
                    var e = this._config.idleSymbols;
                    return e && e.hasOwnProperty("_".concat(t)) ? e["_".concat(t)] : ""
                }
            }, {
                key: "getAnimatedSymbol",
                value: function(t) {
                    var e = this._config.mappedSymbolIds;
                    if (e && e.hasOwnProperty("_".concat(t, "_animated"))) return this._toStringArray(e["_".concat(t, "_animated")]);
                    var n = this._padTextureId(t);
                    return ["".concat(n, "_anim.jpg")]
                }
            }, {
                key: "getAnimatedHighWinSymbol",
                value: function(t) {
                    if (this._getIsHighWinException(t) || !this._config.highWinSuffix) return this.getAnimatedSymbol(t);
                    var e = this._padTextureId(t);
                    return ["".concat(e, "_anim").concat(this._config.highWinSuffix || "", ".jpg")]
                }
            }, {
                key: "getAnimatedInScatterSymbol",
                value: function(t) {
                    var e = this,
                        n = this._getIsAnimatedInScatterException(t),
                        i = this._getIsMappedSymbolId(t);
                    return !this._config.scatter || n || i ? this.getAnimatedSymbol(t) : this.getAnimatedSymbol(t).map(function(t) {
                        return "".concat(e._config.scatter.prefix || "").concat(t)
                    })
                }
            }, {
                key: "_getIsAnimatedInScatterException",
                value: function(t) {
                    var e = this._config.scatter;
                    return !!e && (!!e.prefixAnimatedExceptions && e.prefixAnimatedExceptions.indexOf(t) > -1)
                }
            }, {
                key: "getAnimatedMultiplierSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e);
                    return "".concat(n, "_anim").concat(i, ".jpg")
                }
            }, {
                key: "getAnimatedMultiplierTransitionSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e),
                        o = this._config.multiplier ? this._config.multiplier.transitionInterfix : "";
                    return "".concat(n, "_anim").concat(o || "").concat(i, ".jpg")
                }
            }, {
                key: "getThrobber",
                value: function() {
                    return this._config.throbber
                }
            }, {
                key: "getDemoFlag",
                value: function() {
                    return this._config.demoFlag
                }
            }, {
                key: "getEffectsCoin",
                value: function() {
                    return this._config.effects ? this._config.effects.coin : ""
                }
            }, {
                key: "getAutoPlayCharge",
                value: function() {
                    return this._config.autoPlayCharge.file
                }
            }, {
                key: "getOverlay",
                value: function() {
                    return this._config.overlay
                }
            }, {
                key: "getPaytableBackground",
                value: function() {
                    return this._config.paytableBackground
                }
            }, {
                key: "getScatterPaytableBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.paytableBackground ? this._config.scatter.paytableBackground : this.getPaytableBackground()
                }
            }, {
                key: "getHelpBackground",
                value: function() {
                    return this._config.helpBackground
                }
            }, {
                key: "getScatterHelpBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.helpBackground ? this._config.scatter.helpBackground : this.getHelpBackground()
                }
            }, {
                key: "getSettingsMainControls",
                value: function() {
                    return this._config.settingsMainControls
                }
            }, {
                key: "getSettingsButtons",
                value: function() {
                    return this._config.settingsButtons
                }
            }, {
                key: "getAmountSelect",
                value: function() {
                    return this._config.amount.select
                }
            }, {
                key: "getAmountDecrease",
                value: function() {
                    return this._config.amount.decrease
                }
            }, {
                key: "getAmountIncrease",
                value: function() {
                    return this._config.amount.increase
                }
            }, {
                key: "getSlotBackground",
                value: function() {
                    return this._config.slotBackground || ""
                }
            }, {
                key: "getSlotHeader",
                value: function() {
                    return this._config.slotHeader || ""
                }
            }, {
                key: "getSlotForeground",
                value: function() {
                    return this._config.slotForeground || ""
                }
            }, {
                key: "getScatterBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotBackground ? this._config.scatter.slotBackground : this.getSlotBackground()
                }
            }, {
                key: "getScatterHeader",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotHeader ? this._config.scatter.slotHeader : this.getSlotHeader()
                }
            }, {
                key: "getScatterForeground",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotForeground ? this._config.scatter.slotForeground : this.getSlotForeground()
                }
            }, {
                key: "getScatterRevealAnimation",
                value: function() {
                    return (this._config.scatter ? this._config.scatter.revealAnimation : "") || ""
                }
            }, {
                key: "getSlotControls",
                value: function() {
                    return this._config.slotControls
                }
            }, {
                key: "getControlsSeparator",
                value: function() {
                    return this._config.controlsSeparator
                }
            }, {
                key: "getControlsBackground",
                value: function() {
                    return this._config.controlsBackground
                }
            }, {
                key: "getGambleControls",
                value: function() {
                    return this._config.gambleControls
                }
            }, {
                key: "getSlotGambleControls",
                value: function() {
                    return this._config.slotGambleControls
                }
            }, {
                key: "getSlotStopControls",
                value: function() {
                    return this._config.slotStopControls
                }
            }, {
                key: "getGambleBackground",
                value: function() {
                    return this._config.gambleBackground
                }
            }, {
                key: "getPreloadBackground",
                value: function() {
                    return this._config.preloadBackground
                }
            }, {
                key: "getSettingsBackground",
                value: function() {
                    return this._config.settingsBackground || ""
                }
            }, {
                key: "getGlobalBackground",
                value: function() {
                    return this._config.globalBackground || ""
                }
            }, {
                key: "getScatterGlobalBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.globalBackground ? this._config.scatter.globalBackground : this.getGlobalBackground()
                }
            }, {
                key: "getAlertBox",
                value: function() {
                    return this._config.alertBox
                }
            }, {
                key: "getFormButton",
                value: function() {
                    return this._config.formButton
                }
            }, {
                key: "getCardSuits",
                value: function() {
                    return this._config.card.suits
                }
            }, {
                key: "getCardBlackBack",
                value: function() {
                    return this._config.card.blackBack
                }
            }, {
                key: "getCardRedBack",
                value: function() {
                    return this._config.card.redBack
                }
            }, {
                key: "getCardFull",
                value: function() {
                    return this._config.card.full
                }
            }, {
                key: "getGambleSelected",
                value: function() {
                    return this._config.gambleSelected
                }
            }, {
                key: "getWinlineNumbers",
                value: function() {
                    return this._config.winline.numbers
                }
            }, {
                key: "getScatterWinlineNumbers",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.winline && t.winline.numbers ? t.winline.numbers : this._config.winline.numbers
                }
            }, {
                key: "getEffectsMultiplier",
                value: function(t) {
                    return this._config.effects && this._config.effects.multiplier ? this._config.effects.multiplier[t] : ""
                }
            }, {
                key: "getEffectsWinText",
                value: function() {
                    return this._config.effects ? this._config.effects.winText : ""
                }
            }, {
                key: "getEffectsBackground",
                value: function() {
                    return this._config.effects ? this._config.effects.background : ""
                }
            }, {
                key: "getScatterSelectBackground",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.select ? this._config.scatter.select.background : ""
                }
            }, {
                key: "getScatterSelectOverlay",
                value: function(t) {
                    var e = this._config.scatter;
                    return e && e.select && e.select.overlays && e.select.overlays.length > t ? e.select.overlays[t] : ""
                }
            }, {
                key: "getScatterMessageBackground",
                value: function() {
                    return this._config.scatter ? this._config.scatter.messageBackground : ""
                }
            }, {
                key: "getScatterBlankHeader",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.header ? this._config.scatter.header.blank : ""
                }
            }, {
                key: "getWinHeader",
                value: function() {
                    var t = this._getGraphicAssetPaths(this._config.winHeader);
                    return this._toStringArray(t)
                }
            }, {
                key: "getScatterWinHeader",
                value: function() {
                    var t = this._config.scatter || {},
                        e = this._getGraphicAssetPaths(t.winHeader);
                    return this._toStringArray(e)
                }
            }, {
                key: "_getGraphicAssetPaths",
                value: function(t) {
                    if (!t) return null;
                    var e = t;
                    return e.path ? e.path : Array.isArray(t) ? t : "string" == typeof t ? t : void 0
                }
            }, {
                key: "_toStringArray",
                value: function(t) {
                    return t ? Array.isArray(t) ? t : [String(t)] : null
                }
            }, {
                key: "getScatterHeaderIntroAnimation",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.header) {
                        var e = this._getGraphicAssetPaths(t.header.intro);
                        return this._toSingleString(e)
                    }
                    return ""
                }
            }, {
                key: "_toSingleString",
                value: function(t) {
                    return Array.isArray(t) && t.length > 0 ? t[0] : "string" == typeof t ? t : ""
                }
            }, {
                key: "getScatterSelectIntroAnimation",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.select) {
                        var e = this._getGraphicAssetPaths(t.select.intro);
                        return this._toStringArray(e)
                    }
                    return null
                }
            }, {
                key: "getFontManifest",
                value: function() {
                    var t = [],
                        e = this._config.fonts;
                    if (!e) return t;
                    for (var n in e) e.hasOwnProperty(n) && t.push({
                        name: n,
                        path: e[n]
                    });
                    return t
                }
            }, {
                key: "getImageManifest",
                value: function() {
                    var t = this,
                        e = this.getImagePath.bind(this),
                        n = [this._config.slotControls, this._config.slotGambleControls, this._config.slotStopControls, this._config.gambleControls, this._config.gambleBackground, this._config.gambleSelected, this._config.winline.numbers, this._config.alertBox, this._config.formButton, this._config.card.suits, this._config.card.blackBack, this._config.card.redBack, this._config.card.full, this._config.paytableBackground, this._config.helpBackground, this._config.settingsMainControls, this._config.settingsButtons, this._config.amount.select, this._config.amount.increase, this._config.amount.decrease, this._config.throbber, this._config.autoPlayCharge.file],
                        i = [this._config.overlay, this._config.slotBackground, this._config.slotForeground, this._config.slotHeader, this._config.controlsSeparator, this._config.controlsBackground, this._config.globalBackground, this._config.settingsBackground].filter(function(t) {
                            return Boolean(t)
                        }).concat(n).map(function(n) {
                            return t._getManifestItem(n, e)
                        });
                    if (this._config.mappedSymbolIds)
                        for (var o in this._config.mappedSymbolIds)
                            if (this._config.mappedSymbolIds.hasOwnProperty(o)) {
                                var r = this._config.mappedSymbolIds[o];
                                (Array.isArray(r) ? r : [r]).forEach(function(n) {
                                    i.push(t._getManifestItem(n, e))
                                })
                            } if (this._config.idleSymbols)
                        for (var a in this._config.idleSymbols) this._config.idleSymbols.hasOwnProperty(a) && i.push(this._getManifestItem(this._config.idleSymbols[a], e));
                    return this._config.winHeader && this._addWinHeader(i, e, this._config), this._config.scatter && this._addScatterAssets(i, e), this._config.effects && this._addSpecialEffects(i, e), this._config.validSymbolIds.forEach(function(n) {
                        t._addRegularSymbols(i, e, n), t._addHighWinSymbols(i, e, n), t._addInScatterSymbols(i, e, n)
                    }), this._addSymbolIntros(i, e), this._addMultiplierSymbols(i, e), i
                }
            }, {
                key: "_addWinHeader",
                value: function(t, e, n) {
                    var i = this,
                        o = n.winHeader.path || n.winHeader;
                    return (Array.isArray(o) ? o : [String(o)]).forEach(function(n) {
                        t.push(i._getManifestItem(n, e))
                    }), t
                }
            }, {
                key: "_addScatterAssets",
                value: function(t, e) {
                    var n = this,
                        i = this._config.scatter;
                    return [i.revealAnimation, i.slotBackground, i.slotHeader, i.slotForeground, i.globalBackground, i.paytableBackground, i.helpBackground, i.messageBackground].filter(function(t) {
                        return Boolean(t)
                    }).forEach(function(i) {
                        t.push(n._getManifestItem(i, e))
                    }), i.winHeader && this._addWinHeader(t, e, i), i.winline && i.winline.numbers && t.push(this._getManifestItem(i.winline.numbers, e)), this._addScatterSpecial({
                        manifest: t,
                        pathGetter: e,
                        config: i.special
                    }), this._addScatterWidget({
                        manifest: t,
                        pathGetter: e,
                        config: i.widget
                    }), this._addScatterSelect({
                        manifest: t,
                        pathGetter: e,
                        config: i.select
                    }), this._addScatterQuery({
                        manifest: t,
                        pathGetter: e,
                        config: i.query
                    }), this._addScatterHeader({
                        manifest: t,
                        pathGetter: e,
                        config: i.header
                    }), t
                }
            }, {
                key: "_addScatterSpecial",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    return o ? (o.ids.forEach(function(t) {
                        var r = e.getStaticScatterSpecialSymbol(t);
                        if (n.push(e._getManifestItem(r, i)), o.hasWinAnimation) {
                            var a = e.getAnimatedScatterSpecialSymbol(t);
                            n.push(e._getManifestItem(a, i))
                        }
                    }), n) : n
                }
            }, {
                key: "_addScatterWidget",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    return o ? (o.ids.forEach(function(t) {
                        var o = e.getScatterWidgetSymbol(t);
                        n.push(e._getManifestItem(o, i))
                    }), n) : n
                }
            }, {
                key: "_addScatterSelect",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    if (o.ids && o.ids.forEach(function(t) {
                            (o.animated ? e.getAnimatedScatterSelectSymbol(t) : [e.getStaticScatterSelectSymbol(t)]).forEach(function(t) {
                                n.push(e._getManifestItem(t, i))
                            })
                        }), o.background && n.push(this._getManifestItem(o.background, i)), o.intro) {
                        var r = this._getGraphicAssetPaths(o.intro);
                        this._toStringArray(r).forEach(function(t) {
                            n.push(e._getManifestItem(t, i))
                        })
                    }
                    return o.overlays && o.overlays.forEach(function(t) {
                        n.push(e._getManifestItem(t, i))
                    }), n
                }
            }, {
                key: "_addScatterQuery",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    var r = this.getAnimatedQuerySymbol();
                    return n.push(this._getManifestItem(r, i)), o.available && o.available.forEach(function(t, r) {
                        var a = r + o.revealOffset,
                            s = e.getAnimatedQueryReveal(a);
                        n.push(e._getManifestItem(s, i))
                    }), n
                }
            }, {
                key: "_addScatterHeader",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    if (o.intro) {
                        var r = this._getGraphicAssetPaths(o.intro);
                        this._toStringArray(r).forEach(function(t) {
                            n.push(e._getManifestItem(t, i))
                        })
                    }
                    return o.blank && n.push(this._getManifestItem(o.blank, i)), n
                }
            }, {
                key: "_addSpecialEffects",
                value: function(t, e) {
                    var n = this,
                        i = this._config.effects;
                    [i.coin, i.winText, i.background].filter(function(t) {
                        return Boolean(t)
                    }).forEach(function(i) {
                        t.push(n._getManifestItem(i, e))
                    });
                    var o = i.multiplier;
                    return o && o.forEach(function(i, o) {
                        var r = n.getEffectsMultiplier(o);
                        t.push(n._getManifestItem(r, e))
                    }), t
                }
            }, {
                key: "_addRegularSymbols",
                value: function(t, e, n) {
                    var i = this,
                        o = this.getStaticSymbol(n);
                    (t.push(this._getManifestItem(o, e)), this._config.multiplier && this._config.multiplier.id === n) || this.getAnimatedSymbol(n).forEach(function(n) {
                        t.push(i._getManifestItem(n, e))
                    });
                    return t
                }
            }, {
                key: "_addHighWinSymbols",
                value: function(t, e, n) {
                    var i = this,
                        o = this._config.multiplier && this._config.multiplier.id === n,
                        r = this._getIsHighWinException(n);
                    if (this._config.highWinSuffix && !o && !r) {
                        this.getAnimatedHighWinSymbol(n).forEach(function(n) {
                            t.push(i._getManifestItem(n, e))
                        });
                        var a = this.getStaticHighWinSymbol(n);
                        t.push(this._getManifestItem(a, e))
                    }
                    return t
                }
            }, {
                key: "_addInScatterSymbols",
                value: function(t, e, n) {
                    var i = this;
                    if (this._config.scatter && this._config.scatter.prefix) {
                        this.getAnimatedInScatterSymbol(n).forEach(function(n) {
                            t.push(i._getManifestItem(n, e))
                        });
                        var o = this.getStaticInScatterSymbol(n);
                        t.push(this._getManifestItem(o, e))
                    }
                    return t
                }
            }, {
                key: "_addSymbolIntros",
                value: function(t, e) {
                    var n = this,
                        i = this._config.symbolIntro;
                    return i && i.ids && i.ids.forEach(function(i) {
                        var o = n.getSymbolIntro(i);
                        t.push(n._getManifestItem(o, e))
                    }), t
                }
            }, {
                key: "_addMultiplierSymbols",
                value: function(t, e) {
                    var n = this,
                        i = this._config.multiplier;
                    return i && i.available && i.id && this._config.multiplier.available.forEach(function(o, r) {
                        var a = n.getAnimatedMultiplierSymbol(i.id, r),
                            s = n.getStaticMultiplierSymbol(i.id, r),
                            u = n.getAnimatedMultiplierTransitionSymbol(i.id, r);
                        t.push(n._getManifestItem(a, e)), t.push(n._getManifestItem(s, e)), t.push(n._getManifestItem(u, e))
                    }), t
                }
            }, {
                key: "_getManifestItem",
                value: function(t, e) {
                    if (!t) throw new Error("Filename undefined! This would crash AssetLibrary._preloadImages");
                    return {
                        name: t,
                        path: e(t)
                    }
                }
            }, {
                key: "getSoundPaths",
                value: function(t) {
                    var e = this,
                        n = [];
                    return t.forEach(function(t) {
                        n.push("".concat(e._config.soundPath).concat(t))
                    }), n
                }
            }, {
                key: "getDeny",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.deny)
                }
            }, {
                key: "_addSoundFileExtensions",
                value: function(t) {
                    var e = [];
                    return this._config.sound.formats.forEach(function(n) {
                        e.push("".concat(t, ".").concat(n))
                    }), e
                }
            }, {
                key: "getStartup",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.startup)
                }
            }, {
                key: "getCongratulations",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.congratulations)
                }
            }, {
                key: "getCsengo",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengo)
                }
            }, {
                key: "getCsengoLong",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengoLong)
                }
            }, {
                key: "getCsengoShort",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengoShort)
                }
            }, {
                key: "getMelody",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.melodies[t])
                }
            }, {
                key: "getMelodyCount",
                value: function() {
                    var t = this._config.sound.melodies;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterMelody",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatter.melodies[t])
                }
            }, {
                key: "getScatterMelodyCount",
                value: function() {
                    var t = this._config.sound.scatter,
                        e = t ? t.melodies : [];
                    return e ? e.length : 0
                }
            }, {
                key: "getReelStop",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.reelStop)
                }
            }, {
                key: "getSlowDown",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slowDown)
                }
            }, {
                key: "getSlowDownLoop",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slowDownLoop)
                }
            }, {
                key: "getScatter",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatters[t])
                }
            }, {
                key: "getScatterCount",
                value: function() {
                    var t = this._config.sound.scatters;
                    return t ? t.length : 0
                }
            }, {
                key: "getBigWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.bigWins[t])
                }
            }, {
                key: "getBigWinCount",
                value: function() {
                    var t = this._config.sound.bigWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getSmallWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.smallWins[t])
                }
            }, {
                key: "getSmallWinCount",
                value: function() {
                    var t = this._config.sound.smallWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatterWins[t])
                }
            }, {
                key: "getScatterWinCount",
                value: function() {
                    var t = this._config.sound.scatterWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterSpecialWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatter.specialWins[t])
                }
            }, {
                key: "getScatterSpecialWinCount",
                value: function() {
                    if (!this._config.sound.scatter) return 0;
                    var t = this._config.sound.scatter.specialWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getPayRun",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.payRun)
                }
            }, {
                key: "getTake",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.take)
                }
            }, {
                key: "getSlideIn",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slideIn)
                }
            }, {
                key: "getRisk",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.risk)
                }
            }, {
                key: "getWaiting",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.waiting)
                }
            }, {
                key: "getSpecialPreWin",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.specialPreWin)
                }
            }, {
                key: "getAfterSpin",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.afterSpin)
                }
            }, {
                key: "getScatterGameWinBonus",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatterGameWinBonus)
                }
            }, {
                key: "getCardFlip",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.cardFlip)
                }
            }, {
                key: "getGambleLost",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.gambleLost)
                }
            }, {
                key: "getGambleWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.gambleWins[t])
                }
            }, {
                key: "getGambleWinCount",
                value: function() {
                    return this._config.sound.gambleWins.length
                }
            }, {
                key: "getMessage",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.message)
                }
            }, {
                key: "getPotWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.potWins[t])
                }
            }, {
                key: "getPotWinCount",
                value: function() {
                    return this._config.sound.potWins.length
                }
            }, {
                key: "getGambleAutoTake",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.gambleAutoTake)
                }
            }, {
                key: "getWinBackgroundMelody",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.winBgMelody)
                }
            }, {
                key: "getScatterBackgroundMelody",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.bgMelody)
                }
            }, {
                key: "getScatterHeaderIntroSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.headerIntro)
                }
            }, {
                key: "getTransformSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.transform)
                }
            }, {
                key: "getScatterTransformSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.transform)
                }
            }, {
                key: "getScatterSelectIntroSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.selectIntro)
                }
            }, {
                key: "getScatterOutro",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.outro)
                }
            }, {
                key: "getScatterAnnounce",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.announce)
                }
            }, {
                key: "getSoundManifest",
                value: function() {
                    var t = [];
                    t.push(this.getSoundPaths(this.getDeny())), t.push(this.getSoundPaths(this.getCongratulations())), t.push(this.getSoundPaths(this.getCsengo())), t.push(this.getSoundPaths(this.getCsengoLong())), t.push(this.getSoundPaths(this.getCsengoShort())), t.push(this.getSoundPaths(this.getReelStop())), t.push(this.getSoundPaths(this.getTake())), t.push(this.getSoundPaths(this.getSlideIn())), t.push(this.getSoundPaths(this.getRisk())), t.push(this.getSoundPaths(this.getCardFlip())), t.push(this.getSoundPaths(this.getGambleLost())), t.push(this.getSoundPaths(this.getStartup())), t.push(this.getSoundPaths(this.getMessage())), t.push(this.getSoundPaths(this.getGambleAutoTake())), this._addMultipleSounds(t, this.getMelody, this.getMelodyCount), this._addMultipleSounds(t, this.getScatter, this.getScatterCount), this._addMultipleSounds(t, this.getBigWin, this.getBigWinCount), this._addMultipleSounds(t, this.getSmallWin, this.getSmallWinCount), this._addMultipleSounds(t, this.getScatterWin, this.getScatterWinCount), this._addMultipleSounds(t, this.getGambleWin, this.getGambleWinCount), this._addMultipleSounds(t, this.getPotWin, this.getPotWinCount), this._config.sound.slowDown && t.push(this.getSoundPaths(this.getSlowDown())), this._config.sound.slowDownLoop && t.push(this.getSoundPaths(this.getSlowDownLoop())), this._config.sound.waiting && t.push(this.getSoundPaths(this.getWaiting())), this._config.sound.payRun && t.push(this.getSoundPaths(this.getPayRun())), this._config.sound.specialPreWin && t.push(this.getSoundPaths(this.getSpecialPreWin())), this._config.sound.afterSpin && t.push(this.getSoundPaths(this.getAfterSpin())), this._config.sound.scatterGameWinBonus && t.push(this.getSoundPaths(this.getScatterGameWinBonus())), this._config.sound.winBgMelody && t.push(this.getSoundPaths(this.getWinBackgroundMelody())), this._config.sound.transform && t.push(this.getSoundPaths(this.getTransformSound())), this._config.sound.scatter && this._addScatterSounds(t);
                    var e = [];
                    return t.filter(function(t) {
                        var n = e.indexOf(t[0]) < 0;
                        return e.push(t[0]), n
                    })
                }
            }, {
                key: "_addScatterSounds",
                value: function(t) {
                    return this._config.sound.scatter.melodies && this._addMultipleSounds(t, this.getScatterMelody, this.getScatterMelodyCount), this._config.sound.scatter.bgMelody && t.push(this.getSoundPaths(this.getScatterBackgroundMelody())), this._config.sound.scatter.headerIntro && t.push(this.getSoundPaths(this.getScatterHeaderIntroSound())), this._config.sound.scatter.transform && t.push(this.getSoundPaths(this.getScatterTransformSound())), this._config.sound.scatter.selectIntro && t.push(this.getSoundPaths(this.getScatterSelectIntroSound())), this._config.sound.scatter.outro && t.push(this.getSoundPaths(this.getScatterOutro())), this._config.sound.scatter.announce && t.push(this.getSoundPaths(this.getScatterAnnounce())), this._config.sound.scatter.specialWins && this._addMultipleSounds(t, this.getScatterSpecialWin, this.getScatterSpecialWinCount), t
                }
            }, {
                key: "_addMultipleSounds",
                value: function(t, e, n) {
                    for (var i = n.call(this), o = 0; o < i; o++) t.push(this.getSoundPaths(e.call(this, o)));
                    return t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null
                }
            }]), t
        }(),
        u = n(35);

    function l(t) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function c(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function h(t, e) {
        return !e || "object" !== l(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function f(t) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _(t, e) {
        return (_ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var y = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = h(this, f(e).call(this)))._config = t, i._howlerWrapper = n, i._init(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && _(t, e)
                }(e, r.a),
                function(t, e, n) {
                    e && c(t.prototype, e), n && c(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._directory = this._createAssetPathDirectory(), this._resources = {}, this
                    }
                }, {
                    key: "_createAssetPathDirectory",
                    value: function() {
                        return new s(this._config)
                    }
                }, {
                    key: "getTexture",
                    value: function(t) {
                        var e = this._directory.getImagePath(t),
                            n = this._resources[e] || i.Texture.fromImage(e);
                        return n && n.valid || console.log("Warning: The following texture could not be properly initialized: ".concat(e)), n
                    }
                }, {
                    key: "getOverlay",
                    value: function() {
                        var t = this._directory.getOverlay();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsMainControls",
                    value: function() {
                        var t = this._directory.getSettingsMainControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsButtons",
                    value: function() {
                        var t = this._directory.getSettingsButtons();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountSelect",
                    value: function() {
                        var t = this._directory.getAmountSelect();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountIncrease",
                    value: function() {
                        var t = this._directory.getAmountIncrease();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountDecrease",
                    value: function() {
                        var t = this._directory.getAmountDecrease();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getPaytableBackground",
                    value: function() {
                        var t = this._directory.getPaytableBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getScatterPaytableBackground",
                    value: function() {
                        var t = this._directory.getScatterPaytableBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getHelpBackground",
                    value: function() {
                        var t = this._directory.getHelpBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getScatterHelpBackground",
                    value: function() {
                        var t = this._directory.getScatterHelpBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotBackground",
                    value: function() {
                        var t = this._directory.getSlotBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getSlotHeader",
                    value: function() {
                        var t = this._directory.getSlotHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "_getOptionalTexture",
                    value: function(t) {
                        return t ? this.getTexture(t) : null
                    }
                }, {
                    key: "getSlotForeground",
                    value: function() {
                        var t = this._directory.getSlotForeground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterBackground",
                    value: function() {
                        var t = this._directory.getScatterBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterHeader",
                    value: function() {
                        var t = this._directory.getScatterHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterForeground",
                    value: function() {
                        var t = this._directory.getScatterForeground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterSelectBackground",
                    value: function() {
                        var t = this._directory.getScatterSelectBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterSelectOverlay",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = this._directory.getScatterSelectOverlay(t);
                        return this._getOptionalTexture(e)
                    }
                }, {
                    key: "getScatterMessageBackground",
                    value: function() {
                        var t = this._directory.getScatterMessageBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterBlankHeader",
                    value: function() {
                        var t = this._directory.getScatterBlankHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getWinHeader",
                    value: function() {
                        var t = this._directory.getWinHeader();
                        return t ? this._getWinHeaderAnimation(t) : null
                    }
                }, {
                    key: "_getWinHeaderAnimation",
                    value: function(t) {
                        var e = "winHeader";
                        if (!this._resources[e]) {
                            var n = this._config.winHeader || {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: n,
                                defaultXCount: 2,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "_mergeFrames",
                    value: function(t) {
                        var e = this,
                            n = t.parts,
                            i = t.config,
                            o = t.defaultXCount,
                            r = t.defaultYCount;
                        return n.map(function(t) {
                            var n = e.getTexture(t),
                                a = e._createAnimationSetup({
                                    tilesheet: n,
                                    config: i,
                                    defaultXCount: o,
                                    defaultYCount: r
                                });
                            return e._createAnimatedSprite(a)
                        }).reduce(function(t, e) {
                            return t.concat(e)
                        }, [])
                    }
                }, {
                    key: "_createAnimationSetup",
                    value: function(t) {
                        var e = t.tilesheet,
                            n = t.config,
                            i = t.defaultXCount,
                            o = t.defaultYCount,
                            r = n.width ? e.width / n.width : i,
                            a = n.height ? e.height / n.height : o;
                        return {
                            tilesheet: e,
                            xCount: r,
                            yCount: a,
                            frameSize: {
                                width: n.width || e.width / r,
                                height: n.height || e.height / a
                            }
                        }
                    }
                }, {
                    key: "_createAnimatedSprite",
                    value: function(t) {
                        for (var e = t.tilesheet, n = t.xCount, i = t.yCount, o = t.frameSize, r = [], a = 0; a < n * i; a += 1) {
                            var s = this._createAnimationFrame({
                                tilesheet: e,
                                xPos: a % n,
                                yPos: Math.floor(a / n),
                                frameSize: o
                            });
                            r.push(s)
                        }
                        return r
                    }
                }, {
                    key: "getScatterWinHeader",
                    value: function() {
                        var t = this._directory.getScatterWinHeader();
                        return t ? this._getScatterWinHeaderAnimation(t) : null
                    }
                }, {
                    key: "_getScatterWinHeaderAnimation",
                    value: function(t) {
                        var e = "scatterWinHeader";
                        if (!this._resources[e]) {
                            var n = (this._config.scatter || {}).winHeader || {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: n,
                                defaultXCount: 2,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getScatterHeaderIntroAnimation",
                    value: function() {
                        var t = this._directory.getScatterHeaderIntroAnimation();
                        return t ? this._getScatterHeaderIntroAnimation(t) : null
                    }
                }, {
                    key: "_getScatterHeaderIntroAnimation",
                    value: function(t) {
                        var e = "scatterHeaderIntroAnimation";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t),
                                i = this._config.scatter,
                                o = i && i.header && i.header.intro ? i.header.intro : {},
                                r = this._createAnimationSetup({
                                    tilesheet: n,
                                    config: o,
                                    defaultXCount: 2,
                                    defaultYCount: 8
                                });
                            this._resources[e] = this._createAnimatedSprite(r)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getScatterSelectIntroAnimation",
                    value: function() {
                        var t = this._directory.getScatterSelectIntroAnimation();
                        if (t) {
                            var e = this._getScatterSelectIntroAnimation(t),
                                n = this.getScatterSelectBackground();
                            return n && e.push(n), e
                        }
                        return null
                    }
                }, {
                    key: "_getScatterSelectIntroAnimation",
                    value: function(t) {
                        var e = "scatterSelectIntroAnimation";
                        if (!this._resources[e]) {
                            var n = this._config.scatter,
                                i = n && n.select && n.select.intro ? n.select.intro : {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: i,
                                defaultXCount: 3,
                                defaultYCount: 5
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedScatterSelectSymbol",
                    value: function(t) {
                        var e = this._directory.getAnimatedScatterSelectSymbol(t);
                        return e ? this._getAnimatedScatterSelectSymbol(e, t) : null
                    }
                }, {
                    key: "_getAnimatedScatterSelectSymbol",
                    value: function(t, e) {
                        var n = "animatedScatterSelectSymbol:".concat(e);
                        if (!this._resources[n]) {
                            var i = this._config.scatter,
                                o = i && i.select && i.select.animated ? i.select.animated : {};
                            this._resources[n] = this._mergeFrames({
                                parts: t,
                                config: o,
                                defaultXCount: 4,
                                defaultYCount: 5
                            })
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getScatterRevealAnimation",
                    value: function() {
                        var t = this._directory.getScatterRevealAnimation();
                        return t ? this._getScatterRevealAnimation(t) : null
                    }
                }, {
                    key: "_getScatterRevealAnimation",
                    value: function(t) {
                        var e = "scatterRevealAnimation";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getStaticSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticHighWinSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticHighWinSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticInScatterSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticInScatterSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticScatterSpecialSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticScatterSpecialSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getScatterWidgetSymbol",
                    value: function(t) {
                        var e = this._directory.getScatterWidgetSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getAnimatedScatterSpecialSymbol",
                    value: function(t) {
                        var e = this._directory.getAnimatedScatterSpecialSymbol(t);
                        if (!e) return this.getAnimatedSymbol(t);
                        var n = "animatedSpecial:".concat(t);
                        if (!this._resources[n]) {
                            var i = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getStaticScatterSelectSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticScatterSelectSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticMultiplierSymbol",
                    value: function(t, e) {
                        var n = this._directory.getStaticMultiplierSymbol(t, e);
                        return this.getTexture(n)
                    }
                }, {
                    key: "getAnimatedQuerySymbol",
                    value: function() {
                        var t = this._directory.getAnimatedQuerySymbol();
                        if (!t) return null;
                        var e = "animatedQuery";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedQueryReveal",
                    value: function(t) {
                        var e = this._directory.getAnimatedQueryReveal(t);
                        if (!e) return [i.Texture.EMPTY];
                        var n = "animatedQueryReveal:".concat(t);
                        if (!this._resources[n]) {
                            var o = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(o)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getStaticQueryResult",
                    value: function(t) {
                        var e = this._directory.getStaticQueryResult(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getSymbolIntro",
                    value: function(t) {
                        var e = "intro:".concat(t);
                        if (!this._resources[e]) {
                            var n = this.getTexture(this._directory.getSymbolIntro(t));
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getIdleSymbol",
                    value: function(t) {
                        var e = this._directory.getIdleSymbol(t);
                        if (!e) return null;
                        var n = "idle:".concat(t);
                        if (!this._resources[n]) {
                            var i = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getAnimatedSymbol",
                    value: function(t) {
                        var e = "animated:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedHighWinSymbol",
                    value: function(t) {
                        var e = "animatedHighWin:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedHighWinSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedInScatterSymbol",
                    value: function(t) {
                        var e = "animatedInScatter:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedInScatterSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedMultiplierSymbol",
                    value: function(t, e) {
                        var n = "animatedMultiplier:".concat(t, ":").concat(e);
                        if (!this._resources[n]) {
                            var i = this.getTexture(this._directory.getAnimatedMultiplierSymbol(t, e));
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getAnimatedMultiplierTransitionSymbol",
                    value: function(t, e) {
                        var n = "animatedMultiplierTransition:".concat(t, ":").concat(e);
                        if (!this._resources[n]) {
                            var i = this.getTexture(this._directory.getAnimatedMultiplierTransitionSymbol(t, e));
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "_createAnimatedSymbol",
                    value: function(t) {
                        var e = t.width / this._config.symbol.width,
                            n = t.height / this._config.symbol.height;
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: e,
                            yCount: n,
                            frameSize: this._config.symbol
                        })
                    }
                }, {
                    key: "_createAnimationFrame",
                    value: function(t) {
                        var e = t.tilesheet,
                            n = t.xPos,
                            o = t.yPos,
                            r = t.frameSize,
                            a = n * r.width,
                            s = o * r.height,
                            u = e.clone();
                        return u.frame = new i.Rectangle(a, s, r.width, r.height), u
                    }
                }, {
                    key: "getThrobber",
                    value: function() {
                        var t = "animatedThrobber";
                        if (!this._resources[t]) {
                            var e = this.getTexture(this._directory.getThrobber());
                            this._resources[t] = this._createSimpleAnimatedSprite(e)
                        }
                        return this._resources[t]
                    }
                }, {
                    key: "getDemoFlag",
                    value: function() {
                        return this.getTexture(this._directory.getDemoFlag())
                    }
                }, {
                    key: "_createSimpleAnimatedSprite",
                    value: function(t) {
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: t.width / t.height,
                            yCount: 1,
                            frameSize: {
                                width: t.height,
                                height: t.height
                            }
                        })
                    }
                }, {
                    key: "getEffectsCoin",
                    value: function() {
                        var t = this._directory.getEffectsCoin();
                        if (!t) return null;
                        var e = "animatedCoin";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createSimpleAnimatedSprite(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAutoPlayCharge",
                    value: function() {
                        var t = "animatedAutoPlayCharge";
                        if (!this._resources[t]) {
                            var e = this.getTexture(this._directory.getAutoPlayCharge());
                            this._resources[t] = this._createAnimatedAutoPlayCharge(e)
                        }
                        return this._resources[t]
                    }
                }, {
                    key: "_createAnimatedAutoPlayCharge",
                    value: function(t) {
                        var e = this._config.autoPlayCharge.frameCount;
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: e,
                            yCount: 1,
                            frameSize: {
                                width: t.width / e,
                                height: t.height
                            }
                        })
                    }
                }, {
                    key: "getAutoPlayActive",
                    value: function() {
                        var t = this.getAutoPlayCharge();
                        return t[t.length - 1]
                    }
                }, {
                    key: "getPreloadBackground",
                    value: function() {
                        var t = this._directory.getPreloadBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getGambleBackground",
                    value: function() {
                        var t = this._directory.getGambleBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsBackground",
                    value: function() {
                        var t = this._directory.getSettingsBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getGlobalBackground",
                    value: function() {
                        var t = this._directory.getGlobalBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterGlobalBackground",
                    value: function() {
                        var t = this._directory.getScatterGlobalBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getSlotControls",
                    value: function() {
                        var t = this._directory.getSlotControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getControlsSeparator",
                    value: function() {
                        var t = this._directory.getControlsSeparator();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getControlsBackground",
                    value: function() {
                        var t = this._directory.getControlsBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getGambleControls",
                    value: function() {
                        var t = this._directory.getGambleControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotGambleControls",
                    value: function() {
                        var t = this._directory.getSlotGambleControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotStopControls",
                    value: function() {
                        var t = this._directory.getSlotStopControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAlertBox",
                    value: function() {
                        var t = this._directory.getAlertBox();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getFormButton",
                    value: function() {
                        var t = this._directory.getFormButton();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getGambleSelected",
                    value: function() {
                        var t = this._directory.getGambleSelected();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getCardSuit",
                    value: function(t) {
                        var e = "cardSuit:".concat(t);
                        return this._resources[e] || (this._resources[e] = this._createCard(t, this._directory.getCardSuits())), this._resources[e]
                    }
                }, {
                    key: "_createCard",
                    value: function(t, e) {
                        var n = this.getTexture(e),
                            o = n.width / 4,
                            r = n.clone();
                        return r.frame = new i.Rectangle([2, 0, 3, 1][t] * o, 0, o, n.height), r
                    }
                }, {
                    key: "getWinlineNumber",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                emphasized: !1,
                                background: !1
                            },
                            n = e.emphasized,
                            i = e.background,
                            o = t % this._config.winline.count,
                            r = this._directory.getWinlineNumbers();
                        return this._getWinlineNumber({
                            path: r,
                            id: o,
                            config: this._config.winline,
                            emphasized: n,
                            background: i
                        })
                    }
                }, {
                    key: "_getWinlineNumber",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                                path: "",
                                id: 0,
                                config: {},
                                emphasized: !1,
                                background: !1,
                                isScatter: !1
                            },
                            e = t.path,
                            n = t.id,
                            i = t.config,
                            o = t.emphasized,
                            r = t.background,
                            a = t.isScatter,
                            s = "winlineNumber:".concat(n, ":").concat(Number(o), ":").concat(Number(r), ":").concat(Number(a));
                        return this._resources[s] || (this._resources[s] = this._createWinlineNumber({
                            id: n,
                            path: e,
                            config: i,
                            emphasized: o,
                            background: r
                        })), this._resources[s]
                    }
                }, {
                    key: "getScatterWinlineNumber",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                emphasized: !1,
                                background: !1
                            },
                            n = e.emphasized,
                            i = e.background,
                            o = this._config.scatter.winline || this._config.winline,
                            r = t % o.count,
                            a = this._directory.getScatterWinlineNumbers();
                        return this._getWinlineNumber({
                            path: a,
                            id: r,
                            config: o,
                            emphasized: n,
                            background: i,
                            isScatter: !0
                        })
                    }
                }, {
                    key: "getEffectsWinText",
                    value: function() {
                        var t = this._directory.getEffectsWinText();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getEffectsBackground",
                    value: function() {
                        var t = this._directory.getEffectsBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getEffectsMultiplier",
                    value: function(t) {
                        var e = this._directory.getEffectsMultiplier(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "_createWinlineNumber",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                                id: 0,
                                path: "",
                                config: {},
                                emphasized: !1,
                                background: !1
                            },
                            e = t.id,
                            n = t.path,
                            o = t.config,
                            r = t.emphasized,
                            a = t.background,
                            s = this.getTexture(n),
                            u = s.width / o.count,
                            l = o.useBackground ? .333 : .5,
                            c = s.height * l,
                            h = s.clone(),
                            f = e * u,
                            _ = 2 * c,
                            y = Number(!r) * c,
                            d = a ? _ : y;
                        return h.frame = new i.Rectangle(f, d, u, c), h
                    }
                }, {
                    key: "getCardFull",
                    value: function(t) {
                        var e = "cardFull:".concat(t);
                        return this._resources[e] || (this._resources[e] = this._createCard(t, this._directory.getCardFull())), this._resources[e]
                    }
                }, {
                    key: "getAnimatedCardBack",
                    value: function() {
                        var t = "animatedCardBack";
                        return this._resources[t] || (this._resources[t] = this._createAnimatedCardBack()), this._resources[t]
                    }
                }, {
                    key: "_createAnimatedCardBack",
                    value: function() {
                        return [this.getTexture(this._directory.getCardBlackBack()), this.getTexture(this._directory.getCardRedBack())]
                    }
                }, {
                    key: "preload",
                    value: function() {
                        return this._loadFails = [], this._itemPaths = [], this._loadRemainingAssets(), this
                    }
                }, {
                    key: "_loadRemainingAssets",
                    value: function() {
                        var t = this,
                            e = this._directory.getImageManifest(),
                            n = this._directory.getFontManifest(),
                            i = e.concat(n);
                        return this._preloadGraphics(i, function() {
                            if (t._loadFails.length) t.emit(u.a.ERROR);
                            else {
                                var e = t._directory.getSoundManifest();
                                t._preloadSounds(e)
                            }
                        }), this
                    }
                }, {
                    key: "_preloadGraphics",
                    value: function(t, e) {
                        var n = this;
                        this._loader = new i.loaders.Loader, t.forEach(function(t) {
                            n._itemPaths.indexOf(t.path) < 0 && (n._loader.add(t.name, t.path), n._itemPaths.push(t.path))
                        });
                        var o = this._createLoadedAssetsHandler(e).bind(this);
                        return this._loader.once("complete", o), this._loader.on("progress", this._handleProgress, this), this._loader.on("error", this._handleError, this), this._loader.load(), this
                    }
                }, {
                    key: "_createLoadedAssetsHandler",
                    value: function(t) {
                        return function(e, n) {
                            for (var i in n) n.hasOwnProperty(i) && (this._resources[i] = n[i].texture);
                            t()
                        }
                    }
                }, {
                    key: "_handleProgress",
                    value: function(t, e) {
                        e.name !== this._config.preloadBackground && this.emit(u.a.PROGRESS, .5 * t.progress)
                    }
                }, {
                    key: "_handleError",
                    value: function(t, e, n) {
                        this._loadFails.push(n)
                    }
                }, {
                    key: "_preloadSounds",
                    value: function(t) {
                        var e = this,
                            n = {
                                total: t.length,
                                count: 0
                            };
                        t.forEach(function(t) {
                            var i = e._getSoundByFullPaths(t);
                            ("loaded" === i.state() ? e._registerSound : e._loadSound).call(e, n, i)
                        })
                    }
                }, {
                    key: "_loadSound",
                    value: function(t, e) {
                        var n = this;
                        "loading" !== e.state() && e.load(), e.off("load"), e.on("load", function() {
                            n._registerSound(t)
                        }), e.off("loaderror"), e.on("loaderror", function() {
                            t.count += 1, n._loadFails.push(e), n._checkCompletion(t), e.unload(), n._howlerWrapper.setNoAudio(!1), e.resetToWebAudio()
                        })
                    }
                }, {
                    key: "_checkCompletion",
                    value: function(t) {
                        if (t.count >= t.total) {
                            var e = this._loadFails.length ? u.a.ERROR : u.a.COMPLETE;
                            this.emit(e)
                        }
                    }
                }, {
                    key: "_registerSound",
                    value: function(t) {
                        t.count += 1;
                        var e = t.count / t.total;
                        return this.emit(u.a.PROGRESS, 50 + 50 * e), this._checkCompletion(t), this
                    }
                }, {
                    key: "getSound",
                    value: function(t) {
                        var e = this._directory.getSoundPaths(t);
                        return this._getSoundByFullPaths(e)
                    }
                }, {
                    key: "_getSoundByFullPaths",
                    value: function(t) {
                        var e = t.join();
                        return this._resources[e] || (this._resources[e] = this._howlerWrapper.createHowl(t)), this._resources[e]
                    }
                }, {
                    key: "getDeny",
                    value: function() {
                        return this.getSound(this._directory.getDeny())
                    }
                }, {
                    key: "getStartup",
                    value: function() {
                        return this.getSound(this._directory.getStartup())
                    }
                }, {
                    key: "getCongratulations",
                    value: function() {
                        return this.getSound(this._directory.getCongratulations())
                    }
                }, {
                    key: "getCsengo",
                    value: function() {
                        return this.getSound(this._directory.getCsengo())
                    }
                }, {
                    key: "getCsengoLong",
                    value: function() {
                        return this.getSound(this._directory.getCsengoLong())
                    }
                }, {
                    key: "getCsengoShort",
                    value: function() {
                        return this.getSound(this._directory.getCsengoShort())
                    }
                }, {
                    key: "getMelody",
                    value: function(t) {
                        var e = t % this._directory.getMelodyCount(),
                            n = this.getSound(this._directory.getMelody(e)),
                            i = this._config.volume;
                        return i && i.melody && n.volume(i.melody), n
                    }
                }, {
                    key: "getRandomMelody",
                    value: function() {
                        var t = 0,
                            e = this._directory.getMelodyCount(),
                            n = Math.floor(Math.random() * e);
                        if (e > 1)
                            for (; this._previousMelodyId === n && t < 100;) n = Math.floor(Math.random() * e), t += 1;
                        return this._previousMelodyId = n, this.getMelody(n)
                    }
                }, {
                    key: "getScatterMelody",
                    value: function(t) {
                        var e = this._config.sound.scatter;
                        if (e && e.melodies) {
                            var n = t % this._directory.getScatterMelodyCount();
                            return this.getSound(this._directory.getScatterMelody(n))
                        }
                        return null
                    }
                }, {
                    key: "getRandomScatterMelody",
                    value: function() {
                        var t = 0,
                            e = this._directory.getScatterMelodyCount(),
                            n = Math.floor(Math.random() * e);
                        if (e > 1)
                            for (; this._previousScatterMelodyId === n && t < 100;) n = Math.floor(Math.random() * e), t += 1;
                        return this._previousScatterMelodyId = n, this.getScatterMelody(n)
                    }
                }, {
                    key: "getReelStop",
                    value: function() {
                        var t = this.getSound(this._directory.getReelStop()),
                            e = this._config.volume;
                        return e && e.reelStop && t.volume(e.reelStop), t
                    }
                }, {
                    key: "getSlowDown",
                    value: function() {
                        return this._config.sound.slowDown ? this.getSound(this._directory.getSlowDown()) : null
                    }
                }, {
                    key: "getSlowDownLoop",
                    value: function() {
                        return this._config.sound.slowDownLoop ? this.getSound(this._directory.getSlowDownLoop()) : null
                    }
                }, {
                    key: "getScatter",
                    value: function(t) {
                        var e = this._directory.getScatterCount();
                        if (e > 0) {
                            var n = t % e;
                            return this.getSound(this._directory.getScatter(n))
                        }
                        return null
                    }
                }, {
                    key: "getRandomScatter",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getScatterCount());
                        return this.getScatter(t)
                    }
                }, {
                    key: "getBigWin",
                    value: function(t) {
                        var e = t % this._directory.getBigWinCount();
                        return this.getSound(this._directory.getBigWin(e))
                    }
                }, {
                    key: "getRandomBigWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getBigWinCount());
                        return this.getBigWin(t)
                    }
                }, {
                    key: "getSmallWin",
                    value: function(t) {
                        var e = t % this._directory.getSmallWinCount();
                        return this.getSound(this._directory.getSmallWin(e))
                    }
                }, {
                    key: "getRandomSmallWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getSmallWinCount());
                        return this.getSmallWin(t)
                    }
                }, {
                    key: "getScatterWin",
                    value: function(t) {
                        var e = t % this._directory.getScatterWinCount();
                        return this.getSound(this._directory.getScatterWin(e))
                    }
                }, {
                    key: "getRandomScatterWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getScatterWinCount());
                        return this.getScatterWin(t)
                    }
                }, {
                    key: "getScatterSpecialWin",
                    value: function(t) {
                        var e = t % this._directory.getScatterSpecialWinCount();
                        return this.getSound(this._directory.getScatterSpecialWin(e))
                    }
                }, {
                    key: "getPayRun",
                    value: function() {
                        return this._config.sound.payRun ? this.getSound(this._directory.getPayRun()) : null
                    }
                }, {
                    key: "getTake",
                    value: function() {
                        return this.getSound(this._directory.getTake())
                    }
                }, {
                    key: "getSlideIn",
                    value: function() {
                        return this.getSound(this._directory.getSlideIn())
                    }
                }, {
                    key: "getRisk",
                    value: function() {
                        return this.getSound(this._directory.getRisk())
                    }
                }, {
                    key: "getWaiting",
                    value: function() {
                        return this._config.sound.waiting ? this.getSound(this._directory.getWaiting()) : null
                    }
                }, {
                    key: "getSpecialPreWin",
                    value: function() {
                        return this._config.sound.specialPreWin ? this.getSound(this._directory.getSpecialPreWin()) : null
                    }
                }, {
                    key: "getAfterSpin",
                    value: function() {
                        return this._config.sound.afterSpin ? this.getSound(this._directory.getAfterSpin()) : null
                    }
                }, {
                    key: "getScatterGameWinBonus",
                    value: function() {
                        return this._config.sound.scatterGameWinBonus ? this.getSound(this._directory.getScatterGameWinBonus()) : null
                    }
                }, {
                    key: "getCardFlip",
                    value: function() {
                        return this.getSound(this._directory.getCardFlip())
                    }
                }, {
                    key: "getGambleLost",
                    value: function() {
                        return this.getSound(this._directory.getGambleLost())
                    }
                }, {
                    key: "getGambleWin",
                    value: function(t) {
                        var e = t % this._directory.getGambleWinCount();
                        return this.getSound(this._directory.getGambleWin(e))
                    }
                }, {
                    key: "getRandomGambleWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getGambleWinCount());
                        return this.getGambleWin(t)
                    }
                }, {
                    key: "getMessage",
                    value: function() {
                        return this.getSound(this._directory.getMessage())
                    }
                }, {
                    key: "getGambleAutoTake",
                    value: function() {
                        return this.getSound(this._directory.getGambleAutoTake())
                    }
                }, {
                    key: "getWinBackgroundMelody",
                    value: function() {
                        return this._config.sound.winBgMelody ? this.getSound(this._directory.getWinBackgroundMelody()) : null
                    }
                }, {
                    key: "getScatterBackgroundMelody",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.bgMelody ? this.getSound(this._directory.getScatterBackgroundMelody()) : null
                    }
                }, {
                    key: "getScatterHeaderIntroSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.headerIntro ? this.getSound(this._directory.getScatterHeaderIntroSound()) : null
                    }
                }, {
                    key: "getTransformSound",
                    value: function() {
                        return this._config.sound.transform ? this.getSound(this._directory.getTransformSound()) : null
                    }
                }, {
                    key: "getScatterTransformSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.transform ? this.getSound(this._directory.getScatterTransformSound()) : null
                    }
                }, {
                    key: "getScatterSelectIntroSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.selectIntro ? this.getSound(this._directory.getScatterSelectIntroSound()) : null
                    }
                }, {
                    key: "getScatterOutro",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.outro ? this.getSound(this._directory.getScatterOutro()) : null
                    }
                }, {
                    key: "getScatterAnnounce",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.announce ? this.getSound(this._directory.getScatterAnnounce()) : null
                    }
                }, {
                    key: "getPotWin",
                    value: function(t) {
                        var e = t % this._directory.getPotWinCount();
                        return this.getSound(this._directory.getPotWin(e))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldKeepAudioContext: !1
                        }).shouldKeepAudioContext;
                        for (var e in this._itemPaths = null, this._loadFails = null, this._directory.destroy(), this._directory = null, this._resources) this._resources.hasOwnProperty(e) && (console.log("destroying ".concat(e, "...")), this._checkIsTexture(this._resources[e]) && (this._resources[e].destroy(!0), console.log("destroyed Texture ".concat(e))), this._howlerWrapper.isHowl(this._resources[e]) && (this._resources[e].off(), this._resources[e].unload(), console.log("destroyed Howl ".concat(e))));
                        this._resources = null, this._loader = null, this._config = null, t || this._howlerWrapper.destroy(), this._howlerWrapper = null
                    }
                }, {
                    key: "_checkIsTexture",
                    value: function(t) {
                        return t instanceof i.Texture
                    }
                }, {
                    key: "getUsesFullwidthBackground",
                    value: function() {
                        return !Boolean(this._directory.getSlotBackground())
                    }
                }]), e
        }(),
        d = n(90),
        p = n(4);

    function m(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var v = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._view = e, this._config = n, this._init()
            }
            return function(t, e, n) {
                e && m(t.prototype, e), n && m(t, n)
            }(t, [{
                key: "_init",
                value: function() {
                    i.utils.skipHello();
                    var t = document.getElementById("game-canvas"),
                        e = document.getElementById("game-container"),
                        n = p.a.getRatioAdjustment({
                            width: this._config.width,
                            height: this._config.height
                        }),
                        o = n / p.a.getCappedRatioAdjustment({
                            width: this._config.width,
                            height: this._config.height
                        }),
                        r = Math.round(this._config.width * n),
                        a = Math.floor(this._config.height * o);
                    this._renderer = Object(i.autoDetectRenderer)(r, a, {
                        transparent: !0,
                        view: t
                    }), e.appendChild(this._renderer.view), t.oncontextmenu = function(t) {
                        t.preventDefault()
                    }, this._view.setInteractionManager(this._renderer.plugins.interaction), this._enterFrame()
                }
            }, {
                key: "_enterFrame",
                value: function() {
                    this._renderer && (requestAnimationFrame(this._enterFrame.bind(this)), this._renderer.render(this._view), this._view.enterFrame())
                }
            }, {
                key: "destroy",
                value: function() {
                    this._view = null, this._config = null, document.getElementById("game-container").removeChild(this._renderer.view), this._renderer.plugins.interaction.destroy(), this._renderer.destroy(!0), this._renderer = null
                }
            }]), t
        }(),
        g = n(86),
        b = n(21),
        S = n.n(b);

    function w(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var k = function() {
            function t(e) {
                var n = e.availableWinlines,
                    i = e.betSteps,
                    o = e.mayTurbo,
                    r = e.mayGamble;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.availableWinlines = n, this.betSteps = i, this.mayTurbo = o, this.mayGamble = r
            }
            return function(t, e, n) {
                e && w(t.prototype, e), n && w(t, n)
            }(t, [{
                key: "equals",
                value: function(t) {
                    return t && this.availableWinlines === t.availableWinlines && this.betSteps === t.betSteps && this.mayTurbo === t.mayTurbo && this.mayGamble === t.mayGamble
                }
            }]), t
        }(),
        E = n(0),
        T = n(5),
        C = n(23);

    function O(t) {
        return (O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var A = S.a.extend({
        dataTypes: {
            setup: {
                set: function(t) {
                    if (t instanceof k) return {
                        val: t,
                        type: "setup"
                    };
                    var e = "Expected value of type mode, received ".concat(O(t));
                    throw new TypeError(e)
                },
                compare: function(t, e, n) {
                    return !!t && t.equals(e)
                }
            }
        },
        props: {
            credits: "number",
            bet: "number",
            win: "number",
            selectedWinlinesCount: "number",
            setup: "setup",
            mode: "state",
            previousMode: "state",
            error: "object",
            scatterGames: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potServerConfigs: {
                type: "array",
                default: function() {
                    return []
                }
            },
            potConfigs: {
                type: "array",
                default: function() {
                    return []
                }
            },
            pots: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potHits: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potWin: "number",
            isDemo: "boolean",
            serverStatus: {
                type: "string",
                required: !0,
                default: C.a.CONNECTING,
                values: [C.a.CONNECTING, C.a.DISCONNECTED, C.a.WAITING, C.a.CONNECTED]
            },
            settings: "state",
            slot: "state",
            gamble: "state",
            preload: "state",
            status: "string"
        },
        derived: {
            modeType: {
                deps: ["mode"],
                fn: function() {
                    return this.mode ? this.mode.type : ""
                },
                cache: !1
            },
            shouldShowWinnings: {
                deps: ["status"],
                fn: function() {
                    return [E.a.WAITING, E.a.TAKING, E.a.FIRST_WINLINE_WALK, E.a.NTH_WINLINE_WALK, E.a.FAST_WINLINE_WALK, E.a.BEFORE_SPECIAL_WALK, E.a.BEFORE_FAST_SPECIAL_WALK, E.a.SPECIAL_WALK, E.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                },
                cache: !1
            },
            hasSufficientFunds: {
                deps: ["credits", "bet", "slot"],
                fn: function() {
                    var t = this.credits >= this.bet || void 0 === this.bet,
                        e = this.slot.model.nextGameType === T.a.SCATTER;
                    return t || e
                }
            }
        }
    });

    function P(t) {
        return (P = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function I(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function x(t, e) {
        return !e || "object" !== P(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function R(t) {
        return (R = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function W(t, e) {
        return (W = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var N = function(t) {
            function e() {
                var t;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (t = x(this, R(e).call(this)))._init(), t
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && W(t, e)
                }(e, i["Container"]),
                function(t, e, n) {
                    e && I(t.prototype, e), n && I(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._fpsMeter = new i.Text("fps", {
                            fontSize: 24,
                            fontFamily: "Arial",
                            fill: 16777215
                        }), this._previousTimestamp = new Date, this._fpsHistory = [], this._maxFpsHistoryLength = 120, this.addChild(this._fpsMeter)
                    }
                }, {
                    key: "enterFrame",
                    value: function() {
                        var t = new Date,
                            e = 1e3 / (t - this._previousTimestamp);
                        this._fpsHistory.push(e);
                        var n = this._fpsHistory.length - this._maxFpsHistoryLength;
                        n > 0 && this._fpsHistory.splice(0, n);
                        var i = this._fpsHistory.reduce(function(t, e) {
                            return t + e
                        }) / this._fpsHistory.length;
                        this._fpsMeter.text = "".concat(i.toFixed(2), " fps"), this._previousTimestamp = t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._fpsMeter.destroy(!0), this._fpsMeter = null, this._previousTimestamp = null, this._fpsHistory = null, this.removeChildren(), i.Container.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        j = n(18),
        L = n(10),
        G = n(6),
        M = n(8);

    function B(t) {
        return (B = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function F(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function H(t, e) {
        return !e || "object" !== B(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function D(t) {
        return (D = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function K(t, e) {
        return (K = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var U = function(t) {
            function e(t, n, i) {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), H(this, D(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                }))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && K(t, e)
                }(e, M["a"]),
                function(t, e, n) {
                    e && F(t.prototype, e), n && F(t, n)
                }(e, [{
                    key: "_addComponent",
                    value: function(t) {
                        var e = this,
                            n = t.call(null, this._model);
                        return n.length ? n.forEach(function(t) {
                            e.addChild(t)
                        }) : this.addChild(n), n
                    }
                }]), e
        }(),
        Y = n(16),
        q = n(20),
        V = n(3);

    function X(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var z = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._cache = {}
            }
            return function(t, e, n) {
                e && X(t.prototype, e), n && X(t, n)
            }(t, [{
                key: "pulse",
                value: function(t) {
                    return this._cache.scale ? this._applyCache(t) : this._cacheScale(t), V.TweenLite.killTweensOf(t.scale), this._animateAttack(t), t
                }
            }, {
                key: "_animateAttack",
                value: function(t) {
                    var e = this;
                    V.TweenLite.to(t.scale, this._config.attackDuration, {
                        x: this._config.scale,
                        y: this._config.scale,
                        ease: V.Sine.easeOut,
                        onComplete: function() {
                            e._animateDecay(t)
                        }
                    })
                }
            }, {
                key: "_animateDecay",
                value: function(t) {
                    var e = this;
                    V.TweenLite.to(t.scale, this._config.decayDuration, {
                        x: this._getCachedScaleX(),
                        y: this._getCachedScaleY(),
                        ease: V.Sine.easeIn,
                        onComplete: function() {
                            e._clearCache()
                        }
                    })
                }
            }, {
                key: "_cacheScale",
                value: function(t) {
                    return this._cache.scale = {
                        x: t.scale.x,
                        y: t.scale.y
                    }, this._cache
                }
            }, {
                key: "_getCachedScaleX",
                value: function() {
                    return this._cache.scale && this._cache.scale.x || 1
                }
            }, {
                key: "_getCachedScaleY",
                value: function() {
                    return this._cache.scale && this._cache.scale.y || 1
                }
            }, {
                key: "_applyCache",
                value: function(t) {
                    return t.scale.x = this._getCachedScaleX(), t.scale.y = this._getCachedScaleY(), t
                }
            }, {
                key: "_clearCache",
                value: function() {
                    return this._cache.scale = null, this._cache
                }
            }, {
                key: "clear",
                value: function(t) {
                    return V.TweenLite.killTweensOf(t.scale), this._applyCache(t), this._clearCache(), t
                }
            }]), t
        }(),
        Q = n(48),
        J = n(36);

    function $(t) {
        return ($ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function tt(t, e) {
        return !e || "object" !== $(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function et(t) {
        return (et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function nt(t, e) {
        return (nt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var it = function(t) {
            function e(t) {
                var n, i = t.style,
                    o = t.setup,
                    r = t.format,
                    a = t.assets;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = tt(this, et(e).call(this, r)))._style = i, n._setup = o, n._assets = a, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && nt(t, e)
                }(e, J["a"]),
                function(t, e, n) {
                    e && Z(t.prototype, e), n && Z(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._label = this._addTextField({
                            text: this._setup.label || "",
                            style: this._determineStyle(this._setup, this._style.secondary)
                        }), this._amount = this._addTextField({
                            text: "",
                            style: this._determineStyle(this._setup, this._style.primary),
                            y: this._style.secondary.lineHeight || this._label.height
                        }), this._setAlign(), this.setContent(0), this
                    }
                }, {
                    key: "_setAlign",
                    value: function() {
                        var t = this._setup.symbol ? this._setup.symbol.padding : 0,
                            e = this._symbol ? -1 * (t + this._symbol.width) : 0;
                        this._label.x = this._calculateTextX(this._label, e, this._style.secondary), this._amount.x = this._calculateTextX(this._amount, e, this._style.primary), this._symbol && (this._symbol.x = -1 * this._symbol.width)
                    }
                }, {
                    key: "_calculateTextX",
                    value: function(t, e, n) {
                        switch (n.align || this._style.primary.align || this._style.secondary.align || this._setup.align) {
                            case "left":
                                return e;
                            case "center":
                                return -.5 * t.width + e;
                            default:
                                return -1 * t.width + e
                        }
                    }
                }, {
                    key: "setContent",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._setContent(this._contentSetter, t)
                    }
                }, {
                    key: "_contentSetter",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._amount.text = isNaN(t) ? t : this._formatCredit(t), this._amount.text
                    }
                }, {
                    key: "setSpecialSymbolId",
                    value: function(t) {
                        var e = this._assets.getScatterWidgetSymbol(t);
                        e && (this._clearSpecialSymbol(), this._addSpecialSymbol(e))
                    }
                }, {
                    key: "_clearSpecialSymbol",
                    value: function() {
                        this._symbol && (this.removeChild(this._symbol), this._symbol.destroy(), this._symbol = null)
                    }
                }, {
                    key: "_addSpecialSymbol",
                    value: function(t) {
                        this._symbol = this._createSprite(t);
                        var e = this._setup.symbol ? this._setup.symbol.height : 0;
                        this._symbol.height = e || this.height, this._symbol.scale.x = this._symbol.scale.y, this.addChild(this._symbol), this._setAlign()
                    }
                }, {
                    key: "_createSprite",
                    value: function(t) {
                        return new i.Sprite(t)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._style = null, this._setup = null, this._assets = null, this._clearSpecialSymbol(), J.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        ot = n(66),
        rt = n(26),
        at = n(15),
        st = {
            READY: "odometerEvent.ready"
        },
        ut = n(12);

    function lt(t) {
        return (lt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ct(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ht(t, e) {
        return !e || "object" !== lt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ft(t) {
        return (ft = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _t(t, e) {
        return (_t = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var yt = function(t) {
        function e(t, n) {
            var i, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = ht(this, ft(e).call(this)))._style = n, i._moveDuration = o, i._currentIndex = isNaN(t) ? 0 : Number(t), i._radix = 10, i._size = isNaN(t) ? 1 : 2 * i._radix, i._addText(t), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && _t(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && ct(t.prototype, e), n && ct(t, n)
            }(e, [{
                key: "_addText",
                value: function(t) {
                    var e = isNaN(t) ? t : "0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9";
                    return this._text = this._createText(e), this.addChild(this._text)
                }
            }, {
                key: "_createText",
                value: function(t) {
                    var e = rt.a.convertStyle(this._style);
                    return p.a.isIE11() || (e.lineHeight = .5 * this._style.fontSize), e.wordWrap = !0, e.wordWrapWidth = 10, new i.Text(t, e)
                }
            }, {
                key: "moveTo",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    return this._tween && this._tween.seek(this._tween.duration(), !1), this._tween = this._createTween(t, e), this._tween
                }
            }, {
                key: "_createTween",
                value: function(t, e) {
                    var n = this._createTweenSettings(t, e);
                    return V.TweenLite.to(this, n.duration, {
                        y: n.targetY,
                        ease: V.Linear.easeNone,
                        onComplete: this._createTweenCompleteHandler(n.wrappedIndex).bind(this)
                    })
                }
            }, {
                key: "_createTweenSettings",
                value: function(t, e) {
                    var n = t + (t < this._currentIndex ? this._radix : 0);
                    return {
                        wrappedIndex: n,
                        targetY: this._calcTargetY(n),
                        duration: e > 0 ? this._moveDuration / e : this._moveDuration
                    }
                }
            }, {
                key: "_createTweenCompleteHandler",
                value: function(t) {
                    return function() {
                        this._currentIndex = t % this._radix, this.y = this._calcTargetY(this._currentIndex), this._tween = null, this.emit(st.READY)
                    }
                }
            }, {
                key: "_calcTargetY",
                value: function(t) {
                    var e = this.height / this._size;
                    return this._size <= 1 ? this.y : e * t * -1
                }
            }, {
                key: "jumpTo",
                value: function(t) {
                    return this._tween && (this._tween.seek(this._tween.duration()), this._tween = null), t < this._size && (this._currentIndex = t % this._radix), this.y = this._calcTargetY(this._currentIndex), this._currentIndex
                }
            }, {
                key: "setColor",
                value: function(t) {
                    var e = this._text.style;
                    e.fill = t || this._style.color;
                    var n = new i.Text(this._text.text, e);
                    this.addChild(n), this.removeChild(this._text), this._text.destroy(!0), this._text = n
                }
            }, {
                key: "destroy",
                value: function() {
                    this._tween && this._tween.kill(), this._tween = null, this._text = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function dt(t) {
        return (dt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function pt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function mt(t, e) {
        return !e || "object" !== dt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function vt(t) {
        return (vt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function gt(t, e) {
        return (gt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var bt = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = mt(this, vt(e).call(this)))._style = t, o._setup = n, o._format = i, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && gt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && pt(t.prototype, e), n && pt(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._movingReelsCount = 0, this._maxValue = at.a.formatCredit(this._setup.maxValue, this._format), this._container = new i.Container, this.addChild(this._container);
                    var t = this._createMask(this._style);
                    return this.mask = t, this.addChild(t), this._initializeReels(), this
                }
            }, {
                key: "_createMask",
                value: function(t) {
                    var e = rt.a.extractFontSize(this._style),
                        n = new i.Graphics;
                    n.beginFill(10066329, 1);
                    var o = e + 4;
                    return n.drawRect(0, -2, 200, o), n.endFill(), n
                }
            }, {
                key: "_initializeReels",
                value: function() {
                    for (; this._container.children.length < this._maxValue.length;) {
                        var t = this._maxValue[this._container.children.length],
                            e = this._createOdometerReel(t);
                        e.x = this._container.width, this._container.addChild(e)
                    }
                    return this._container.x = -1 * this._container.width, this.mask && (this.mask.x = this._container.x), this._container.children.forEach(function(t) {
                        t.visible = !1
                    }), this._container
                }
            }, {
                key: "_createOdometerReel",
                value: function(t) {
                    return new yt(t, this._style, this._setup.moveDuration)
                }
            }, {
                key: "setContent",
                value: function(t) {
                    if (isNaN(Number(t))) return "";
                    if (t !== this._targetAmount) {
                        var e = t < this._amount || t < this._targetAmount,
                            n = void 0 === this._amount || e;
                        this._targetAmount = t, (n ? this._jumpTo : this._moveTo).call(this)
                    }
                    return at.a.formatCredit(this._amount, this._format)
                }
            }, {
                key: "_jumpTo",
                value: function() {
                    this._amount = this._targetAmount, this._clearReelListeners(), this._setContent(function(t, e) {
                        t.jumpTo(e)
                    })
                }
            }, {
                key: "_clearReelListeners",
                value: function() {
                    for (var t = 0; t < this._maxValue.length; t += 1) {
                        this._container.children[t].off(st.READY)
                    }
                    this._movingReelsCount = 0
                }
            }, {
                key: "_setContent",
                value: function(t) {
                    for (var e = at.a.formatCredit(this._amount, this._format), n = this._maxValue.length - e.length, i = 0; i < this._maxValue.length; i += 1) {
                        var o = i - n,
                            r = o >= 0,
                            a = r ? Number(e[o]) : 0,
                            s = isNaN(a) ? 0 : a,
                            u = this._container.children[i];
                        t.call(this, u, s), u.visible = r
                    }
                }
            }, {
                key: "_moveTo",
                value: function() {
                    var t = this;
                    this._amount < this._targetAmount && !this._movingReelsCount && (this._movingReelsCount = this._maxValue.length, this._amount += 1, this._setContent(function(e, n) {
                        e.once(st.READY, function() {
                            t._movingReelsCount -= 1, t._movingReelsCount <= 0 && t._moveTo()
                        });
                        var i = t._targetAmount - t._amount + 4;
                        e.moveTo(n, i)
                    }))
                }
            }, {
                key: "blink",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 65280,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4,
                        i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 500;
                    return this._blinkInterval && clearInterval(this._blinkInterval), this._steps && this._steps.length && this._steps.splice(0, this._steps.length - 1), this._remainingBlinkCount = 2 * n, this._setColor(e), this._blinkInterval = setInterval(function() {
                        t._remainingBlinkCount -= 1;
                        var n = t._remainingBlinkCount % 2 ? e : null;
                        t._setColor(n), t._remainingBlinkCount <= 0 && (clearInterval(t._blinkInterval), t._blinkInterval = null)
                    }, i), this._blinkInterval
                }
            }, {
                key: "_setColor",
                value: function(t) {
                    return this._container.children.forEach(function(e) {
                        e.setColor(t)
                    }), this._container
                }
            }, {
                key: "getId",
                value: function() {
                    return this._setup.id
                }
            }, {
                key: "getIsReady",
                value: function() {
                    return !this._movingReelsCount
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, this._format = null, this._container = null, this._blinkInterval && (clearInterval(this._blinkInterval), this._blinkInterval = null), ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function St(t) {
        return (St = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function kt(t, e) {
        return !e || "object" !== St(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Et(t) {
        return (Et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Tt(t, e) {
        return (Tt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ct = function(t) {
        function e(t, n, o) {
            var r;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (r = kt(this, Et(e).call(this)))._style = t, r._setup = n.win, r._format = o, r._odometer = r._createOdometer(t, n, o), r.addChild(r._odometer), r._winInfo = new i.Container, r.addChild(r._winInfo), r
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Tt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && wt(t.prototype, e), n && wt(t, n)
            }(e, [{
                key: "_createOdometer",
                value: function(t, e, n) {
                    return new bt(t, e, n)
                }
            }, {
                key: "updatePot",
                value: function(t) {
                    this._odometer.setContent(t)
                }
            }, {
                key: "displayLobbyWin",
                value: function(t, e) {
                    var n = this._createComplexSequence(t, e);
                    this._displaySequence(n, this._setup.interval, this._setup.lobbyColor)
                }
            }, {
                key: "_createComplexSequence",
                value: function(t, e) {
                    var n = this._setup.blinkIntervals,
                        i = this._setup.iterations,
                        o = this._createSequence(t, e, n[0], i[0]);
                    return o = o.concat(this._createSequence(t, e, n[1], i[1]))
                }
            }, {
                key: "_createSequence",
                value: function(t, e) {
                    for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, o = [], r = 0; r < i; r += 1) o.push({
                        content: e,
                        blinkInterval: n
                    }), o.push({
                        content: Number(t),
                        blinkInterval: n
                    }), o.push(!1);
                    return o
                }
            }, {
                key: "_displaySequence",
                value: function(t, e, n) {
                    var i = this;
                    this._clearSequenceTimeout(), this._winInfo.removeChildren();
                    var o = t.shift();
                    this._winInfo.visible = Boolean(o), this._odometer.visible = !Boolean(o), o && this._displaySequencePart(o, n), t.length && (this._sequenceTimeout = setTimeout(function() {
                        i._displaySequence(t, e, n)
                    }, e))
                }
            }, {
                key: "_clearSequenceTimeout",
                value: function() {
                    this._sequenceTimeout && (clearTimeout(this._sequenceTimeout), this._sequenceTimeout = null)
                }
            }, {
                key: "_displaySequencePart",
                value: function(t, e) {
                    this._clearBlinkTimeout();
                    var n = rt.a.convertStyle(this._style);
                    n.fill = e;
                    var o = "string" == typeof t.content ? t.content : at.a.formatCredit(t.content, this._format),
                        r = new i.Text(o, n);
                    return this._adjustText(r), this._winInfo.addChild(r), t.blinkInterval && this._blinkText(r, t.blinkInterval), r
                }
            }, {
                key: "_adjustText",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 130;
                    if (t.width > e) {
                        var n = t.height;
                        t.width = e, t.scale.y = t.scale.x, t.y = .5 * (n - t.height)
                    }
                    t.x = -1 * t.width
                }
            }, {
                key: "_clearBlinkTimeout",
                value: function() {
                    this._blinkTimeout && (clearTimeout(this._blinkTimeout), this._blinkTimeout = null)
                }
            }, {
                key: "_blinkText",
                value: function(t, e) {
                    var n = this;
                    this._clearBlinkTimeout(), t.visible = !t.visible, this._blinkTimeout = setTimeout(function() {
                        n._blinkText(t, e)
                    }, e)
                }
            }, {
                key: "displaySelfWin",
                value: function(t) {
                    var e = this._createComplexSequence(t, this._setup.selfText);
                    this._displaySequence(e, this._setup.interval, this._setup.selfColor)
                }
            }, {
                key: "getId",
                value: function() {
                    return this._odometer.getId()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._clearSequenceTimeout(), this._clearBlinkTimeout(), this._style = null, this._format = null, this._winInfo.destroy(), this._winInfo = null, this._odometer.destroy(), this._odometer = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ot(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var At = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Ot(t.prototype, e), n && Ot(t, n)
            }(t, [{
                key: "createOverlay",
                value: function() {
                    return this._createSprite(this._assets.getOverlay())
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "createNonJackpotOverlay",
                value: function() {
                    var t = this._assets.getOverlay(),
                        e = .5 * t.height;
                    t.frame = new i.Rectangle(0, e, t.width, e);
                    var n = this._createSprite(t);
                    return n.y = e, n
                }
            }, {
                key: "createCreditsInfo",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.credits,
                        format: t.format
                    })
                }
            }, {
                key: "_createCreditInfo",
                value: function(t) {
                    var e = t.style,
                        n = t.setup,
                        i = t.format,
                        o = t.animator,
                        r = new Q.a({
                            style: e,
                            setup: n,
                            format: i,
                            animator: o
                        });
                    return r.x = n.x, r.y = n.y, r.setBaseY(r.y), r
                }
            }, {
                key: "createBetInfo",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.bet,
                        format: t.format
                    })
                }
            }, {
                key: "createWinInfo",
                value: function() {
                    var t = this._config.text,
                        e = this._createCreditWidgetAnimator(t.win);
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.win,
                        format: t.format,
                        animator: e
                    })
                }
            }, {
                key: "_createCreditWidgetAnimator",
                value: function(t) {
                    return new z(t.pulse)
                }
            }, {
                key: "createStatusInfo",
                value: function() {
                    var t = this._config.text,
                        e = new ot.a(t.style.secondary, t.status);
                    return e.x = t.status.x, e.y = t.status.y, e
                }
            }, {
                key: "createPotWidgets",
                value: function(t) {
                    var e = this,
                        n = [],
                        i = this._config.text;
                    return t.potConfigs.forEach(function(t) {
                        n.push(e._createPotWidget(i.style.secondary, t, i.format))
                    }), n
                }
            }, {
                key: "_createPotWidget",
                value: function(t, e, n) {
                    var i = new Ct(t, e, n);
                    return i.x = e.x, i.y = e.y, i
                }
            }, {
                key: "createScatterGamesWidget",
                value: function() {
                    var t = this._config.scatter ? this._config.scatter.text : this._config.text,
                        e = new it({
                            style: t.style,
                            setup: t.win,
                            format: t.format,
                            assets: this._assets
                        });
                    return e.x = t.win.x, e.y = t.win.y, e
                }
            }, {
                key: "createDemoFlag",
                value: function() {
                    return this._createSprite(this._assets.getDemoFlag())
                }
            }]), t
        }(),
        Pt = n(7),
        It = n(19);

    function xt(t) {
        return (xt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Rt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Wt(t, e) {
        return !e || "object" !== xt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Nt(t) {
        return (Nt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function jt(t, e) {
        return (jt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Lt = function(t) {
            function e(t, n, i, o) {
                var r;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (r = Wt(this, Nt(e).call(this, t, n, i)))._layoutAdjuster = o, r._init(), r
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && jt(t, e)
                }(e, U),
                function(t, e, n) {
                    e && Rt(t.prototype, e), n && Rt(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = this._config.server.usePots ? e.createOverlay : e.createNonJackpotOverlay;
                        this._addComponent(n.bind(e));
                        var i = this._createInfo(e);
                        if (this._initInfo(i.winInfo, i.statusInfo), this._addModelListeners(i), this._addBetInfoMouseListener(i.betInfo), this._scatterGamesWidget = i.scatterGamesWidget || this._createContainer(), this._layoutAdjuster.adjustBackgroundToMain(this._scatterGamesWidget), i.scatterGamesWidget && this._addScatterGamesListeners(i), this._config.server.usePots && this._model.once(L.a.POT_CONFIGS_CHANGE, function() {
                                t._addPotListeners(e, i.statusInfo)
                            }), this._model.isDemo) {
                            var o = this._addComponent(e.createDemoFlag.bind(e));
                            this._layoutAdjuster.invertAdjustBackgroundToMain(o)
                        }
                        return this
                    }
                }, {
                    key: "_createInfo",
                    value: function(t) {
                        var e = {
                            creditsInfo: this._addComponent(t.createCreditsInfo.bind(t)),
                            betInfo: this._addComponent(t.createBetInfo.bind(t)),
                            winInfo: this._addComponent(t.createWinInfo.bind(t)),
                            statusInfo: this._addComponent(t.createStatusInfo.bind(t))
                        };
                        return this._config.scatter && (e.scatterGamesWidget = this._addComponent(t.createScatterGamesWidget.bind(t))), e
                    }
                }, {
                    key: "_initInfo",
                    value: function(t, e) {
                        t.visible = !1, this._updateStatusInfo(e)
                    }
                }, {
                    key: "_addModelListeners",
                    value: function(t) {
                        var e = t.creditsInfo,
                            n = t.betInfo,
                            i = t.winInfo,
                            o = t.statusInfo,
                            r = (t.scatterGamesWidget, this._createCreditChangeHandler(e, o));
                        this._model.on(L.a.CREDITS_CHANGE, r, this);
                        var a = this._createBetChangeHandler(n, e, o);
                        this._model.on(L.a.BET_CHANGE, a, this);
                        var s = this._createWinChangeHandler(i, o);
                        this._model.on(L.a.WIN_CHANGE, s, this);
                        var u = this._createStatusChangeHandler(i, o);
                        this._model.on(L.a.STATUS_CHANGE, u, this);
                        var l = this._createModeChangeHandler([e, n, i, o]);
                        this._model.on(L.a.MODE_TYPE_CHANGE, l, this);
                        var c = this._createWalkedAmountChangeHandler(i, o);
                        this._model.slot.model.on(Pt.a.WALKED_AMOUNT_CHANGE, c, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new At(this._config, this._assets)
                    }
                }, {
                    key: "_addBetInfoMouseListener",
                    value: function(t) {
                        t.interactive = !0, this._onClick(t, this._handleBetInfoClick, this)
                    }
                }, {
                    key: "_addScatterGamesListeners",
                    value: function(t) {
                        var e = t.statusInfo,
                            n = t.betInfo,
                            i = t.scatterGamesWidget,
                            o = this._createScatterGamesChangeHandler({
                                statusInfo: e,
                                betInfo: n,
                                scatterGamesWidget: i
                            });
                        this._model.on(L.a.SCATTER_GAMES_CHANGE, o, this)
                    }
                }, {
                    key: "_addPotListeners",
                    value: function(t, e) {
                        var n = this._addComponent(t.createPotWidgets.bind(t));
                        this._initializePots(n), this._updatePots(n, this._model.pots), this._updatePotHits(n, this._model.potHits), this._model.on(L.a.POTS_CHANGE, this._createPotsChangeHandler(n), this), this._model.on(L.a.POT_HITS_CHANGE, this._createPotHitsChangeHandler(n), this), this._model.on(L.a.POT_WIN_CHANGE, this._createPotWinChangeHandler(e), this)
                    }
                }, {
                    key: "_createContainer",
                    value: function() {
                        return new i.Container
                    }
                }, {
                    key: "_createCreditChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            this._updateCreditsInfo(t, i), this._updateStatusInfo(e)
                        }
                    }
                }, {
                    key: "_updateCreditsInfo",
                    value: function(t, e) {
                        void 0 === this._model.previousAttributes().credits || this._model.potWin ? t.setContent(e) : t.setAnimatedContent(e)
                    }
                }, {
                    key: "_updateStatusInfo",
                    value: function(t) {
                        var e = this._getStatusInfoContent();
                        t.setContent(e)
                    }
                }, {
                    key: "_getStatusInfoContent",
                    value: function() {
                        var t = this._config.text.status;
                        if (this._model.potWin) return t.hitPot;
                        if (!this._model.hasSufficientFunds) return t.insufficientFunds;
                        var e = this._model.slot.model;
                        if (this._model.status === E.a.BEFORE_READY && e.scatterGameWinBonus) return t.scatterGameWinMultiplier;
                        var n = this._model.scatterGames,
                            i = this._model.status !== E.a.READY || n.current <= 1,
                            o = this._model.modeType === q.a.GAMBLE || e.hasScatterSelection;
                        if (n.total && n.current && i && !o) return this._createScatterGamesMessage(n);
                        if (e.maxSelectableScatterCount > 0 && !e.isWaitingForResult) return (this._config.text.status.findMaxSelectableScatter || "").replace("%MAX%", e.maxSelectableScatterCount);
                        var r = e.isWaitingForResult || e.isFirstWalk || e.isScatterTransition;
                        return this._model.status === Y.a.READY || r ? t.goodLuck : t.gameOver
                    }
                }, {
                    key: "_createScatterGamesMessage",
                    value: function(t) {
                        var e = t.total,
                            n = t.current,
                            i = this._config.text.status.scatterGames;
                        return (i = i.replace("%CURRENT%", n)).replace("%TOTAL%", e)
                    }
                }, {
                    key: "_createBetChangeHandler",
                    value: function(t, e, n) {
                        return function(i, o) {
                            t.setContent(o), e.setLowTreshold(o), this._updateStatusInfo(n)
                        }
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            this._updateStatusInfo(e), this._updateWinStatusVisibility(t, e, this._getAmountToDisplay()), i === E.a.TAKING && this._model.win && this._setWinInstantly(t, e)
                        }
                    }
                }, {
                    key: "_getAmountToDisplay",
                    value: function() {
                        var t = this._model.slot.model;
                        return t.isFirstWalk ? t.walkedAmount : this._model.win
                    }
                }, {
                    key: "_updateWinStatusVisibility",
                    value: function(t, e, n) {
                        return t.visible = n > 0 && this._model.shouldShowWinnings, e.visible = !t.visible, this
                    }
                }, {
                    key: "_createTextCountCompleteHandler",
                    value: function(t, e, n) {
                        return function() {
                            this.emit(G.a.TEXT_COUNT_COMPLETE), this._updateWinStatusVisibility(t, e, n)
                        }
                    }
                }, {
                    key: "_createWinChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            var o = this._model.slot.model;
                            this._model.previousAttributes().win > 0 && o.takenAmount ? this._startWinCountdown(t, e) : this._model.win > 0 && this._setWinInstantly(t, e)
                        }
                    }
                }, {
                    key: "_startWinCountdown",
                    value: function(t, e) {
                        var n = this._createTextCountCompleteHandler(t, e, this._model.win);
                        t.once(G.a.TEXT_COUNT_COMPLETE, n, this), t.setAnimatedContent(this._model.win), t.setStyle("take"), t.visible = !0, e.visible = !t.visible
                    }
                }, {
                    key: "_setWinInstantly",
                    value: function(t, e) {
                        var n = this._getAmountToDisplay();
                        t.setContent(n), this._updateWinStatusVisibility(t, e, n)
                    }
                }, {
                    key: "_createModeChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            switch (n) {
                                case q.a.AG:
                                case q.a.GAMBLE:
                                case q.a.SLOT:
                                    this._addChildren(t);
                                    break;
                                case q.a.PRELOAD:
                                case q.a.SETTINGS:
                                    this._removeChildren(t)
                            }
                        }
                    }
                }, {
                    key: "_createPotsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updatePots(t, n)
                        }
                    }
                }, {
                    key: "_initializePots",
                    value: function(t) {
                        t.forEach(function(t) {
                            var e = It.a.getPotAmount(t.getId());
                            e && t.updatePot(e)
                        })
                    }
                }, {
                    key: "_updatePots",
                    value: function(t, e) {
                        t.forEach(function(t) {
                            var n = e[t.getId()];
                            n && n.amount >= 0 && t.updatePot(n.amount)
                        })
                    }
                }, {
                    key: "_createPotHitsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updatePotHits(t, n)
                        }
                    }
                }, {
                    key: "_updatePotHits",
                    value: function(t, e) {
                        t.forEach(function(t) {
                            var n = e[t.getId()];
                            n && n.winAmount && (n.self && n.now ? t.displaySelfWin(n.winAmount) : n.self || t.displayLobbyWin(n.winAmount, n.winner))
                        })
                    }
                }, {
                    key: "_removeChildren",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return e.forEach(function(e) {
                            t.removeChild(e)
                        }), e.length
                    }
                }, {
                    key: "_addChildren",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return e.forEach(function(e) {
                            t.addChild(e)
                        }), e.length
                    }
                }, {
                    key: "_createScatterGamesChangeHandler",
                    value: function(t) {
                        var e = t.statusInfo,
                            n = t.betInfo,
                            i = t.scatterGamesWidget;
                        return function(t, o) {
                            var r = t.previousAttributes().scatterGames.current !== o.current;
                            this._model.slot.model.hasScatterSelection || !r && o.current || this._updateStatusInfo(e), this._model.slot.model.hasScatterSelection && !o.current || this._updateScatterGamesWidget(i), !r && this._model.scatterGames.total || (n.alpha = this._model.scatterGames.total ? .33 : 1)
                        }
                    }
                }, {
                    key: "_updateScatterGamesWidget",
                    value: function(t) {
                        t.visible = Boolean(this._model.scatterGames.current), this._model.status !== E.a.SPINNING && t.setContent(this._model.scatterGames.win || 0);
                        var e = this._model.slot.model.specialSymbolId;
                        return e && t.setSpecialSymbolId(e), t
                    }
                }, {
                    key: "_createWalkedAmountChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            i > 0 && (t.setContent(i), t.pulse(), this._updateWinStatusVisibility(t, e, i))
                        }
                    }
                }, {
                    key: "_createPotWinChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updateStatusInfo(t)
                        }
                    }
                }, {
                    key: "_handleBetInfoClick",
                    value: function() {
                        this._model.scatterGames.total || this.emit(j.a.BET_SETTINGS_TAP)
                    }
                }, {
                    key: "getScatterGamesWidget",
                    value: function() {
                        return this._scatterGamesWidget
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._scatterGamesWidget = null, U.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Gt = n(68),
        Mt = n(42),
        Bt = n(27),
        Ft = {
            HIDE: "dialogDisplayEvent.hide"
        };

    function Ht(t) {
        return (Ht = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Dt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Kt(t, e) {
        return !e || "object" !== Ht(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ut(t) {
        return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yt(t, e) {
        return (Yt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qt = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = Kt(this, Ut(e).call(this)))._config = t, i._assets = n, i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Yt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && Dt(t.prototype, e), n && Dt(t, n)
            }(e, [{
                key: "showAlert",
                value: function(t, e) {
                    var n = this;
                    this._message && this._hideAlert(), this._message = t;
                    var i = this._createOverlay(),
                        o = this._createAlertBox(t, e),
                        r = this._createKeyListener(e);
                    return this.once(Ft.HIDE, function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            isPrivateCall: !1
                        }).isPrivateCall;
                        n._clearDialog({
                            alertBox: o,
                            overlay: i,
                            keyListener: r
                        }), n._message = "", t && e && e()
                    }), this.addChild(i), this._centerAlertBox(o), this._addAlertBoxListeners({
                        alertBox: o,
                        keyListener: r,
                        callback: e
                    }), this.addChild(o), this
                }
            }, {
                key: "_hideAlert",
                value: function() {
                    return this.emit(Ft.HIDE, {
                        isPrivateCall: !0
                    }), this
                }
            }, {
                key: "_createOverlay",
                value: function() {
                    var t = this._config.display,
                        e = new i.Graphics;
                    return e.beginFill(0), e.drawRect(0, 0, t.width, t.height), e.endFill(), e.alpha = .7, e
                }
            }, {
                key: "_createAlertBox",
                value: function(t, e) {
                    var n = this._config.text;
                    return new Gt.a({
                        message: t || "",
                        style: n.style.message,
                        setup: n.dialog,
                        type: e ? Mt.a.INTERACTIVE : Mt.a.STATUS,
                        assets: this._assets
                    })
                }
            }, {
                key: "_createKeyListener",
                value: function(t) {
                    return function(e) {
                        (e.keyCode || Number(e.key)) === Bt.a.SPACE && t && t.call()
                    }
                }
            }, {
                key: "_clearDialog",
                value: function(t) {
                    var e = this,
                        n = t.alertBox,
                        i = t.overlay,
                        o = t.keyListener;
                    n.interactive = !1, n.removeAllListeners("click"), n.removeAllListeners("tap"), window.removeEventListener("keydown", o), setTimeout(function() {
                        e.removeChild(n)
                    }, 0), setTimeout(function() {
                        e.removeChild(i)
                    }, 0)
                }
            }, {
                key: "_addAlertBoxListeners",
                value: function(t) {
                    var e = t.alertBox,
                        n = t.keyListener,
                        i = t.callback;
                    i && (e.interactive = !0, this._onClick(e, i)), window.addEventListener("keydown", n)
                }
            }, {
                key: "_centerAlertBox",
                value: function(t) {
                    var e = this._config.display;
                    return t.x = .5 * (e.width - t.width), t.y = .5 * (e.height - t.height), t
                }
            }, {
                key: "hideAlert",
                value: function() {
                    return this.emit(Ft.HIDE), this
                }
            }, {
                key: "hasAlert",
                value: function() {
                    return Boolean(this._message)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Vt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Xt = function() {
            function t(e, n, i) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
            }
            return function(t, e, n) {
                e && Vt(t.prototype, e), n && Vt(t, n)
            }(t, [{
                key: "createMainPanel",
                value: function(t) {
                    var e = new Lt(t, this._config, this._assets, this._layoutAdjuster);
                    return this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "createDialogDisplay",
                value: function() {
                    var t = new qt(this._config, this._assets);
                    return this._layoutAdjuster.adjustToMain(t)
                }
            }]), t
        }(),
        zt = n(11),
        Qt = n(14);

    function Jt(t) {
        return (Jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function $t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Zt(t) {
        return (Zt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function te(t, e) {
        return (te = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function ee(t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    var ne = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = function(t, e) {
                return !e || "object" !== Jt(e) && "function" != typeof e ? ee(t) : e
            }(this, Zt(e).call(this)))._model = i, n._config = o, n._assets = r, n._layoutAdjuster = a, n._layoutAdjuster.scaleMainView(ee(ee(n))), n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && te(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && $t(t.prototype, e), n && $t(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._alwaysOnTop = [], this._updateModeView(), this._model.on(L.a.MODE_CHANGE, this._createModeChangeHandler(t), this), this._model.on(L.a.ERROR_CHANGE, this._handleChangeError, this), this._model.on(L.a.SERVER_STATUS_CHANGE, this._handleChangeServerStatus, this), this._addDialogDisplay(t)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Xt(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_updateModeView",
                value: function() {
                    return this._view && (this._view.removeListener(zt.a.REQUEST_FULLSCREEN, this._handleFullscreenRequest), this._view.removeListener(zt.a.CONTROLS_CHANGE, this._handleControlsChange), this.removeChild(this._view)), this._model.mode && this._model.mode.view && (this._view = this._model.mode.view, this._view.on(zt.a.REQUEST_FULLSCREEN, this._handleFullscreenRequest, this), this._view.on(zt.a.CONTROLS_CHANGE, this._handleControlsChange, this), this.addChild(this._view), this._handleControlsChange(), this.updateInteractionState()), this._view
                }
            }, {
                key: "updateInteractionState",
                value: function() {
                    return this._interactionManager && (this._interactionManager.autoPreventDefault = !p.a.requiresScrolling()), this
                }
            }, {
                key: "_handleControlsChange",
                value: function() {
                    this._view && this._interactionManager && (this._interactionManager.autoPreventDefault || this._view.temporarilyDisableControls())
                }
            }, {
                key: "_handleFullscreenRequest",
                value: function() {
                    this.emit(j.a.REQUEST_FULLSCREEN)
                }
            }, {
                key: "_addFPSMeter",
                value: function() {
                    return this._fpsMeter = new N, this._alwaysOnTop.push(this._fpsMeter), this.addChild(this._fpsMeter), this._fpsMeter
                }
            }, {
                key: "_addDialogDisplay",
                value: function(t) {
                    return this._dialogDisplay = t.createDialogDisplay(), this._alwaysOnTop.push(this._dialogDisplay), this.addChild(this._dialogDisplay), this._dialogDisplay
                }
            }, {
                key: "_createModeChangeHandler",
                value: function(t) {
                    return function(e, n) {
                        n && this._updateMainPanel(t, n.type), this._updateModeView(), this._updateAlwaysOnTop()
                    }
                }
            }, {
                key: "_updateMainPanel",
                value: function(t, e) {
                    if (e === q.a.PRELOAD || this._mainPanel || this._initializeMainPanel(t), this._mainPanel) {
                        var n = [q.a.SLOT, q.a.GAMBLE].indexOf(e) > -1;
                        this._mainPanel.visible = n
                    }
                }
            }, {
                key: "_initializeMainPanel",
                value: function(t) {
                    var e = this;
                    return this._mainPanel = t.createMainPanel(this._model), this._mainPanel.on(j.a.BET_SETTINGS_TAP, function() {
                        e._dialogDisplay.hasAlert() || e.emit(j.a.BET_SETTINGS_TAP)
                    }), this._mainPanel.on(G.a.TEXT_COUNT_COMPLETE, function() {
                        e.emit(j.a.WIN_COUNT_COMPLETE)
                    }), this._alwaysOnTop.unshift(this._mainPanel), this.addChild(this._mainPanel), this._mainPanel
                }
            }, {
                key: "_handleChangeError",
                value: function(t, e) {
                    var n = this;
                    if (e) switch (e.code) {
                        case Qt.a.PLAYER_KICKED_ERROR:
                        case Qt.a.IMPOSSIBLE_ERROR:
                        case Qt.a.LOGIN_REQUIRED_ERROR:
                            this.emit(j.a.CRITICAL_FAULT_CONFIRM);
                            break;
                        default:
                            this.showAlert(e.message, function() {
                                n.emit(j.a.DIALOG_CONFIRM, e)
                            })
                    }
                }
            }, {
                key: "_updateAlwaysOnTop",
                value: function() {
                    var t = this;
                    return this._alwaysOnTop.forEach(function(e) {
                        t.removeChild(e), t.addChild(e)
                    }), this._alwaysOnTop.length
                }
            }, {
                key: "enterFrame",
                value: function() {
                    this._fpsMeter && this._fpsMeter.enterFrame()
                }
            }, {
                key: "showAlert",
                value: function(t, e) {
                    return this._view.disableControls(), this._dialogDisplay.showAlert(t, e), this
                }
            }, {
                key: "hideAlert",
                value: function() {
                    return this._dialogDisplay.hideAlert(), this._view.enableControls(), this
                }
            }, {
                key: "_handleChangeServerStatus",
                value: function(t, e) {
                    switch (e) {
                        case C.a.CONNECTED:
                            this.hideAlert();
                            break;
                        case C.a.DISCONNECTED:
                            this._model.error || this._showDelayedDisconnectMessage()
                    }
                }
            }, {
                key: "_showDelayedDisconnectMessage",
                value: function() {
                    var t = this;
                    clearTimeout(this._disconnectMessageDelay), this._disconnectMessageDelay = setTimeout(function() {
                        t._model.error || t._model.serverStatus !== C.a.DISCONNECTED || t.showAlert(t._config.language.disconnected, function() {
                            t.emit(j.a.DIALOG_CONFIRM, {
                                isCritical: !1,
                                code: Qt.a.SERVER_TIMEOUT_ERROR
                            })
                        })
                    }, 1e3)
                }
            }, {
                key: "switchControlsAlignment",
                value: function() {
                    var t = this._model.slot.view.switchControlsAlignment();
                    this._model.gamble.view.switchControlsAlignment(), this._model.settings.view.switchControlsAlignment(), this._mainPanel && (this._mainPanel.x += t)
                }
            }, {
                key: "setInteractionManager",
                value: function(t) {
                    this._interactionManager = t
                }
            }, {
                key: "addToTop",
                value: function(t) {
                    t.parent !== this._mainPanel && this._mainPanel.addChild(t)
                }
            }, {
                key: "getScatterGamesWidget",
                value: function() {
                    return this._mainPanel.getScatterGamesWidget()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this._interactionManager = null, this._alwaysOnTop = null, this._mainPanel && (this._mainPanel.removeAllListeners(), this._mainPanel.destroy(), this._mainPanel = null), this._dialogDisplay && (this._dialogDisplay.removeAllListeners(), this._dialogDisplay.destroy(), this._dialogDisplay = null), this._fpsMeter = null, this._view = null, clearTimeout(this._disconnectMessageDelay), this._disconnectMessageDelay = null, this.removeChildren(), i.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function ie(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return oe
    });
    var oe = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._Model = A, this._View = n.View || ne, this._Controller = n.Controller || g.a, this._Renderer = n.Renderer || v, this._AssetLibrary = n.AssetLibrary || y, this._LayoutAdjuster = n.LayoutAdjuster || d.a, this._howlerWrapper = n.howler, this._config = e
        }
        return function(t, e, n) {
            e && ie(t.prototype, e), n && ie(t, n)
        }(t, [{
            key: "createModel",
            value: function() {
                return new this._Model
            }
        }, {
            key: "createView",
            value: function(t) {
                var e = t.model,
                    n = t.config,
                    i = t.assets,
                    o = t.layoutAdjuster;
                return new this._View({
                    model: e,
                    config: n || this._config,
                    assets: i,
                    layoutAdjuster: o
                })
            }
        }, {
            key: "createController",
            value: function(t) {
                var e = t.model,
                    n = t.view,
                    i = t.config,
                    o = t.assets,
                    r = t.layoutAdjuster,
                    a = t.authToken,
                    s = t.socket,
                    u = t.exitCallback,
                    l = t.beforeExitCallback,
                    c = t.logService;
                return new this._Controller({
                    model: e,
                    view: n,
                    config: i || this._config,
                    assets: o,
                    layoutAdjuster: r,
                    authToken: a,
                    socket: s,
                    exitCallback: u,
                    beforeExitCallback: l,
                    logService: c
                })
            }
        }, {
            key: "createRenderer",
            value: function(t) {
                return new this._Renderer(t, this._config.display)
            }
        }, {
            key: "createAssetLibrary",
            value: function() {
                return new this._AssetLibrary(this._config.assets, this._howlerWrapper)
            }
        }, {
            key: "createLayoutAdjuster",
            value: function() {
                return new this._LayoutAdjuster(this._config.display)
            }
        }]), t
    }()
}, function(t, e, n) {
    var i = n(46),
        o = n(72),
        r = n(29),
        a = n(53),
        s = 1 / 0,
        u = i ? i.prototype : void 0,
        l = u ? u.toString : void 0;
    t.exports = function t(e) {
        if ("string" == typeof e) return e;
        if (r(e)) return o(e, t) + "";
        if (a(e)) return l ? l.call(e) : "";
        var n = e + "";
        return "0" == n && 1 / e == -s ? "-0" : n
    }
}, function(t, e, n) {
    var i = n(46),
        o = Object.prototype,
        r = o.hasOwnProperty,
        a = o.toString,
        s = i ? i.toStringTag : void 0;
    t.exports = function(t) {
        var e = r.call(t, s),
            n = t[s];
        try {
            t[s] = void 0;
            var i = !0
        } catch (t) {}
        var o = a.call(t);
        return i && (e ? t[s] = n : delete t[s]), o
    }
}, function(t, e) {
    var n = Object.prototype.toString;
    t.exports = function(t) {
        return n.call(t)
    }
}, function(t, e, n) {
    var i = n(54),
        o = n(131),
        r = n(38),
        a = n(97),
        s = /^\[object .+?Constructor\]$/,
        u = Function.prototype,
        l = Object.prototype,
        c = u.toString,
        h = l.hasOwnProperty,
        f = RegExp("^" + c.call(h).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + slotCurrency);
    t.exports = function(t) {
        return !(!r(t) || o(t)) && (i(t) ? f : s).test(a(t))
    }
}, function(t, e, n) {
    var i = n(132),
        o = function() {
            var t = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "");
            return t ? "Symbol(src)_1." + t : ""
        }();
    t.exports = function(t) {
        return !!o && o in t
    }
}, function(t, e, n) {
    var i = n(33)["__core-js_shared__"];
    t.exports = i
}, function(t, e) {
    t.exports = function(t, e) {
        return null == t ? void 0 : t[e]
    }
}, function(t, e, n) {
    var i = n(98),
        o = n(139);
    t.exports = function(t) {
        return i(function(e, n) {
            var i = -1,
                r = n.length,
                a = r > 1 ? n[r - 1] : void 0,
                s = r > 2 ? n[2] : void 0;
            for (a = t.length > 3 && "function" == typeof a ? (r--, a) : void 0, s && o(n[0], n[1], s) && (a = r < 3 ? void 0 : a, r = 1), e = Object(e); ++i < r;) {
                var u = n[i];
                u && t(e, u, i, a)
            }
            return e
        })
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        switch (n.length) {
            case 0:
                return t.call(e);
            case 1:
                return t.call(e, n[0]);
            case 2:
                return t.call(e, n[0], n[1]);
            case 3:
                return t.call(e, n[0], n[1], n[2])
        }
        return t.apply(e, n)
    }
}, function(t, e, n) {
    var i = n(137),
        o = n(96),
        r = n(74),
        a = o ? function(t, e) {
            return o(t, "toString", {
                configurable: !0,
                enumerable: !1,
                value: i(e),
                writable: !0
            })
        } : r;
    t.exports = a
}, function(t, e) {
    t.exports = function(t) {
        return function() {
            return t
        }
    }
}, function(t, e) {
    var n = 800,
        i = 16,
        o = Date.now;
    t.exports = function(t) {
        var e = 0,
            r = 0;
        return function() {
            var a = o(),
                s = i - (a - r);
            if (r = a, s > 0) {
                if (++e >= n) return arguments[0]
            } else e = 0;
            return t.apply(void 0, arguments)
        }
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(55),
        r = n(39),
        a = n(76),
        s = n(38);
    t.exports = function(t, e, n) {
        if (!s(n)) return !1;
        var u = i(e);
        return !!("number" == u ? r(n) && a(e, n.length) : "string" == u && e in n) && o(n[e], t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = Array(t); ++n < t;) i[n] = e(n);
        return i
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(32),
        r = "[object Arguments]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e) {
    t.exports = function() {
        return !1
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(75),
        r = n(32),
        a = {};
    a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0, a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1, t.exports = function(t) {
        return r(t) && o(t.length) && !!a[i(t)]
    }
}, function(t, e, n) {
    var i = n(103)(Object.keys, Object);
    t.exports = i
}, function(t, e, n) {
    var i = n(72),
        o = n(146),
        r = n(193),
        a = n(51),
        s = n(47),
        u = n(202),
        l = n(204),
        c = n(111),
        h = l(function(t, e) {
            var n = {};
            if (null == t) return n;
            var l = !1;
            e = i(e, function(e) {
                return e = a(e, t), l || (l = e.length > 1), e
            }), s(t, c(t), n), l && (n = o(n, 7, u));
            for (var h = e.length; h--;) r(n, e[h]);
            return n
        });
    t.exports = h
}, function(t, e, n) {
    var i = n(104),
        o = n(105),
        r = n(73),
        a = n(169),
        s = n(170),
        u = n(173),
        l = n(174),
        c = n(175),
        h = n(177),
        f = n(109),
        _ = n(111),
        y = n(50),
        d = n(181),
        p = n(182),
        m = n(187),
        v = n(29),
        g = n(57),
        b = n(189),
        S = n(38),
        w = n(191),
        k = n(41),
        E = 1,
        T = 2,
        C = 4,
        O = "[object Arguments]",
        A = "[object Function]",
        P = "[object GeneratorFunction]",
        I = "[object Object]",
        x = {};
    x[O] = x["[object Array]"] = x["[object ArrayBuffer]"] = x["[object DataView]"] = x["[object Boolean]"] = x["[object Date]"] = x["[object Float32Array]"] = x["[object Float64Array]"] = x["[object Int8Array]"] = x["[object Int16Array]"] = x["[object Int32Array]"] = x["[object Map]"] = x["[object Number]"] = x[I] = x["[object RegExp]"] = x["[object Set]"] = x["[object String]"] = x["[object Symbol]"] = x["[object Uint8Array]"] = x["[object Uint8ClampedArray]"] = x["[object Uint16Array]"] = x["[object Uint32Array]"] = !0, x["[object Error]"] = x[A] = x["[object WeakMap]"] = !1, t.exports = function t(e, n, R, W, N, j) {
        var L, G = n & E,
            M = n & T,
            B = n & C;
        if (R && (L = N ? R(e, W, N, j) : R(e)), void 0 !== L) return L;
        if (!S(e)) return e;
        var F = v(e);
        if (F) {
            if (L = d(e), !G) return l(e, L)
        } else {
            var H = y(e),
                D = H == A || H == P;
            if (g(e)) return u(e, G);
            if (H == I || H == O || D && !N) {
                if (L = M || D ? {} : m(e), !G) return M ? h(e, s(L, e)) : c(e, a(L, e))
            } else {
                if (!x[H]) return N ? e : {};
                L = p(e, H, G)
            }
        }
        j || (j = new i);
        var K = j.get(e);
        if (K) return K;
        if (j.set(e, L), w(e)) return e.forEach(function(i) {
            L.add(t(i, n, R, i, e, j))
        }), L;
        if (b(e)) return e.forEach(function(i, o) {
            L.set(o, t(i, n, R, o, e, j))
        }), L;
        var U = B ? M ? _ : f : M ? keysIn : k,
            Y = F ? void 0 : U(e);
        return o(Y || e, function(i, o) {
            Y && (i = e[o = i]), r(L, o, t(i, n, R, o, e, j))
        }), L
    }
}, function(t, e) {
    t.exports = function() {
        this.__data__ = [], this.size = 0
    }
}, function(t, e, n) {
    var i = n(61),
        o = Array.prototype.splice;
    t.exports = function(t) {
        var e = this.__data__,
            n = i(e, t);
        return !(n < 0 || (n == e.length - 1 ? e.pop() : o.call(e, n, 1), --this.size, 0))
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t) {
        var e = this.__data__,
            n = i(e, t);
        return n < 0 ? void 0 : e[n][1]
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t) {
        return i(this.__data__, t) > -1
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t, e) {
        var n = this.__data__,
            o = i(n, t);
        return o < 0 ? (++this.size, n.push([t, e])) : n[o][1] = e, this
    }
}, function(t, e, n) {
    var i = n(60);
    t.exports = function() {
        this.__data__ = new i, this.size = 0
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = this.__data__,
            n = e.delete(t);
        return this.size = e.size, n
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.get(t)
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}, function(t, e, n) {
    var i = n(60),
        o = n(78),
        r = n(79),
        a = 200;
    t.exports = function(t, e) {
        var n = this.__data__;
        if (n instanceof i) {
            var s = n.__data__;
            if (!o || s.length < a - 1) return s.push([t, e]), this.size = ++n.size, this;
            n = this.__data__ = new r(s)
        }
        return n.set(t, e), this.size = n.size, this
    }
}, function(t, e, n) {
    var i = n(158),
        o = n(60),
        r = n(78);
    t.exports = function() {
        this.size = 0, this.__data__ = {
            hash: new i,
            map: new(r || o),
            string: new i
        }
    }
}, function(t, e, n) {
    var i = n(159),
        o = n(160),
        r = n(161),
        a = n(162),
        s = n(163);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(62);
    t.exports = function() {
        this.__data__ = i ? i(null) : {}, this.size = 0
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0, e
    }
}, function(t, e, n) {
    var i = n(62),
        o = "__lodash_hash_undefined__",
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        if (i) {
            var n = e[t];
            return n === o ? void 0 : n
        }
        return r.call(e, t) ? e[t] : void 0
    }
}, function(t, e, n) {
    var i = n(62),
        o = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        return i ? void 0 !== e[t] : o.call(e, t)
    }
}, function(t, e, n) {
    var i = n(62),
        o = "__lodash_hash_undefined__";
    t.exports = function(t, e) {
        var n = this.__data__;
        return this.size += this.has(t) ? 0 : 1, n[t] = i && void 0 === e ? o : e, this
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        var e = i(this, t).delete(t);
        return this.size -= e ? 1 : 0, e
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        return i(this, t).get(t)
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        return i(this, t).has(t)
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t, e) {
        var n = i(this, t),
            o = n.size;
        return n.set(t, e), this.size += n.size == o ? 0 : 1, this
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(41);
    t.exports = function(t, e) {
        return t && i(e, o(e), t)
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(106);
    t.exports = function(t, e) {
        return t && i(e, o(e), t)
    }
}, function(t, e, n) {
    var i = n(38),
        o = n(49),
        r = n(172),
        a = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!i(t)) return r(t);
        var e = o(t),
            n = [];
        for (var s in t)("constructor" != s || !e && a.call(t, s)) && n.push(s);
        return n
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = [];
        if (null != t)
            for (var n in Object(t)) e.push(n);
        return e
    }
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(33),
            r = "object" == i(e) && e && !e.nodeType && e,
            a = r && "object" == i(t) && t && !t.nodeType && t,
            s = a && a.exports === r ? o.Buffer : void 0,
            u = s ? s.allocUnsafe : void 0;
        t.exports = function(t, e) {
            if (e) return t.slice();
            var n = t.length,
                i = u ? u(n) : new t.constructor(n);
            return t.copy(i), i
        }
    }).call(this, n(52)(t))
}, function(t, e) {
    t.exports = function(t, e) {
        var n = -1,
            i = t.length;
        for (e || (e = Array(i)); ++n < i;) e[n] = t[n];
        return e
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(80);
    t.exports = function(t, e) {
        return i(t, o(t), e)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = 0, r = []; ++n < i;) {
            var a = t[n];
            e(a, n, t) && (r[o++] = a)
        }
        return r
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(108);
    t.exports = function(t, e) {
        return i(t, o(t), e)
    }
}, function(t, e, n) {
    var i = n(40)(n(33), "DataView");
    t.exports = i
}, function(t, e, n) {
    var i = n(40)(n(33), "Promise");
    t.exports = i
}, function(t, e, n) {
    var i = n(40)(n(33), "WeakMap");
    t.exports = i
}, function(t, e) {
    var n = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = t.length,
            i = new t.constructor(e);
        return e && "string" == typeof t[0] && n.call(t, "index") && (i.index = t.index, i.input = t.input), i
    }
}, function(t, e, n) {
    var i = n(83),
        o = n(183),
        r = n(184),
        a = n(185),
        s = n(186),
        u = "[object Boolean]",
        l = "[object Date]",
        c = "[object Map]",
        h = "[object Number]",
        f = "[object RegExp]",
        _ = "[object Set]",
        y = "[object String]",
        d = "[object Symbol]",
        p = "[object ArrayBuffer]",
        m = "[object DataView]",
        v = "[object Float32Array]",
        g = "[object Float64Array]",
        b = "[object Int8Array]",
        S = "[object Int16Array]",
        w = "[object Int32Array]",
        k = "[object Uint8Array]",
        E = "[object Uint8ClampedArray]",
        T = "[object Uint16Array]",
        C = "[object Uint32Array]";
    t.exports = function(t, e, n) {
        var O = t.constructor;
        switch (e) {
            case p:
                return i(t);
            case u:
            case l:
                return new O(+t);
            case m:
                return o(t, n);
            case v:
            case g:
            case b:
            case S:
            case w:
            case k:
            case E:
            case T:
            case C:
                return s(t, n);
            case c:
                return new O;
            case h:
            case y:
                return new O(t);
            case f:
                return r(t);
            case _:
                return new O;
            case d:
                return a(t)
        }
    }
}, function(t, e, n) {
    var i = n(83);
    t.exports = function(t, e) {
        var n = e ? i(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.byteLength)
    }
}, function(t, e) {
    var n = /\w*$/;
    t.exports = function(t) {
        var e = new t.constructor(t.source, n.exec(t));
        return e.lastIndex = t.lastIndex, e
    }
}, function(t, e, n) {
    var i = n(46),
        o = i ? i.prototype : void 0,
        r = o ? o.valueOf : void 0;
    t.exports = function(t) {
        return r ? Object(r.call(t)) : {}
    }
}, function(t, e, n) {
    var i = n(83);
    t.exports = function(t, e) {
        var n = e ? i(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.length)
    }
}, function(t, e, n) {
    var i = n(188),
        o = n(82),
        r = n(49);
    t.exports = function(t) {
        return "function" != typeof t.constructor || r(t) ? {} : i(o(t))
    }
}, function(t, e, n) {
    var i = n(38),
        o = Object.create,
        r = function() {
            function t() {}
            return function(e) {
                if (!i(e)) return {};
                if (o) return o(e);
                t.prototype = e;
                var n = new t;
                return t.prototype = void 0, n
            }
        }();
    t.exports = r
}, function(t, e, n) {
    var i = n(190),
        o = n(58),
        r = n(59),
        a = r && r.isMap,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(50),
        o = n(32),
        r = "[object Map]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(192),
        o = n(58),
        r = n(59),
        a = r && r.isSet,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(50),
        o = n(32),
        r = "[object Set]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(198),
        r = n(199),
        a = n(64);
    t.exports = function(t, e) {
        return e = i(e, t), null == (t = r(t, e)) || delete t[a(o(e))]
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(29),
        r = n(53),
        a = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        s = /^\w*$/;
    t.exports = function(t, e) {
        if (o(t)) return !1;
        var n = i(t);
        return !("number" != n && "symbol" != n && "boolean" != n && null != t && !r(t)) || s.test(t) || !a.test(t) || null != e && t in Object(e)
    }
}, function(t, e, n) {
    var i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        o = /\\(\\)?/g,
        r = n(196)(function(t) {
            var e = [];
            return 46 === t.charCodeAt(0) && e.push(""), t.replace(i, function(t, n, i, r) {
                e.push(i ? r.replace(o, "$1") : n || t)
            }), e
        });
    t.exports = r
}, function(t, e, n) {
    var i = n(197),
        o = 500;
    t.exports = function(t) {
        var e = i(t, function(t) {
                return n.size === o && n.clear(), t
            }),
            n = e.cache;
        return e
    }
}, function(t, e, n) {
    var i = n(79),
        o = "Expected a function";

    function r(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e) throw new TypeError(o);
        var n = function n() {
            var i = arguments,
                o = e ? e.apply(this, i) : i[0],
                r = n.cache;
            if (r.has(o)) return r.get(o);
            var a = t.apply(this, i);
            return n.cache = r.set(o, a) || r, a
        };
        return n.cache = new(r.Cache || i), n
    }
    r.Cache = i, t.exports = r
}, function(t, e) {
    t.exports = function(t) {
        var e = null == t ? 0 : t.length;
        return e ? t[e - 1] : void 0
    }
}, function(t, e, n) {
    var i = n(200),
        o = n(201);
    t.exports = function(t, e) {
        return e.length < 2 ? t : i(t, o(e, 0, -1))
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(64);
    t.exports = function(t, e) {
        for (var n = 0, r = (e = i(e, t)).length; null != t && n < r;) t = t[o(e[n++])];
        return n && n == r ? t : void 0
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        var i = -1,
            o = t.length;
        e < 0 && (e = -e > o ? 0 : o + e), (n = n > o ? o : n) < 0 && (n += o), o = e > n ? 0 : n - e >>> 0, e >>>= 0;
        for (var r = Array(o); ++i < o;) r[i] = t[i + e];
        return r
    }
}, function(t, e, n) {
    var i = n(203);
    t.exports = function(t) {
        return i(t) ? void 0 : t
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(82),
        r = n(32),
        a = "[object Object]",
        s = Function.prototype,
        u = Object.prototype,
        l = s.toString,
        c = u.hasOwnProperty,
        h = l.call(Object);
    t.exports = function(t) {
        if (!r(t) || i(t) != a) return !1;
        var e = o(t);
        if (null === e) return !0;
        var n = c.call(e, "constructor") && e.constructor;
        return "function" == typeof n && n instanceof n && l.call(n) == h
    }
}, function(t, e, n) {
    var i = n(205),
        o = n(99),
        r = n(100);
    t.exports = function(t) {
        return r(o(t, void 0, i), t + "")
    }
}, function(t, e, n) {
    var i = n(114);
    t.exports = function(t) {
        return null != t && t.length ? i(t, 1) : []
    }
}, function(t, e, n) {
    var i = n(46),
        o = n(56),
        r = n(29),
        a = i ? i.isConcatSpreadable : void 0;
    t.exports = function(t) {
        return r(t) || o(t) || !!(a && t && t[a])
    }
}, function(t, e, n) {
    var i = n(208),
        o = n(71),
        r = /[&<>"']/g,
        a = RegExp(r.source);
    t.exports = function(t) {
        return (t = o(t)) && a.test(t) ? t.replace(r, i) : t
    }
}, function(t, e, n) {
    var i = n(209)({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
    });
    t.exports = i
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return null == t ? void 0 : t[e]
        }
    }
}, function(t, e, n) {
    var i = n(115),
        o = n(116);
    t.exports = function(t, e) {
        return t && i(t, o(e))
    }
}, function(t, e, n) {
    var i = n(212)();
    t.exports = i
}, function(t, e) {
    t.exports = function(t) {
        return function(e, n, i) {
            for (var o = -1, r = Object(e), a = i(e), s = a.length; s--;) {
                var u = a[t ? s : ++o];
                if (!1 === n(r[u], u, r)) break
            }
            return e
        }
    }
}, function(t, e, n) {
    var i = n(117),
        o = n(39),
        r = n(118),
        a = n(119),
        s = n(219),
        u = Math.max;
    t.exports = function(t, e, n, l) {
        t = o(t) ? t : s(t), n = n && !l ? a(n) : 0;
        var c = t.length;
        return n < 0 && (n = u(c + n, 0)), r(t) ? n <= c && t.indexOf(e, n) > -1 : !!c && i(t, e, n) > -1
    }
}, function(t, e) {
    t.exports = function(t, e, n, i) {
        for (var o = t.length, r = n + (i ? 1 : -1); i ? r-- : ++r < o;)
            if (e(t[r], r, t)) return r;
        return -1
    }
}, function(t, e) {
    t.exports = function(t) {
        return t != t
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        for (var i = n - 1, o = t.length; ++i < o;)
            if (t[i] === e) return i;
        return -1
    }
}, function(t, e, n) {
    var i = n(218),
        o = 1 / 0,
        r = 1.7976931348623157e308;
    t.exports = function(t) {
        return t ? (t = i(t)) === o || t === -o ? (t < 0 ? -1 : 1) * r : t == t ? t : 0 : 0 === t ? t : 0
    }
}, function(t, e, n) {
    var i = n(38),
        o = n(53),
        r = NaN,
        a = /^\s+|\s+$/g,
        s = /^[-+]0x[0-9a-f]+$/i,
        u = /^0b[01]+$/i,
        l = /^0o[0-7]+$/i,
        c = parseInt;
    t.exports = function(t) {
        if ("number" == typeof t) return t;
        if (o(t)) return r;
        if (i(t)) {
            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = i(e) ? e + "" : e
        }
        if ("string" != typeof t) return 0 === t ? t : +t;
        t = t.replace(a, "");
        var n = u.test(t);
        return n || l.test(t) ? c(t.slice(2), n ? 2 : 8) : s.test(t) ? r : +t
    }
}, function(t, e, n) {
    var i = n(220),
        o = n(41);
    t.exports = function(t) {
        return null == t ? [] : i(t, o(t))
    }
}, function(t, e, n) {
    var i = n(72);
    t.exports = function(t, e) {
        return i(e, function(e) {
            return t[e]
        })
    }
}, function(t, e, n) {
    var i = n(222),
        o = n(58),
        r = n(59),
        a = r && r.isDate,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(37),
        o = n(32),
        r = "[object Date]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(224);
    t.exports = function(t, e) {
        return i(t, e)
    }
}, function(t, e, n) {
    var i = n(225),
        o = n(32);
    t.exports = function t(e, n, r, a, s) {
        return e === n || (null == e || null == n || !o(e) && !o(n) ? e != e && n != n : i(e, n, r, a, t, s))
    }
}, function(t, e, n) {
    var i = n(104),
        o = n(120),
        r = n(229),
        a = n(231),
        s = n(50),
        u = n(29),
        l = n(57),
        c = n(77),
        h = 1,
        f = "[object Arguments]",
        _ = "[object Array]",
        y = "[object Object]",
        d = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, p, m, v) {
        var g = u(t),
            b = u(e),
            S = g ? _ : s(t),
            w = b ? _ : s(e),
            k = (S = S == f ? y : S) == y,
            E = (w = w == f ? y : w) == y,
            T = S == w;
        if (T && l(t)) {
            if (!l(e)) return !1;
            g = !0, k = !1
        }
        if (T && !k) return v || (v = new i), g || c(t) ? o(t, e, n, p, m, v) : r(t, e, S, n, p, m, v);
        if (!(n & h)) {
            var C = k && d.call(t, "__wrapped__"),
                O = E && d.call(e, "__wrapped__");
            if (C || O) {
                var A = C ? t.value() : t,
                    P = O ? e.value() : e;
                return v || (v = new i), m(A, P, n, p, v)
            }
        }
        return !!T && (v || (v = new i), a(t, e, n, p, m, v))
    }
}, function(t, e) {
    var n = "__lodash_hash_undefined__";
    t.exports = function(t) {
        return this.__data__.set(t, n), this
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i;)
            if (e(t[n], n, t)) return !0;
        return !1
    }
}, function(t, e, n) {
    var i = n(46),
        o = n(113),
        r = n(55),
        a = n(120),
        s = n(230),
        u = n(84),
        l = 1,
        c = 2,
        h = "[object Boolean]",
        f = "[object Date]",
        _ = "[object Error]",
        y = "[object Map]",
        d = "[object Number]",
        p = "[object RegExp]",
        m = "[object Set]",
        v = "[object String]",
        g = "[object Symbol]",
        b = "[object ArrayBuffer]",
        S = "[object DataView]",
        w = i ? i.prototype : void 0,
        k = w ? w.valueOf : void 0;
    t.exports = function(t, e, n, i, w, E, T) {
        switch (n) {
            case S:
                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
                t = t.buffer, e = e.buffer;
            case b:
                return !(t.byteLength != e.byteLength || !E(new o(t), new o(e)));
            case h:
            case f:
            case d:
                return r(+t, +e);
            case _:
                return t.name == e.name && t.message == e.message;
            case p:
            case v:
                return t == e + "";
            case y:
                var C = s;
            case m:
                var O = i & l;
                if (C || (C = u), t.size != e.size && !O) return !1;
                var A = T.get(t);
                if (A) return A == e;
                i |= c, T.set(t, e);
                var P = a(C(t), C(e), i, w, E, T);
                return T.delete(t), P;
            case g:
                if (k) return k.call(t) == k.call(e)
        }
        return !1
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = -1,
            n = Array(t.size);
        return t.forEach(function(t, i) {
            n[++e] = [i, t]
        }), n
    }
}, function(t, e, n) {
    var i = n(109),
        o = 1,
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, a, s, u) {
        var l = n & o,
            c = i(t),
            h = c.length;
        if (h != i(e).length && !l) return !1;
        for (var f = h; f--;) {
            var _ = c[f];
            if (!(l ? _ in e : r.call(e, _))) return !1
        }
        var y = u.get(t);
        if (y && u.get(e)) return y == e;
        var d = !0;
        u.set(t, e), u.set(e, t);
        for (var p = l; ++f < h;) {
            var m = t[_ = c[f]],
                v = e[_];
            if (a) var g = l ? a(v, m, _, e, t, u) : a(m, v, _, t, e, u);
            if (!(void 0 === g ? m === v || s(m, v, n, a, u) : g)) {
                d = !1;
                break
            }
            p || (p = "constructor" == _)
        }
        if (d && !p) {
            var b = t.constructor,
                S = e.constructor;
            b != S && "constructor" in t && "constructor" in e && !("function" == typeof b && b instanceof b && "function" == typeof S && S instanceof S) && (d = !1)
        }
        return u.delete(t), u.delete(e), d
    }
}, function(t, e, n) {
    var i = n(233),
        o = n(234);
    t.exports = function(t, e) {
        return null != t && o(t, e, i)
    }
}, function(t, e) {
    var n = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        return null != t && n.call(t, e)
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(56),
        r = n(29),
        a = n(76),
        s = n(75),
        u = n(64);
    t.exports = function(t, e, n) {
        for (var l = -1, c = (e = i(e, t)).length, h = !1; ++l < c;) {
            var f = u(e[l]);
            if (!(h = null != t && n(t, f))) break;
            t = t[f]
        }
        return h || ++l != c ? h : !!(c = null == t ? 0 : t.length) && s(c) && a(f, c) && (r(t) || o(t))
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(54),
        r = n(64);
    t.exports = function(t, e, n) {
        var a = -1,
            s = (e = i(e, t)).length;
        for (s || (s = 1, t = void 0); ++a < s;) {
            var u = null == t ? void 0 : t[r(e[a])];
            void 0 === u && (a = s, u = n), t = o(u) ? u.call(t) : u
        }
        return t
    }
}, function(t, e, n) {
    var i = n(114),
        o = n(98),
        r = n(237),
        a = n(242),
        s = o(function(t) {
            return r(i(t, 1, a, !0))
        });
    t.exports = s
}, function(t, e, n) {
    var i = n(121),
        o = n(238),
        r = n(239),
        a = n(122),
        s = n(240),
        u = n(84),
        l = 200;
    t.exports = function(t, e, n) {
        var c = -1,
            h = o,
            f = t.length,
            _ = !0,
            y = [],
            d = y;
        if (n) _ = !1, h = r;
        else if (f >= l) {
            var p = e ? null : s(t);
            if (p) return u(p);
            _ = !1, h = a, d = new i
        } else d = e ? [] : y;
        t: for (; ++c < f;) {
            var m = t[c],
                v = e ? e(m) : m;
            if (m = n || 0 !== m ? m : 0, _ && v == v) {
                for (var g = d.length; g--;)
                    if (d[g] === v) continue t;
                e && d.push(v), y.push(m)
            } else h(d, v, n) || (d !== y && d.push(v), y.push(m))
        }
        return y
    }
}, function(t, e, n) {
    var i = n(117);
    t.exports = function(t, e) {
        return !(null == t || !t.length) && i(t, e, 0) > -1
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        for (var i = -1, o = null == t ? 0 : t.length; ++i < o;)
            if (n(e, t[i])) return !0;
        return !1
    }
}, function(t, e, n) {
    var i = n(112),
        o = n(241),
        r = n(84),
        a = i && 1 / r(new i([, -0]))[1] == 1 / 0 ? function(t) {
            return new i(t)
        } : o;
    t.exports = a
}, function(t, e) {
    t.exports = function() {}
}, function(t, e, n) {
    var i = n(39),
        o = n(32);
    t.exports = function(t) {
        return o(t) && i(t)
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(244),
        r = n(41),
        a = n(246),
        s = n(94),
        u = n(247),
        l = Array.prototype.slice,
        c = n(250),
        h = {
            on: function(t, e, n) {
                return c.eventsApi(this, "on", t, [e, n]) && e ? (this._events || (this._events = {}), (this._events[t] || (this._events[t] = [])).push({
                    callback: e,
                    context: n,
                    ctx: n || this
                }), this) : this
            },
            once: function(t, e, n) {
                if (!c.eventsApi(this, "once", t, [e, n]) || !e) return this;
                var i = this,
                    r = o(function() {
                        i.off(t, r), e.apply(this, arguments)
                    });
                return r._callback = e, this.on(t, r, n)
            },
            off: function(t, e, n) {
                var i, o, a, s, u, l, h, f;
                if (!this._events || !c.eventsApi(this, "off", t, [e, n])) return this;
                if (!t && !e && !n) return this._events = void 0, this;
                for (u = 0, l = (s = t ? [t] : r(this._events)).length; u < l; u++)
                    if (t = s[u], a = this._events[t]) {
                        if (this._events[t] = i = [], e || n)
                            for (h = 0, f = a.length; h < f; h++) o = a[h], (e && e !== o.callback && e !== o.callback._callback || n && n !== o.context) && i.push(o);
                        i.length || delete this._events[t]
                    } return this
            },
            trigger: function(t) {
                if (!this._events) return this;
                var e = l.call(arguments, 1);
                if (!c.eventsApi(this, "trigger", t, e)) return this;
                var n = this._events[t],
                    i = this._events.all;
                return n && c.triggerEvents(n, e), i && c.triggerEvents(i, arguments), this
            },
            stopListening: function(t, e, n) {
                var o = this._listeningTo;
                if (!o) return this;
                var r = !e && !n;
                n || "object" !== i(e) || (n = this), t && ((o = {})[t._listenId] = t);
                var s = this;
                return u(o, function(t, i) {
                    t.off(e, n, s), (r || a(t._events)) && delete s._listeningTo[i]
                }), this
            },
            createEmitter: function(t) {
                return s(t || {}, h)
            },
            listenTo: c.createListenMethod("on"),
            listenToOnce: c.createListenMethod("once"),
            listenToAndRun: function(t, e, n) {
                return this.listenTo.apply(this, arguments), n || "object" !== i(e) || (n = this), n.apply(this), this
            }
        };
    h.bind = h.on, h.unbind = h.off, h.removeListener = h.off, h.removeAllListeners = h.off, h.emit = h.trigger, t.exports = h
}, function(t, e, n) {
    var i = n(245);
    t.exports = function(t) {
        return i(2, t)
    }
}, function(t, e, n) {
    var i = n(119),
        o = "Expected a function";
    t.exports = function(t, e) {
        var n;
        if ("function" != typeof e) throw new TypeError(o);
        return t = i(t),
            function() {
                return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = void 0), n
            }
    }
}, function(t, e, n) {
    var i = n(102),
        o = n(50),
        r = n(56),
        a = n(29),
        s = n(39),
        u = n(57),
        l = n(49),
        c = n(77),
        h = "[object Map]",
        f = "[object Set]",
        _ = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (null == t) return !0;
        if (s(t) && (a(t) || "string" == typeof t || "function" == typeof t.splice || u(t) || c(t) || r(t))) return !t.length;
        var e = o(t);
        if (e == h || e == f) return !t.size;
        if (l(t)) return !i(t).length;
        for (var n in t)
            if (_.call(t, n)) return !1;
        return !0
    }
}, function(t, e, n) {
    var i = n(105),
        o = n(248),
        r = n(116),
        a = n(29);
    t.exports = function(t, e) {
        return (a(t) ? i : o)(t, r(e))
    }
}, function(t, e, n) {
    var i = n(115),
        o = n(249)(i);
    t.exports = o
}, function(t, e, n) {
    var i = n(39);
    t.exports = function(t, e) {
        return function(n, o) {
            if (null == n) return n;
            if (!i(n)) return t(n, o);
            for (var r = n.length, a = e ? r : -1, s = Object(n);
                (e ? a-- : ++a < r) && !1 !== o(s[a], a, s););
            return n
        }
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(92),
        r = /\s+/;
    e.triggerEvents = function(t, e) {
        var n, i = -1,
            o = t.length,
            r = e[0],
            a = e[1],
            s = e[2];
        switch (e.length) {
            case 0:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx);
                return;
            case 1:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r);
                return;
            case 2:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r, a);
                return;
            case 3:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r, a, s);
                return;
            default:
                for (; ++i < o;)(n = t[i]).callback.apply(n.ctx, e);
                return
        }
    }, e.eventsApi = function(t, e, n, o) {
        if (!n) return !0;
        if ("object" === i(n)) {
            for (var a in n) t[e].apply(t, [a, n[a]].concat(o));
            return !1
        }
        if (r.test(n)) {
            for (var s = n.split(r), u = 0, l = s.length; u < l; u++) t[e].apply(t, [s[u]].concat(o));
            return !1
        }
        return !0
    }, e.createListenMethod = function(t) {
        return function(e, n, r) {
            if (!e) throw new Error("Trying to listenTo event: '" + n + "' but the target object is undefined");
            if ((this._listeningTo || (this._listeningTo = {}))[e._listenId || (e._listenId = o("l"))] = e, r || "object" !== i(n) || (r = this), "function" != typeof e[t]) throw new Error("Trying to listenTo event: '" + n + "' on object: " + e.toString() + " but it does not have an 'on' method so is unbindable");
            return e[t](n, r, this), this
        }
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i = Array.prototype.slice;

    function o(t) {
        if ("object" !== n(t = t || {})) throw new TypeError("Options must be an object");
        this.storage = {}, this.separator = t.separator || "."
    }
    o.prototype.add = function(t, e) {
        (this.storage[t] || (this.storage[t] = [])).push(e)
    }, o.prototype.remove = function(t) {
        var e, n;
        for (e in this.storage)(n = this.storage[e]).some(function(e, i) {
            if (e === t) return n.splice(i, 1), !0
        })
    }, o.prototype.get = function(t) {
        var e, n = [];
        for (e in this.storage) t && t !== e && 0 !== e.indexOf(t + this.separator) || (n = n.concat(this.storage[e]));
        return n
    }, o.prototype.getGrouped = function(t) {
        var e, n = {};
        for (e in this.storage) t && t !== e && 0 !== e.indexOf(t + this.separator) || (n[e] = i.call(this.storage[e]));
        return n
    }, o.prototype.getAll = function(t) {
        var e, n = {};
        for (e in this.storage) t !== e && 0 !== e.indexOf(t + this.separator) || (n[e] = i.call(this.storage[e]));
        return n
    }, o.prototype.run = function(t, e) {
        var n = i.call(arguments, 2);
        this.get(t).forEach(function(t) {
            t.apply(e || this, n)
        })
    }, t.exports = o
}, function(t, e) {
    t.exports = function(t, e) {
        var n = t.length,
            i = t.indexOf(e) + 1;
        return i > n - 1 && (i = 0), t[i]
    }
}, function(t, e, n) {
    "use strict";
    n.r(e), n.d(e, "init", function() {
        return s
    });
    var i = n(67),
        o = n(123),
        r = n(126),
        a = n(125);
    var s = function(t) {
        var e = t.defaultConfig,
            n = t.specificConfig,
            s = t.authToken,
            u = t.socket,
            l = t.exitCallback,
            c = t.beforeExitCallback,
            h = t.logService,
            f = t.isDemo,
            _ = a.a.merge(e, n),
            y = !!_.server.debug && Boolean(_.server.debug.demo);
        return new o.a({
            workshop: new r.a(_, {
                howler: new i.a
            }),
            authToken: s,
            socket: u,
            exitCallback: l,
            beforeExitCallback: c,
            logService: h,
            isDemo: f || y
        })
    }
}]); /*! v.2.0.0-rc3-live-33b6ddc */
var Game = function(t) {
    var e = {};

    function n(i) {
        if (e[i]) return e[i].exports;
        var o = e[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return t[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports
    }
    return n.m = t, n.c = e, n.d = function(t, e, i) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }, n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, n.t = function(t, e) {
        if (1 & e && (t = n(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var i = Object.create(null);
        if (n.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var o in t) n.d(i, o, function(e) {
                return t[e]
            }.bind(null, o));
        return i
    }, n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return n.d(e, "a", e), e
    }, n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, n.p = "", n(n.s = 253)
}([function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.PREPARING = "slotStatus.preparing", t.BEFORE_READY = "slotStatus.beforeReady", t.READY = "slotStatus.ready", t.SPINNING = "slotStatus.spinning", t.STOP_SPINNING = "slotStatus.stopSpinning", t.AFTER_SPIN = "slotStatus.afterSpin", t.WAITING = "slotStatus.waiting", t.TAKING = "slotStatus.taking", t.BEFORE_WINLINE_WALK = "slotStatus.beforeWinlineWalk", t.FIRST_WINLINE_WALK = "slotStatus.firstWinlineWalk", t.NTH_WINLINE_WALK = "slotStatus.nthWinlineWalk", t.FAST_WINLINE_WALK = "slotStatus.fastWinlineWalk", t.GAMBLING = "slotStatus.gambling", t.BEFORE_SCATTER = "slotStatus.beforeScatter", t.SCATTER_INTRO = "slotStatus.scatterIntro", t.SCATTER_SELECT = "slotStatus.scatterSelect", t.SCATTER_OUTRO = "slotStatus.scatterOutro", t.BEFORE_SPECIAL_WALK = "slotStatus.beforeSpecialWalk", t.BEFORE_FAST_SPECIAL_WALK = "slotStatus.beforeFastSpecialWalk", t.SPECIAL_WALK = "slotStatus.specialWalk", t.FAST_SPECIAL_WALK = "slotStatus.fastSpecialWalk"
        }(i || (i = {}))
}, function(t, e) {
    t.exports = PIXI
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.SPIN = "slotEvent.spin", t.SPIN_COMPLETE = "slotEvent.spinComplete", t.STOP_SPIN = "slotEvent.stopSpin", t.WINLINE_WALK = "slotEvent.winlineWalk", t.WINLINE_WALK_COMPLETE = "slotEvent.winlineWalkComplete", t.TAKE = "slotEvent.take", t.GAMBLE = "slotEvent.gamble", t.SETTINGS = "slotEvent.settings", t.EXIT = "slotEvent.exit", t.REEL_SPIN_START = "slotEvent.reelSpinStart", t.REEL_STOPPING = "slotEvent.reelStopping", t.REEL_ENTER_FINAL_SYMBOLS = "slotEvent.reelEnterFinalSymbols", t.STOP_AUTO_PLAY = "slotEvent.stopAutoPlay", t.BEFORE_WINLINE_WALK = "slotEvent.beforeWinlineWalk", t.BEFORE_WINLINE_WALK_COMPLETE = "slotEvent.beforeWinlineWalkComplete", t.BEFORE_SPECIAL_WALK_COMPLETE = "slotEvent.beforeSpecialWalkComplete", t.BEFORE_SPECIAL_WALK_TRANSFORM = "slotEvent.beforeSpecialWalkTransform", t.SPECIAL_MULTIPLIER = "slotEvent.specialMultiplier", t.AFTER_SPIN = "slotEvent.afterSpin", t.AFTER_SPIN_COMPLETE = "slotEvent.afterSpinComplete", t.POT_COMPLETE = "slotEvent.potComplete", t.SCATTER_INTRO_COMPLETE = "slotEvent.scatterIntroComplete", t.SCATTER_SELECT = "slotEvent.scatterSelect", t.SCATTER_SELECT_COMPLETE = "slotEvent.scatterSelectComplete", t.WINLINE_NUMBER_TAP = "slotEvent.winlineNumberTap"
        }(i || (i = {}))
}, function(t, e) {
    t.exports = GreenSockGlobals
}, function(t, e, n) {
    "use strict";
    var i = {
        hideSplashScreen: function() {
            document.getElementById("splash-screen").style.display = "none"
        },
        FPS: 60,
        MAX_MOBILE_TEXTURE_SIZE: 2048,
        MAX_DESKTOP_TEXTURE_SIZE: 8192,
        MIN_RATIO_ADJUSTMENT: .8484,
        _cache: {
            ratioAdjustment: 0,
            routeReady: !0
        },
        requestFullscreen: function() {
            var t = document.getElementById("game-container");
            t.requestFullscreen ? t.requestFullscreen() : t.msRequestFullscreen ? t.msRequestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen && t.webkitRequestFullscreen()
        },
        exitFullscreen: function() {
            document.exitFullscreen ? document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen()
        },
        hasFullscreenSupport: function() {
            var t = /Android ([0-9]+)\./.exec(navigator.userAgent),
                e = /Chrome\/([0-9]+)\./.exec(navigator.userAgent),
                n = e && e[1] <= 38,
                i = t && t[1] < 5 && n;
            return !(!(document.body.requestFullscreen || document.body.msRequestFullscreen || document.body.mozRequestFullScreen || document.body.webkitRequestFullscreen) || i)
        },
        isIPad: function() {
            return navigator.userAgent.indexOf("iPad") > -1
        },
        isIPhone: function() {
            return navigator.userAgent.indexOf("iPhone") > -1
        },
        isIOS: function() {
            return i.isIPad() || i.isIPhone()
        },
        isIE11: function() {
            return !!window.MSInputMethodContext && !!document.documentMode
        },
        reload: function() {
            location.reload()
        },
        isBigScreen: function() {
            var t = 864,
                e = screen.deviceXDPI / screen.logicalXDPI;
            return e && (t /= e), screen.width >= t && screen.height >= t
        },
        isFullscreen: function() {
            return screen.height === window.innerHeight && screen.width === window.innerWidth
        },
        isOptimalBrowser: function() {
            var t = /Chrome\/([0-9]+)\./.exec(navigator.userAgent) || /CriOS\/([0-9]+)\./.exec(navigator.userAgent);
            return t && t[1] > 39
        },
        getRatioAdjustment: function(t) {
            var e = t.width,
                n = t.height;
            if (!i._cache.ratioAdjustment) {
                var o = i._calculateRatio(screen.width, screen.height),
                    r = i._calculateTaskbarDependentRatio(),
                    a = i._calculateRatio(screen.availWidth, screen.availHeight),
                    s = i.isIPad() ? r : a,
                    u = i.hasFullscreenSupport() ? o : s,
                    l = e / n;
                i._cache.ratioAdjustment = u / l
            }
            return i._cache.ratioAdjustment
        },
        isNarrowScreen: function(t) {
            return i.getCappedRatioAdjustment({
                width: t.width,
                height: t.height
            }) < t.adjustment.narrowScreenThreshold
        },
        getCappedRatioAdjustment: function(t) {
            var e = t.width,
                n = t.height;
            return Math.max(i.getRatioAdjustment({
                width: e,
                height: n
            }), i.MIN_RATIO_ADJUSTMENT)
        },
        _calculateRatio: function(t, e) {
            return Math.max(t / e, e / t)
        },
        _calculateTaskbarDependentRatio: function() {
            var t = i._calculateTaskbarHeight(),
                e = Math.min(screen.width, screen.height),
                n = Math.max(screen.width, screen.height);
            return this._calculateRatio(n, e - t)
        },
        _calculateTaskbarHeight: function() {
            return screen.height === window.innerWidth ? screen.width - window.innerHeight : screen.width === window.innerWidth ? screen.height - window.innerHeight : Math.min(screen.width, screen.height) - Math.min(window.innerWidth, window.innerHeight)
        },
        requiresScrolling: function() {
            var t = document.body,
                e = document.documentElement;
            return Math.max(t.scrollHeight, t.offsetHeight, e.clientHeight, e.scrollHeight, e.offsetHeight) > window.innerHeight && !i.isFullscreen()
        },
        addBeforeUnloadListener: function(t, e) {
            window.history.state && window.history.state.isPrepared || window.history.pushState({
                isPrepared: !0
            }, "", window.location.href), i._cache.oldBeforeUnload || (i._cache.oldBeforeUnload = window.onbeforeunload), window.onbeforeunload = function() {
                return t()
            }, i._cache.oldPopState || (i._cache.oldPopState = window.onpopstate), window.onpopstate = function() {
                window.history.pushState({
                    isPrepared: !0
                }, "", window.location.href);
                var n = t();
                n ? alert(n) : e(), i._cache.oldPopState && i._cache.oldPopState()
            }
        },
        removeBeforeUnloadListener: function() {
            window.onbeforeunload = i._cache.oldBeforeUnload, i._cache.oldBeforeUnload = null, window.onpopstate = i._cache.oldPopState, i._cache.oldPopState = null
        },
        addClickListener: function(t, e, n) {
            i.isIPhone() || t.on("click", e, n), t.on("tap", e, n)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.REGULAR = "gameType.regular", t.SCATTER = "gameType.scatter"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    var i = {
        TEXT_COUNT_COMPLETE: "animationEvent.textCountComplete",
        SPIN_COMPLETE: "animationEvent.spinComplete",
        AFTER_SPIN_COMPLETE: "animationEvent.afterSpinComplete",
        REEL_STOPPING: "animationEvent.reelStopping",
        REEL_ENTER_FINAL_SYMBOLS: "animationEvent.reelEnterFinalSymbols",
        WINLINE_WALK_COMPLETE: "animationEvent.winlineWalkComplete",
        WINLINE_WALK: "animationEvent.winlineWalk",
        MULTIPLIER_BANNER_COMPLETE: "animationEvent.multiplierBannerComplete",
        WIN_HEADER_START: "animationEvent.winHeaderStart",
        WIN_HEADER_COMPLETE: "animationEvent.winHeaderComplete",
        SPECIAL_TRANSFORM: "animationEvent.specialTransform",
        SPECIAL_TRANSFORM_COMPLETE: "animationEvent.specialTransformComplete",
        spinCompleteForId: function(t) {
            return "".concat(i.SPIN_COMPLETE, ":").concat(t)
        },
        afterSpinCompleteForId: function(t) {
            return "".concat(i.AFTER_SPIN_COMPLETE, ":").concat(t)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.STATUS_CHANGE = "change:status", t.MAY_TURBO_CHANGE = "change:mayTurbo", t.WALKED_AMOUNT_CHANGE = "change:walkedAmount", t.WALKED_WINLINES_COUNT_CHANGE = "change:walkedWinlinesCount", t.REELS_CHANGE = "change:reels", t.TURBO_ENABLED_CHANGE = "change:turboEnabled", t.WINLINE_WINS_CHANGE = "change:winlineWins", t.SCATTER_WIN_CHANGE = "change:scatterWin", t.TAKEN_AMOUNT_CHANGE = "change:takenAmount", t.AUTO_PLAY_ENABLED_CHANGE = "change:autoPlayEnabled", t.IS_ACTIVE_CHANGE = "change:isActive", t.GAME_TYPE_CHANGE = "change:gameType", t.NEXT_GAME_TYPE_CHANGE = "change:nextGameType", t.SCATTER_MESSAGE_CHANGE = "change:scatterMessage", t.SPECIAL_SYMBOL_ID_CHANGE = "change:specialSymbolId", t.STICKY_SYMBOLS_CHANGE = "change:stickySymbols"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(1),
        o = n(4);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._model = t.model, n._config = t.config, n._assets = t.assets, n._layoutAdjuster = t.layoutAdjuster, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_onClick",
                value: function(t, e, n) {
                    o.a.addClickListener(t, e, n)
                }
            }, {
                key: "_createComponentAdder",
                value: function(t) {
                    var e = this;
                    return function(n, i) {
                        return e._addComponent(n.bind(t), i)
                    }.bind(this)
                }
            }, {
                key: "_addComponent",
                value: function(t, e) {
                    var n = this,
                        i = t.call(null, this._model);
                    return e && e.call(this, i), Array.isArray(i) ? i.forEach(function(t) {
                        n._isDisplayObject(t) && n.addChild(t)
                    }) : this._isDisplayObject(i) && this.addChild(i), i
                }
            }, {
                key: "_isDisplayObject",
                value: function(t) {
                    return !!t.updateTransform
                }
            }, {
                key: "_centerOn",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                            offsetX: 0,
                            offsetY: 0
                        },
                        i = n.offsetX,
                        o = n.offsetY;
                    return e.x = t.x + .5 * (t.width - e.width) + (i || 0), e.y = t.y + .5 * (t.height - e.height) + (o || 0), e
                }
            }, {
                key: "_moveOnTop",
                value: function(t) {
                    this.removeChild(t), this.addChild(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), i.Container.prototype.destroy.call(this)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new i.Container
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = Object.prototype.hasOwnProperty,
        o = "~";

    function r() {}

    function a(t, e, n, i, r) {
        if ("function" != typeof n) throw new TypeError("The listener must be a function");
        var a = new function(t, e, n) {
                this.fn = t, this.context = e, this.once = n || !1
            }(n, i || t, r),
            s = o ? o + e : e;
        return t._events[s] ? t._events[s].fn ? t._events[s] = [t._events[s], a] : t._events[s].push(a) : (t._events[s] = a, t._eventsCount++), t
    }

    function s(t, e) {
        0 == --t._eventsCount ? t._events = new r : delete t._events[e]
    }

    function u() {
        this._events = new r, this._eventsCount = 0
    }
    Object.create && (r.prototype = Object.create(null), (new r).__proto__ || (o = !1)), u.prototype.eventNames = function() {
        var t, e, n = [];
        if (0 === this._eventsCount) return n;
        for (e in t = this._events) i.call(t, e) && n.push(o ? e.slice(1) : e);
        return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n
    }, u.prototype.listeners = function(t) {
        var e = o ? o + t : t,
            n = this._events[e];
        if (!n) return [];
        if (n.fn) return [n.fn];
        for (var i = 0, r = n.length, a = new Array(r); i < r; i++) a[i] = n[i].fn;
        return a
    }, u.prototype.listenerCount = function(t) {
        var e = o ? o + t : t,
            n = this._events[e];
        return n ? n.fn ? 1 : n.length : 0
    }, u.prototype.emit = function(t, e, n, i, r, a) {
        var s = o ? o + t : t;
        if (!this._events[s]) return !1;
        var u, l, c = this._events[s],
            h = arguments.length;
        if (c.fn) {
            switch (c.once && this.removeListener(t, c.fn, void 0, !0), h) {
                case 1:
                    return c.fn.call(c.context), !0;
                case 2:
                    return c.fn.call(c.context, e), !0;
                case 3:
                    return c.fn.call(c.context, e, n), !0;
                case 4:
                    return c.fn.call(c.context, e, n, i), !0;
                case 5:
                    return c.fn.call(c.context, e, n, i, r), !0;
                case 6:
                    return c.fn.call(c.context, e, n, i, r, a), !0
            }
            for (l = 1, u = new Array(h - 1); l < h; l++) u[l - 1] = arguments[l];
            c.fn.apply(c.context, u)
        } else {
            var f, _ = c.length;
            for (l = 0; l < _; l++) switch (c[l].once && this.removeListener(t, c[l].fn, void 0, !0), h) {
                case 1:
                    c[l].fn.call(c[l].context);
                    break;
                case 2:
                    c[l].fn.call(c[l].context, e);
                    break;
                case 3:
                    c[l].fn.call(c[l].context, e, n);
                    break;
                case 4:
                    c[l].fn.call(c[l].context, e, n, i);
                    break;
                default:
                    if (!u)
                        for (f = 1, u = new Array(h - 1); f < h; f++) u[f - 1] = arguments[f];
                    c[l].fn.apply(c[l].context, u)
            }
        }
        return !0
    }, u.prototype.on = function(t, e, n) {
        return a(this, t, e, n, !1)
    }, u.prototype.once = function(t, e, n) {
        return a(this, t, e, n, !0)
    }, u.prototype.removeListener = function(t, e, n, i) {
        var r = o ? o + t : t;
        if (!this._events[r]) return this;
        if (!e) return s(this, r), this;
        var a = this._events[r];
        if (a.fn) a.fn !== e || i && !a.once || n && a.context !== n || s(this, r);
        else {
            for (var u = 0, l = [], c = a.length; u < c; u++)(a[u].fn !== e || i && !a[u].once || n && a[u].context !== n) && l.push(a[u]);
            l.length ? this._events[r] = 1 === l.length ? l[0] : l : s(this, r)
        }
        return this
    }, u.prototype.removeAllListeners = function(t) {
        var e;
        return t ? (e = o ? o + t : t, this._events[e] && s(this, e)) : (this._events = new r, this._eventsCount = 0), this
    }, u.prototype.off = u.prototype.removeListener, u.prototype.addListener = u.prototype.on, u.prefixed = o, u.EventEmitter = u, t.exports = u
}, function(t, e, n) {
    "use strict";
    e.a = {
        CREDITS_CHANGE: "change:credits",
        MODE_CHANGE: "change:mode",
        ERROR_CHANGE: "change:error",
        SERVER_STATUS_CHANGE: "change:serverStatus",
        BET_CHANGE: "change:bet",
        WIN_CHANGE: "change:win",
        STATUS_CHANGE: "change:status",
        MODE_TYPE_CHANGE: "change:modeType",
        POTS_CHANGE: "change:pots",
        POT_HITS_CHANGE: "change:potHits",
        POT_CONFIGS_CHANGE: "change:potConfigs",
        POT_SERVER_CONFIGS_CHANGE: "change:potServerConfigs",
        POT_WIN_CHANGE: "change:potWin",
        SCATTER_GAMES_CHANGE: "change:scatterGames",
        SELECTED_WINLINES_COUNT_CHANGE: "change:selectedWinlinesCount"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        REQUEST_FULLSCREEN: "viewEvent.requestFullscreen",
        DOUBLE_TAP: "viewEvent.doubleTap",
        CONTROLS_CHANGE: "viewEvent.controlsChange",
        INPUT_CHANGE: "viewEvent.inputChange",
        INPUT_SUBMIT: "viewEvent.inputSubmit"
    }
}, function(t, e, n) {
    "use strict";
    var i = n(3),
        o = n(4),
        r = n(1);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), u(this, l(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, r["Container"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "_onClick",
                value: function(t, e, n) {
                    o.a.addClickListener(t, e, n)
                }
            }, {
                key: "destroy",
                value: function() {
                    i.TweenLite.killTweensOf(this), i.TweenLite.killTweensOf(this.scale), this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), r.Container.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = h
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var i = n(4);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, null, [{
            key: "hasDelayer",
            value: function(e, n, i) {
                if (!i.delayer || !i.delayer.id) return !1;
                for (var o = 0; o < e.length; o += 1)
                    if (t.isDelayer(e[o], n, i)) return !0;
                return !1
            }
        }, {
            key: "hasPreWin",
            value: function(t, e, n) {
                if (!t || !t.length) return !1;
                for (var i = 0; i < t.length; i += 1)
                    if (this._hasPreWinAtPositions(t[i].positions, e, n)) return !0;
                return !1
            }
        }, {
            key: "_hasPreWinAtPositions",
            value: function(e, n, i) {
                if (!e || !e.length) return !1;
                for (var o = 0; o < e.length; o += 1) {
                    var r = t.getSymbolAtPosition(n, e[o]),
                        a = t.getIsMultiplierAt(e[o]),
                        s = t.getIsPartOfTransform(r.id, i);
                    if (a || s) return !0
                }
                return !1
            }
        }, {
            key: "isDelayer",
            value: function(e, n, i) {
                return !(!i.delayer || !i.delayer.id) && t.getSymbolAtPosition(n, e).id === i.delayer.id
            }
        }, {
            key: "getSymbolAtPosition",
            value: function(t, e) {
                return t[e.x - 1].symbols[e.y]
            }
        }, {
            key: "calculateDuration",
            value: function(t) {
                var e = t.totalFrames / t.animationSpeed / i.a.FPS;
                return Math.floor(1e3 * e)
            }
        }, {
            key: "getAnimationConfig",
            value: function(e, n) {
                var i = (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._getAnimationConfig).call(t, e, n.animations),
                    o = t._createSettingFilter(i, n);
                return {
                    id: e,
                    fps: o("fps"),
                    playOnlyOnce: o("playOnlyOnce"),
                    hideOnComplete: o("hideOnComplete"),
                    loopCutOff: o("loopCutOff"),
                    loopRepeatDelay: o("loopRepeatDelay"),
                    maxLoopCount: o("maxLoopCount"),
                    nthMaxLoopCount: o("nthMaxLoopCount"),
                    shouldEndOnFirstFrame: o("shouldEndOnFirstFrame"),
                    useAutoMaxLoopCount: o("useAutoMaxLoopCount"),
                    startFrame: o("startFrame"),
                    loopFrom: o("loopFrom")
                }
            }
        }, {
            key: "_getAnimationConfig",
            value: function(t) {
                for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n = 0; n < e.length; n++)
                    if (e[n].id === t) return e[n];
                return {}
            }
        }, {
            key: "_createSettingFilter",
            value: function(t, e) {
                return function(n) {
                    return null === t[n] || void 0 === t[n] ? e[n] : t[n]
                }
            }
        }, {
            key: "getIsMultiplierAt",
            value: function(t) {
                return t.flags && (t.flags.x3 || t.flags.x2 || t.flags.x1)
            }
        }, {
            key: "getIsPartOfComposite",
            value: function(t, e) {
                if (e.composites)
                    for (var n = 0; n < e.composites.length; n++)
                        if (e.composites[n].indexOf(t) > -1) return !0;
                return !1
            }
        }, {
            key: "getIsPartOfTransform",
            value: function(t, e) {
                return !(!e.transform || !e.transform.from) && e.transform.from.indexOf(t) > -1
            }
        }, {
            key: "reduceToUniquePositions",
            value: function(t) {
                return t.map(function(t) {
                    return t.positions
                }).reduce(function(t, e) {
                    return t.concat(e)
                }, []).reduce(function(t, e) {
                    for (var n = 0; n < t.length; n += 1)
                        if (e.x === t[n].x && e.y === t[n].y) return t;
                    return t.concat(e)
                }, [])
            }
        }, {
            key: "getAnimationConfigByPosition",
            value: function(e) {
                var n = e.reels,
                    i = e.position,
                    o = e.config,
                    r = e.id,
                    a = o.special || o,
                    s = i.isSpecial ? a : o,
                    u = t.getSymbolAtPosition(n, i),
                    l = i.flags && i.flags.highWin ? t._getHighWinAnimationConfig : t._getAnimationConfig,
                    c = r || u.id;
                return t.getAnimationConfig(c, s, l)
            }
        }, {
            key: "_getHighWinAnimationConfig",
            value: function(t) {
                for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n = 0; n < e.length; n++)
                    if (e[n].id === t) return e[n].highWin || e[n];
                return {}
            }
        }, {
            key: "getPositionsById",
            value: function(t, e) {
                for (var n = [], i = 0; i < e.length; i += 1)
                    for (var o = 0; o < e[i].symbols.length; o += 1) e[i].symbols[o].id === t && n.push({
                        x: i + 1,
                        y: o
                    });
                return n
            }
        }, {
            key: "getTransformPositions",
            value: function(e, n) {
                var i = n.transform && n.transform.from ? n.transform.from : [];
                return e.reduce(function(t, e, n) {
                    return t.concat(e.symbols.map(function(t, e) {
                        return {
                            x: n,
                            y: e,
                            symbol: t
                        }
                    }))
                }, []).filter(function(e) {
                    e.x;
                    var o = e.y,
                        r = e.symbol,
                        a = r.transformToId || i.indexOf(r.id) > -1 || r.isNewSticky,
                        s = t.getIsWithinVisibleArea(o, n);
                    return a && s
                }).sort(function(t, e) {
                    return t.symbol.transformToId && t.y < e.y ? 1 : -1
                }).map(function(t) {
                    var e = t.x,
                        n = t.y;
                    t.symbol;
                    return {
                        x: e + 1,
                        y: n
                    }
                })
            }
        }, {
            key: "getIsWithinVisibleArea",
            value: function(t, e) {
                var n = e.reels.countOfHiddenSymbolsAbove;
                return t >= n && t < n + e.reels.countOfVisibleSymbols
            }
        }, {
            key: "getWinSymbolId",
            value: function(e, n, i) {
                for (var o = 0; o < e.length; o += 1) {
                    var r = t.getSymbolAtPosition(n, e[o]);
                    if (!i.joker || i.joker.id !== r.id) return r.id
                }
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        AUTH_TOKEN_TERMINATION_NUMBER_SPACE: 100,
        INFO_ERROR: 1,
        IMPOSSIBLE_ERROR: 2,
        GAME_SELECT_ERROR: 10,
        GAME_QUIT_ERROR: 11,
        SPIN_ERROR: 21,
        TAKE_ERROR: 22,
        GAMBLE_ERROR: 23,
        GET_ACCOUNT_ERROR: 31,
        BOOK_ERROR: 32,
        RESYNC_ERROR: 99,
        INTERNAL_ERROR: 100,
        PROTOCOL_FORMAT_ERROR: 101,
        LOGIN_REQUIRED_ERROR: 110,
        LOGIN_ERROR: 150,
        CANNOT_LOGIN_ERROR: 151,
        SERVER_TIMEOUT_ERROR: 152,
        PLAYER_KICKED_ERROR: 153,
        RESUME_IMPOSSIBLE_GAME_ERROR: 154,
        ON_CASHCENTER_ERROR: 155
    }
}, function(t, e, n) {
    "use strict";
    var i = {
        padLeft: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t); i.length < e;) i = "".concat(n).concat(i);
            return i
        },
        padRight: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t); i.length < e;) i = "".concat(i).concat(n);
            return i
        },
        padBoth: function(t, e) {
            for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", i = String(t), o = 0; i.length < e;) i = o % 2 ? "".concat(n).concat(i) : "".concat(i).concat(n), o += 1;
            return i
        },
        formatCredit: function(t, e) {
            if (isNaN(Number(t)) || !e) return String(t);
            var n = i.padLeft(Number(t), 3, "0"),
                o = n.slice(0, n.length - 2),
                r = /(-?\d+)(\d{3})/;
            if (e.thousandsSeparator)
                for (; r.test(o);) o = o.replace(r, "$1".concat(e.thousandsSeparator, "$2"));
            var a = n.slice(n.length - 2);
            return "".concat(o).concat(e.decimalMark || "").concat(a)
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t.PREPARING = "gambleStatus.preparing", t.READY = "gambleStatus.ready", t.SHOWING = "gambleStatus.showing"
        }(i || (i = {}))
}, function(t, e, n) {
    "use strict";
    e.a = {
        BEFORE_READY: "bonusType.beforeReady",
        BEFORE_WINLINE_WALK: "bonusType.beforeWinlineWalk",
        NONE: "bonusType.none"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        REQUEST_FULLSCREEN: "appEvent.requestFullscreen",
        DIALOG_CONFIRM: "appEvent.dialogConfirm",
        CRITICAL_FAULT_CONFIRM: "appEvent.criticalFaultConfirm",
        BET_SETTINGS_TAP: "appEvent.betSettingsTap",
        WIN_COUNT_COMPLETE: "appEvent.winCountComplete",
        CANCEL: "appEvent.cancel",
        EXIT: "appEvent.exit"
    }
}, function(t, e, n) {
    "use strict";
    var i = {
        AUTH_TOKEN: "gc.authToken",
        AUDIO_SETTING: "gc.audioSetting",
        GAMBLE_SETTING: "gc.gambleSetting",
        TURBO_SETTING: "gc.turboSetting",
        CONTROLS_ALIGNMENT_SETTING: "gc.controlsAlignmentSetting",
        LANGUAGE_SETTING: "gc.languageSetting",
        storeAuthToken: function(t) {
            localStorage.setItem(i.AUTH_TOKEN, t)
        },
        retrieveAuthToken: function() {
            return localStorage.getItem(i.AUTH_TOKEN)
        },
        clearAuthToken: function() {
            localStorage.setItem(i.AUTH_TOKEN, "")
        },
        storeAudioSetting: function(t) {
            localStorage.setItem(i.AUDIO_SETTING, t)
        },
        retrieveAudioSetting: function() {
            var t = localStorage.getItem(i.AUDIO_SETTING);
            return i._returnRetrievedSetting(t)
        },
        _returnRetrievedSetting: function(t) {
            return null !== t ? Number(t) : null
        },
        storeGambleSetting: function(t) {
            localStorage.setItem(i.GAMBLE_SETTING, t)
        },
        retrieveGambleSetting: function() {
            var t = localStorage.getItem(i.GAMBLE_SETTING);
            return i._returnRetrievedSetting(t)
        },
        storeTurboSetting: function(t) {
            localStorage.setItem(i.TURBO_SETTING, t)
        },
        retrieveTurboSetting: function() {
            var t = localStorage.getItem(i.TURBO_SETTING);
            return i._returnRetrievedSetting(t)
        },
        storeControlsAlignmentSetting: function(t) {
            localStorage.setItem(i.CONTROLS_ALIGNMENT_SETTING, t)
        },
        retrieveControlsAlignmentSetting: function() {
            var t = localStorage.getItem(i.CONTROLS_ALIGNMENT_SETTING);
            return i._returnRetrievedSetting(t)
        },
        getPotAmount: function(t) {
            return Number(localStorage.getItem("gl.".concat(t)))
        },
        getPotConfigs: function() {
            try {
                return JSON.parse(localStorage.getItem("gl.potsConfigs"))
            } catch (t) {
                return []
            }
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    e.a = {
        SLOT: "slot",
        GAMBLE: "gamble",
        AG: "ag",
        PRELOAD: "preload",
        SETTINGS: "settings"
    }
}, function(t, e, n) {
    "use strict";

    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(92),
        r = n(94),
        a = function(t) {
            return r({}, t)
        },
        s = n(145),
        u = n(207),
        l = n(210),
        c = n(213),
        h = n(118),
        f = n(38),
        _ = n(221),
        y = n(54),
        d = n(223),
        p = n(232),
        m = n(235),
        v = n(236),
        g = n(243),
        b = n(251),
        S = n(252),
        w = /^change:/,
        k = function() {};

    function E(t, e) {
        e || (e = {}), this.cid || (this.cid = o("state")), this._events = {}, this._values = {}, this._eventBubblingHandlerCache = {}, this._definition = Object.create(this._definition), e.parse && (t = this.parse(t, e)), this.parent = e.parent, this.collection = e.collection, this._keyTree = new b, this._initCollections(), this._initChildren(), this._cache = {}, this._previousAttributes = {}, t && this.set(t, r({
            silent: !0,
            initial: !0
        }, e)), this._changed = {}, this._derived && this._initDerived(), !1 !== e.init && this.initialize.apply(this, arguments)
    }

    function T(t, e, n, o) {
        var r, a, s = t._definition[e] = {};
        if (h(n))(r = t._ensureValidType(n)) && (s.type = r);
        else {
            if (Array.isArray(n) && (n = {
                    type: (a = n)[0],
                    required: a[1],
                    default: a[2]
                }), (r = t._ensureValidType(n.type)) && (s.type = r), n.required && (s.required = !0), n.default && "object" === i(n.default)) throw new TypeError("The default value for " + e + " cannot be an object/array, must be a value or a function which returns a value/object/array");
            s.default = n.default, s.allowNull = !!n.allowNull && n.allowNull, n.setOnce && (s.setOnce = !0), s.required && void 0 === s.default && !s.setOnce && (s.default = t._getDefaultForType(r)), s.test = n.test, s.values = n.values
        }
        return o && (s.session = !0), r || (r = h(n) ? n : n.type, console.warn("Invalid data type of `" + r + "` for `" + e + "` property. Use one of the default types or define your own")), Object.defineProperty(t, e, {
            set: function(t) {
                this.set(e, t)
            },
            get: function() {
                if (!this._values) throw Error('You may be trying to `extend` a state object with "' + e + '" which has been defined in `props` on the object being extended');
                var t = this._values[e],
                    n = this._dataTypes[s.type];
                if (void 0 !== t) return n && n.get && (t = n.get(t)), t;
                var i = m(s, "default");
                (this._values[e] = i, void 0 !== i) && this._getOnChangeForType(s.type)(i, t, e);
                return i
            }
        }), s
    }

    function C(t, e, n) {
        (t._derived[e] = {
            fn: y(n) ? n : n.fn,
            cache: !1 !== n.cache,
            depList: n.deps || []
        }).depList.forEach(function(n) {
            t._deps[n] = v(t._deps[n] || [], [e])
        }), Object.defineProperty(t, e, {
            get: function() {
                return this._getDerivedProperty(e)
            },
            set: function() {
                throw new TypeError("`" + e + "` is a derived property, it can't be set directly.")
            }
        })
    }
    r(E.prototype, g, {
        extraProperties: "ignore",
        idAttribute: "id",
        namespaceAttribute: "namespace",
        typeAttribute: "modelType",
        initialize: function() {
            return this
        },
        getId: function() {
            return this[this.idAttribute]
        },
        getNamespace: function() {
            return this[this.namespaceAttribute]
        },
        getType: function() {
            return this[this.typeAttribute]
        },
        isNew: function() {
            return null == this.getId()
        },
        escape: function(t) {
            return u(this.get(t))
        },
        isValid: function(t) {
            return this._validate({}, r(t || {}, {
                validate: !0
            }))
        },
        parse: function(t, e) {
            return t
        },
        serialize: function(t) {
            var e = r({
                    props: !0
                }, t),
                n = this.getAttributes(e, !0),
                i = function(t, e) {
                    n[e] = this[e].serialize()
                }.bind(this);
            return l(this._children, i), l(this._collections, i), n
        },
        set: function(t, e, n) {
            var o, r, a, s, u, l, h, _, y, d, p, v, g, b, S, w, k, E = this,
                T = this.extraProperties;
            if (f(t) || null === t ? (y = t, n = e) : (y = {})[t] = e, n = n || {}, !this._validate(y, n)) return !1;
            v = n.unset, p = n.silent, b = n.initial, o = this._changing, this._changing = !0, r = [], b ? this._previousAttributes = {} : o || (this._previousAttributes = this.attributes, this._changed = {});
            for (var C = 0, O = Object.keys(y), A = O.length; C < A; C++) {
                if (a = i(s = y[_ = O[C]]), g = this._values[_], !(u = this._definition[_])) {
                    if (this._children[_] || this._collections[_]) {
                        f(s) || (s = {}), this[_].set(s, n);
                        continue
                    }
                    if ("ignore" === T) continue;
                    if ("reject" === T) throw new TypeError('No "' + _ + '" property defined on ' + (this.type || "this") + ' model and extraProperties not set to "ignore" or "allow"');
                    if ("allow" === T) u = this._createPropertyDefinition(_, "any");
                    else if (T) throw new TypeError('Invalid value for extraProperties: "' + T + '"')
                }
                if (w = this._getCompareForType(u.type), k = this._getOnChangeForType(u.type), (d = this._dataTypes[u.type]) && d.set && (s = (l = d.set(s)).val, a = l.type), u.test && (h = u.test.call(this, s, a))) throw new TypeError("Property '" + _ + "' failed validation with error: " + h);
                if (void 0 === s && u.required) throw new TypeError("Required property '" + _ + "' must be of type " + u.type + ". Tried to set " + s);
                if (null === s && u.required && !u.allowNull) throw new TypeError("Property '" + _ + "' must be of type " + u.type + " (cannot be null). Tried to set " + s);
                if (u.type && "any" !== u.type && u.type !== a && null !== s && void 0 !== s) throw new TypeError("Property '" + _ + "' must be of type " + u.type + ". Tried to set " + s);
                if (u.values && !c(u.values, s)) {
                    var P = m(u, "default");
                    if (v && void 0 !== P) s = P;
                    else if (!v || v && void 0 !== s) throw new TypeError("Property '" + _ + "' must be one of values: " + u.values.join(", ") + ". Tried to set " + s)
                }
                if (S = b || !w(g, s, _), u.setOnce && void 0 !== g && S) throw new TypeError("Property '" + _ + "' can only be set once.");
                S ? (k(s, g, _), b || (this._changed[_] = s, this._previousAttributes[_] = g, v && delete this._values[_], p || r.push({
                    prev: g,
                    val: s,
                    key: _
                })), v || (this._values[_] = s)) : delete this._changed[_]
            }
            if (r.length && (this._pending = !0), r.forEach(function(t) {
                    E.trigger("change:" + t.key, E, t.val, n)
                }), o) return this;
            for (; this._pending;) this._pending = !1, this.trigger("change", this, n);
            return this._pending = !1, this._changing = !1, this
        },
        get: function(t) {
            return this[t]
        },
        toggle: function(t) {
            var e = this._definition[t];
            if ("boolean" === e.type) this[t] = !this[t];
            else {
                if (!e || !e.values) throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");
                this[t] = S(e.values, this[t])
            }
            return this
        },
        previousAttributes: function() {
            return a(this._previousAttributes)
        },
        hasChanged: function(t) {
            return null == t ? !!Object.keys(this._changed).length : p(this._derived, t) ? this._derived[t].depList.some(function(t) {
                return this.hasChanged(t)
            }, this) : p(this._changed, t)
        },
        changedAttributes: function(t) {
            if (!t) return !!this.hasChanged() && a(this._changed);
            var e, n, i = !1,
                o = this._changing ? this._previousAttributes : this.attributes;
            for (var r in t)(n = this._definition[r]) && (this._getCompareForType(n.type)(o[r], e = t[r]) || ((i || (i = {}))[r] = e));
            return i
        },
        toJSON: function() {
            return this.serialize()
        },
        unset: function(t, e) {
            var n = this;
            (t = Array.isArray(t) ? t : [t]).forEach(function(t) {
                var i, o = n._definition[t];
                if (o) return o.required ? (i = m(o, "default"), n.set(t, i, e)) : n.set(t, i, r({}, e, {
                    unset: !0
                }))
            })
        },
        clear: function(t) {
            var e = this;
            return Object.keys(this.attributes).forEach(function(n) {
                e.unset(n, t)
            }), this
        },
        previous: function(t) {
            return null != t && Object.keys(this._previousAttributes).length ? this._previousAttributes[t] : null
        },
        _getDefaultForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.default
        },
        _getCompareForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.compare ? e.compare.bind(this) : d
        },
        _getOnChangeForType: function(t) {
            var e = this._dataTypes[t];
            return e && e.onChange ? e.onChange.bind(this) : k
        },
        _validate: function(t, e) {
            if (!e.validate || !this.validate) return !0;
            t = r({}, this.attributes, t);
            var n = this.validationError = this.validate(t, e) || null;
            return !n || (this.trigger("invalid", this, n, r(e || {}, {
                validationError: n
            })), !1)
        },
        _createPropertyDefinition: function(t, e, n) {
            return T(this, t, e, n)
        },
        _ensureValidType: function(t) {
            return c(["string", "number", "boolean", "array", "object", "date", "state", "any"].concat(Object.keys(this._dataTypes)), t) ? t : void 0
        },
        getAttributes: function(t, e) {
            t = r({
                session: !1,
                props: !1,
                derived: !1
            }, t || {});
            var n, i, o = {};
            for (var a in this._definition) i = this._definition[a], (t.session && i.session || t.props && !i.session) && (n = e ? this._values[a] : this[a], e && n && y(n.serialize) && (n = n.serialize()), void 0 === n && (n = m(i, "default")), void 0 !== n && (o[a] = n));
            if (t.derived)
                for (var s in this._derived) o[s] = this[s];
            return o
        },
        _initDerived: function() {
            var t = this;
            l(this._derived, function(e, n) {
                var i = t._derived[n];
                i.deps = i.depList;
                var o = function() {
                    var e = i.fn.call(t);
                    t._cache[n] === e && i.cache || (i.cache && (t._previousAttributes[n] = t._cache[n]), t._cache[n] = e, t.trigger("change:" + n, t, t._cache[n]))
                };
                i.deps.forEach(function(e) {
                    t._keyTree.add(e, o)
                })
            }), this.on("all", function(e) {
                w.test(e) && t._keyTree.get(e.split(":")[1]).forEach(function(t) {
                    t()
                })
            }, this)
        },
        _getDerivedProperty: function(t, e) {
            return this._derived[t].cache ? (!e && this._cache.hasOwnProperty(t) || (this._cache[t] = this._derived[t].fn.apply(this)), this._cache[t]) : this._derived[t].fn.apply(this)
        },
        _initCollections: function() {
            var t;
            if (this._collections)
                for (t in this._collections) this._safeSet(t, new this._collections[t](null, {
                    parent: this
                }))
        },
        _initChildren: function() {
            var t;
            if (this._children)
                for (t in this._children) this._safeSet(t, new this._children[t]({}, {
                    parent: this
                })), this.listenTo(this[t], "all", this._getCachedEventBubblingHandler(t))
        },
        _getCachedEventBubblingHandler: function(t) {
            return this._eventBubblingHandlerCache[t] || (this._eventBubblingHandlerCache[t] = function(e, n, i) {
                w.test(e) ? this.trigger("change:" + t + "." + e.split(":")[1], n, i) : "change" === e && this.trigger("change", this)
            }.bind(this)), this._eventBubblingHandlerCache[t]
        },
        _verifyRequired: function() {
            var t = this.attributes;
            for (var e in this._definition)
                if (this._definition[e].required && void 0 === t[e]) return !1;
            return !0
        },
        _safeSet: function(t, e) {
            if (t in this) throw new Error("Encountered namespace collision while setting instance property `" + t + "`");
            return this[t] = e, this
        }
    }), Object.defineProperties(E.prototype, {
        attributes: {
            get: function() {
                return this.getAttributes({
                    props: !0,
                    session: !0
                })
            }
        },
        all: {
            get: function() {
                return this.getAttributes({
                    session: !0,
                    props: !0,
                    derived: !0
                })
            }
        },
        isState: {
            get: function() {
                return !0
            },
            set: function() {}
        }
    });
    var O = {
        string: {
            default: function() {
                return ""
            }
        },
        date: {
            set: function(t) {
                var e;
                if (null == t) e = i(null);
                else if (_(t)) e = "date", t = t.valueOf();
                else {
                    var n = null,
                        o = new Date(t).valueOf();
                    isNaN(o) && (o = new Date(parseInt(t, 10)).valueOf(), isNaN(o) && (n = !0)), t = o, e = "date", n && (e = i(t))
                }
                return {
                    val: t,
                    type: e
                }
            },
            get: function(t) {
                return null == t ? t : new Date(t)
            },
            default: function() {
                return new Date
            }
        },
        array: {
            set: function(t) {
                return {
                    val: t,
                    type: Array.isArray(t) ? "array" : i(t)
                }
            },
            default: function() {
                return []
            }
        },
        object: {
            set: function(t) {
                var e = i(t);
                return "object" !== e && void 0 === t && (t = null, e = "object"), {
                    val: t,
                    type: e
                }
            },
            default: function() {
                return {}
            }
        },
        state: {
            set: function(t) {
                return t instanceof E || t && t.isState ? {
                    val: t,
                    type: "state"
                } : {
                    val: t,
                    type: i(t)
                }
            },
            compare: function(t, e) {
                return t === e
            },
            onChange: function(t, e, n) {
                e && this.stopListening(e, "all", this._getCachedEventBubblingHandler(n)), null != t && this.listenTo(t, "all", this._getCachedEventBubblingHandler(n))
            }
        }
    };
    E.extend = function(t) {
        var e, n = this;
        e = t && t.hasOwnProperty("constructor") ? t.constructor : function() {
            return n.apply(this, arguments)
        }, r(e, n);
        var i = function() {
            this.constructor = e
        };
        if (i.prototype = n.prototype, e.prototype = new i, e.prototype._derived = r({}, n.prototype._derived), e.prototype._deps = r({}, n.prototype._deps), e.prototype._definition = r({}, n.prototype._definition), e.prototype._collections = r({}, n.prototype._collections), e.prototype._children = r({}, n.prototype._children), e.prototype._dataTypes = r({}, n.prototype._dataTypes || O), t)
            for (var o = ["dataTypes", "props", "session", "derived", "collections", "children"], a = 0; a < arguments.length; a++) {
                var u = arguments[a];
                u.dataTypes && l(u.dataTypes, function(t, n) {
                    e.prototype._dataTypes[n] = t
                }), u.props && l(u.props, function(t, n) {
                    T(e.prototype, n, t)
                }), u.session && l(u.session, function(t, n) {
                    T(e.prototype, n, t, !0)
                }), u.derived && l(u.derived, function(t, n) {
                    C(e.prototype, n, t)
                }), u.collections && l(u.collections, function(t, n) {
                    e.prototype._collections[n] = t
                }), u.children && l(u.children, function(t, n) {
                    e.prototype._children[n] = t
                }), r(e.prototype, s(u, o))
            }
        return e.__super__ = n.prototype, e
    }, t.exports = E
}, function(t, e, n) {
    "use strict";
    e.a = {
        REGULAR: "winType.regular",
        SCATTER: "winType.scatter"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        CONNECTING: "serverStatus.connecting",
        CONNECTED: "serverStatus.connected",
        WAITING: "serverStatus.waiting",
        DISCONNECTED: "serverStatus.disconnected"
    }
}, function(t, e, n) {
    "use strict";
    var i = n(8),
        o = n(3),
        r = n(11);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = u(this, l(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._responseWaitTime = 3e3, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "_createControlsAdder",
                value: function(t) {
                    return function(e, n) {
                        return this._addControls(e.bind(t), n)
                    }.bind(this)
                }
            }, {
                key: "_addControls",
                value: function(t, e) {
                    return this._controls = this._addComponent(t, e), this._controls
                }
            }, {
                key: "_createThrobberAdder",
                value: function(t) {
                    return function(e, n) {
                        return this._throbber = this._addComponent(e.bind(t)), this._centerOn(n, this._throbber, this._config.throbber), this._throbber
                    }.bind(this)
                }
            }, {
                key: "_prepareThrobber",
                value: function(t) {
                    var e = this;
                    return this._responseWatcher = setTimeout(function() {
                        t && t.call(), o.TweenLite.to(e._throbber, .4, {
                            alpha: 1
                        })
                    }, this._responseWaitTime), this._throbber
                }
            }, {
                key: "hideThrobber",
                value: function() {
                    return o.TweenLite.killTweensOf(this._throbber), this._throbber.alpha = 0, clearTimeout(this._responseWatcher), this._throbber
                }
            }, {
                key: "_addFullscreenRequester",
                value: function(t) {
                    var e = this;
                    return t.interactive = !0, this._onClick(t, function() {
                        e.emit(r.a.REQUEST_FULLSCREEN)
                    }), t
                }
            }, {
                key: "_addDoubleTapHandler",
                value: function(t) {
                    return t.interactive = !0, this._onClick(t, this._handleDoubleTap, this), t
                }
            }, {
                key: "_handleDoubleTap",
                value: function() {
                    var t = this;
                    this._isWaitingForDoubleTap && this.emit(r.a.DOUBLE_TAP), this._isWaitingForDoubleTap = !this._isWaitingForDoubleTap, setTimeout(function() {
                        t._isWaitingForDoubleTap = !1
                    }, 400)
                }
            }, {
                key: "disableControls",
                value: function() {
                    return this._controls && this._controls.disable(), this
                }
            }, {
                key: "enableControls",
                value: function() {
                    return this._controls && this._controls.enable(), this
                }
            }, {
                key: "temporarilyDisableControls",
                value: function() {
                    return this._controls && this._controls.temporarilyDisable(), this
                }
            }, {
                key: "switchControlsAlignment",
                value: function() {
                    return this._controls ? this.isRightAligned() ? this._switchControlsToLeft() : this._switchControlsToRight() : 0
                }
            }, {
                key: "isRightAligned",
                value: function() {
                    return this._controls.x > .5 * this._layoutAdjuster.getWidth()
                }
            }, {
                key: "isLeftAligned",
                value: function() {
                    return !this.isRightAligned()
                }
            }, {
                key: "_switchControlsToLeft",
                value: function() {
                    this._controlsRightHandPosition = this._controls.x;
                    var t = this._layoutAdjuster.getControlsWidth();
                    return this._adjustChildren(t), this._controls.x = this._layoutAdjuster.getControlsSwitchedX(), this._controls.alignLeft(), t
                }
            }, {
                key: "_adjustChildren",
                value: function(t) {
                    this.children.forEach(function(e, n) {
                        n > 0 && (e.x += t)
                    })
                }
            }, {
                key: "_switchControlsToRight",
                value: function() {
                    var t = -this._layoutAdjuster.getControlsWidth();
                    return this._adjustChildren(t), this._controls.x = this._controlsRightHandPosition, this._controls.alignRight(), t
                }
            }, {
                key: "_forwardEvent",
                value: function(t, e, n) {
                    var i = this;
                    t.on(e, function() {
                        n && n.call();
                        for (var t = arguments.length, o = new Array(t), r = 0; r < t; r++) o[r] = arguments[r];
                        i.emit.apply(i, [e].concat(o))
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._responseWatcher && (clearTimeout(this._responseWatcher), this._responseWatcher = null), this._throbber = null, this._controls = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = h
}, function(t, e, n) {
    "use strict";
    var i = n(22),
        o = {
            getWinConfig: function(t, e) {
                var n = t.winSounds;
                return n ? this.getIsFullWin(n, e, t) && n.full.sequence ? n.full : this.getIsHugeWin(n, e) && n.huge.sequence ? e.hasOffbeat && n.huge.offbeatSequence ? {
                    sequence: n.huge.offbeatSequence
                } : n.huge : this.getIsHighWin(n, e) && n.high.sequence ? e.hasOffbeat && n.high.offbeatSequence ? {
                    sequence: n.high.offbeatSequence
                } : n.high : e.type === i.a.SCATTER && n.scatter && n.scatter.sequence ? n.scatter : this.getIsRegularWin(n, e) && n.regular.sequence ? e.hasOffbeat && n.regular.offbeatSequence ? {
                    sequence: n.regular.offbeatSequence
                } : n.regular : n.small && n.small.sequence ? e.hasOffbeat && n.small.offbeatSequence ? {
                    sequence: n.small.offbeatSequence
                } : n.small : {
                    sequence: []
                } : []
            },
            getIsFullWin: function(t, e, n) {
                return t && t.full && e.size > n.reels.count
            },
            getIsHugeWin: function(t, e) {
                return !(!t || !t.huge) && this._isThresholdReached(t.huge, e)
            },
            getIsHighWin: function(t, e) {
                return !(!t || !t.high) && this._isThresholdReached(t.high, e)
            },
            getIsRegularWin: function(t, e) {
                return !(!t || !t.regular) && this._isThresholdReached(t.regular, e)
            },
            _isThresholdReached: function(t, e) {
                return t && (e.size >= t.reelCountThreshold || !t.reelCountThreshold)
            },
            getIsFullWinEffectTrigger: function(t, e) {
                return o.getIsFullWin(t.winSounds, e, t)
            },
            getIsHugeWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.huge && r < i.huge) && o.getIsHugeWin(t.winSounds, e)
            },
            getIsHighWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.high && r < i.high) && o.getIsHighWin(t.winSounds, e)
            },
            getIsRegularWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    r = e.credits / n;
                return !(i.regular && r < i.regular) && o.getIsRegularWin(t.winSounds, e)
            },
            getIsSmallWinEffectTrigger: function(t, e, n) {
                var i = (t.effects || {}).multiplierThreshold || {},
                    o = e.credits / n;
                return i.small && o >= i.small
            },
            getTargetReelLength: function(t) {
                return t.reels.countOfVisibleSymbols + t.reels.countOfHiddenSymbolsAbove + t.reels.countOfHiddenSymbolsBelow
            },
            getScatterSoundDelay: function(t, e) {
                return (t.reels.countOfVisibleSymbols - (e + 1)) / t.timing.speed.symbolsPerSecond * 1e3
            },
            getHasTransform: function(t) {
                return t.transform && t.transform.from && t.transform.to
            }
        };
    e.a = o
}, function(t, e, n) {
    "use strict";
    var i = {
        convertStyle: function(t, e) {
            return {
                fontFamily: t.fontFamily,
                fontSize: t.fontSize,
                fontWeight: t.fontWeight,
                fill: t.color,
                align: t.align,
                stroke: t.stroke,
                strokeThickness: t.strokeThickness || 0,
                wordWrap: t.multiline || !1,
                wordWrapWidth: e || 100,
                lineHeight: t.lineHeight
            }
        },
        determineStyle: function(t, e, n) {
            return {
                fontFamily: t.fontFamily || e.fontFamily,
                fontSize: t.fontSize || e.fontSize,
                fontWeight: t.fontWeight || e.fontWeight,
                fill: t.color || e.color,
                align: t.align || e.align,
                stroke: t.stroke || e.stroke,
                strokeThickness: t.strokeThickness || e.strokeThickness || 0,
                wordWrap: t.multiline || e.multiline || !1,
                wordWrapWidth: n || t.width || e.width || 100,
                lineHeight: t.lineHeight || e.lineHeight
            }
        },
        extractFontSize: function(t) {
            if (t.fontSize && !isNaN(t.fontSize)) return t.fontSize;
            if (t.font)
                for (var e = t.font.split(" "), n = 0; n < e.length; n += 1)
                    if (e[n].indexOf("px") > -1) {
                        var i = e[n].substr(0, e.length - 2),
                            o = Number(i);
                        if (!isNaN(o)) return o
                    } return 0
        }
    };
    e.a = i
}, function(t, e, n) {
    "use strict";
    var i;
    n.d(e, "a", function() {
            return i
        }),
        function(t) {
            t[t.SPACE = 32] = "SPACE", t[t.ENTER = 13] = "ENTER", t[t.BACKSPACE = 8] = "BACKSPACE", t[t.LEFT = 37] = "LEFT", t[t.RIGHT = 39] = "RIGHT", t[t.UP = 38] = "UP", t[t.DOWN = 40] = "DOWN", t[t.A = 65] = "A", t[t.B = 66] = "B", t[t.C = 67] = "C", t[t.D = 68] = "D", t[t.E = 69] = "E", t[t.F = 70] = "F", t[t.G = 71] = "G", t[t.H = 72] = "H", t[t.I = 73] = "I", t[t.J = 74] = "J", t[t.K = 75] = "K", t[t.L = 76] = "L", t[t.M = 77] = "M", t[t.N = 78] = "N", t[t.O = 79] = "O", t[t.P = 80] = "P", t[t.Q = 81] = "Q", t[t.R = 82] = "R", t[t.S = 83] = "S", t[t.T = 84] = "T", t[t.U = 85] = "U", t[t.V = 86] = "V", t[t.W = 87] = "W", t[t.X = 88] = "X", t[t.Y = 89] = "Y", t[t.Z = 90] = "Z"
        }(i || (i = {}))
}, function(t, e, n) {
    (function(n) {
        var i;

        function o(t) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        /*!
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        /*!
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        ! function() {
            "use strict";
            var o = function() {
                this.init()
            };
            o.prototype = {
                init: function() {
                    var t = this || r;
                    return t._counter = 1e3, t._codecs = {}, t._howls = [], t._muted = !1, t._volume = 1, t._canPlayEvent = "canplaythrough", t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, t.masterGain = null, t.noAudio = !1, t.usingWebAudio = !0, t.autoSuspend = !0, t.ctx = null, t.mobileAutoEnable = !0, t._setup(), t
                },
                volume: function(t) {
                    var e = this || r;
                    if (t = parseFloat(t), e.ctx || _(), void 0 !== t && t >= 0 && t <= 1) {
                        if (e._volume = t, e._muted) return e;
                        e.usingWebAudio && e.masterGain.gain.setValueAtTime(t, r.ctx.currentTime);
                        for (var n = 0; n < e._howls.length; n++)
                            if (!e._howls[n]._webAudio)
                                for (var i = e._howls[n]._getSoundIds(), o = 0; o < i.length; o++) {
                                    var a = e._howls[n]._soundById(i[o]);
                                    a && a._node && (a._node.volume = a._volume * t)
                                }
                        return e
                    }
                    return e._volume
                },
                mute: function(t) {
                    var e = this || r;
                    e.ctx || _(), e._muted = t, e.usingWebAudio && e.masterGain.gain.setValueAtTime(t ? 0 : e._volume, r.ctx.currentTime);
                    for (var n = 0; n < e._howls.length; n++)
                        if (!e._howls[n]._webAudio)
                            for (var i = e._howls[n]._getSoundIds(), o = 0; o < i.length; o++) {
                                var a = e._howls[n]._soundById(i[o]);
                                a && a._node && (a._node.muted = !!t || a._muted)
                            }
                    return e
                },
                unload: function() {
                    for (var t = this || r, e = t._howls.length - 1; e >= 0; e--) t._howls[e].unload();
                    return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(), t.ctx = null, _()), t
                },
                codecs: function(t) {
                    return (this || r)._codecs[t.replace(/^x-/, "")]
                },
                _setup: function() {
                    var t = this || r;
                    if (t.state = t.ctx && t.ctx.state || "running", t._autoSuspend(), !t.usingWebAudio)
                        if ("undefined" != typeof Audio) try {
                            void 0 === (new Audio).oncanplaythrough && (t._canPlayEvent = "canplay")
                        } catch (e) {
                            t.noAudio = !0
                        } else t.noAudio = !0;
                    try {
                        (new Audio).muted && (t.noAudio = !0)
                    } catch (t) {}
                    return t.noAudio || t._setupCodecs(), t
                },
                _setupCodecs: function() {
                    var t = this || r,
                        e = null;
                    try {
                        e = "undefined" != typeof Audio ? new Audio : null
                    } catch (e) {
                        return t
                    }
                    if (!e || "function" != typeof e.canPlayType) return t;
                    var n = e.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                        i = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g),
                        o = i && parseInt(i[0].split("/")[1], 10) < 33;
                    return t._codecs = {
                        mp3: !(o || !n && !e.canPlayType("audio/mp3;").replace(/^no$/, "")),
                        mpeg: !!n,
                        opus: !!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                        ogg: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        oga: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        wav: !!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                        aac: !!e.canPlayType("audio/aac;").replace(/^no$/, ""),
                        caf: !!e.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                        m4a: !!(e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        mp4: !!(e.canPlayType("audio/x-mp4;") || e.canPlayType("audio/mp4;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        weba: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        webm: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        dolby: !!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                        flac: !!(e.canPlayType("audio/x-flac;") || e.canPlayType("audio/flac;")).replace(/^no$/, "")
                    }, t
                },
                _enableMobileAudio: function() {
                    var t = this || r,
                        e = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(t._navigator && t._navigator.userAgent);
                    if (!t._mobileEnabled && t.ctx && e) {
                        t._mobileEnabled = !1, t.mobileAutoEnable = !1, t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0, t.unload()), t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                        var n = function e(n) {
                            r._autoResume();
                            var i = t.ctx.createBufferSource();
                            i.buffer = t._scratchBuffer, i.connect(t.ctx.destination), void 0 === i.start ? i.noteOn(0) : i.start(0), "function" == typeof t.ctx.resume && t.ctx.resume(), i.onended = function() {
                                i.disconnect(0), t._mobileEnabled = !0, document.removeEventListener("touchstart", e, !0), document.removeEventListener("touchend", e, !0), document.removeEventListener("click", e, !0);
                                for (var n = 0; n < t._howls.length; n++) t._howls[n]._emit("unlock")
                            }
                        };
                        return document.addEventListener("touchstart", n, !0), document.addEventListener("touchend", n, !0), document.addEventListener("click", n, !0), t
                    }
                },
                _autoSuspend: function() {
                    var t = this;
                    if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && r.usingWebAudio) {
                        for (var e = 0; e < t._howls.length; e++)
                            if (t._howls[e]._webAudio)
                                for (var n = 0; n < t._howls[e]._sounds.length; n++)
                                    if (!t._howls[e]._sounds[n]._paused) return t;
                        return t._suspendTimer && clearTimeout(t._suspendTimer), t._suspendTimer = setTimeout(function() {
                            t.autoSuspend && (t._suspendTimer = null, t.state = "suspending", t.ctx.suspend().then(function() {
                                t.state = "suspended", t._resumeAfterSuspend && (delete t._resumeAfterSuspend, t._autoResume())
                            }))
                        }, 3e4), t
                    }
                },
                _autoResume: function() {
                    var t = this;
                    if (t.ctx && void 0 !== t.ctx.resume && r.usingWebAudio) return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer), t._suspendTimer = null) : "suspended" === t.state ? (t.ctx.resume().then(function() {
                        t.state = "running";
                        for (var e = 0; e < t._howls.length; e++) t._howls[e]._emit("resume")
                    }), t._suspendTimer && (clearTimeout(t._suspendTimer), t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0), t
                }
            };
            var r = new o,
                a = function(t) {
                    t.src && 0 !== t.src.length ? this.init(t) : console.error("An array of source files must be passed with any new Howl.")
                };
            a.prototype = {
                init: function(t) {
                    var e = this;
                    return r.ctx || _(), e._autoplay = t.autoplay || !1, e._format = "string" != typeof t.format ? t.format : [t.format], e._html5 = t.html5 || !1, e._muted = t.mute || !1, e._loop = t.loop || !1, e._pool = t.pool || 5, e._preload = "boolean" != typeof t.preload || t.preload, e._rate = t.rate || 1, e._sprite = t.sprite || {}, e._src = "string" != typeof t.src ? t.src : [t.src], e._volume = void 0 !== t.volume ? t.volume : 1, e._xhrWithCredentials = t.xhrWithCredentials || !1, e._duration = 0, e._state = "unloaded", e._sounds = [], e._endTimers = {}, e._queue = [], e._playLock = !1, e._onend = t.onend ? [{
                        fn: t.onend
                    }] : [], e._onfade = t.onfade ? [{
                        fn: t.onfade
                    }] : [], e._onload = t.onload ? [{
                        fn: t.onload
                    }] : [], e._onloaderror = t.onloaderror ? [{
                        fn: t.onloaderror
                    }] : [], e._onplayerror = t.onplayerror ? [{
                        fn: t.onplayerror
                    }] : [], e._onpause = t.onpause ? [{
                        fn: t.onpause
                    }] : [], e._onplay = t.onplay ? [{
                        fn: t.onplay
                    }] : [], e._onstop = t.onstop ? [{
                        fn: t.onstop
                    }] : [], e._onmute = t.onmute ? [{
                        fn: t.onmute
                    }] : [], e._onvolume = t.onvolume ? [{
                        fn: t.onvolume
                    }] : [], e._onrate = t.onrate ? [{
                        fn: t.onrate
                    }] : [], e._onseek = t.onseek ? [{
                        fn: t.onseek
                    }] : [], e._onunlock = t.onunlock ? [{
                        fn: t.onunlock
                    }] : [], e._onresume = [], e._webAudio = r.usingWebAudio && !e._html5, void 0 !== r.ctx && r.ctx && r.mobileAutoEnable && r._enableMobileAudio(), r._howls.push(e), e._autoplay && e._queue.push({
                        event: "play",
                        action: function() {
                            e.play()
                        }
                    }), e._preload && e.load(), e
                },
                load: function() {
                    var t = null;
                    if (r.noAudio) this._emit("loaderror", null, "No audio support.");
                    else {
                        "string" == typeof this._src && (this._src = [this._src]);
                        for (var e = 0; e < this._src.length; e++) {
                            var n, i;
                            if (this._format && this._format[e]) n = this._format[e];
                            else {
                                if ("string" != typeof(i = this._src[e])) {
                                    this._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                    continue
                                }(n = /^data:audio\/([^;,]+);/i.exec(i)) || (n = /\.([^.]+)$/.exec(i.split("?", 1)[0])), n && (n = n[1].toLowerCase())
                            }
                            if (n || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), n && r.codecs(n)) {
                                t = this._src[e];
                                break
                            }
                        }
                        if (t) return this._src = t, this._state = "loading", "https:" === window.location.protocol && "http:" === t.slice(0, 5) && (this._html5 = !0, this._webAudio = !1), new s(this), this._webAudio && l(this), this;
                        this._emit("loaderror", null, "No codec support for selected audio sources.")
                    }
                },
                play: function(t, e) {
                    var n = this,
                        i = null;
                    if ("number" == typeof t) i = t, t = null;
                    else {
                        if ("string" == typeof t && "loaded" === n._state && !n._sprite[t]) return null;
                        if (void 0 === t) {
                            t = "__default";
                            for (var o = 0, a = 0; a < n._sounds.length; a++) n._sounds[a]._paused && !n._sounds[a]._ended && (o++, i = n._sounds[a]._id);
                            1 === o ? t = null : i = null
                        }
                    }
                    var s = i ? n._soundById(i) : n._inactiveSound();
                    if (!s) return null;
                    if (i && !t && (t = s._sprite || "__default"), "loaded" !== n._state) {
                        s._sprite = t, s._ended = !1;
                        var u = s._id;
                        return n._queue.push({
                            event: "play",
                            action: function() {
                                n.play(u)
                            }
                        }), u
                    }
                    if (i && !s._paused) return e || n._loadQueue("play"), s._id;
                    n._webAudio && r._autoResume();
                    var l = Math.max(0, s._seek > 0 ? s._seek : n._sprite[t][0] / 1e3),
                        c = Math.max(0, (n._sprite[t][0] + n._sprite[t][1]) / 1e3 - l),
                        h = 1e3 * c / Math.abs(s._rate);
                    if (s._paused = !1, s._ended = !1, s._sprite = t, s._seek = l, s._start = n._sprite[t][0] / 1e3, s._stop = (n._sprite[t][0] + n._sprite[t][1]) / 1e3, s._loop = !(!s._loop && !n._sprite[t][2]), !(s._seek >= s._stop)) {
                        var f = s._node;
                        if (n._webAudio) {
                            var _ = function() {
                                n._refreshBuffer(s);
                                var t = s._muted || n._muted ? 0 : s._volume;
                                f.gain.setValueAtTime(t, r.ctx.currentTime), s._playStart = r.ctx.currentTime, void 0 === f.bufferSource.start ? s._loop ? f.bufferSource.noteGrainOn(0, l, 86400) : f.bufferSource.noteGrainOn(0, l, c) : s._loop ? f.bufferSource.start(0, l, 86400) : f.bufferSource.start(0, l, c), h !== 1 / 0 && (n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h)), e || setTimeout(function() {
                                    n._emit("play", s._id)
                                }, 0)
                            };
                            "running" === r.state ? _() : (n.once("resume", _), n._clearTimer(s._id))
                        } else {
                            var y = function() {
                                    f.currentTime = l, f.muted = s._muted || n._muted || r._muted || f.muted, f.volume = s._volume * r.volume(), f.playbackRate = s._rate;
                                    try {
                                        var i = f.play();
                                        if (i && "undefined" != typeof Promise && (i instanceof Promise || "function" == typeof i.then) ? (n._playLock = !0, i.then(function() {
                                                n._playLock = !1, e || n._emit("play", s._id)
                                            }).catch(function() {
                                                n._playLock = !1, n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.")
                                            })) : e || n._emit("play", s._id), f.playbackRate = s._rate, f.paused) return void n._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                        "__default" !== t || s._loop ? n._endTimers[s._id] = setTimeout(n._ended.bind(n, s), h) : (n._endTimers[s._id] = function() {
                                            n._ended(s), f.removeEventListener("ended", n._endTimers[s._id], !1)
                                        }, f.addEventListener("ended", n._endTimers[s._id], !1))
                                    } catch (t) {
                                        n._emit("playerror", s._id, t)
                                    }
                                },
                                d = window && window.ejecta || !f.readyState && r._navigator.isCocoonJS;
                            if (f.readyState >= 3 || d) y();
                            else {
                                f.addEventListener(r._canPlayEvent, function t() {
                                    y(), f.removeEventListener(r._canPlayEvent, t, !1)
                                }, !1), n._clearTimer(s._id)
                            }
                        }
                        return s._id
                    }
                    n._ended(s)
                },
                pause: function(t) {
                    var e = this;
                    if ("loaded" !== e._state || e._playLock) return e._queue.push({
                        event: "pause",
                        action: function() {
                            e.pause(t)
                        }
                    }), e;
                    for (var n = e._getSoundIds(t), i = 0; i < n.length; i++) {
                        e._clearTimer(n[i]);
                        var o = e._soundById(n[i]);
                        if (o && !o._paused && (o._seek = e.seek(n[i]), o._rateSeek = 0, o._paused = !0, e._stopFade(n[i]), o._node))
                            if (e._webAudio) {
                                if (!o._node.bufferSource) continue;
                                void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), e._cleanBuffer(o._node)
                            } else isNaN(o._node.duration) && o._node.duration !== 1 / 0 || o._node.pause();
                        arguments[1] || e._emit("pause", o ? o._id : null)
                    }
                    return e
                },
                stop: function(t, e) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "stop",
                        action: function() {
                            n.stop(t)
                        }
                    }), n;
                    for (var i = n._getSoundIds(t), o = 0; o < i.length; o++) {
                        n._clearTimer(i[o]);
                        var r = n._soundById(i[o]);
                        r && (r._seek = r._start || 0, r._rateSeek = 0, r._paused = !0, r._ended = !0, n._stopFade(i[o]), r._node && (n._webAudio ? r._node.bufferSource && (void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), n._cleanBuffer(r._node)) : isNaN(r._node.duration) && r._node.duration !== 1 / 0 || (r._node.currentTime = r._start || 0, r._node.pause())), e || n._emit("stop", r._id))
                    }
                    return n
                },
                mute: function(t, e) {
                    var n = this;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "mute",
                        action: function() {
                            n.mute(t, e)
                        }
                    }), n;
                    if (void 0 === e) {
                        if ("boolean" != typeof t) return n._muted;
                        n._muted = t
                    }
                    for (var i = n._getSoundIds(e), o = 0; o < i.length; o++) {
                        var a = n._soundById(i[o]);
                        a && (a._muted = t, a._interval && n._stopFade(a._id), n._webAudio && a._node ? a._node.gain.setValueAtTime(t ? 0 : a._volume, r.ctx.currentTime) : a._node && (a._node.muted = !!r._muted || t), n._emit("mute", a._id))
                    }
                    return n
                },
                volume: function() {
                    var t, e, n, i = this,
                        o = arguments;
                    if (0 === o.length) return i._volume;
                    if (1 === o.length || 2 === o.length && void 0 === o[1] ? i._getSoundIds().indexOf(o[0]) >= 0 ? e = parseInt(o[0], 10) : t = parseFloat(o[0]) : o.length >= 2 && (t = parseFloat(o[0]), e = parseInt(o[1], 10)), !(void 0 !== t && t >= 0 && t <= 1)) return (n = e ? i._soundById(e) : i._sounds[0]) ? n._volume : 0;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "volume",
                        action: function() {
                            i.volume.apply(i, o)
                        }
                    }), i;
                    void 0 === e && (i._volume = t), e = i._getSoundIds(e);
                    for (var a = 0; a < e.length; a++)(n = i._soundById(e[a])) && (n._volume = t, o[2] || i._stopFade(e[a]), i._webAudio && n._node && !n._muted ? n._node.gain.setValueAtTime(t, r.ctx.currentTime) : n._node && !n._muted && (n._node.volume = t * r.volume()), i._emit("volume", n._id));
                    return i
                },
                fade: function(t, e, n, i) {
                    var o = this;
                    if ("loaded" !== o._state || o._playLock) return o._queue.push({
                        event: "fade",
                        action: function() {
                            o.fade(t, e, n, i)
                        }
                    }), o;
                    o.volume(t, i);
                    for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                        var u = o._soundById(a[s]);
                        if (u) {
                            if (i || o._stopFade(a[s]), o._webAudio && !u._muted) {
                                var l = r.ctx.currentTime,
                                    c = l + n / 1e3;
                                u._volume = t, u._node.gain.setValueAtTime(t, l), u._node.gain.linearRampToValueAtTime(e, c)
                            }
                            o._startFadeInterval(u, t, e, n, a[s], void 0 === i)
                        }
                    }
                    return o
                },
                _startFadeInterval: function(t, e, n, i, o, r) {
                    var a = this,
                        s = e,
                        u = n - e,
                        l = Math.abs(u / .01),
                        c = Math.max(4, l > 0 ? i / l : i),
                        h = Date.now();
                    t._fadeTo = n, t._interval = setInterval(function() {
                        var o = (Date.now() - h) / i;
                        h = Date.now(), s += u * o, s = Math.max(0, s), s = Math.min(1, s), s = Math.round(100 * s) / 100, a._webAudio ? t._volume = s : a.volume(s, t._id, !0), r && (a._volume = s), (n < e && s <= n || n > e && s >= n) && (clearInterval(t._interval), t._interval = null, t._fadeTo = null, a.volume(n, t._id), a._emit("fade", t._id))
                    }, c)
                },
                _stopFade: function(t) {
                    var e = this._soundById(t);
                    return e && e._interval && (this._webAudio && e._node.gain.cancelScheduledValues(r.ctx.currentTime), clearInterval(e._interval), e._interval = null, this.volume(e._fadeTo, t), e._fadeTo = null, this._emit("fade", t)), this
                },
                loop: function() {
                    var t, e, n, i = arguments;
                    if (0 === i.length) return this._loop;
                    if (1 === i.length) {
                        if ("boolean" != typeof i[0]) return !!(n = this._soundById(parseInt(i[0], 10))) && n._loop;
                        t = i[0], this._loop = t
                    } else 2 === i.length && (t = i[0], e = parseInt(i[1], 10));
                    for (var o = this._getSoundIds(e), r = 0; r < o.length; r++)(n = this._soundById(o[r])) && (n._loop = t, this._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = t, t && (n._node.bufferSource.loopStart = n._start || 0, n._node.bufferSource.loopEnd = n._stop)));
                    return this
                },
                rate: function() {
                    var t, e, n, i = this,
                        o = arguments;
                    if (0 === o.length) e = i._sounds[0]._id;
                    else if (1 === o.length) {
                        i._getSoundIds().indexOf(o[0]) >= 0 ? e = parseInt(o[0], 10) : t = parseFloat(o[0])
                    } else 2 === o.length && (t = parseFloat(o[0]), e = parseInt(o[1], 10));
                    if ("number" != typeof t) return (n = i._soundById(e)) ? n._rate : i._rate;
                    if ("loaded" !== i._state || i._playLock) return i._queue.push({
                        event: "rate",
                        action: function() {
                            i.rate.apply(i, o)
                        }
                    }), i;
                    void 0 === e && (i._rate = t), e = i._getSoundIds(e);
                    for (var a = 0; a < e.length; a++)
                        if (n = i._soundById(e[a])) {
                            n._rateSeek = i.seek(e[a]), n._playStart = i._webAudio ? r.ctx.currentTime : n._playStart, n._rate = t, i._webAudio && n._node && n._node.bufferSource ? n._node.bufferSource.playbackRate.setValueAtTime(t, r.ctx.currentTime) : n._node && (n._node.playbackRate = t);
                            var s = i.seek(e[a]),
                                u = 1e3 * ((i._sprite[n._sprite][0] + i._sprite[n._sprite][1]) / 1e3 - s) / Math.abs(n._rate);
                            !i._endTimers[e[a]] && n._paused || (i._clearTimer(e[a]), i._endTimers[e[a]] = setTimeout(i._ended.bind(i, n), u)), i._emit("rate", n._id)
                        } return i
                },
                seek: function() {
                    var t, e, n = this,
                        i = arguments;
                    if (0 === i.length) e = n._sounds[0]._id;
                    else if (1 === i.length) {
                        n._getSoundIds().indexOf(i[0]) >= 0 ? e = parseInt(i[0], 10) : n._sounds.length && (e = n._sounds[0]._id, t = parseFloat(i[0]))
                    } else 2 === i.length && (t = parseFloat(i[0]), e = parseInt(i[1], 10));
                    if (void 0 === e) return n;
                    if ("loaded" !== n._state || n._playLock) return n._queue.push({
                        event: "seek",
                        action: function() {
                            n.seek.apply(n, i)
                        }
                    }), n;
                    var o = n._soundById(e);
                    if (o) {
                        if (!("number" == typeof t && t >= 0)) {
                            if (n._webAudio) {
                                var a = n.playing(e) ? r.ctx.currentTime - o._playStart : 0,
                                    s = o._rateSeek ? o._rateSeek - o._seek : 0;
                                return o._seek + (s + a * Math.abs(o._rate))
                            }
                            return o._node.currentTime
                        }
                        var u = n.playing(e);
                        u && n.pause(e, !0), o._seek = t, o._ended = !1, n._clearTimer(e), !n._webAudio && o._node && (o._node.currentTime = t);
                        var l = function() {
                            n._emit("seek", e), u && n.play(e, !0)
                        };
                        if (u && !n._webAudio) {
                            setTimeout(function t() {
                                n._playLock ? setTimeout(t, 0) : l()
                            }, 0)
                        } else l()
                    }
                    return n
                },
                playing: function(t) {
                    if ("number" == typeof t) {
                        var e = this._soundById(t);
                        return !!e && !e._paused
                    }
                    for (var n = 0; n < this._sounds.length; n++)
                        if (!this._sounds[n]._paused) return !0;
                    return !1
                },
                duration: function(t) {
                    var e = this._duration,
                        n = this._soundById(t);
                    return n && (e = this._sprite[n._sprite][1] / 1e3), e
                },
                state: function() {
                    return this._state
                },
                unload: function() {
                    for (var t = this, e = t._sounds, n = 0; n < e.length; n++) {
                        if (e[n]._paused || t.stop(e[n]._id), !t._webAudio) /MSIE |Trident\//.test(r._navigator && r._navigator.userAgent) || (e[n]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"), e[n]._node.removeEventListener("error", e[n]._errorFn, !1), e[n]._node.removeEventListener(r._canPlayEvent, e[n]._loadFn, !1);
                        delete e[n]._node, t._clearTimer(e[n]._id)
                    }
                    var i = r._howls.indexOf(t);
                    i >= 0 && r._howls.splice(i, 1);
                    var o = !0;
                    for (n = 0; n < r._howls.length; n++)
                        if (r._howls[n]._src === t._src) {
                            o = !1;
                            break
                        } return u && o && delete u[t._src], r.noAudio = !1, t._state = "unloaded", t._sounds = [], t = null, null
                },
                on: function(t, e, n, i) {
                    var o = this["_on" + t];
                    return "function" == typeof e && o.push(i ? {
                        id: n,
                        fn: e,
                        once: i
                    } : {
                        id: n,
                        fn: e
                    }), this
                },
                off: function(t, e, n) {
                    var i = this["_on" + t],
                        o = 0;
                    if ("number" == typeof e && (n = e, e = null), e || n)
                        for (o = 0; o < i.length; o++) {
                            var r = n === i[o].id;
                            if (e === i[o].fn && r || !e && r) {
                                i.splice(o, 1);
                                break
                            }
                        } else if (t) this["_on" + t] = [];
                        else {
                            var a = Object.keys(this);
                            for (o = 0; o < a.length; o++) 0 === a[o].indexOf("_on") && Array.isArray(this[a[o]]) && (this[a[o]] = [])
                        } return this
                },
                once: function(t, e, n) {
                    return this.on(t, e, n, 1), this
                },
                _emit: function(t, e, n) {
                    for (var i = this["_on" + t], o = i.length - 1; o >= 0; o--) i[o].id && i[o].id !== e && "load" !== t || (setTimeout(function(t) {
                        t.call(this, e, n)
                    }.bind(this, i[o].fn), 0), i[o].once && this.off(t, i[o].fn, i[o].id));
                    return this._loadQueue(t), this
                },
                _loadQueue: function(t) {
                    if (this._queue.length > 0) {
                        var e = this._queue[0];
                        e.event === t && (this._queue.shift(), this._loadQueue()), t || e.action()
                    }
                    return this
                },
                _ended: function(t) {
                    var e = t._sprite;
                    if (!this._webAudio && t._node && !t._node.paused && !t._node.ended && t._node.currentTime < t._stop) return setTimeout(this._ended.bind(this, t), 100), this;
                    var n = !(!t._loop && !this._sprite[e][2]);
                    if (this._emit("end", t._id), !this._webAudio && n && this.stop(t._id, !0).play(t._id), this._webAudio && n) {
                        this._emit("play", t._id), t._seek = t._start || 0, t._rateSeek = 0, t._playStart = r.ctx.currentTime;
                        var i = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                        this._endTimers[t._id] = setTimeout(this._ended.bind(this, t), i)
                    }
                    return this._webAudio && !n && (t._paused = !0, t._ended = !0, t._seek = t._start || 0, t._rateSeek = 0, this._clearTimer(t._id), this._cleanBuffer(t._node), r._autoSuspend()), this._webAudio || n || this.stop(t._id, !0), this
                },
                _clearTimer: function(t) {
                    if (this._endTimers[t]) {
                        if ("function" != typeof this._endTimers[t]) clearTimeout(this._endTimers[t]);
                        else {
                            var e = this._soundById(t);
                            e && e._node && e._node.removeEventListener("ended", this._endTimers[t], !1)
                        }
                        delete this._endTimers[t]
                    }
                    return this
                },
                _soundById: function(t) {
                    for (var e = 0; e < this._sounds.length; e++)
                        if (t === this._sounds[e]._id) return this._sounds[e];
                    return null
                },
                _inactiveSound: function() {
                    this._drain();
                    for (var t = 0; t < this._sounds.length; t++)
                        if (this._sounds[t]._ended) return this._sounds[t].reset();
                    return new s(this)
                },
                _drain: function() {
                    var t = this._pool,
                        e = 0,
                        n = 0;
                    if (!(this._sounds.length < t)) {
                        for (n = 0; n < this._sounds.length; n++) this._sounds[n]._ended && e++;
                        for (n = this._sounds.length - 1; n >= 0; n--) {
                            if (e <= t) return;
                            this._sounds[n]._ended && (this._webAudio && this._sounds[n]._node && this._sounds[n]._node.disconnect(0), this._sounds.splice(n, 1), e--)
                        }
                    }
                },
                _getSoundIds: function(t) {
                    if (void 0 === t) {
                        for (var e = [], n = 0; n < this._sounds.length; n++) e.push(this._sounds[n]._id);
                        return e
                    }
                    return [t]
                },
                _refreshBuffer: function(t) {
                    return t._node.bufferSource = r.ctx.createBufferSource(), t._node.bufferSource.buffer = u[this._src], t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node), t._node.bufferSource.loop = t._loop, t._loop && (t._node.bufferSource.loopStart = t._start || 0, t._node.bufferSource.loopEnd = t._stop || 0), t._node.bufferSource.playbackRate.setValueAtTime(t._rate, r.ctx.currentTime), this
                },
                _cleanBuffer: function(t) {
                    if (r._scratchBuffer && t.bufferSource) {
                        t.bufferSource.onended = null, t.bufferSource.disconnect(0);
                        try {
                            t.bufferSource.buffer = r._scratchBuffer
                        } catch (t) {}
                    }
                    return t.bufferSource = null, this
                }
            };
            var s = function(t) {
                this._parent = t, this.init()
            };
            s.prototype = {
                init: function() {
                    var t = this._parent;
                    return this._muted = t._muted, this._loop = t._loop, this._volume = t._volume, this._rate = t._rate, this._seek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++r._counter, t._sounds.push(this), this.create(), this
                },
                create: function() {
                    var t = this._parent,
                        e = r._muted || this._muted || this._parent._muted ? 0 : this._volume;
                    return t._webAudio ? (this._node = void 0 === r.ctx.createGain ? r.ctx.createGainNode() : r.ctx.createGain(), this._node.gain.setValueAtTime(e, r.ctx.currentTime), this._node.paused = !0, this._node.connect(r.masterGain)) : (this._node = new Audio, this._errorFn = this._errorListener.bind(this), this._node.addEventListener("error", this._errorFn, !1), this._loadFn = this._loadListener.bind(this), this._node.addEventListener(r._canPlayEvent, this._loadFn, !1), this._node.src = t._src, this._node.preload = "auto", this._node.volume = e * r.volume(), this._node.load()), this
                },
                reset: function() {
                    var t = this._parent;
                    return this._muted = t._muted, this._loop = t._loop, this._volume = t._volume, this._rate = t._rate, this._seek = 0, this._rateSeek = 0, this._paused = !0, this._ended = !0, this._sprite = "__default", this._id = ++r._counter, this
                },
                _errorListener: function() {
                    this._parent._emit("loaderror", this._id, this._node.error ? this._node.error.code : 0), this._node.removeEventListener("error", this._errorFn, !1)
                },
                _loadListener: function() {
                    var t = this._parent;
                    t._duration = Math.ceil(10 * this._node.duration) / 10, 0 === Object.keys(t._sprite).length && (t._sprite = {
                        __default: [0, 1e3 * t._duration]
                    }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue()), this._node.removeEventListener(r._canPlayEvent, this._loadFn, !1)
                }
            };
            var u = {},
                l = function(t) {
                    var e = t._src;
                    if (u[e]) return t._duration = u[e].duration, void f(t);
                    if (/^data:[^;]+;base64,/.test(e)) {
                        for (var n = atob(e.split(",")[1]), i = new Uint8Array(n.length), o = 0; o < n.length; ++o) i[o] = n.charCodeAt(o);
                        h(i.buffer, t)
                    } else {
                        var r = new XMLHttpRequest;
                        r.open("GET", e, !0), r.withCredentials = t._xhrWithCredentials, r.responseType = "arraybuffer", r.onload = function() {
                            var e = (r.status + "")[0];
                            "0" === e || "2" === e || "3" === e ? h(r.response, t) : t._emit("loaderror", null, "Failed loading audio file with status: " + r.status + ".")
                        }, r.onerror = function() {
                            t._webAudio && (t._html5 = !0, t._webAudio = !1, t._sounds = [], delete u[e], t.load())
                        }, c(r)
                    }
                },
                c = function(t) {
                    try {
                        t.send()
                    } catch (e) {
                        t.onerror()
                    }
                },
                h = function(t, e) {
                    var n = function() {
                            e._emit("loaderror", null, "Decoding audio data failed.")
                        },
                        i = function(t) {
                            t && e._sounds.length > 0 ? (u[e._src] = t, f(e, t)) : n()
                        };
                    "undefined" != typeof Promise && 1 === r.ctx.decodeAudioData.length ? r.ctx.decodeAudioData(t).then(i).catch(n) : r.ctx.decodeAudioData(t, i, n)
                },
                f = function(t, e) {
                    e && !t._duration && (t._duration = e.duration), 0 === Object.keys(t._sprite).length && (t._sprite = {
                        __default: [0, 1e3 * t._duration]
                    }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue())
                },
                _ = function() {
                    try {
                        "undefined" != typeof AudioContext ? r.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? r.ctx = new webkitAudioContext : r.usingWebAudio = !1
                    } catch (t) {
                        r.usingWebAudio = !1
                    }
                    var t = /iP(hone|od|ad)/.test(r._navigator && r._navigator.platform),
                        e = r._navigator && r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                        n = e ? parseInt(e[1], 10) : null;
                    if (t && n && n < 9) {
                        var i = /safari/.test(r._navigator && r._navigator.userAgent.toLowerCase());
                        (r._navigator && r._navigator.standalone && !i || r._navigator && !r._navigator.standalone && !i) && (r.usingWebAudio = !1)
                    }
                    r.usingWebAudio && (r.masterGain = void 0 === r.ctx.createGain ? r.ctx.createGainNode() : r.ctx.createGain(), r.masterGain.gain.setValueAtTime(r._muted ? 0 : 1, r.ctx.currentTime), r.masterGain.connect(r.ctx.destination)), r._setup()
                };
            void 0 === (i = function() {
                return {
                    Howler: r,
                    Howl: a
                }
            }.apply(e, [])) || (t.exports = i), e.Howler = r, e.Howl = a, "undefined" != typeof window ? (window.HowlerGlobal = o, window.Howler = r, window.Howl = a, window.Sound = s) : void 0 !== n && (n.HowlerGlobal = o, n.Howler = r, n.Howl = a, n.Sound = s)
        }(),
        /*!
         *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
         *  
         *  howler.js v2.0.15
         *  howlerjs.com
         *
         *  (c) 2013-2018, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */
        function() {
            "use strict";
            HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(t) {
                if (!this.ctx || !this.ctx.listener) return this;
                for (var e = this._howls.length - 1; e >= 0; e--) this._howls[e].stereo(t);
                return this
            }, HowlerGlobal.prototype.pos = function(t, e, n) {
                return this.ctx && this.ctx.listener ? (e = "number" != typeof e ? this._pos[1] : e, n = "number" != typeof n ? this._pos[2] : n, "number" != typeof t ? this._pos : (this._pos = [t, e, n], void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, .1), this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, .1), this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, .1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]), this)) : this
            }, HowlerGlobal.prototype.orientation = function(t, e, n, i, o, r) {
                if (!this.ctx || !this.ctx.listener) return this;
                var a = this._orientation;
                return e = "number" != typeof e ? a[1] : e, n = "number" != typeof n ? a[2] : n, i = "number" != typeof i ? a[3] : i, o = "number" != typeof o ? a[4] : o, r = "number" != typeof r ? a[5] : r, "number" != typeof t ? a : (this._orientation = [t, e, n, i, o, r], void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(t, Howler.ctx.currentTime, .1), this.ctx.listener.forwardY.setTargetAtTime(e, Howler.ctx.currentTime, .1), this.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, .1), this.ctx.listener.upX.setTargetAtTime(t, Howler.ctx.currentTime, .1), this.ctx.listener.upY.setTargetAtTime(e, Howler.ctx.currentTime, .1), this.ctx.listener.upZ.setTargetAtTime(n, Howler.ctx.currentTime, .1)) : this.ctx.listener.setOrientation(t, e, n, i, o, r), this)
            }, Howl.prototype.init = function(t) {
                return function(e) {
                    return this._orientation = e.orientation || [1, 0, 0], this._stereo = e.stereo || null, this._pos = e.pos || null, this._pannerAttr = {
                        coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                        coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                        coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                        distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                        maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                        panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                        refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                        rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
                    }, this._onstereo = e.onstereo ? [{
                        fn: e.onstereo
                    }] : [], this._onpos = e.onpos ? [{
                        fn: e.onpos
                    }] : [], this._onorientation = e.onorientation ? [{
                        fn: e.onorientation
                    }] : [], t.call(this, e)
                }
            }(Howl.prototype.init), Howl.prototype.stereo = function(e, n) {
                var i = this;
                if (!i._webAudio) return i;
                if ("loaded" !== i._state) return i._queue.push({
                    event: "stereo",
                    action: function() {
                        i.stereo(e, n)
                    }
                }), i;
                var o = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                if (void 0 === n) {
                    if ("number" != typeof e) return i._stereo;
                    i._stereo = e, i._pos = [e, 0, 0]
                }
                for (var r = i._getSoundIds(n), a = 0; a < r.length; a++) {
                    var s = i._soundById(r[a]);
                    if (s) {
                        if ("number" != typeof e) return s._stereo;
                        s._stereo = e, s._pos = [e, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || t(s, o), "spatial" === o ? void 0 !== s._panner.positionX ? (s._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), s._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime), s._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : s._panner.setPosition(e, 0, 0) : s._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)), i._emit("stereo", s._id)
                    }
                }
                return i
            }, Howl.prototype.pos = function(e, n, i, o) {
                var r = this;
                if (!r._webAudio) return r;
                if ("loaded" !== r._state) return r._queue.push({
                    event: "pos",
                    action: function() {
                        r.pos(e, n, i, o)
                    }
                }), r;
                if (n = "number" != typeof n ? 0 : n, i = "number" != typeof i ? -.5 : i, void 0 === o) {
                    if ("number" != typeof e) return r._pos;
                    r._pos = [e, n, i]
                }
                for (var a = r._getSoundIds(o), s = 0; s < a.length; s++) {
                    var u = r._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof e) return u._pos;
                        u._pos = [e, n, i], u._node && (u._panner && !u._panner.pan || t(u, "spatial"), void 0 !== u._panner.positionX ? (u._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.positionY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.positionZ.setValueAtTime(i, Howler.ctx.currentTime)) : u._panner.setOrientation(e, n, i)), r._emit("pos", u._id)
                    }
                }
                return r
            }, Howl.prototype.orientation = function(e, n, i, o) {
                var r = this;
                if (!r._webAudio) return r;
                if ("loaded" !== r._state) return r._queue.push({
                    event: "orientation",
                    action: function() {
                        r.orientation(e, n, i, o)
                    }
                }), r;
                if (n = "number" != typeof n ? r._orientation[1] : n, i = "number" != typeof i ? r._orientation[2] : i, void 0 === o) {
                    if ("number" != typeof e) return r._orientation;
                    r._orientation = [e, n, i]
                }
                for (var a = r._getSoundIds(o), s = 0; s < a.length; s++) {
                    var u = r._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof e) return u._orientation;
                        u._orientation = [e, n, i], u._node && (u._panner || (u._pos || (u._pos = r._pos || [0, 0, -.5]), t(u, "spatial")), void 0 !== u._panner.orientationX ? (u._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.orientationY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.orientationZ.setValueAtTime(i, Howler.ctx.currentTime)) : u._panner.setOrientation(e, n, i)), r._emit("orientation", u._id)
                    }
                }
                return r
            }, Howl.prototype.pannerAttr = function() {
                var e, n, i, r = arguments;
                if (!this._webAudio) return this;
                if (0 === r.length) return this._pannerAttr;
                if (1 === r.length) {
                    if ("object" !== o(r[0])) return (i = this._soundById(parseInt(r[0], 10))) ? i._pannerAttr : this._pannerAttr;
                    e = r[0], void 0 === n && (e.pannerAttr || (e.pannerAttr = {
                        coneInnerAngle: e.coneInnerAngle,
                        coneOuterAngle: e.coneOuterAngle,
                        coneOuterGain: e.coneOuterGain,
                        distanceModel: e.distanceModel,
                        maxDistance: e.maxDistance,
                        refDistance: e.refDistance,
                        rolloffFactor: e.rolloffFactor,
                        panningModel: e.panningModel
                    }), this._pannerAttr = {
                        coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : this._coneInnerAngle,
                        coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : this._coneOuterAngle,
                        coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : this._coneOuterGain,
                        distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : this._distanceModel,
                        maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : this._maxDistance,
                        refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : this._refDistance,
                        rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : this._rolloffFactor,
                        panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : this._panningModel
                    })
                } else 2 === r.length && (e = r[0], n = parseInt(r[1], 10));
                for (var a = this._getSoundIds(n), s = 0; s < a.length; s++)
                    if (i = this._soundById(a[s])) {
                        var u = i._pannerAttr;
                        u = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : u.coneInnerAngle,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : u.coneOuterAngle,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : u.coneOuterGain,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : u.distanceModel,
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : u.maxDistance,
                            refDistance: void 0 !== e.refDistance ? e.refDistance : u.refDistance,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : u.rolloffFactor,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : u.panningModel
                        };
                        var l = i._panner;
                        l ? (l.coneInnerAngle = u.coneInnerAngle, l.coneOuterAngle = u.coneOuterAngle, l.coneOuterGain = u.coneOuterGain, l.distanceModel = u.distanceModel, l.maxDistance = u.maxDistance, l.refDistance = u.refDistance, l.rolloffFactor = u.rolloffFactor, l.panningModel = u.panningModel) : (i._pos || (i._pos = this._pos || [0, 0, -.5]), t(i, "spatial"))
                    } return this
            }, Sound.prototype.init = function(t) {
                return function() {
                    var e = this._parent;
                    this._orientation = e._orientation, this._stereo = e._stereo, this._pos = e._pos, this._pannerAttr = e._pannerAttr, t.call(this), this._stereo ? e.stereo(this._stereo) : this._pos && e.pos(this._pos[0], this._pos[1], this._pos[2], this._id)
                }
            }(Sound.prototype.init), Sound.prototype.reset = function(t) {
                return function() {
                    var e = this._parent;
                    return this._orientation = e._orientation, this._stereo = e._stereo, this._pos = e._pos, this._pannerAttr = e._pannerAttr, this._stereo ? e.stereo(this._stereo) : this._pos ? e.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0), this._panner = void 0, e._refreshBuffer(this)), t.call(this)
                }
            }(Sound.prototype.reset);
            var t = function(t, e) {
                "spatial" === (e = e || "spatial") ? (t._panner = Howler.ctx.createPanner(), t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle, t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle, t._panner.coneOuterGain = t._pannerAttr.coneOuterGain, t._panner.distanceModel = t._pannerAttr.distanceModel, t._panner.maxDistance = t._pannerAttr.maxDistance, t._panner.refDistance = t._pannerAttr.refDistance, t._panner.rolloffFactor = t._pannerAttr.rolloffFactor, t._panner.panningModel = t._pannerAttr.panningModel, void 0 !== t._panner.positionX ? (t._panner.positionX.setValueAtTime(t._pos[0], Howler.ctx.currentTime), t._panner.positionY.setValueAtTime(t._pos[1], Howler.ctx.currentTime), t._panner.positionZ.setValueAtTime(t._pos[2], Howler.ctx.currentTime)) : t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]), void 0 !== t._panner.orientationX ? (t._panner.orientationX.setValueAtTime(t._orientation[0], Howler.ctx.currentTime), t._panner.orientationY.setValueAtTime(t._orientation[1], Howler.ctx.currentTime), t._panner.orientationZ.setValueAtTime(t._orientation[2], Howler.ctx.currentTime)) : t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(), t._panner.pan.setValueAtTime(t._stereo, Howler.ctx.currentTime)), t._panner.connect(t._node), t._paused || t._parent.pause(t._id, !0).play(t._id, !0)
            }
        }()
    }).call(this, n(91))
}, function(t, e) {
    var n = Array.isArray;
    t.exports = n
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(31);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = s(this, u(e).call(this));
            var i = t.text,
                o = t.style,
                r = t.up,
                a = t.down,
                l = t.over;
            return n._text = i, n._style = o, n._up = r, n._down = a, n._over = l, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._addHitArea(this._up);
                    this._addDownState(t), this._addOverState(), this.addChild(this._up), this._addText()
                }
            }, {
                key: "_addHitArea",
                value: function(t) {
                    var e = this._createGraphics();
                    e.beginFill(16711680, 0), e.drawRect(0, 0, t.width, t.height), e.endFill();
                    var n = this._createContainer();
                    return n.area = e, n.addChild(e), this.addChild(n), n
                }
            }, {
                key: "_createGraphics",
                value: function() {
                    return new i.Graphics
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new i.Container
                }
            }, {
                key: "_addText",
                value: function() {
                    if (!this._text) return this;
                    var t = this._addTextField({
                        text: this._text,
                        style: this._convertStyle(this._style)
                    });
                    return t.x = .5 * this.width - .5 * t.width, t.y = .5 * this.height - .5 * t.height, this
                }
            }, {
                key: "_addDownState",
                value: function(t) {
                    var e = this;
                    return this._down ? (this.addChild(this._down), t.interactive = !0, this._down.visible = !1, ["mousedown", "touchstart"].forEach(function(n) {
                        t.on(n, e._showUpState, e)
                    }), ["mouseup", "mouseout", "touchend", "touchcancel", "touchleave"].forEach(function(n) {
                        t.on(n, e._showDownState, e)
                    }), t.on("touchmove", function(n) {
                        var i = n.data.global,
                            o = e._createPoint(i.x, i.y);
                        t.area.containsPoint(o) || e._showDownState()
                    }), this) : this
                }
            }, {
                key: "_showUpState",
                value: function() {
                    return this._up.visible = !1, this._down.visible = !0, this
                }
            }, {
                key: "_showDownState",
                value: function() {
                    return this._down.visible = !1, this._up.visible = !0, this
                }
            }, {
                key: "_createPoint",
                value: function(t, e) {
                    return new i.Point(t, e)
                }
            }, {
                key: "_addOverState",
                value: function() {
                    return this._over ? (this.addChild(this._over), this._over.visible = !1, this) : this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._up = null, this._down = null, this._over = null, o.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function h(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return f
    });
    var f = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && h(t.prototype, e), n && h(t, n)
        }(t, [{
            key: "createControlsBackground",
            value: function() {
                var t = this._assets.getControlsBackground();
                if (t) {
                    var e = this._createSprite(t);
                    return e.x -= .15 * e.width, e
                }
                return this._createContainer()
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new i.Sprite(t)
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createFromTilesheet",
            value: function(t) {
                var e = t.x,
                    n = t.y,
                    i = t.frameX,
                    o = t.frameY,
                    r = t.frameWidth,
                    a = t.frameHeight,
                    s = t.baseTexture,
                    u = i || o || r || a,
                    l = u ? s.clone() : s;
                u && (l.frame = this._createFrame({
                    texture: l,
                    x: i,
                    y: o,
                    width: r,
                    height: a
                }));
                var c = this._createSprite(l);
                return c.x = e || 0, c.y = n || 0, c
            }
        }, {
            key: "_createFrame",
            value: function(t) {
                var e = t.texture,
                    n = t.x,
                    i = t.y,
                    o = t.width,
                    r = t.height,
                    a = n || 0,
                    s = i || 0;
                return this._createRectangle({
                    x: a,
                    y: s,
                    width: o || e.width - a,
                    height: r || e.height - s
                })
            }
        }, {
            key: "_createRectangle",
            value: function(t) {
                var e = t.x,
                    n = t.y,
                    o = t.width,
                    r = t.height;
                return new i.Rectangle(e, n, o, r)
            }
        }, {
            key: "_createButton",
            value: function(t) {
                return new c(t)
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return f
    });
    var i, o = n(1),
        r = n(26),
        a = n(12);

    function s(t) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== s(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }! function(t) {
        t.LEFT = "left", t.RIGHT = "right", t.CENTER = "center"
    }(i || (i = {}));
    var f = function(t) {
        function e() {
            var t;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (t = l(this, c(e).call(this)))._hitarea = t._createHitArea(), t.addChild(t._hitarea), t._maxWidth = 220, t
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, a["a"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "_createHitArea",
                value: function() {
                    var t = new o.Graphics;
                    return t.beginFill(16711680, 0), t.drawRect(0, 0, 10, 10), t.endFill(), t
                }
            }, {
                key: "_addTextField",
                value: function(t) {
                    var e = t.text,
                        n = t.style,
                        i = t.x,
                        o = t.y,
                        r = this._createTextField(e, n);
                    return r.x = i || 0, r.y = o || 0, this.addChild(r), r
                }
            }, {
                key: "_createTextField",
                value: function(t, e) {
                    return new o.Text(t, e)
                }
            }, {
                key: "_convertStyle",
                value: function(t, e) {
                    return r.a.convertStyle(t, e)
                }
            }, {
                key: "_determineStyle",
                value: function(t, e, n) {
                    return r.a.determineStyle(t, e, n)
                }
            }, {
                key: "_setAlign",
                value: function(t) {
                    switch (this._align = t || this._align, this._align) {
                        case i.CENTER:
                            this._alignCenter();
                            break;
                        case i.RIGHT:
                            this._alignRight();
                            break;
                        case i.LEFT:
                            this._alignLeft()
                    }
                    return this._align
                }
            }, {
                key: "_alignCenter",
                value: function() {}
            }, {
                key: "_alignRight",
                value: function() {}
            }, {
                key: "_alignLeft",
                value: function() {}
            }, {
                key: "_setContent",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        n = t.call(this, e);
                    return this._setAlign(), this._adjustToMaxSize(), this._updateHitarea(), n
                }
            }, {
                key: "_adjustToMaxSize",
                value: function() {
                    this.removeChild(this._hitarea);
                    var t = this.height;
                    this.scale.x = 1, this.scale.y = 1;
                    var e = this.height;
                    this.width > this._maxWidth && (this.width = this._maxWidth, this.scale.y = this.scale.x);
                    var n = e - t,
                        i = e - this.height,
                        o = void 0 === this._baseY ? this.y : this._baseY;
                    return this.y = o + .5 * (i - n), this.addChild(this._hitarea), this
                }
            }, {
                key: "_updateHitarea",
                value: function() {
                    this._hitarea.visible = !1;
                    return this._hitarea.width = this.width + 50, this._hitarea.height = this.height + 50, this._hitarea.x = -.5 * this._hitarea.width, this._hitarea.y = -.5 * this._hitarea.height + .5 * this.height, this._hitarea.visible = !0, this._hitarea
                }
            }, {
                key: "setBaseY",
                value: function(t) {
                    this._baseY = t
                }
            }, {
                key: "setMaxWidth",
                value: function(t) {
                    this._maxWidth = t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._hitarea = null, a.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        return null != t && "object" == n(t)
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(93),
        r = "object" == ("undefined" == typeof self ? "undefined" : i(self)) && self && self.Object === Object && self,
        a = o || r || Function("return this")();
    t.exports = a
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(1),
        o = n(69);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = s(this, u(e).call(this)))._config = t, o._assets = n, o._layoutAdjuster = i, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "createGlobalBackground",
                value: function(t) {
                    var e = {
                            regular: this._assets.getGlobalBackground(),
                            scatter: this._assets.getScatterGlobalBackground()
                        },
                        n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                    return this._addFullHitarea(n), this._layoutAdjuster.center(n)
                }
            }, {
                key: "_addFullHitarea",
                value: function(t) {
                    var e = this._createGraphics();
                    return e.beginFill(16711680), e.drawRect(0, 0, this._layoutAdjuster.getWidth(), this._layoutAdjuster.getHeight()), e.endFill(), e.alpha = 0, t.addChild(e), t
                }
            }, {
                key: "_createTrimmedBackground",
                value: function(t) {
                    var e = this._layoutAdjuster.getMainWidth(),
                        n = this._layoutAdjuster.getMainX();
                    t.frame = new i.Rectangle(n, 0, e, t.height);
                    var o = this._createSprite(t),
                        r = this._createContainer();
                    r.addChild(o);
                    var a = this._createControlsSeparator();
                    a.x = o.width, r.addChild(a);
                    var s = this._createControlsSeparator();
                    return s.x = -1 * s.width, r.addChild(s), r.cacheAsBitmap = !0, this._adjustBackgroundToMain(r)
                }
            }, {
                key: "_adjustBackgroundToMain",
                value: function(t) {
                    return this._layoutAdjuster.adjustBackgroundToMain(t)
                }
            }, {
                key: "_createControlsSeparator",
                value: function() {
                    var t = this._assets.getControlsSeparator();
                    return t ? this._createSprite(t) : this._createContainer()
                }
            }, {
                key: "_adjustToMain",
                value: function(t) {
                    return this._layoutAdjuster.adjustToMain(t)
                }
            }, {
                key: "_createControls",
                value: function(t, e) {
                    var n = new e({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return n.x = this._layoutAdjuster.getControlsX(), n
                }
            }, {
                key: "createThrobber",
                value: function() {
                    var t = this._createAnimatedSprite(this._assets.getThrobber());
                    return t.alpha = 0, t.play(), t
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        ERROR: "loadEvent.error",
        COMPLETE: "loadEvent.complete",
        PROGRESS: "loadEvent.progress"
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(31),
        o = n(15);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._format = t, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_formatCredit",
                value: function(t) {
                    return o.a.formatCredit(t, this._format)
                }
            }, {
                key: "_creditToInteger",
                value: function(t) {
                    var e = new RegExp("\\" + this._format.thousandsSeparator, "g"),
                        n = t.replace(this._format.decimalMark, "").replace(e, "");
                    return Number(n)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._format = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    var i = n(46),
        o = n(128),
        r = n(129),
        a = "[object Null]",
        s = "[object Undefined]",
        u = i ? i.toStringTag : void 0;
    t.exports = function(t) {
        return null == t ? void 0 === t ? s : a : u && u in Object(t) ? o(t) : r(t)
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return null != t && ("object" == e || "function" == e)
    }
}, function(t, e, n) {
    var i = n(54),
        o = n(75);
    t.exports = function(t) {
        return null != t && o(t.length) && !i(t)
    }
}, function(t, e, n) {
    var i = n(130),
        o = n(133);
    t.exports = function(t, e) {
        var n = o(t, e);
        return i(n) ? n : void 0
    }
}, function(t, e, n) {
    var i = n(101),
        o = n(102),
        r = n(39);
    t.exports = function(t) {
        return r(t) ? i(t) : o(t)
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        STATUS: "alertBoxType.status",
        INTERACTIVE: "alertBoxType.interactive"
    }
}, function(t, e, n) {
    "use strict";
    e.a = {
        SYMBOLS_CHANGE: "change:symbols"
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return _
    });
    var i = n(1),
        o = n(11),
        r = n(4),
        a = n(65),
        s = n(8);

    function u(t) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function l(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function c(t, e) {
        return !e || "object" !== u(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function h(t) {
        return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function f(t, e) {
        return (f = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var _ = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = c(this, h(e).call(this, t)))._keyboardControls = new a.a(n._model), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && f(t, e)
            }(e, s["a"]),
            function(t, e, n) {
                e && l(t.prototype, e), n && l(t, n)
            }(e, [{
                key: "_adjustBackground",
                value: function(t) {
                    var e = t.width,
                        n = Math.min(this._layoutAdjuster.getRatio(), 1);
                    t.scale.x = n * n * n;
                    var i = e - t.width;
                    return t.x += .5 * i, t
                }
            }, {
                key: "_addComponent",
                value: function(t) {
                    var e = t.creator,
                        n = t.eventToDispatch,
                        i = t.expectedStatus,
                        o = t.holdEnabled,
                        r = t.holdHighlight,
                        a = t.keyboardShortcut,
                        s = e.call();
                    return n && this._addInteractionHandler({
                        button: s,
                        eventToDispatch: n,
                        expectedStatus: i,
                        holdEnabled: o,
                        holdHighlight: r,
                        keyboardShortcut: a
                    }), this.addChild(s), s
                }
            }, {
                key: "_addInteractionHandler",
                value: function(t) {
                    var e = this,
                        n = t.button,
                        o = t.eventToDispatch,
                        r = t.expectedStatus,
                        a = t.holdEnabled,
                        s = t.holdHighlight,
                        u = t.keyboardShortcut;
                    n.interactive = !0;
                    var l = this._createClickHandler({
                        eventToDispatch: o,
                        expectedStatus: r,
                        holdEnabled: a,
                        holdHighlight: s
                    });
                    if (this._onClick(n, l, this), a) {
                        var c = this._createHoldHandler(r, s);
                        n.on("mousedown", c, this), n.on("touchstart", c, this), n.on("mouseout", function() {
                            e._stopHold(s)
                        }), n.on("touchmove", function(t) {
                            var n = t.data.global;
                            new i.Rectangle(s.x + s.parent.x, s.y + s.parent.y, s.width, s.height).contains(n.x, n.y) || e._stopHold(s)
                        })
                    }
                    return u && (this._keyboardControls.addKeyDownHandler(u, o, r), this._keyboardControls.on(o, function() {
                        n.interactive && e.emit(o)
                    })), n
                }
            }, {
                key: "_createClickHandler",
                value: function(t) {
                    var e = this,
                        n = t.eventToDispatch,
                        i = t.expectedStatus,
                        r = t.holdEnabled,
                        a = t.holdHighlight;
                    return function() {
                        var t;
                        (e.emit(o.a.REQUEST_FULLSCREEN), e._isExpectedStatus(i)) && (t = e._holdStartTime && r ? Date.now() - e._holdStartTime : 0, e.emit(n, t), a && e._stopHold(a))
                    }
                }
            }, {
                key: "_isExpectedStatus",
                value: function(t) {
                    return !t || t === this._model.status || t.indexOf(this._model.status) > -1
                }
            }, {
                key: "_createHoldHandler",
                value: function(t, e) {
                    var n = this;
                    return function() {
                        n._isExpectedStatus(t) && (n._holdStartTime = Date.now(), e && n._startHold(e))
                    }
                }
            }, {
                key: "_startHold",
                value: function(t) {
                    return t.visible = !0, this._animator && this._animator.hold(t), t
                }
            }, {
                key: "_stopHold",
                value: function(t) {
                    return this._animator && this._animator.release(t), t
                }
            }, {
                key: "disable",
                value: function() {
                    return this._explicitelyDisabled = !0, this._disable()
                }
            }, {
                key: "_disable",
                value: function() {
                    var t = this;
                    this._disabled = this._disabled || [];
                    var e = this._disabled.length;
                    return this.children.forEach(function(e) {
                        e.interactive && (t._disabled.push(e), e.interactive = !1)
                    }), this._disabled.length - e
                }
            }, {
                key: "enable",
                value: function() {
                    return this._explicitelyDisabled = !1, this._enable()
                }
            }, {
                key: "_enable",
                value: function() {
                    if (this._disabled && !this._explicitelyDisabled) {
                        for (var t = this._disabled.length; this._disabled.length > 0;) {
                            this._disabled.pop().interactive = !0
                        }
                        return t
                    }
                    return 0
                }
            }, {
                key: "temporarilyDisable",
                value: function() {
                    r.a.isIOS() || (this._disable(), setTimeout(this._enable.bind(this), 350))
                }
            }, {
                key: "alignRight",
                value: function() {}
            }, {
                key: "alignLeft",
                value: function() {}
            }, {
                key: "destroy",
                value: function() {
                    this._animator = null, this._disabled = null, this._keyboardControls.destroy(), this._keyboardControls = null, s.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return f
    });
    var i = n(1),
        o = n(7),
        r = n(5);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var f = function(t) {
        function e(t, n) {
            var i, o, a = n.regular,
                u = n.scatter;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = l(this, c(e).call(this)))._model = t, o._containers = (s(i = {}, r.a.REGULAR, a), s(i, r.a.SCATTER, u), i), o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._forEachContainer(this._addContainer), this._switchContainer(this._model, this._model.gameType), this._model.on(o.a.GAME_TYPE_CHANGE, this._switchContainer, this)
                }
            }, {
                key: "_addContainer",
                value: function(t) {
                    this.addChild(t)
                }
            }, {
                key: "_forEachContainer",
                value: function(t) {
                    for (var e in this._containers) this._containers.hasOwnProperty(e) && this._containers[e] && this._processContainer(e, t)
                }
            }, {
                key: "_processContainer",
                value: function(t, e) {
                    var n = this,
                        i = this._containers[t];
                    Array.isArray(i) ? i.forEach(function(i) {
                        e.call(n, i, t)
                    }) : e.call(this, i, t)
                }
            }, {
                key: "_switchContainer",
                value: function(t, e) {
                    this._forEachContainer(function(t, n) {
                        t.visible = n === e, t instanceof i.extras.AnimatedSprite && t.gotoAndPlay(0)
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(o.a.GAME_TYPE_CHANGE, this._switchContainer), this._model = null, this._forEachContainer(this._destroyContainer), this._containers = null, i.Container.prototype.destroy.call(this)
                }
            }, {
                key: "_destroyContainer",
                value: function(t) {
                    t.destroy()
                }
            }]), e
    }()
}, function(t, e, n) {
    var i = n(33).Symbol;
    t.exports = i
}, function(t, e, n) {
    var i = n(73),
        o = n(95);
    t.exports = function(t, e, n, r) {
        var a = !n;
        n || (n = {});
        for (var s = -1, u = e.length; ++s < u;) {
            var l = e[s],
                c = r ? r(n[l], t[l], l, n, t) : void 0;
            void 0 === c && (c = t[l]), a ? o(n, l, c) : i(n, l, c)
        }
        return n
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return h
    });
    var i = n(6),
        o = n(36);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t, e, n) {
        return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var i = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = l(t)););
                return t
            }(t, e);
            if (i) {
                var o = Object.getOwnPropertyDescriptor(i, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = s(this, l(e).call(this, t.format));
            var i = t.style,
                o = t.setup,
                r = t.animator;
            return n._style = i, n._setup = o, n._animator = r, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, o["a"]),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._label = this._addTextField({
                        text: this._setup.label || "",
                        style: this._determineStyle(this._setup, this._style.secondary)
                    }), this._currency = this._addTextField({
                        text: " ".concat(this._format.currency),
                        style: this._determineStyle(this._setup, this._style.secondary),
                        y: this._setup.twoline ? this._setup.lineHeight : 0
                    }), this._amount = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style.primary),
                        x: this._setup.twoline ? 0 : this._label.width,
                        y: this._setup.twoline ? this._setup.lineHeight : 0
                    }), this._setAlign(this._setup.align || this._style.primary.align), this.setContent(0)
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    return this._setup.twoline ? this._twolineAlignCenter() : this._singleLineAlignCenter()
                }
            }, {
                key: "_twolineAlignCenter",
                value: function() {
                    var t = this._amount.width + this._currency.width;
                    return [this._label, this._amount, this._currency].forEach(function(t) {
                        t.x = -.5 * t.width
                    }), this._amount.x -= .25 * t, this._currency.x += .25 * t, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_singleLineAlignCenter",
                value: function() {
                    var t = this._amount.width + this._currency.width + this._label.width;
                    return this._label.x = -.5 * t, this._amount.x = this._label.x + this._label.width, this._currency.x = this._amount.x + this._amount.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_alignRight",
                value: function() {
                    var t = this._setup.twoline ? 0 : -1 * (this._currency.width + this._amount.width),
                        e = this._currency.text && " " !== this._currency.text && !this._setup.twoline ? this._currency.width : -5;
                    return this._label.x = -1 * this._label.width + t, this._amount.x = -1 * (this._amount.width + e), this._currency.x = -1 * this._currency.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "_alignLeft",
                value: function() {
                    return this._currency.x = this._amount.x + this._amount.width, [this._label.x, this._amount.x, this._currency.x]
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._clearCounter(), this._countStep && (this._countStep = 0, this.emit(i.a.TEXT_COUNT_COMPLETE), this.setStyle("primary")), this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_setContent",
                value: function(t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    return this._animator && this._animator.clear(this), u(l(e.prototype), "_setContent", this).call(this, t, n)
                }
            }, {
                key: "_clearCounter",
                value: function() {
                    this._counter && (clearTimeout(this._counter), this._counter = null)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._amount.text = isNaN(Number(t)) ? String(t) : this._formatCredit(Number(t)), this._updateStyle(), this._amount.text
                }
            }, {
                key: "_updateStyle",
                value: function() {
                    var t = this._creditToInteger(this._amount.text);
                    if (this._lowTreshold && t < this._lowTreshold) this.setStyle("lowBalance");
                    else if (this._lowTreshold) return this.setStyle("primary");
                    return this._amount.style
                }
            }, {
                key: "setAnimatedContent",
                value: function(t) {
                    var e = this,
                        n = t;
                    if (!isNaN(Number(t))) {
                        var o = this._creditToInteger(this._amount.text),
                            r = Number(t);
                        this._clearCounter(), this._countStep = this._calculateCountStep(o, r), this._countStep ? (n = o + this._countStep, this._counter = setTimeout(function() {
                            e.setAnimatedContent(r)
                        }, 17)) : (this.emit(i.a.TEXT_COUNT_COMPLETE), this.setStyle("primary"))
                    }
                    return this._setContent(this._contentSetter, n)
                }
            }, {
                key: "_calculateCountStep",
                value: function(t, e) {
                    var n = this._setup.countUpSpeed > 0 && this._setup.countUpSpeed <= 1,
                        i = this._setup.countDownSpeed > 0 && this._setup.countDownSpeed <= 1;
                    return n && e > t ? Math.floor((e - t) * this._setup.countUpSpeed) || 1 : i && e < t ? Math.floor((e - t) * this._setup.countDownSpeed) || 1 : 0
                }
            }, {
                key: "setLowTreshold",
                value: function(t) {
                    return this._lowTreshold = t, this._updateStyle(), this._lowTreshold
                }
            }, {
                key: "setStyle",
                value: function(t) {
                    return this._style[t] && (this._amount.style = this._convertStyle(this._style[t])), this._amount.style
                }
            }, {
                key: "setAmountVisibility",
                value: function(t) {
                    return this._amount.visible = t, this._currency.visible = t, this._amount.visible && this._currency.visible
                }
            }, {
                key: "pulse",
                value: function() {
                    return this._animator ? this._animator.pulse(this) : this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._animator && this._animator.clear(this), this._style = null, this._setup = null, this._label.destroy(), this._label = null, this._currency.destroy(), this._currency = null, this._amount.destroy(), this._amount = null, o.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e) {
    var n = Object.prototype;
    t.exports = function(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || n)
    }
}, function(t, e, n) {
    var i = n(178),
        o = n(78),
        r = n(179),
        a = n(112),
        s = n(180),
        u = n(37),
        l = n(97),
        c = l(i),
        h = l(o),
        f = l(r),
        _ = l(a),
        y = l(s),
        d = u;
    (i && "[object DataView]" != d(new i(new ArrayBuffer(1))) || o && "[object Map]" != d(new o) || r && "[object Promise]" != d(r.resolve()) || a && "[object Set]" != d(new a) || s && "[object WeakMap]" != d(new s)) && (d = function(t) {
        var e = u(t),
            n = "[object Object]" == e ? t.constructor : void 0,
            i = n ? l(n) : "";
        if (i) switch (i) {
            case c:
                return "[object DataView]";
            case h:
                return "[object Map]";
            case f:
                return "[object Promise]";
            case _:
                return "[object Set]";
            case y:
                return "[object WeakMap]"
        }
        return e
    }), t.exports = d
}, function(t, e, n) {
    var i = n(29),
        o = n(194),
        r = n(195),
        a = n(71);
    t.exports = function(t, e) {
        return i(t) ? t : o(t, e) ? [t] : r(a(t))
    }
}, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }), Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }), t.webpackPolyfill = 1), t
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(37),
        r = n(32),
        a = "[object Symbol]";
    t.exports = function(t) {
        return "symbol" == i(t) || r(t) && o(t) == a
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(38),
        r = "[object AsyncFunction]",
        a = "[object Function]",
        s = "[object GeneratorFunction]",
        u = "[object Proxy]";
    t.exports = function(t) {
        if (!o(t)) return !1;
        var e = i(t);
        return e == a || e == s || e == r || e == u
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return t === e || t != t && e != e
    }
}, function(t, e, n) {
    var i = n(141),
        o = n(32),
        r = Object.prototype,
        a = r.hasOwnProperty,
        s = r.propertyIsEnumerable,
        u = i(function() {
            return arguments
        }()) ? i : function(t) {
            return o(t) && a.call(t, "callee") && !s.call(t, "callee")
        };
    t.exports = u
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(33),
            r = n(142),
            a = "object" == i(e) && e && !e.nodeType && e,
            s = a && "object" == i(t) && t && !t.nodeType && t,
            u = s && s.exports === a ? o.Buffer : void 0,
            l = (u ? u.isBuffer : void 0) || r;
        t.exports = l
    }).call(this, n(52)(t))
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return t(e)
        }
    }
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(93),
            r = "object" == i(e) && e && !e.nodeType && e,
            a = r && "object" == i(t) && t && !t.nodeType && t,
            s = a && a.exports === r && o.process,
            u = function() {
                try {
                    var t = a && a.require && a.require("util").types;
                    return t || s && s.binding && s.binding("util")
                } catch (t) {}
            }();
        t.exports = u
    }).call(this, n(52)(t))
}, function(t, e, n) {
    var i = n(147),
        o = n(148),
        r = n(149),
        a = n(150),
        s = n(151);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(55);
    t.exports = function(t, e) {
        for (var n = t.length; n--;)
            if (i(t[n][0], e)) return n;
        return -1
    }
}, function(t, e, n) {
    var i = n(40)(Object, "create");
    t.exports = i
}, function(t, e, n) {
    var i = n(165);
    t.exports = function(t, e) {
        var n = t.__data__;
        return i(e) ? n["string" == typeof e ? "string" : "hash"] : n.map
    }
}, function(t, e, n) {
    var i = n(53),
        o = 1 / 0;
    t.exports = function(t) {
        if ("string" == typeof t || i(t)) return t;
        var e = t + "";
        return "0" == e && 1 / t == -o ? "-0" : e
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var i = n(9),
        o = n.n(i);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = s(this, u(e).call(this)))._model = t, n._listeners = [], n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && l(t, e)
            }(e, o.a),
            function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(e, [{
                key: "onKeyDown",
                value: function(t, e) {
                    var n = "keyEvent.".concat(t);
                    this.addKeyDownHandler(t, n), this.on(n, e)
                }
            }, {
                key: "addKeyDownHandler",
                value: function(t, e, n) {
                    var i = this,
                        o = function(o) {
                            var r = o.keyCode || Number(o.key);
                            (Array.isArray(t) ? t.indexOf(r) > -1 : t === r) && i._isExpectedStatus(n) && i.emit(e)
                        };
                    return window.addEventListener("keydown", o), this._listeners.push(o), this._listeners
                }
            }, {
                key: "_isExpectedStatus",
                value: function(t) {
                    return !t || t === this._model.status || t.indexOf(this._model.status) > -1
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model = null, this._listeners.forEach(function(t) {
                        window.removeEventListener("keydown", t)
                    }), this._listeners = null
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(31);

    function o(t) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function a(t, e) {
        return !e || "object" !== o(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function s(t) {
        return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function u(t, e) {
        return (u = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var l = function(t) {
        function e(t) {
            var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = a(this, s(e).call(this)))._style = t, n._setup = i, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && u(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._info = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style)
                    }), this._setAlign(this._setup.align || this._style.align)
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return t !== this._info.text && (this._info.text = t), this._info.text
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._info.x = .5 * -this._info.width
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._info.x = -this._info.width
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = l
}, function(t, e, n) {
    "use strict";
    var i = n(28);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._name = e, this._instance = new i.Howl({
                src: e
            })
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, [{
            key: "play",
            value: function() {
                return "loaded" !== this._instance.state() && console.log("sound(".concat(this._name, ")--\x3e STRANGE STATE?")), this._instance.stop(), this._instance.play()
            }
        }, {
            key: "enableLoop",
            value: function() {
                return this._instance.loop(!0), this
            }
        }, {
            key: "disableLoop",
            value: function() {
                return this._instance.loop(!1), this
            }
        }, {
            key: "stop",
            value: function() {
                return this._instance.stop(), this
            }
        }, {
            key: "softStop",
            value: function() {
                var t = this,
                    e = this._instance.volume();
                return this._instance.fade(e, 0, 50), setTimeout(function() {
                    t._instance.stop()
                }, 50), this
            }
        }, {
            key: "mute",
            value: function() {
                return this._instance.mute(), this
            }
        }, {
            key: "pause",
            value: function() {
                return this._instance.pause(), this
            }
        }, {
            key: "once",
            value: function(t, e) {
                return this._instance.once(t, e), this
            }
        }, {
            key: "on",
            value: function(t, e) {
                return this._instance.on(t, e), this
            }
        }, {
            key: "off",
            value: function(t) {
                return this._instance.off(t), this
            }
        }, {
            key: "state",
            value: function() {
                return this._instance.state()
            }
        }, {
            key: "unload",
            value: function() {
                return this._instance.unload(), this
            }
        }, {
            key: "load",
            value: function() {
                return this._instance.load(), this
            }
        }, {
            key: "fade",
            value: function(t, e, n) {
                return this._instance.fade(t, e, n), this
            }
        }, {
            key: "volume",
            value: function(t) {
                return t && this._instance.volume(t), this._instance.volume()
            }
        }, {
            key: "resetToWebAudio",
            value: function() {
                this._instance._html5 = !1, this._instance._webAudio = !0
            }
        }, {
            key: "getVolume",
            value: function() {
                return this._instance.volume()
            }
        }]), t
    }();

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return s
    });
    var s = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), i.Howler.autoSuspend = !1
        }
        return function(t, e, n) {
            e && a(t.prototype, e), n && a(t, n)
        }(t, [{
            key: "createHowl",
            value: function(t) {
                return new r(t)
            }
        }, {
            key: "mute",
            value: function(t) {
                return console.log("Global-MUTE=>" + t), i.Howler.mute(t)
            }
        }, {
            key: "volume",
            value: function(t) {
                return console.log("Global-VOLUME=>" + t), i.Howler.volume(t)
            }
        }, {
            key: "getVolume",
            value: function() {
                return i.Howler.volume()
            }
        }, {
            key: "isHowl",
            value: function(t) {
                return t instanceof i.Howl
            }
        }, {
            key: "setNoAudio",
            value: function(t) {
                i.Howler.noAudio = t
            }
        }, {
            key: "destroy",
            value: function() {
                console.log("destroying Howler...");
                try {
                    i.Howler.unload(), console.log("Howler unload OK"), i.Howler.autoSuspend = !1, i.Howler.ctx.close(), i.Howler.ctx = null, console.log("Howler AudioContext closed OK")
                } catch (t) {
                    console.log("destroying Howler failed")
                }
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(42),
        r = n(31),
        a = n(30);

    function s(t) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function u(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function l(t, e) {
        return !e || "object" !== s(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var f = function(t) {
        function e(t, n) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), l(this, c(e).call(this, t, n))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && h(t, e)
            }(e, a["a"]),
            function(t, e, n) {
                e && u(t.prototype, e), n && u(t, n)
            }(e, [{
                key: "createConfirmButton",
                value: function() {
                    var t = this._assets.getFormButton(),
                        e = .5 * t.width,
                        n = this._createFromTilesheet({
                            frameWidth: e,
                            baseTexture: t
                        }),
                        i = this._createFromTilesheet({
                            frameX: e,
                            frameWidth: e,
                            baseTexture: t
                        });
                    return this._createButton({
                        text: this._config.setup.confirm || "",
                        style: this._config.style,
                        up: n,
                        down: i
                    })
                }
            }]), e
    }();

    function _(t) {
        return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function y(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function d(t, e) {
        return !e || "object" !== _(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function p(t) {
        return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function m(t, e) {
        return (m = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var v = function(t) {
        function e(t) {
            var n, i = t.message,
                o = t.style,
                r = t.setup,
                a = t.type,
                s = t.assets;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = d(this, p(e).call(this)))._message = i, n._style = o, n._setup = r, n._type = a, n._assets = s, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && m(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && y(t.prototype, e), n && y(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._setup.padding || 10;
                    this._addBackground(), this._textfield = this._addMessage(e), this._type === o.a.INTERACTIVE && this._addConfirmButton(e, t), this._setAlign(this._style.align)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new f({
                        setup: this._setup,
                        style: this._style
                    }, this._assets)
                }
            }, {
                key: "_addBackground",
                value: function() {
                    var t = this._createBackground(this._assets.getAlertBox()),
                        e = this._setup.size || 1;
                    return t.scale.x = t.scale.y = 1.5 * e, this.addChild(t), t
                }
            }, {
                key: "_createBackground",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "_addMessage",
                value: function(t) {
                    var e = this.width - 2 * t,
                        n = Math.max(e, 280);
                    return this._addTextField({
                        text: this._message,
                        style: this._convertStyle(this._style, n),
                        x: t,
                        y: t
                    })
                }
            }, {
                key: "_addConfirmButton",
                value: function(t, e) {
                    var n = e.createConfirmButton();
                    return n.y = Math.max(this.height, 200) - n.height - t, n.x = .5 * (this.width - n.width), this.addChild(n), n
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._textfield.x = .5 * (this.width - this._textfield.width)
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._textfield.x = this.width - this._textfield.width - this._setup.padding
                }
            }, {
                key: "destroy",
                value: function() {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    this._style = null, this._setup = null, this._type = null, this._assets = null, this._textfield.destroy(), this._textfield = null, t && r.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = v
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(4),
        r = n(45);

    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function u(t, e) {
        return !e || "object" !== a(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function l(t) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function c(t, e) {
        return (c = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var h = function(t) {
        function e(t, n) {
            var i = n.regular,
                o = n.scatter;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), u(this, l(e).call(this, t, {
                regular: i,
                scatter: o
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && c(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && s(t.prototype, e), n && s(t, n)
            }(e, [{
                key: "gotoAndPlay",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._forEachContainer(function(n) {
                        t._isAnimatedSprite(n) && n.gotoAndPlay(e)
                    })
                }
            }, {
                key: "_isAnimatedSprite",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._onComplete = null, r.a.prototype.destroy.call(this)
                }
            }, {
                key: "onComplete",
                get: function() {
                    return this._onComplete
                },
                set: function(t) {
                    var e = this;
                    this._onComplete = t, this._forEachContainer(function(t, n) {
                        e._isAnimatedSprite(t) && (t.loop = !1, t.onComplete = function() {
                            n === e._model.gameType && e._onComplete()
                        })
                    })
                }
            }, {
                key: "loop",
                get: function() {
                    return this._loop
                },
                set: function(t) {
                    var e = this;
                    this._loop = t, this._forEachContainer(function(t) {
                        e._isAnimatedSprite(t) && (t.loop = e._loop)
                    })
                }
            }]), e
    }();

    function f(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return _
    });
    var _ = function() {
        function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        }
        return function(t, e, n) {
            e && f(t.prototype, e), n && f(t, n)
        }(t, [{
            key: "_createGameTypeSprite",
            value: function(t) {
                var e = t.model,
                    n = t.spriteCreator,
                    i = t.texture,
                    o = t.scatterOffset,
                    a = i.regular,
                    s = i.scatter;
                return a || s ? a !== s && e && s ? new r.a(e, {
                    regular: n(a),
                    scatter: n(s, o)
                }) : n(a) : this._createContainer()
            }
        }, {
            key: "_createGameTypeAnimatedSprite",
            value: function(t) {
                var e = t.model,
                    n = t.spriteCreator,
                    i = t.texture,
                    o = t.scatterOffset,
                    r = t.fps,
                    a = t.playOnlyOnce,
                    s = i.regular,
                    u = i.scatter;
                if (!s && !u) return this._createContainer();
                var l = n(s, r),
                    c = !(s === u || !e || !u) ? n(u, r, o) : this._createContainer(),
                    f = new h(e, {
                        regular: l,
                        scatter: c
                    });
                return f.loop = !a, f
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    x: 0,
                    y: 0
                };
                return function() {
                    var n = e.x,
                        o = e.y,
                        r = new i.Sprite(t);
                    return r.x = n, r.y = o, r
                }()
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 12,
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        x: 0,
                        y: 0
                    };
                return function() {
                    var r = n.x,
                        a = n.y,
                        s = new i.extras.AnimatedSprite(t);
                    return s.animationSpeed = e / o.a.FPS, s.x = r, s.y = a, s
                }()
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new i.Graphics
            }
        }]), t
    }()
}, function(t, e, n) {
    "use strict";
    e.a = {
        LEFT: "winlineNumberPosition.left",
        RIGHT: "winlineNumberPosition.right"
    }
}, function(t, e, n) {
    var i = n(127);
    t.exports = function(t) {
        return null == t ? "" : i(t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = Array(i); ++n < i;) o[n] = e(t[n], n, t);
        return o
    }
}, function(t, e, n) {
    var i = n(95),
        o = n(55),
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n) {
        var a = t[e];
        r.call(t, e) && o(a, n) && (void 0 !== n || e in t) || i(t, e, n)
    }
}, function(t, e) {
    t.exports = function(t) {
        return t
    }
}, function(t, e) {
    var n = 9007199254740991;
    t.exports = function(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= n
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i = 9007199254740991,
        o = /^(?:0|[1-9]\d*)$/;
    t.exports = function(t, e) {
        var r = n(t);
        return !!(e = null == e ? i : e) && ("number" == r || "symbol" != r && o.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
}, function(t, e, n) {
    var i = n(143),
        o = n(58),
        r = n(59),
        a = r && r.isTypedArray,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(40)(n(33), "Map");
    t.exports = i
}, function(t, e, n) {
    var i = n(157),
        o = n(164),
        r = n(166),
        a = n(167),
        s = n(168);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(176),
        o = n(107),
        r = Object.prototype.propertyIsEnumerable,
        a = Object.getOwnPropertySymbols,
        s = a ? function(t) {
            return null == t ? [] : (t = Object(t), i(a(t), function(e) {
                return r.call(t, e)
            }))
        } : o;
    t.exports = s
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = e.length, o = t.length; ++n < i;) t[o + n] = e[n];
        return t
    }
}, function(t, e, n) {
    var i = n(103)(Object.getPrototypeOf, Object);
    t.exports = i
}, function(t, e, n) {
    var i = n(113);
    t.exports = function(t) {
        var e = new t.constructor(t.byteLength);
        return new i(e).set(new i(t)), e
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = -1,
            n = Array(t.size);
        return t.forEach(function(t) {
            n[++e] = t
        }), n
    }
}, function(t, e, n) {
    "use strict";
    var i = n(8),
        o = n(4),
        r = n(0),
        a = n(2),
        s = n(7),
        u = n(89);

    function l(t) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function c(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function h(t, e) {
        return !e || "object" !== l(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function f(t) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _(t, e) {
        return (_ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var y = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = h(this, f(e).call(this, {
                model: i,
                config: o,
                assets: r
            })))._layoutAdjuster = a, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && _(t, e)
            }(e, i["a"]),
            function(t, e, n) {
                e && c(t.prototype, e), n && c(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._createWorkshop();
                    if (this._config.winlines.numbers.useBackground) {
                        var n = e.createWinlineNumbersBackground();
                        this.addChild(n)
                    }
                    this._winlineNumbers = e.createWinlineNumbers(), this._winlineNumbers.forEach(function(e) {
                        t.addChild(e)
                    }), this.interactive = !0, o.a.addClickListener(this, this._winlineClickHandler, this), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new u.a(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_showBaseState",
                value: function() {
                    var t = this;
                    this._winlineNumbers.forEach(function(e) {
                        t._config.winlines.numbers.hideHighlightByDefault ? e.showRegular() : e.showEmphasized()
                    })
                }
            }, {
                key: "_winlineClickHandler",
                value: function() {
                    this.emit(a.a.WINLINE_NUMBER_TAP)
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case r.a.FIRST_WINLINE_WALK:
                            this._resetWinlineWalk(), this._winningWinlines = this._createWinlineSequence();
                            break;
                        case r.a.SPECIAL_WALK:
                            this._resetWinlineWalk(), this._winningWinlines = this._createSpecialWinlineSequence();
                            break;
                        case r.a.GAMBLING:
                        case r.a.TAKING:
                        case r.a.WAITING:
                        case r.a.READY:
                            this._showBaseState()
                    }
                }
            }, {
                key: "_resetWinlineWalk",
                value: function() {
                    return this._currentIndex = 0, this._winlineNumbers.forEach(function(t) {
                        t.showRegular()
                    }), this._winlineNumbers
                }
            }, {
                key: "_createWinlineSequence",
                value: function() {
                    var t = [];
                    return this._model.winlineWins.forEach(function(e, n) {
                        e.credits && t.push(n)
                    }), this._model.scatterWin && t.push(-1), t.push(-1), t
                }
            }, {
                key: "_createSpecialWinlineSequence",
                value: function() {
                    var t = [];
                    return this._model.special && this._model.special.winlineWins && this._model.special.winlineWins.forEach(function(e, n) {
                        e.credits && t.push(n)
                    }), t.push(-1), t
                }
            }, {
                key: "walk",
                value: function() {
                    var t = this;
                    return this._winningWinlines && (this._winlineNumbers.forEach(function(e, n) {
                        var i = t._winningWinlines[t._currentIndex];
                        i === n ? e.blink(0, t._config.winlines.blinking) : i > -1 || t._config.winlines.numbers.hideHighlightByDefault ? e.showRegular() : e.showEmphasized()
                    }), this._currentIndex = (this._currentIndex + 1) % this._winningWinlines.length), this
                }
            }, {
                key: "setSelectedWinlines",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._winlineNumbers.forEach(function(e, n) {
                        var i = t <= 0 || n < t;
                        e.alpha = i ? 1 : 0
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._layoutAdjuster = null, this._winlineNumbers = null, this._winningWinlines = null, clearTimeout(this._blinkTimeout), this._blinkTimeout = null, i.a.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = y
}, function(t, e, n) {
    "use strict";
    var i = n(124),
        o = n.n(i);

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var a = function() {
            function t() {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            return function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(t, [{
                key: "loadFonts",
                value: function(t, e) {
                    window.Promise ? this._loadFonts(t, e) : (console.log("Promises not supported, skipping font load"), e())
                }
            }, {
                key: "_loadFonts",
                value: function(t, e) {
                    var n = this,
                        i = t.map(function(t) {
                            return n._createFontFaceObserver(t).load()
                        });
                    Promise.all(i).then(e, e)
                }
            }, {
                key: "_createFontFaceObserver",
                value: function(t) {
                    return new o.a(t)
                }
            }]), t
        }(),
        s = n(21),
        u = n.n(s),
        l = u.a.extend({
            props: {
                model: "state",
                view: "object",
                controller: "object",
                type: "string"
            }
        }),
        c = n(17),
        h = n(5),
        f = n(0),
        _ = u.a.extend({
            props: {
                availableWinlinesContainer: {
                    type: "object",
                    default: function() {
                        return {}
                    }
                },
                wantsGamble: {
                    type: "boolean",
                    default: !0
                },
                mayGamble: {
                    type: "boolean",
                    default: !0
                },
                wantsTurbo: {
                    type: "boolean",
                    default: !1
                },
                mayTurbo: {
                    type: "boolean",
                    default: !0
                },
                reels: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                winlineWins: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                scatterSelection: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                stickySymbols: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                bet: "number",
                maxSelectableScatterCount: "number",
                scatterMessage: "string",
                specialSymbolId: "string",
                bonusTriggerId: "string",
                scatterWin: "object",
                snappedInReels: "number",
                enteringFinalSymbolsCount: "number",
                enteringScattersCount: "number",
                autoPlayEnabled: "boolean",
                special: "object",
                scatterGameWinBonus: "number",
                takenAmount: "number",
                walkedAmount: "number",
                walkedWinlinesCount: "number",
                isActive: {
                    type: "boolean",
                    required: !0,
                    default: !0
                },
                bonusType: {
                    type: "string",
                    required: !0,
                    default: c.a.NONE,
                    values: [c.a.NONE, c.a.BEFORE_READY, c.a.BEFORE_WINLINE_WALK]
                },
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                nextGameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: f.a.PREPARING,
                    values: [f.a.PREPARING, f.a.BEFORE_READY, f.a.READY, f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.WAITING, f.a.BEFORE_WINLINE_WALK, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.TAKING, f.a.GAMBLING, f.a.BEFORE_SCATTER, f.a.SCATTER_INTRO, f.a.SCATTER_SELECT, f.a.SCATTER_OUTRO, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK]
                }
            },
            derived: {
                availableWinlines: {
                    deps: ["availableWinlinesContainer", "gameType"],
                    fn: function() {
                        return this.availableWinlinesContainer[this.gameType] || this.availableWinlinesContainer[h.a.REGULAR] || []
                    }
                },
                gambleEnabled: {
                    deps: ["mayGamble", "wantsGamble"],
                    fn: function() {
                        return this.mayGamble && this.wantsGamble
                    }
                },
                turboEnabled: {
                    deps: ["mayTurbo", "wantsTurbo"],
                    fn: function() {
                        return this.mayTurbo && this.wantsTurbo
                    }
                },
                missedScattersCount: {
                    deps: ["enteringFinalSymbolsCount", "enteringScattersCount"],
                    fn: function() {
                        return this.enteringFinalSymbolsCount - this.enteringScattersCount
                    }
                },
                enteringFinalSymbols: {
                    deps: ["enteringFinalSymbolsCount", "reels"],
                    fn: function() {
                        return this.reels[this.enteringFinalSymbolsCount] ? this.reels[this.enteringFinalSymbolsCount].symbols : []
                    },
                    cache: !1
                },
                willSwitchToScatter: {
                    deps: ["gameType", "nextGameType"],
                    fn: function() {
                        return this.gameType !== this.nextGameType && this.nextGameType === h.a.SCATTER
                    },
                    cache: !1
                },
                willSwitchToRegular: {
                    deps: ["gameType", "nextGameType"],
                    fn: function() {
                        return this.gameType !== this.nextGameType && this.nextGameType === h.a.REGULAR
                    },
                    cache: !1
                },
                hasRegularWinnings: {
                    deps: ["winlineWins", "scatterWin"],
                    fn: function() {
                        for (var t = 0; t < this.winlineWins.length; t += 1)
                            if (this.winlineWins[t].credits) return !0;
                        return Boolean(this.scatterWin)
                    },
                    cache: !1
                },
                hasScatterSelection: {
                    deps: ["scatterSelection"],
                    fn: function() {
                        return Boolean(this.scatterSelection.length)
                    }
                },
                isWaitingForResult: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.BEFORE_WINLINE_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isFirstWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.FIRST_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isAfterWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.TAKING, f.a.GAMBLING].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isScatterTransition: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.SCATTER_INTRO, f.a.SCATTER_SELECT].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isWalking: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isSpecialWalk: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                isReadyForTaking: {
                    deps: ["status"],
                    fn: function() {
                        return [f.a.WAITING, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.BEFORE_SPECIAL_WALK, f.a.SPECIAL_WALK].indexOf(this.status) > -1
                    },
                    cache: !1
                },
                hasMultiplier: {
                    deps: ["special"],
                    fn: function() {
                        return this.special && this.special.multiplier
                    },
                    cache: !1
                },
                hasSpecialWinnings: {
                    deps: ["special"],
                    fn: function() {
                        return this.special && this.special.winlineWins
                    },
                    cache: !1
                },
                hasWinnings: {
                    deps: ["hasRegularWinnings", "hasSpecialWinnings"],
                    fn: function() {
                        return this.hasRegularWinnings || this.hasSpecialWinnings
                    },
                    cache: !1
                },
                hasStickySymbols: {
                    deps: ["stickySymbols"],
                    fn: function() {
                        return this.stickySymbols.length > 0
                    },
                    cache: !1
                },
                isInScatter: {
                    deps: ["gameType"],
                    fn: function() {
                        return this.gameType === h.a.SCATTER
                    },
                    cache: !1
                }
            }
        }),
        y = n(87),
        d = n(2),
        p = {
            SEQUENCE_COMPLETE: "soundEvent.sequenceComplete",
            GAMBLE_COMPLETE: "soundEvent.gambleComplete",
            POT_COMPLETE: "soundEvent.potComplete",
            SCATTER_SELECT_COMPLETE: "soundEvent.scatterSelectComplete"
        },
        m = n(7),
        v = n(43),
        g = n(25);

    function b(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var S = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var n = e.model,
                i = e.view,
                o = e.config,
                r = e.soundPlayer;
            this._model = n, this._view = i, this._config = o, this._soundPlayer = r
        }
        return function(t, e, n) {
            e && b(t.prototype, e), n && b(t, n)
        }(t, [{
            key: "handleViewEvent",
            value: function(t) {
                switch (t) {
                    case d.a.SPECIAL_MULTIPLIER:
                        return this._soundPlayer.playCongratulations(), "";
                    case d.a.EXIT:
                        return d.a.EXIT;
                    case d.a.STOP_AUTO_PLAY:
                        return this._model.autoPlayEnabled = !1, "";
                    default:
                        return ""
                }
            }
        }, {
            key: "handleWinSequenceComplete",
            value: function() {}
        }, {
            key: "handleModelEvent",
            value: function(t) {
                switch (t) {
                    case m.a.TAKEN_AMOUNT_CHANGE:
                        for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++) n[i - 1] = arguments[i];
                        return this._handleTakenAmountChange.apply(this, n), "";
                    case m.a.NEXT_GAME_TYPE_CHANGE:
                        return this._model.autoPlayEnabled = !1, "";
                    default:
                        return ""
                }
            }
        }, {
            key: "_handleTakenAmountChange",
            value: function(t, e) {
                e > 0 && this._soundPlayer.playTake()
            }
        }, {
            key: "_handleWinlineWalk",
            value: function(t) {
                if (t) {
                    this._updateWalkedAmount(t);
                    var e = Boolean(this._config.scatter.winSounds),
                        n = this._model.isInScatter && e ? this._config.scatter : this._config,
                        i = g.a.getWinConfig(n, t);
                    if (i.sequence.length > 0) {
                        var o = Math.floor(i.sequence.length * Math.random()),
                            r = i.useLadder ? this._model.walkedWinlinesCount : o,
                            a = this._getWinSequenceForWinline(i.sequence, r);
                        this._soundPlayer.playSequence(a)
                    }
                    g.a.getIsFullWinEffectTrigger(this._config, t) ? this._view.showFullWin() : g.a.getIsHugeWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showHugeWin(t.coordinates) : g.a.getIsHighWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showHighWin(t.coordinates) : g.a.getIsRegularWinEffectTrigger(this._config, t, this._model.bet) ? this._view.showRegularWin(t.coordinates) : g.a.getIsSmallWinEffectTrigger(this._config, t, this._model.bet) && this._view.showSmallWin(t.coordinates), this._model.walkedWinlinesCount += 1
                }
            }
        }, {
            key: "_updateWalkedAmount",
            value: function(t) {
                this._model.walkedAmount += t.credits
            }
        }, {
            key: "_getWinSequenceForWinline",
            value: function(t, e) {
                var n = e > -1 ? e % t.length : 0;
                return Array.isArray(t[0]) ? t[n] : t
            }
        }, {
            key: "_handleGamble",
            value: function() {
                this._model.status = f.a.GAMBLING, this._soundPlayer.stop(), this._model.autoPlayEnabled = !1
            }
        }, {
            key: "_clearWinTextAnimationDelay",
            value: function() {
                this._winTextAnimationComplete && this._winTextAnimationComplete(), clearTimeout(this._winTextAnimationDelay), this._winTextAnimationDelay = null
            }
        }, {
            key: "_delayedUpdateWalkedAmount",
            value: function(t) {
                var e = this;
                this._clearWinTextAnimationDelay();
                var n = this._calculateAnimationDuration(t);
                this._winTextAnimationComplete = function() {
                    e._model.walkedAmount += t.credits, e._winTextAnimationComplete = null
                }, this._winTextAnimationDelay = setTimeout(this._winTextAnimationComplete, n)
            }
        }, {
            key: "_calculateAnimationDuration",
            value: function(t) {
                var e = this._getAnimationConfig(),
                    n = e.fullDuration || (e.jumpDuration || 0) + (e.moveDuration || 0),
                    i = e.waitDuration || 0,
                    o = i.length ? i : [i];
                return 1e3 * (n + o[o.length >= t.size ? t.size - 1 : o.length - 1])
            }
        }, {
            key: "_getAnimationConfig",
            value: function() {
                return this._config.text.animation || {}
            }
        }, {
            key: "_applyStickySymbols",
            value: function() {
                this._model.reels.forEach(function(t) {
                    t.symbols.filter(function(t) {
                        return Boolean(t.stickyId)
                    }).forEach(function(t) {
                        t.id = t.stickyId
                    })
                })
            }
        }, {
            key: "cancel",
            value: function() {
                this._view.hideThrobber()
            }
        }, {
            key: "cleanup",
            value: function() {
                this._clearWinTextAnimationDelay()
            }
        }, {
            key: "update",
            value: function(t, e) {}
        }, {
            key: "endTake",
            value: function() {
                var t = this;
                this._soundPlayer.stopSequence(), this._takeDelay = setTimeout(function() {
                    t._soundPlayer.endTake()
                }, 100)
            }
        }, {
            key: "announcePot",
            value: function(t, e, n) {
                this._soundPlayer.stop(), this._soundPlayer.once(p.POT_COMPLETE, n), this._soundPlayer.playPotWin(t), this._view.showPotWin(t, e)
            }
        }, {
            key: "announceScatter",
            value: function() {
                this._soundPlayer.playScatterAnnounce()
            }
        }, {
            key: "message",
            value: function() {
                this._soundPlayer.playMessage()
            }
        }, {
            key: "activate",
            value: function() {
                this._model.isActive = !0
            }
        }, {
            key: "deactivate",
            value: function() {
                this._model.isActive = !1, this._model.autoPlayEnabled = !1
            }
        }, {
            key: "setSelectedWinlines",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                this._view.setSelectedWinlines(t)
            }
        }, {
            key: "destroy",
            value: function() {
                clearTimeout(this._winTextAnimationDelay), this._winTextAnimationDelay = null, this._winTextAnimationComplete = null, clearTimeout(this._takeDelay), this._takeDelay = null, this._model = null, this._view = null, this._config = null, this._soundPlayer = null
            }
        }]), t
    }();

    function w(t) {
        return (w = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function k(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function E(t, e) {
        return !e || "object" !== w(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function T(t) {
        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function C(t, e) {
        return (C = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var O = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), E(this, T(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && C(t, e)
            }(e, S),
            function(t, e, n) {
                e && k(t.prototype, e), n && k(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.AFTER_SPIN:
                            return this._soundPlayer.playAfterSpin(), "";
                        case d.a.AFTER_SPIN_COMPLETE:
                            return this._model.status = f.a.BEFORE_WINLINE_WALK, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._soundPlayer.stopMelody(), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function A(t) {
        return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function P(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function I(t, e) {
        return !e || "object" !== A(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function x(t) {
        return (x = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function R(t, e) {
        return (R = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var W = function(t) {
            function e(t) {
                var n = t.model,
                    i = t.view,
                    o = t.config,
                    r = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), I(this, x(e).call(this, {
                    model: n,
                    view: i,
                    config: o,
                    soundPlayer: r
                }))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && R(t, e)
                }(e, S),
                function(t, e, n) {
                    e && P(t.prototype, e), n && P(t, n)
                }(e, [{
                    key: "handleWinSequenceComplete",
                    value: function() {
                        this._model.status = f.a.SCATTER_INTRO
                    }
                }, {
                    key: "update",
                    value: function(t, e) {
                        var n = this;
                        if (!this._soundPlayer.isPlayingSequence) {
                            var i = this._config.scatter,
                                o = (i.intro ? i.intro.delay : 0) || 0;
                            this._introDelay = setTimeout(function() {
                                n._model.status = f.a.SCATTER_INTRO
                            }, o)
                        }
                        S.prototype.update.call(this, t, e)
                    }
                }]), e
        }(),
        N = n(13),
        j = {
            transformSymbols: function(t, e, n) {
                if (g.a.getHasTransform(n)) {
                    var i = [];
                    t.forEach(function(t) {
                        j._transformSymbolsAtPositions(t.positions, e, n, i)
                    })
                }
                return e
            },
            _transformSymbolsAtPositions: function(t, e, n, i) {
                return t && t.forEach(function(t) {
                    var o = e[t.x - 1],
                        r = o.symbols[t.y];
                    N.a.getIsPartOfComposite(r.id, n) ? i.indexOf(t.x) < 0 && (j._transformCompositeSymbol(o, n), i.push(t.x)) : j._transformSymbol(r, n)
                }), e
            },
            _transformSymbol: function(t, e) {
                var n = e.transform.from.indexOf(t.id);
                return n > -1 && (t.id = e.transform.to[n]), t
            },
            _transformCompositeSymbol: function(t, e) {
                for (var n = e.reels.countOfHiddenSymbolsAbove, i = n + e.reels.countOfVisibleSymbols, o = n; o < i; o += 1) j._transformSymbol(t.symbols[o], e);
                return t.symbols
            },
            transformToSpecial: function(t, e) {
                return t.forEach(function(t) {
                    t.positions.forEach(function(t) {
                        var n = e[t.x - 1].symbols[t.y];
                        n.id = n.specialTransformTo || n.id
                    })
                }), e
            }
        },
        L = j;

    function G(t) {
        return (G = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function M(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function B(t, e) {
        return !e || "object" !== G(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function F(t) {
        return (F = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function H(t, e) {
        return (H = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var D = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), B(this, F(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && H(t, e)
            }(e, S),
            function(t, e, n) {
                e && M(t.prototype, e), n && M(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._transformSymbols(), this._handleGamble(), d.a.GAMBLE;
                        case d.a.TAKE:
                            return this._model.status = f.a.BEFORE_FAST_SPECIAL_WALK, "";
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.BEFORE_SPECIAL_WALK_COMPLETE:
                            return this._transformSymbols(), this._model.status = f.a.SPECIAL_WALK, "";
                        case d.a.BEFORE_SPECIAL_WALK_TRANSFORM:
                            return this._soundPlayer.playScatterTransform(), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_transformSymbols",
                value: function() {
                    this._model.special && this._model.special.winlineWins && L.transformToSpecial(this._model.special.winlineWins, this._model.reels)
                }
            }]), e
    }();

    function K(t) {
        return (K = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function U(t, e) {
        return !e || "object" !== K(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Y(t) {
        return (Y = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function q(t, e) {
        return (q = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var V = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), U(this, Y(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && q(t, e)
        }(e, D), e
    }();

    function X(t) {
        return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Q(t, e) {
        return !e || "object" !== X(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function J(t) {
        return (J = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $(t, e) {
        return ($ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Z = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Q(this, J(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && $(t, e)
            }(e, S),
            function(t, e, n) {
                e && z(t.prototype, e), n && z(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.BEFORE_WINLINE_WALK:
                            return this._handleBeforeWinlineWalk(), "";
                        case d.a.BEFORE_WINLINE_WALK_COMPLETE:
                            return this._handleBeforeWinlineWalkComplete(), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleBeforeWinlineWalk",
                value: function() {
                    var t = this;
                    if (this._soundPlayer.playSpecialPreWin(), L.transformSymbols(this._model.winlineWins, this._model.reels, this._config), this._config.scatter.useConstantBackgroundMelody && this._model.willSwitchToScatter && this._soundPlayer.playScatterBackgroundMelody(), this._config.winlines.symbolTransformStagger > 0)
                        for (var e = 0; e < this._config.reels.countOfVisibleSymbols; e += 1) {
                            var n = this._config.winlines.symbolTransformStagger * e;
                            setTimeout(function() {
                                t._soundPlayer.playTransform()
                            }, n)
                        }
                }
            }, {
                key: "_handleBeforeWinlineWalkComplete",
                value: function() {
                    var t = this;
                    if (this._model.bonusType === c.a.BEFORE_WINLINE_WALK) {
                        this._soundPlayer.stopMelody(), this._soundPlayer.playScatterGameWinBonus(), this._view.showBeforeReady();
                        var e = this._config.winlines.scatterGameWinBonusDuration || 0;
                        this._scatterGameWinBonusDelay = setTimeout(function() {
                            t._soundPlayer.playTake(), t._soundPlayer.endTake(), t._model.status = t._getNextStatus()
                        }, e)
                    } else this._model.status = this._getNextStatus()
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasWinnings ? this._model.hasSpecialWinnings && !this._model.hasRegularWinnings ? f.a.BEFORE_SPECIAL_WALK : f.a.FIRST_WINLINE_WALK : f.a.BEFORE_READY
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyMediumVolume(), this._soundPlayer.playWinBackgroundMelody(), S.prototype.update.call(this, t, e)
                }
            }, {
                key: "destroy",
                value: function() {
                    clearTimeout(this._scatterGameWinBonusDelay), this._scatterGameWinBonusDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function tt(t) {
        return (tt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function et(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function nt(t, e) {
        return !e || "object" !== tt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function it(t) {
        return (it = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ot(t, e) {
        return (ot = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var rt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), nt(this, it(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ot(t, e)
            }(e, S),
            function(t, e, n) {
                e && et(t.prototype, e), n && et(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.hasSpecialWinnings ? "" : d.a.TAKE
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasSpecialWinnings ? f.a.BEFORE_FAST_SPECIAL_WALK : f.a.TAKING
                }
            }]), e
    }();

    function at(t) {
        return (at = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function st(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ut(t, e) {
        return !e || "object" !== at(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function lt(t) {
        return (lt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ct(t, e) {
        return (ct = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ht = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ut(this, lt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ct(t, e)
            }(e, S),
            function(t, e, n) {
                e && st(t.prototype, e), n && st(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        case d.a.TAKE:
                            return this._model.status = f.a.FAST_WINLINE_WALK, "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_updateWalkedAmount",
                value: function(t) {
                    this._delayedUpdateWalkedAmount(t)
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.status === f.a.TAKING ? d.a.TAKE : ""
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasSpecialWinnings ? f.a.BEFORE_SPECIAL_WALK : this._model.wantsGamble && !this._model.autoPlayEnabled ? f.a.NTH_WINLINE_WALK : f.a.TAKING
                }
            }, {
                key: "handleWinSequenceComplete",
                value: function() {
                    this._view.walkWinline()
                }
            }, {
                key: "activate",
                value: function() {
                    S.prototype.activate.call(this), this._view.walkWinline()
                }
            }, {
                key: "deactivate",
                value: function() {
                    S.prototype.deactivate.call(this), this._view.pauseWinline(), this._soundPlayer.stopSequence()
                }
            }]), e
    }();

    function ft(t) {
        return (ft = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yt(t, e) {
        return !e || "object" !== ft(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function dt(t) {
        return (dt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pt(t, e) {
        return (pt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), yt(this, dt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && pt(t, e)
            }(e, S),
            function(t, e, n) {
                e && _t(t.prototype, e), n && _t(t, n)
            }(e, [{
                key: "cancel",
                value: function() {
                    this._revertToWaitingWithoutWalk(), S.prototype.cancel.call(this)
                }
            }, {
                key: "_revertToWaitingWithoutWalk",
                value: function() {
                    this._model.mayGamble = !1, this._model.status = f.a.WAITING, this._soundPlayer.stop()
                }
            }, {
                key: "endTake",
                value: function() {
                    var t = this;
                    this._nextStatusTimeout = setTimeout(function() {
                        t._model.status = t._getNextStatus()
                    }, 600), S.prototype.endTake.call(this)
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.willSwitchToScatter ? f.a.BEFORE_SCATTER : this._model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._model.hasScatterSelection ? f.a.SCATTER_SELECT : f.a.BEFORE_READY
                }
            }, {
                key: "destroy",
                value: function() {
                    this._nextStatusTimeout && (clearTimeout(this._nextStatusTimeout), this._nextStatusTimeout = null), S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function vt(t) {
        return (vt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function gt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function bt(t, e) {
        return !e || "object" !== vt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function St(t) {
        return (St = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function wt(t, e) {
        return (wt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var kt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), bt(this, St(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && wt(t, e)
            }(e, mt),
            function(t, e, n) {
                e && gt(t.prototype, e), n && gt(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyMediumVolume(), mt.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Et(t) {
        return (Et = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Tt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ct(t, e) {
        return !e || "object" !== Et(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ot(t) {
        return (Ot = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function At(t, e) {
        return (At = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Pt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ct(this, Ot(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && At(t, e)
            }(e, S),
            function(t, e, n) {
                e && Tt(t.prototype, e), n && Tt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.TAKE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._config.scatter.useConstantBackgroundMelody || this._soundPlayer.setScatterBackgroundMelodyLowVolume(), this._soundPlayer.playWaiting(), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function It(t) {
        return (It = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xt(t, e) {
        return !e || "object" !== It(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Rt(t) {
        return (Rt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Wt(t, e) {
        return (Wt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Nt = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), xt(this, Rt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Wt(t, e)
        }(e, S), e
    }();

    function jt(t) {
        return (jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Lt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Gt(t, e) {
        return !e || "object" !== jt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Mt(t) {
        return (Mt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Bt(t, e) {
        return (Bt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ft = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Gt(this, Mt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Bt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Lt(t.prototype, e), n && Lt(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    var n = this;
                    if (this._model.bonusType === c.a.BEFORE_READY) {
                        this._soundPlayer.stopMelody(), this._soundPlayer.playScatterGameWinBonus(), this._view.showBeforeReady();
                        var i = this._config.winlines.scatterGameWinBonusDuration || 0;
                        this._scatterGameWinBonusDelay = setTimeout(function() {
                            n._soundPlayer.playTake(), n._soundPlayer.endTake(), n._model.status = f.a.READY
                        }, i)
                    } else this._model.status = f.a.READY;
                    S.prototype.update.call(this, t, e)
                }
            }, {
                key: "destroy",
                value: function() {
                    clearTimeout(this._scatterGameWinBonusDelay), this._scatterGameWinBonusDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ht(t) {
        return (Ht = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Dt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Kt(t, e) {
        return !e || "object" !== Ht(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ut(t) {
        return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yt(t, e) {
        return (Yt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qt = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Kt(this, Ut(e).call(this, t))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Yt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Dt(t.prototype, e), n && Dt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.SPIN:
                            return this._handleSpin.apply(this, i), d.a.SPIN;
                        case d.a.SETTINGS:
                            return this._soundPlayer.stop(), this._model.autoPlayEnabled = !1, d.a.SETTINGS;
                        case d.a.WINLINE_NUMBER_TAP:
                            return d.a.WINLINE_NUMBER_TAP;
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleSpin",
                value: function(t) {
                    this._model.status = f.a.SPINNING;
                    var e = t >= this._config.controls.minHoldingTime;
                    this._model.autoPlayEnabled = e && this._config.autoPlay.enabled
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._applyStickySymbols(), this._soundPlayer.stopMelody(), this._soundPlayer.setScatterBackgroundMelodyFullVolume(), this._model.willSwitchToRegular && this._soundPlayer.playScatterOutro(), this._model.hasStickySymbols || this._soundPlayer.stopWinBackgroundMelody(), this._model.autoPlayEnabled && !this._autoPlayDelay && this._prepareAutoPlay(t), S.prototype.update.call(this, t, e)
                }
            }, {
                key: "_prepareAutoPlay",
                value: function(t) {
                    var e = this;
                    this._autoPlayDelay = setTimeout(function() {
                        e._autoPlayDelay = null, t && e._model.autoPlayEnabled && t.call(null, d.a.SPIN, e._config.controls.minHoldingTime)
                    }, this._config.autoPlay.delay)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._autoPlayDelay && (clearTimeout(this._autoPlayDelay), this._autoPlayDelay = null), S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Vt(t) {
        return (Vt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zt(t, e) {
        return !e || "object" !== Vt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qt(t) {
        return (Qt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jt(t, e) {
        return (Jt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $t = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), zt(this, Qt(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jt(t, e)
            }(e, S),
            function(t, e, n) {
                e && Xt(t.prototype, e), n && Xt(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.SCATTER_INTRO_COMPLETE:
                            return this._model.status = f.a.SCATTER_SELECT, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._soundPlayer.playScatterHeaderIntro(), this._model.hasScatterSelection || (this._model.gameType = this._model.nextGameType), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Zt(t) {
        return (Zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function te(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ee(t, e) {
        return !e || "object" !== Zt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ne(t) {
        return (ne = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ie(t, e) {
        return (ie = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var oe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ee(this, ne(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ie(t, e)
            }(e, S),
            function(t, e, n) {
                e && te(t.prototype, e), n && te(t, n)
            }(e, [{
                key: "handleWinSequenceComplete",
                value: function() {
                    this._switchToReady()
                }
            }, {
                key: "_switchToReady",
                value: function() {
                    this._soundPlayer.stopScatterBackgroundMelody(), this._model.status = f.a.BEFORE_READY
                }
            }, {
                key: "update",
                value: function(t, e) {
                    var n = this;
                    if (this._soundPlayer.stopMelody(), !this._soundPlayer.isPlayingSequence) {
                        var i = this._config.scatter,
                            o = (i.outro ? i.outro.delay : 0) || 0;
                        this._scatterOutroDelay = setTimeout(function() {
                            n._switchToReady()
                        }, o)
                    }
                    S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function re(t) {
        return (re = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ae(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function se(t, e) {
        return !e || "object" !== re(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ue(t) {
        return (ue = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function le(t, e) {
        return (le = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ce = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), se(this, ue(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && le(t, e)
            }(e, S),
            function(t, e, n) {
                e && ae(t.prototype, e), n && ae(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.SCATTER_SELECT:
                            return this._soundPlayer.stopScatterSelectIntroLoop(), "";
                        case d.a.SCATTER_SELECT_COMPLETE:
                            return this._handleScatterSelectComplete.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleScatterSelectComplete",
                value: function(t) {
                    this._model.scatterSelection.length > 0 && this._config.scatter && this._updateQuerySymbols(t), this._model.scatterSelection = [], this._model.maxSelectableScatterCount = 0, this._model.status = f.a.READY, this._model.gameType = this._model.nextGameType
                }
            }, {
                key: "_updateQuerySymbols",
                value: function(t) {
                    var e = this,
                        n = 1;
                    this._model.reels.forEach(function(i, o) {
                        i.symbols.filter(function(t) {
                            return t.isQuery
                        }).forEach(function(i) {
                            if (o === t) {
                                i.id = e._extractRevealedId(e._model.scatterSelection, 0)
                            } else i.id = e._extractRevealedId(e._model.scatterSelection, n), n += 1
                        })
                    })
                }
            }, {
                key: "_extractRevealedId",
                value: function(t, e) {
                    var n = this._config.scatter.mappedQueryIds,
                        i = t[e];
                    if (n && n.hasOwnProperty("_".concat(i))) return String(n["_".concat(i)]);
                    var o = this._config.scatter.queryOffset;
                    return String(o ? i - o : i)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    var n = this;
                    this._model.hasScatterSelection ? this._soundPlayer.playScatterSelectIntroLoop() : (this._soundPlayer.once(p.SCATTER_SELECT_COMPLETE, function() {
                        n._soundPlayer.playScatterBackgroundMelody()
                    }), this._soundPlayer.playScatterSelectIntro()), S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function he(t) {
        return (he = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _e(t, e) {
        return !e || "object" !== he(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ye(t) {
        return (ye = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function de(t, e) {
        return (de = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), _e(this, ye(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && de(t, e)
            }(e, S),
            function(t, e, n) {
                e && fe(t.prototype, e), n && fe(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.WINLINE_WALK:
                            return this._handleWinlineWalk.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleWinlineWalk",
                value: function(t) {
                    t && (this._updateWalkedAmount(t), this._soundPlayer.playScatterSpecialWin(t.index))
                }
            }, {
                key: "_getAnimationConfig",
                value: function() {
                    var t = this._config.text.animation || {};
                    return t.special || t
                }
            }]), e
    }();

    function me(t) {
        return (me = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ve(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ge(t, e) {
        return !e || "object" !== me(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function be(t) {
        return (be = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Se(t, e) {
        return (Se = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var we = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ge(this, be(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Se(t, e)
            }(e, pe),
            function(t, e, n) {
                e && ve(t.prototype, e), n && ve(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.GAMBLE:
                            return this._handleGamble(), d.a.GAMBLE;
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._handleWinlineWalkComplete();
                        case d.a.TAKE:
                            return this._model.status = f.a.FAST_SPECIAL_WALK, "";
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = pe.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleGamble",
                value: function() {
                    this._model.status = f.a.GAMBLING, this._soundPlayer.stop(), this._model.autoPlayEnabled = !1
                }
            }, {
                key: "_handleWinlineWalkComplete",
                value: function() {
                    return this._model.status = this._getNextStatus(), this._model.status === f.a.TAKING ? d.a.TAKE : ""
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.wantsGamble && !this._model.autoPlayEnabled ? f.a.NTH_WINLINE_WALK : f.a.TAKING
                }
            }, {
                key: "_updateWalkedAmount",
                value: function(t) {
                    this._delayedUpdateWalkedAmount(t)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    e === f.a.BEFORE_FAST_SPECIAL_WALK && (this._model.status = f.a.FAST_SPECIAL_WALK), pe.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function ke(t) {
        return (ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ee(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Te(t, e) {
        return !e || "object" !== ke(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ce(t) {
        return (Ce = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Oe(t, e) {
        return (Oe = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ae = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Te(this, Ce(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Oe(t, e)
            }(e, pe),
            function(t, e, n) {
                e && Ee(t.prototype, e), n && Ee(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.WINLINE_WALK_COMPLETE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = pe.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }]), e
    }();

    function Pe(t) {
        return (Pe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ie(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function xe(t, e) {
        return !e || "object" !== Pe(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Re(t) {
        return (Re = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function We(t, e) {
        return (We = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ne = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = xe(this, Re(e).call(this, t)))._cache = {
                stickySymbols: []
            }, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && We(t, e)
            }(e, S),
            function(t, e, n) {
                e && Ie(t.prototype, e), n && Ie(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                    switch (t) {
                        case d.a.REEL_SPIN_START:
                            return this._handleReelSpinStart(), "";
                        case d.a.STOP_SPIN:
                            return this._handleStopSpin(), "";
                        case d.a.SPIN_COMPLETE:
                            return this._handleSpinComplete.apply(this, i), "";
                        case d.a.REEL_STOPPING:
                            return this._handleReelStopping.apply(this, i), "";
                        default:
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }, {
                key: "_handleReelSpinStart",
                value: function() {
                    switch (this._soundPlayer.stop(), this._model.gameType) {
                        case h.a.REGULAR:
                            this._soundPlayer.playMelody();
                            break;
                        case h.a.SCATTER:
                            this._soundPlayer.playScatterMelody()
                    }
                }
            }, {
                key: "_handleStopSpin",
                value: function() {
                    this._model.status = f.a.STOP_SPINNING
                }
            }, {
                key: "_handleSpinComplete",
                value: function(t) {
                    this._prepareForNextSpin(t), this._updateReelsState()
                }
            }, {
                key: "_prepareForNextSpin",
                value: function(t) {
                    var e = g.a.getTargetReelLength(this._config),
                        n = t.getAfterSpin(),
                        i = t.getSymbols();
                    return n.symbols.forEach(function(t) {
                        i.splice(e - 1, 1, t)
                    }), i.splice(0, e - n.distance), i.splice(e, i.length - 1), t
                }
            }, {
                key: "_updateReelsState",
                value: function() {
                    this._model.snappedInReels += 1, this._model.snappedInReels >= this._config.reels.count && (this._model.status = this._getNextStatus())
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.hasWinnings ? f.a.AFTER_SPIN : this._model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._model.hasStickySymbols ? f.a.AFTER_SPIN : f.a.BEFORE_READY
                }
            }, {
                key: "_handleReelStopping",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = t.id,
                        n = t.shouldSlowDownNext,
                        i = t.hasEnterSound;
                    this._playReelStop(e), this._playSlowDown({
                        shouldSlowDownNext: n
                    });
                    var o = this._getFinalSymbolsSlice();
                    this._showSymbolIntro(o, e), this._playEnterReel(o, {
                        hasEnterSound: i
                    })
                }
            }, {
                key: "_playReelStop",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                        n = this._getShouldPlayReelStop(),
                        i = this._getIsHiddenBehindStickySymbols(e);
                    this._minReelStopDelay || !n || i || this._soundPlayer.playReelStop(), this._minReelStopDelay = setTimeout(function() {
                        t._minReelStopDelay = null
                    }, this._config.reels.minSoundInterval)
                }
            }, {
                key: "_getShouldPlayReelStop",
                value: function() {
                    var t = this._config.effects && this._config.effects.revealOverlay;
                    return !this._model.isInScatter || !t
                }
            }, {
                key: "_getIsHiddenBehindStickySymbols",
                value: function(t) {
                    return this._cache.stickySymbols.reduce(function(e, n) {
                        return e + Number(n.x - 1 === t)
                    }, 0) >= this._config.reels.countOfVisibleSymbols
                }
            }, {
                key: "_playSlowDown",
                value: function() {
                    var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldSlowDownNext: !1
                        }).shouldSlowDownNext,
                        e = this._getShouldPlayReelStop();
                    t && e && (this._soundPlayer.playSlowDown(), this._soundPlayer.playSlowDownLoop()), t || this._soundPlayer.stopSlowDownLoop()
                }
            }, {
                key: "_playEnterReel",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            hasEnterSound: !1
                        }).hasEnterSound,
                        n = this._config.scatter,
                        i = n && t.indexOf(n.id) > -1,
                        o = n && this._model.missedScattersCount + n.minCount <= this._config.reels.count;
                    return (e || i && o) && (this._soundPlayer.playScatter(this._model.enteringScattersCount), this._model.enteringScattersCount += 1), this._model.enteringFinalSymbolsCount += 1, this._model.enteringFinalSymbolsCount
                }
            }, {
                key: "_getFinalSymbolsSlice",
                value: function() {
                    var t = 1 + g.a.getTargetReelLength(this._config),
                        e = t + this._config.reels.countOfVisibleSymbols;
                    return this._model.enteringFinalSymbols.slice(t, e).map(function(t) {
                        return t.id
                    })
                }
            }, {
                key: "_showSymbolIntro",
                value: function(t, e) {
                    var n = this;
                    if (this._config.symbolIntros) {
                        var i = 1400 * (this._config.timing.overshoot.duration || 0);
                        this._config.symbolIntros.forEach(function(o) {
                            n._showSymbolIntroForId({
                                finalSymbols: t,
                                symbolId: o,
                                reelId: e,
                                delay: i
                            })
                        })
                    }
                }
            }, {
                key: "_showSymbolIntroForId",
                value: function(t) {
                    var e = this,
                        n = t.finalSymbols,
                        i = t.symbolId,
                        o = t.reelId,
                        r = t.delay,
                        a = this._config.scatter,
                        s = a && this._model.missedScattersCount < a.minCount,
                        u = a && a.id === i,
                        l = n.indexOf(i);
                    l > -1 && (!u || s) && setTimeout(function() {
                        e._view.showSymbolIntro(i, {
                            x: o + 1,
                            y: l + 1
                        })
                    }, r)
                }
            }, {
                key: "update",
                value: function(t, e) {
                    this._model.scatterMessage = "", this._model.gameType = this._model.nextGameType, this._model.enteringFinalSymbolsCount = 0, this._model.enteringScattersCount = 0, this._model.snappedInReels = 0, this._model.isInScatter && this._soundPlayer.playScatterBackgroundMelody(), this._cache.stickySymbols = this._model.stickySymbols, S.prototype.update.call(this, t, e)
                }
            }, {
                key: "cancel",
                value: function() {
                    this._soundPlayer.stopMelody(), this._model.snappedInReels = this._config.reels.count, this._model.status = f.a.READY, this._model.autoPlayEnabled = !1, S.prototype.cancel.call(this)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._cache = null, clearTimeout(this._minReelStopDelay), this._minReelStopDelay = null, S.prototype.destroy.call(this)
                }
            }]), e
    }();

    function je(t) {
        return (je = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Le(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ge(t, e) {
        return !e || "object" !== je(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Me(t) {
        return (Me = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Be(t, e) {
        return (Be = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Fe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ge(this, Me(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Be(t, e)
            }(e, Ne),
            function(t, e, n) {
                e && Le(t.prototype, e), n && Le(t, n)
            }(e, [{
                key: "_handleReelSpinStart",
                value: function() {}
            }, {
                key: "_handleStopSpin",
                value: function() {
                    return this
                }
            }, {
                key: "update",
                value: function(t, e) {
                    S.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function He(t) {
        return (He = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function De(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ke(t, e) {
        return !e || "object" !== He(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ue(t) {
        return (Ue = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ye(t, e) {
        return (Ye = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qe = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ke(this, Ue(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ye(t, e)
            }(e, mt),
            function(t, e, n) {
                e && De(t.prototype, e), n && De(t, n)
            }(e, [{
                key: "update",
                value: function(t, e) {
                    this._applyStickySymbols(), this._soundPlayer.stopWaiting(), this._soundPlayer.setScatterBackgroundMelodyFullVolume(), this._model.hasStickySymbols || this._model.willSwitchToRegular || this._soundPlayer.stopWinBackgroundMelody(), mt.prototype.update.call(this, t, e)
                }
            }]), e
    }();

    function Ve(t) {
        return (Ve = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ze(t, e) {
        return !e || "object" !== Ve(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qe(t) {
        return (Qe = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Je(t, e) {
        return (Je = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $e = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.config,
                r = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ze(this, Qe(e).call(this, {
                model: n,
                view: i,
                config: o,
                soundPlayer: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Je(t, e)
            }(e, S),
            function(t, e, n) {
                e && Xe(t.prototype, e), n && Xe(t, n)
            }(e, [{
                key: "handleViewEvent",
                value: function(t) {
                    var e;
                    switch (t) {
                        case d.a.TAKE:
                            return this._model.status = f.a.TAKING, d.a.TAKE;
                        default:
                            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                            return (e = S.prototype.handleViewEvent).call.apply(e, [this, t].concat(i))
                    }
                }
            }]), e
    }();

    function Ze(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function tn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var en = function() {
            function t(e) {
                var n, i = e.model,
                    o = e.view,
                    r = e.config,
                    a = e.soundPlayer;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = i, this._view = o, this._config = r, this._soundPlayer = a, this._Classes = (Ze(n = {}, f.a.AFTER_SPIN, O), Ze(n, f.a.BEFORE_SCATTER, W), Ze(n, f.a.BEFORE_SPECIAL_WALK, D), Ze(n, f.a.BEFORE_FAST_SPECIAL_WALK, V), Ze(n, f.a.BEFORE_WINLINE_WALK, Z), Ze(n, f.a.FAST_WINLINE_WALK, rt), Ze(n, f.a.FIRST_WINLINE_WALK, ht), Ze(n, f.a.GAMBLING, kt), Ze(n, f.a.NTH_WINLINE_WALK, Pt), Ze(n, f.a.PREPARING, Nt), Ze(n, f.a.BEFORE_READY, Ft), Ze(n, f.a.READY, qt), Ze(n, f.a.SCATTER_INTRO, $t), Ze(n, f.a.SCATTER_OUTRO, oe), Ze(n, f.a.SCATTER_SELECT, ce), Ze(n, f.a.SPECIAL_WALK, we), Ze(n, f.a.FAST_SPECIAL_WALK, Ae), Ze(n, f.a.SPINNING, Ne), Ze(n, f.a.STOP_SPINNING, Fe), Ze(n, f.a.TAKING, qe), Ze(n, f.a.WAITING, $e), n)
            }
            return function(t, e, n) {
                e && tn(t.prototype, e), n && tn(t, n)
            }(t, [{
                key: "createStrategy",
                value: function(t) {
                    return new this._Classes[t]({
                        model: this._model,
                        view: this._view,
                        config: this._config,
                        soundPlayer: this._soundPlayer
                    })
                }
            }]), t
        }(),
        nn = n(9),
        on = n.n(nn);

    function rn(t) {
        return (rn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function an(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function sn(t, e) {
        return !e || "object" !== rn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function un(t) {
        return (un = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ln(t, e) {
        return (ln = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var cn = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.config,
                a = t.soundPlayer;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = sn(this, un(e).call(this)))._model = i, n._view = o, n._config = r, n._soundPlayer = a, n._guard(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ln(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && an(t.prototype, e), n && an(t, n)
            }(e, [{
                key: "_guard",
                value: function() {
                    if (!this._model) throw Error("Missing model");
                    if (!this._view) throw Error("Missing view");
                    if (!this._config) throw new Error("Missing configuration");
                    if (!this._soundPlayer) throw new Error("Missing soundPlayer")
                }
            }, {
                key: "_createInteractionHandler",
                value: function(t) {
                    var e = t.expectedStatus,
                        n = t.nextStatus,
                        i = t.eventToEmit,
                        o = t.functionToCall,
                        r = t.cancel;
                    return function() {
                        if (!e || e === this._model.status || e.indexOf(this._model.status) > -1) {
                            if (this.cancel = r, this._model.status = n || this._model.status, o) {
                                for (var t = arguments.length, a = new Array(t), s = 0; s < t; s++) a[s] = arguments[s];
                                o.call.apply(o, [this].concat(a))
                            }
                            i && this.emit(i)
                        }
                    }
                }
            }, {
                key: "start",
                value: function() {}
            }, {
                key: "endTake",
                value: function() {
                    return this._soundPlayer.endTake(), this
                }
            }, {
                key: "startup",
                value: function() {
                    return this._soundPlayer.playStartup(), this
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._view.removeAllListeners(), this._view.destroy(), this._view = null, this._config = null, this._soundPlayer.destroy(), this._soundPlayer = null
                }
            }]), e
    }();

    function hn(t) {
        return (hn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _n(t, e) {
        return !e || "object" !== hn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yn(t) {
        return (yn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function dn(t, e) {
        return (dn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pn, mn, vn = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = _n(this, yn(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && dn(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && fn(t.prototype, e), n && fn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this;
                        this._model.enteringFinalSymbolsCount = 0, this._model.enteringScattersCount = 0, this._strategies = this._createStrategies(), this.cancel = function() {
                            t._getStrategy().cancel()
                        }, this._prepareView(), this._prepareSoundPlayer(), this._prepareModel()
                    }
                }, {
                    key: "_prepareView",
                    value: function() {
                        var t = this;
                        [d.a.REEL_SPIN_START, d.a.SPECIAL_MULTIPLIER, d.a.BEFORE_WINLINE_WALK, d.a.BEFORE_WINLINE_WALK_COMPLETE, d.a.BEFORE_SPECIAL_WALK_COMPLETE, d.a.BEFORE_SPECIAL_WALK_TRANSFORM, d.a.WINLINE_WALK, d.a.WINLINE_WALK_COMPLETE, d.a.AFTER_SPIN, d.a.AFTER_SPIN_COMPLETE, d.a.SPIN_COMPLETE, d.a.REEL_STOPPING, d.a.SPIN, d.a.STOP_SPIN, d.a.EXIT, d.a.STOP_AUTO_PLAY, d.a.TAKE, d.a.GAMBLE, d.a.SETTINGS, d.a.SCATTER_INTRO_COMPLETE, d.a.SCATTER_SELECT, d.a.SCATTER_SELECT_COMPLETE, d.a.WINLINE_NUMBER_TAP].forEach(function(e) {
                            t._addViewListener(e)
                        })
                    }
                }, {
                    key: "_addViewListener",
                    value: function(t) {
                        var e = this;
                        this._view.on(t, function() {
                            for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                            var r = t === d.a.REEL_STOPPING,
                                a = [d.a.SPIN, d.a.STOP_SPIN, d.a.EXIT, d.a.STOP_AUTO_PLAY, d.a.TAKE, d.a.GAMBLE, d.a.SETTINGS].indexOf(t) > -1;
                            e._model.isActive || r ? e._handleViewEvent.apply(e, [t].concat(i)) : a || e._model.once(m.a.IS_ACTIVE_CHANGE, function() {
                                e._handleViewEvent.apply(e, [t].concat(i))
                            })
                        })
                    }
                }, {
                    key: "_handleViewEvent",
                    value: function(t) {
                        for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                        var r = (e = this._getStrategy()).handleViewEvent.apply(e, [t].concat(i));
                        r && this.emit(r)
                    }
                }, {
                    key: "_prepareSoundPlayer",
                    value: function() {
                        var t = this;
                        this._soundPlayer.on(p.SEQUENCE_COMPLETE, function() {
                            t._getStrategy().handleWinSequenceComplete()
                        })
                    }
                }, {
                    key: "_prepareModel",
                    value: function() {
                        var t = this;
                        this._model.snappedInReels = this._config.reels.count, [m.a.TAKEN_AMOUNT_CHANGE, m.a.AUTO_PLAY_ENABLED_CHANGE, m.a.NEXT_GAME_TYPE_CHANGE].forEach(function(e) {
                            t._model.on(e, function() {
                                for (var n, i = arguments.length, o = new Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                                var a = (n = t._getStrategy()).handleModelEvent.apply(n, [e].concat(o));
                                a && t.emit(a)
                            })
                        }), this._model.on(m.a.STATUS_CHANGE, this._handleStatusChange, this), this._model.status = f.a.READY, this._config.scatter && this._config.scatter.changeSymbolsWithGameType && (this._model.once(m.a.REELS_CHANGE, this._handleChangeReels, this), this._model.on(m.a.GAME_TYPE_CHANGE, this._updateSymbolGameTypes, this))
                    }
                }, {
                    key: "_getStrategy",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._strategies[t || this._model.status]
                    }
                }, {
                    key: "_handleStatusChange",
                    value: function(t, e) {
                        var n = this,
                            i = t.previousAttributes().status;
                        this._getStrategy(i).cleanup(), this._getStrategy(e).update(function(t) {
                            for (var e, i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) o[r - 1] = arguments[r];
                            var a = (e = n._getStrategy()).handleViewEvent.apply(e, [t].concat(o));
                            a && n.emit(a)
                        }, i)
                    }
                }, {
                    key: "_createStrategies",
                    value: function() {
                        var t = this._createFactory(),
                            e = {};
                        return [f.a.PREPARING, f.a.BEFORE_READY, f.a.READY, f.a.SPINNING, f.a.STOP_SPINNING, f.a.AFTER_SPIN, f.a.WAITING, f.a.BEFORE_WINLINE_WALK, f.a.FIRST_WINLINE_WALK, f.a.NTH_WINLINE_WALK, f.a.FAST_WINLINE_WALK, f.a.TAKING, f.a.GAMBLING, f.a.BEFORE_SCATTER, f.a.SCATTER_INTRO, f.a.SCATTER_SELECT, f.a.SCATTER_OUTRO, f.a.BEFORE_SPECIAL_WALK, f.a.BEFORE_FAST_SPECIAL_WALK, f.a.SPECIAL_WALK, f.a.FAST_SPECIAL_WALK].forEach(function(n) {
                            e[n] = t.createStrategy(n)
                        }), e
                    }
                }, {
                    key: "_createFactory",
                    value: function() {
                        return new en({
                            model: this._model,
                            view: this._view,
                            config: this._config,
                            soundPlayer: this._soundPlayer
                        })
                    }
                }, {
                    key: "_handleChangeReels",
                    value: function(t, e) {
                        var n = this;
                        e.forEach(function(t) {
                            t.on(v.a.SYMBOLS_CHANGE, function(t, e) {
                                e.forEach(function(t) {
                                    t.gameType = n._model.gameType
                                })
                            })
                        })
                    }
                }, {
                    key: "_updateSymbolGameTypes",
                    value: function() {
                        var t = this;
                        this._model.reels.forEach(function(e, n) {
                            e.symbols.forEach(function(e) {
                                e.gameType = t._model.gameType
                            })
                        })
                    }
                }, {
                    key: "endTake",
                    value: function() {
                        this._getStrategy().endTake()
                    }
                }, {
                    key: "announcePot",
                    value: function(t, e) {
                        this.deactivate(), this._getStrategy().announcePot(t, e, this._handlePotComplete.bind(this))
                    }
                }, {
                    key: "announceScatter",
                    value: function() {
                        this._getStrategy().announceScatter()
                    }
                }, {
                    key: "_handlePotComplete",
                    value: function() {
                        this.emit(d.a.POT_COMPLETE)
                    }
                }, {
                    key: "takePot",
                    value: function() {
                        this.activate()
                    }
                }, {
                    key: "message",
                    value: function() {
                        this._getStrategy().message()
                    }
                }, {
                    key: "activate",
                    value: function() {
                        this._getStrategy().activate()
                    }
                }, {
                    key: "deactivate",
                    value: function() {
                        this._getStrategy().deactivate()
                    }
                }, {
                    key: "setSelectedWinlines",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        this._getStrategy().setSelectedWinlines(t)
                    }
                }]), e
        }(),
        gn = n(16),
        bn = u.a.extend({
            props: {
                cardHistory: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                stake: "number",
                chance: "number",
                choice: "number",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: gn.a.PREPARING,
                    values: [gn.a.PREPARING, gn.a.SHOWING, gn.a.READY]
                }
            }
        }),
        Sn = n(11),
        wn = n(24);
    ! function(t) {
        t.TAKE = "gambleEvent.take", t.DONE = "gambleEvent.done", t.SELECT_RED = "gambleEvent.selectRed", t.SELECT_BLACK = "gambleEvent.selectBlack"
    }(pn || (pn = {})),
    function(t) {
        t.STATUS_CHANGE = "change:status", t.STAKE_CHANGE = "change:stake", t.CHANCE_CHANGE = "change:chance", t.CHOICE_CHANGE = "change:choice", t.CARD_HISTORY_CHANGE = "change:cardHistory"
    }(mn || (mn = {}));
    var kn = n(1),
        En = n(8);

    function Tn(t) {
        return (Tn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Cn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function On(t, e) {
        return !e || "object" !== Tn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function An(t) {
        return (An = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pn(t, e) {
        return (Pn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var In = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = On(this, An(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                })))._init(), o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Pn(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && Cn(t.prototype, e), n && Cn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._model.on(mn.CARD_HISTORY_CHANGE, this._handleChangeCardHistory, this)
                    }
                }, {
                    key: "_handleChangeCardHistory",
                    value: function(t, e) {
                        var n = this;
                        if (e) {
                            this.removeChildren();
                            var i = e.concat();
                            i.reverse(), (i = i.slice(0, this._config.cardHistory.countOfVisibleSuits)).forEach(function(t, e) {
                                var i = new kn.Sprite(n._assets.getCardSuit(t));
                                i.x = e * (i.width + n._config.cardHistory.gap), n.addChild(i)
                            })
                        }
                    }
                }]), e
        }(),
        xn = n(48),
        Rn = n(30);

    function Wn(t) {
        return (Wn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Nn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function jn(t, e) {
        return !e || "object" !== Wn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ln(t) {
        return (Ln = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Gn(t, e) {
        return (Gn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mn = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = jn(this, Ln(e).call(this, t, n)))._layoutAdjuster = i, o._layout = o._config.controls.tilesheetLayout, o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Gn(t, e)
                }(e, Rn["a"]),
                function(t, e, n) {
                    e && Nn(t.prototype, e), n && Nn(t, n)
                }(e, [{
                    key: "createTake",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.square.height,
                            i = t.button.width,
                            o = t.button.long.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + 2 * t.button.square.height + t.take.margin.top, s
                    }
                }, {
                    key: "createRed",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.width,
                            i = t.button.square.height,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = t.margin.left, a.y = t.margin.top, a
                    }
                }, {
                    key: "createBlack",
                    value: function() {
                        var t = this._layout,
                            e = this._assets.getGambleControls(),
                            n = t.button.square.height + t.button.long.height,
                            i = t.button.width,
                            o = t.button.square.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + t.button.square.height + t.black.margin.top, s
                    }
                }, {
                    key: "createSelectRed",
                    value: function() {
                        return this._createSelectButton({
                            x: this._config.select.red.x,
                            y: this._config.select.red.y,
                            width: this._config.select.button.width,
                            height: this._config.select.button.height
                        })
                    }
                }, {
                    key: "_createSelectButton",
                    value: function(t) {
                        var e = t.x,
                            n = t.y,
                            i = t.width,
                            o = t.height,
                            r = new kn.Graphics;
                        return r.beginFill(10066329, 0), r.drawRoundedRect(0, 0, i, o, 50), r.endFill(), r.x = e + this._config.select.button.offset, r.y = n, this._layoutAdjuster.adjustToMainFromControls(r)
                    }
                }, {
                    key: "createSelectBlack",
                    value: function() {
                        return this._createSelectButton({
                            x: this._config.select.black.x,
                            y: this._config.select.black.y,
                            width: this._config.select.button.width,
                            height: this._config.select.button.height
                        })
                    }
                }]), e
        }(),
        Bn = n(44);

    function Fn(t) {
        return (Fn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Hn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Dn(t, e) {
        return !e || "object" !== Fn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Kn(t) {
        return (Kn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Un(t, e) {
        return (Un = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Yn = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Dn(this, Kn(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Un(t, e)
                }(e, Bn["a"]),
                function(t, e, n) {
                    e && Hn(t.prototype, e), n && Hn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._addComponent({
                                creator: t.createControlsBackground.bind(t)
                            });
                        this._adjustBackground(e), this._take = this._addComponent({
                            creator: t.createTake.bind(t),
                            eventToDispatch: pn.TAKE
                        }), this._selectRed = this._addComponent({
                            creator: t.createSelectRed.bind(t),
                            eventToDispatch: pn.SELECT_RED
                        }), this._red = this._addComponent({
                            creator: t.createRed.bind(t),
                            eventToDispatch: pn.SELECT_RED
                        }), this._selectBlack = this._addComponent({
                            creator: t.createSelectBlack.bind(t),
                            eventToDispatch: pn.SELECT_BLACK
                        }), this._black = this._addComponent({
                            creator: t.createBlack.bind(t),
                            eventToDispatch: pn.SELECT_BLACK
                        }), this._model.on(mn.STATUS_CHANGE, this._handleChangeStatus, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Mn(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        [this._take, this._red, this._black].forEach(function(t) {
                            t.visible = e === gn.a.READY
                        })
                    }
                }, {
                    key: "alignRight",
                    value: function() {
                        this._oldSelectBlackX < 0 && this._oldSelectRedX < 0 && (this._selectBlack.x = this._oldSelectBlackX, this._selectRed.x = this._oldSelectRedX)
                    }
                }, {
                    key: "alignLeft",
                    value: function() {
                        this._selectBlack.x < 0 && this._selectRed.x < 0 && (this._oldSelectBlackX = this._selectBlack.x, this._oldSelectRedX = this._selectRed.x, this._selectBlack.x = -this._oldSelectRedX - .5 * this._config.controls.width, this._selectRed.x = -this._oldSelectBlackX - .5 * this._config.controls.width)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._take.destroy(), this._take = null, this._black.destroy(), this._black = null, this._red.destroy(), this._red = null, this._selectBlack.destroy(), this._selectBlack = null, this._selectRed.destroy(), this._selectRed = null, Bn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        qn = n(34);

    function Vn(t) {
        return (Vn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zn(t, e) {
        return !e || "object" !== Vn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qn(t) {
        return (Qn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jn(t, e) {
        return (Jn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $n = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), zn(this, Qn(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jn(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && Xn(t.prototype, e), n && Xn(t, n)
            }(e, [{
                key: "createModeBackground",
                value: function(t) {
                    return this._assets.getUsesFullwidthBackground() ? this._createTrimmedGambleBackground(this._assets.getGambleBackground()) : this._createTrimmedBackground(this._assets.getGambleBackground())
                }
            }, {
                key: "_createTrimmedGambleBackground",
                value: function(t) {
                    var e = this._layoutAdjuster.getWidthDifference() * this._getTrimDifferenceModifier(),
                        n = t.width - 2 * e;
                    t.frame = new kn.Rectangle(e, 0, n, t.height);
                    var i = this._createSprite(t),
                        o = this._createContainer();
                    return o.addChild(i), this._layoutAdjuster.centerAtMain(o)
                }
            }, {
                key: "_getTrimDifferenceModifier",
                value: function() {
                    var t = Math.min(1, this._layoutAdjuster.getRatio());
                    return 3.24 * Math.pow(t, 5.5)
                }
            }, {
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, Yn)
                }
            }, {
                key: "createCardHistoryPanel",
                value: function(t) {
                    var e = new In(t, this._config, this._assets);
                    return e.x = this._config.cardHistory.x, e.y = this._config.cardHistory.y, this._adjustToMain(e)
                }
            }, {
                key: "createAnimatedCardBack",
                value: function() {
                    var t = this._createAnimatedSprite(this._assets.getAnimatedCardBack(), this._config.cardFull.fps);
                    return t.x = this._config.cardFull.x, t.y = this._config.cardFull.y, t.play(), this._adjustToMain(t)
                }
            }, {
                key: "createStakeWidget",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditWidget({
                        style: t.style,
                        setup: t.stake,
                        format: t.format
                    })
                }
            }, {
                key: "_createCreditWidget",
                value: function(t) {
                    var e = t.setup,
                        n = new xn.a(t);
                    return n.x = e.x, n.y = e.y, this._adjustToMain(n)
                }
            }, {
                key: "createChanceWidget",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditWidget({
                        style: t.style,
                        setup: t.chance,
                        format: t.format
                    })
                }
            }, {
                key: "createFullCards",
                value: function() {
                    for (var t = [], e = 0; e < 4; e++) {
                        var n = this._createSprite(this._assets.getCardFull(e));
                        n.x = this._config.cardFull.x, n.y = this._config.cardFull.y, n.visible = !1, this._adjustToMain(n), t.push(n)
                    }
                    return t
                }
            }, {
                key: "createGambleSelected",
                value: function() {
                    var t = this._createSprite(this._assets.getGambleSelected());
                    return t.visible = !1, this._adjustToMain(t)
                }
            }]), e
    }();

    function Zn(t) {
        return (Zn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ti(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ei(t, e) {
        return !e || "object" !== Zn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ni(t) {
        return (ni = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ii(t, e) {
        return (ii = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var oi = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = ei(this, ni(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ii(t, e)
                }(e, wn["a"]),
                function(t, e, n) {
                    e && ti(t.prototype, e), n && ti(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t);
                        e(t.createGlobalBackground, this._addFullscreenRequester), e(t.createModeBackground), e(t.createCardHistoryPanel), this._createControlsAdder(t)(t.createControls, this._prepareControls);
                        var n = e(t.createStakeWidget),
                            i = e(t.createChanceWidget),
                            o = e(t.createGambleSelected);
                        this._animatedCard = e(t.createAnimatedCardBack), this._fullCards = e(t.createFullCards), this._createThrobberAdder(t)(t.createThrobber, this._animatedCard), this._model.on(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange, this), this._model.on(mn.CHOICE_CHANGE, this._createChangeChoiceHandler(o), this), this._model.on(mn.STATUS_CHANGE, this._createChangeStatusHandler(o), this), this._model.on(mn.STAKE_CHANGE, this._createChangeAmountHandler(n), this), this._model.on(mn.CHANCE_CHANGE, this._createChangeAmountHandler(i), this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new $n(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareControls",
                    value: function(t) {
                        var e = this;
                        [pn.TAKE, pn.SELECT_RED, pn.SELECT_BLACK, Sn.a.REQUEST_FULLSCREEN].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_createChangeChoiceHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            if (null !== i) {
                                var o = e._config.select,
                                    r = i ? o.red : o.black,
                                    a = r.x + o.highlight.offsetX,
                                    s = e._layoutAdjuster.getControlsWidth(),
                                    u = e.isRightAligned() ? 0 : s;
                                t.x = a + u, t.y = r.y + o.highlight.offsetY, t.visible = !0, e._layoutAdjuster.adjustToMain(t), e._prepareThrobber()
                            }
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            n.status === gn.a.READY && (t.visible = !1, e.hideThrobber(), e.showCardFlip())
                        }
                    }
                }, {
                    key: "_handleCardHistoryChange",
                    value: function(t, e) {
                        t.status === gn.a.SHOWING && (this._animatedCard.visible = !1, this._fullCards.forEach(function(t, n) {
                            t.visible = e[e.length - 1] === n
                        }), this.hideThrobber())
                    }
                }, {
                    key: "_createChangeAmountHandler",
                    value: function(t) {
                        return function(e, n) {
                            t.setContent(n), t.setAmountVisibility(n > 0)
                        }
                    }
                }, {
                    key: "showCardFlip",
                    value: function() {
                        return this._animatedCard.visible = !0, this._fullCards.forEach(function(t) {
                            t.visible = !1
                        }), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._animatedCard.destroy(), this._animatedCard = null, this._fullCards && (this._fullCards.forEach(function(t) {
                            t.destroy()
                        }), this._fullCards = null), wn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        ri = {
            BLACK: 0,
            RED: 1,
            ACE_OF_SPADES: 0,
            ACE_OF_HEARTS: 1,
            ACE_OF_CLUBS: 2,
            ACE_OF_DIAMOND: 3
        };

    function ai(t) {
        return (ai = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function si(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ui(t, e) {
        return !e || "object" !== ai(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function li(t) {
        return (li = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ci(t, e) {
        return (ci = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var hi = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = ui(this, li(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ci(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && si(t.prototype, e), n && si(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._winCount = 0, this._view.on(pn.TAKE, this._createTakeHandler(), this), this._view.on(pn.SELECT_BLACK, this._createSelectBlackHandler(), this), this._view.on(pn.SELECT_RED, this._createSelectRedHandler(), this), this._model.status = gn.a.READY, this._model.on(mn.STAKE_CHANGE, this._cachedStake, this), this._model.on(mn.CHANCE_CHANGE, this._handleChangeChance, this), this
                    }
                }, {
                    key: "_createTakeHandler",
                    value: function() {
                        var t = this;
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.TAKE,
                            functionToCall: function() {
                                t._winCount = 0, t._model.stake = 0, t._model.chance = 0, t._soundPlayer.stopCardFlip()
                            }
                        })
                    }
                }, {
                    key: "_createSelectBlackHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.SELECT_BLACK,
                            nextStatus: gn.a.SHOWING,
                            functionToCall: this._createSelectHelper(ri.BLACK).bind(this),
                            cancel: this._cancelSelect.bind(this)
                        })
                    }
                }, {
                    key: "_createSelectRedHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            expectedStatus: gn.a.READY,
                            eventToEmit: pn.SELECT_RED,
                            nextStatus: gn.a.SHOWING,
                            functionToCall: this._createSelectHelper(ri.RED).bind(this),
                            cancel: this._cancelSelect.bind(this)
                        })
                    }
                }, {
                    key: "_createSelectHelper",
                    value: function(t) {
                        return function() {
                            this._model.choice = t, this._model.once(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange, this)
                        }
                    }
                }, {
                    key: "_handleCardHistoryChange",
                    value: function(t, e) {
                        this._soundPlayer.stopCardFlip(), this._soundPlayer.once(p.GAMBLE_COMPLETE, this._continueCardFlip, this), this._updateStake()
                    }
                }, {
                    key: "_continueCardFlip",
                    value: function() {
                        this._model.choice = null, this._model.stake > 0 && (this._model.status = gn.a.READY, this._soundPlayer.playCardFlip())
                    }
                }, {
                    key: "_cancelSelect",
                    value: function() {
                        return this._model.choice = null, this._model.status = gn.a.READY, this._model.off(mn.CARD_HISTORY_CHANGE, this._handleCardHistoryChange), this._model.off(mn.STAKE_CHANGE, this._handleChangeStake), this
                    }
                }, {
                    key: "_updateStake",
                    value: function() {
                        void 0 === this._cachedStake || this._cachedStake === this._model.stake ? this._model.once(mn.STAKE_CHANGE, this._handleChangeStake, this) : this._handleChangeStake(this._model, this._model.stake)
                    }
                }, {
                    key: "_handleChangeStake",
                    value: function(t, e) {
                        this._model.status === gn.a.SHOWING && this._handleGambleResult(e)
                    }
                }, {
                    key: "_handleGambleResult",
                    value: function(t) {
                        return t > 0 ? (this._soundPlayer.playGambleWin(this._winCount), this._winCount += 1) : (this._soundPlayer.playGambleLost(), this._winCount = 0), t
                    }
                }, {
                    key: "_cacheStake",
                    value: function(t, e) {
                        this._cachedStake = this._model.stake
                    }
                }, {
                    key: "_handleChangeChance",
                    value: function(t, e) {
                        var n = this;
                        if (e <= 0) {
                            var i = this._winCount;
                            this._winCount = 0, this._soundPlayer.off(p.GAMBLE_COMPLETE), this._afterRevealDelay = setTimeout(function() {
                                n._exitGamble(i)
                            }, this._config.timing.waitTimeAfterReveal)
                        }
                    }
                }, {
                    key: "_exitGamble",
                    value: function(t) {
                        t > 0 && this._soundPlayer.playGambleAutoTake(), this._soundPlayer.stopCardFlip(), this._model.status = gn.a.READY, this.emit(pn.DONE)
                    }
                }, {
                    key: "start",
                    value: function() {
                        return this._soundPlayer.playCardFlip(), this._view.showCardFlip(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._afterRevealDelay), this._afterRevealDelay = null, cn.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        fi = u.a.extend({
            props: {}
        });

    function _i(t) {
        return (_i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function yi(t, e) {
        return !e || "object" !== _i(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function di(t) {
        return (di = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pi(t, e) {
        return (pi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mi = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = yi(this, di(e).call(this)))._model = t, n
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && pi(t, e)
        }(e, kn["Container"]), e
    }();
    var vi = function t() {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t)
        },
        gi = u.a.extend({
            props: {
                progress: "number"
            }
        }),
        bi = {
            PROGRESS_CHANGE: "change:progress"
        };

    function Si(t) {
        return (Si = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ki(t, e) {
        return !e || "object" !== Si(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ei(t) {
        return (Ei = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ti(t, e) {
        return (Ti = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ci = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), ki(this, Ei(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ti(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && wi(t.prototype, e), n && wi(t, n)
            }(e, [{
                key: "createBackground",
                value: function() {
                    var t = this._createSprite(this._assets.getPreloadBackground());
                    return this._layoutAdjuster.center(t)
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new kn.Sprite(t)
                }
            }, {
                key: "createLoadingBar",
                value: function() {
                    var t = this._createBar(this._config.loadingBar.fill);
                    return this._layoutAdjuster.center(t)
                }
            }, {
                key: "_createBar",
                value: function(t) {
                    var e = this._createGraphics(),
                        n = this._config.loadingBar;
                    return e.beginFill(t, 1), e.drawRect(0, 0, n.width, n.height), e.endFill(), e.x = n.x, e.y = n.y, e
                }
            }, {
                key: "_createGraphics",
                value: function() {
                    return new kn.Graphics
                }
            }, {
                key: "createInnerGlow",
                value: function() {
                    var t = this._config.loadingBar,
                        e = this._createBar(t.innerGlow),
                        n = this._createBlurFilter(),
                        i = e.height;
                    return e.scale.y = .9, e.y += .5 * (i - e.height), n.blur = t.blur || 30, n.padding = t.padding || 50, n.passes = t.passes || 5, e.filters = [n], this._layoutAdjuster.center(e)
                }
            }, {
                key: "_createBlurFilter",
                value: function() {
                    return new kn.filters.BlurFilter
                }
            }]), e
    }();

    function Oi(t) {
        return (Oi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ai(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Pi(t, e) {
        return !e || "object" !== Oi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ii(t) {
        return (Ii = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function xi(t, e) {
        return (xi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ri = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Pi(this, Ii(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && xi(t, e)
            }(e, wn["a"]),
            function(t, e, n) {
                e && Ai(t.prototype, e), n && Ai(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._createComponentAdder(t);
                    return e(t.createBackground), this._loadingBar = e(t.createLoadingBar), this._loadingBar.scale.x = .01, this._innerGlow = e(t.createInnerGlow), this._innerGlow.scale.x = this._loadingBar.scale.x, this._model.on(bi.PROGRESS_CHANGE, this._handleProgress, this), this._preRenderFonts(), this
                }
            }, {
                key: "_preRenderFonts",
                value: function() {
                    var t = this,
                        e = this._config.fonts;
                    return e && e.length && e.forEach(function(e) {
                        var n = new kn.Text("", {
                            fontFamily: e.fontFamily,
                            fontSize: e.fontSize,
                            fontWeight: e.fontWeight
                        });
                        n.visible = !1, t.addChild(n)
                    }), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Ci(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_handleProgress",
                value: function(t, e) {
                    this._loadingBar.scale.x = .01 * e, this._innerGlow.scale.x = this._loadingBar.scale.x
                }
            }, {
                key: "destroy",
                value: function() {
                    this._loadingBar = null, this._innerGlow = null, wn.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Wi(t) {
        return (Wi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ni(t, e) {
        return !e || "object" !== Wi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ji(t) {
        return (ji = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Li(t, e) {
        return (Li = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Gi, Mi = function(t) {
            function e(t) {
                var n = t.model,
                    i = t.view,
                    o = t.config,
                    r = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Ni(this, ji(e).call(this, {
                    model: n,
                    view: i,
                    config: o,
                    soundPlayer: r
                }))
            }
            return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Li(t, e)
            }(e, cn), e
        }(),
        Bi = {
            OFF: 0,
            HALF: 1,
            FULL: 2
        },
        Fi = {
            RIGHT: 0,
            LEFT: 1
        },
        Hi = {
            ENGLISH: 0,
            DEUTSCH: 1
        },
        Di = {
            OFF: 0,
            ON: 1
        },
        Ki = {
            LOW_COUNT: 0,
            HIGH_COUNT: 1
        },
        Ui = {
            OFF: 0,
            ON: 1
        };
    ! function(t) {
        t.PAYTABLE = "settingsStatus.paytable", t.BET_SETTINGS = "settingsStatus.betSettings", t.GENERAL_SETTINGS = "settingsStatus.generalSettings", t.HELP = "settingsStatus.help"
    }(Gi || (Gi = {}));
    var Yi, qi = u.a.extend({
            props: {
                isInScatter: "boolean",
                paytable: "object",
                winlineSelections: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                betSteps: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                audio: {
                    type: "number",
                    required: !0,
                    default: Bi.FULL,
                    values: [Bi.OFF, Bi.HALF, Bi.FULL]
                },
                controlsAlignment: {
                    type: "number",
                    required: !0,
                    default: Fi.RIGHT,
                    values: [Fi.RIGHT, Fi.LEFT]
                },
                gamble: {
                    type: "number",
                    required: !0,
                    default: Ui.OFF,
                    values: [Ui.OFF, Ui.ON]
                },
                language: {
                    type: "number",
                    required: !0,
                    default: Hi.ENGLISH,
                    values: [Hi.ENGLISH, Hi.DEUTSCH]
                },
                turbo: {
                    type: "number",
                    required: !0,
                    default: Di.OFF,
                    values: [Di.OFF, Di.ON]
                },
                winlines: {
                    type: "number",
                    required: !0,
                    default: Ki.LOW_COUNT,
                    values: [Ki.LOW_COUNT, Ki.HIGH_COUNT]
                },
                bet: "number",
                selectedWinlinesCount: "number",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                status: {
                    type: "string",
                    required: !0,
                    default: Gi.GENERAL_SETTINGS,
                    values: [Gi.GENERAL_SETTINGS, Gi.PAYTABLE, Gi.BET_SETTINGS, Gi.HELP]
                }
            },
            derived: {
                wantsGamble: {
                    deps: ["gamble"],
                    fn: function() {
                        return this.gamble === Ui.ON
                    }
                },
                wantsTurbo: {
                    deps: ["turbo"],
                    fn: function() {
                        return this.turbo === Di.ON
                    }
                }
            }
        }),
        Vi = {
            STATUS_CHANGE: "change:status",
            BET_CHANGE: "change:bet",
            WANTS_GAMBLE_CHANGE: "change:wantsGamble",
            WANTS_TURBO_CHANGE: "change:wantsTurbo",
            CONTROLS_ALIGNMENT_CHANGE: "change:controlsAlignment",
            BET_STEPS_CHANGE: "change:betSteps",
            PAYTABLE_CHANGE: "change:paytable",
            WINLINES_CHANGE: "change:winlines",
            WINLINE_SELECTIONS_CHANGE: "change:winlineSelections",
            SELECTED_WINLINES_COUNT_CHANGE: "change:selectedWinlinesCount",
            IS_IN_SCATTER_CHANGE: "change:isInScatter",
            changeEventFor: function(t) {
                return "change:".concat(t)
            }
        };
    ! function(t) {
        t.BACK = "settingsEvent.back", t.BET_SETTINGS = "settingsEvent.betSettings", t.GENERAL_SETTINGS = "settingsEvent.generalSettings", t.PAYTABLE = "settingsEvent.paytable", t.HELP = "settingsEvent.help", t.CHANGE_LANGUAGE_SETTING = "settingsEvent.changeLanguageSetting", t.CHANGE_AUDIO_SETTING = "settingsEvent.changeAudioSetting", t.CHANGE_TURBO_SETTING = "settingsEvent.changeTurboSetting", t.CHANGE_GAMBLE_SETTING = "settingsEvent.changeGambleSetting", t.CHANGE_CONTROLS_ALIGNMENT_SETTING = "settingsEvent.changeControlsAlignmentSetting", t.CHANGE_BET = "settingsEvent.changeBet", t.CHANGE_WINLINES_SETTING = "settingsEvent.changeWinlinesSetting"
    }(Yi || (Yi = {}));
    var Xi = n(3),
        zi = n(26),
        Qi = n(15);

    function Ji(t) {
        return (Ji = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function $i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Zi(t, e) {
        return !e || "object" !== Ji(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function to(t) {
        return (to = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function eo(t, e) {
        return (eo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var no = function(t) {
            function e(t, n) {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), Zi(this, to(e).call(this, t, n))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && eo(t, e)
                }(e, Rn["a"]),
                function(t, e, n) {
                    e && $i(t.prototype, e), n && $i(t, n)
                }(e, [{
                    key: "createAmountDecrease",
                    value: function() {
                        return this._createAmountButton(this._assets.getAmountDecrease())
                    }
                }, {
                    key: "_createAmountButton",
                    value: function(t) {
                        var e = .5 * t.width,
                            n = this._createFromTilesheet({
                                baseTexture: t,
                                frameWidth: e
                            }),
                            i = this._createFromTilesheet({
                                baseTexture: t,
                                frameX: e
                            });
                        return this._createButton({
                            up: n,
                            down: i
                        })
                    }
                }, {
                    key: "createAmountIncrease",
                    value: function() {
                        return this._createAmountButton(this._assets.getAmountIncrease())
                    }
                }, {
                    key: "createAmountSelect",
                    value: function() {
                        return this._createSprite(this._assets.getAmountSelect())
                    }
                }]), e
        }(),
        io = n(12);

    function oo(t) {
        return (oo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ro(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ao(t, e) {
        return !e || "object" !== oo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function so(t) {
        return (so = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function uo(t, e) {
        return (uo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var lo = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = ao(this, so(e).call(this)))._config = t, i._assets = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && uo(t, e)
            }(e, io["a"]),
            function(t, e, n) {
                e && ro(t.prototype, e), n && ro(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._buttons = [];
                    var e = this.addChild(this._createContainer());
                    this._items = this._addText("", this._config.style.items, e);
                    var n = t.createAmountDecrease();
                    this.addChild(n), this._select = t.createAmountSelect(), this.addChild(this._select);
                    var i = t.createAmountIncrease();
                    this.addChild(i);
                    var o = this._addText(this._config.description, this._config.style.label);
                    return this._setLayout({
                        config: this._config,
                        items: this._items,
                        decrease: n,
                        select: this._select,
                        increase: i,
                        label: o
                    }), this._select.y += this._config.selectYOffset || 0, this._maskAmounts(this._select, e), this._addPositionChanger(n, -1), this._addPositionChanger(i, 1), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new no(this._config, this._assets)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new kn.Container
                }
            }, {
                key: "_addPositionChanger",
                value: function(t, e) {
                    var n = this;
                    this._buttons.push(t), t.interactive = !0;
                    return this._onClick(t, function() {
                        n._setPosition(n._position + e), n.emit(Sn.a.INPUT_CHANGE, n.getSelectedAmount())
                    }), t
                }
            }, {
                key: "_addText",
                value: function(t, e, n) {
                    var i = zi.a.convertStyle(e),
                        o = new kn.Text(t, i);
                    return n ? n.addChild(o) : this.addChild(o), o
                }
            }, {
                key: "_setLayout",
                value: function(t) {
                    var e = t.config,
                        n = t.items,
                        i = t.decrease,
                        o = t.select,
                        r = t.increase,
                        a = t.label;
                    return this._positionSelect(o, i, e), this._positionIncrease(r, o, e), this._positionitems(n, o), this._positionLabel(a, o, r, e), this
                }
            }, {
                key: "_positionSelect",
                value: function(t, e, n) {
                    return t.x = e.width + n.spacing, t
                }
            }, {
                key: "_positionIncrease",
                value: function(t, e, n) {
                    return t.x = e.x + e.width + n.spacing, t
                }
            }, {
                key: "_positionitems",
                value: function(t, e) {
                    return t.x = this._calculateHorizontalCenter(e, t), t.y = this._calculateVerticalMiddle(e, t) + (this._config.itemsYOffset || 0), t
                }
            }, {
                key: "_positionLabel",
                value: function(t, e, n, i) {
                    switch (t.y = -t.height - i.spacing, i.style.label.align) {
                        case "center":
                            t.x = this._calculateHorizontalCenter(e, t);
                            break;
                        case "right":
                            t.x = n.x + n.width - t.width
                    }
                    return t
                }
            }, {
                key: "_calculateHorizontalCenter",
                value: function(t, e) {
                    return t.x + .5 * (t.width - e.width)
                }
            }, {
                key: "_calculateVerticalMiddle",
                value: function(t, e) {
                    return t.y + .5 * (t.height - e.height)
                }
            }, {
                key: "setAvailableAmounts",
                value: function(t, e) {
                    return this._amounts = t, this._items.text = this._createAmountText(this._amounts), this.setAmount(e), this._items.text
                }
            }, {
                key: "_createAmountText",
                value: function(t) {
                    var e = this,
                        n = "";
                    return t.forEach(function(t) {
                        var i = Qi.a.formatCredit(t, e._config.format),
                            o = Qi.a.padBoth(i, e._config.itemLength);
                        n = "".concat(n).concat(o)
                    }), n
                }
            }, {
                key: "_maskAmounts",
                value: function(t, e) {
                    var n = new kn.Graphics;
                    return n.beginFill(65280, 1), n.drawRect(t.x + 5, t.y, t.width - 10, t.height), n.endFill(), e.addChild(n), e.mask = n, e
                }
            }, {
                key: "setAmount",
                value: function(t) {
                    return this._amounts && this._amounts.length && this.getSelectedAmount() !== t && this._setPosition(this._amounts.indexOf(t)), t
                }
            }, {
                key: "_setPosition",
                value: function(t) {
                    t < 0 || !this._amounts ? this._position = 0 : t >= this._amounts.length ? this._position = this._amounts.length - 1 : this._position = t;
                    var e = this._calculateProportionalOffset(t);
                    return this._moveAmounts(e), this._position
                }
            }, {
                key: "_calculateProportionalOffset",
                value: function(t) {
                    var e = Qi.a.formatCredit(this._amounts[0], this._config.format);
                    return (Qi.a.formatCredit(this.getSelectedAmount(), this._config.format).length - e.length) / e.length
                }
            }, {
                key: "_moveAmounts",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        e = this._items.width / this._amounts.length,
                        n = this._select.x + .5 * this._select.width - e * (this._position + .5) + e * t * .4 * .5;
                    Xi.TweenLite.killTweensOf(this._items), Xi.TweenLite.to(this._items, .2, {
                        x: n,
                        ease: Xi.Sine.easeInOut
                    })
                }
            }, {
                key: "getSelectedAmount",
                value: function() {
                    return this._amounts[this._position]
                }
            }, {
                key: "disable",
                value: function() {
                    this._buttons.forEach(function(t) {
                        t.interactive = !1
                    })
                }
            }, {
                key: "enable",
                value: function() {
                    this._buttons.forEach(function(t) {
                        t.interactive = !0
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._assets = null, this._items = null, this._select = null, this._amounts = null, this._buttons = null, io.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function co(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ho = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && co(t.prototype, e), n && co(t, n)
        }(t, [{
            key: "createBackground",
            value: function() {
                var t = this._assets.getSettingsBackground();
                return t ? this._createSprite(t) : this._createContainer()
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new kn.Sprite(t)
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new kn.Container
            }
        }, {
            key: "createBetSelector",
            value: function() {
                return new lo(this._config.amountSelector, this._assets)
            }
        }, {
            key: "createHiddenBetOK",
            value: function() {
                var t = this._createGraphics(),
                    e = this._assets.getAmountSelect().height;
                return t.beginFill(10066329, 0), t.drawRect(0, 0, e, e), t.endFill(), t
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new kn.Graphics
            }
        }]), t
    }();

    function fo(t) {
        return (fo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yo(t, e) {
        return !e || "object" !== fo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function po(t) {
        return (po = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function mo(t, e) {
        return (mo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var vo = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = yo(this, po(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && mo(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && _o(t.prototype, e), n && _o(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = e.createBackground();
                        this._betSelector = e.createBetSelector();
                        var i = e.createHiddenBetOK();
                        return this._centerOn(n, this._betSelector), this._centerOn(this._betSelector, i, {
                            offsetX: 0,
                            offsetY: -30
                        }), this.addChild(n), this.addChild(this._betSelector), this.addChild(i), this._model.on(Vi.BET_STEPS_CHANGE, this._handleChangeBetSteps, this), this._model.on(Vi.BET_CHANGE, this._handleChangeBet, this), this._betSelector.on(Sn.a.INPUT_CHANGE, function(e) {
                            t.emit(Yi.CHANGE_BET, e)
                        }, this), i.interactive = !0, this._onClick(i, this._handleBetOKClick, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new ho(this._config, this._assets)
                    }
                }, {
                    key: "_handleChangeBetSteps",
                    value: function(t, e) {
                        this._betSelector.setAvailableAmounts(e, this._model.bet)
                    }
                }, {
                    key: "_handleChangeBet",
                    value: function(t, e) {
                        this._betSelector.setAmount(e)
                    }
                }, {
                    key: "_handleBetOKClick",
                    value: function() {
                        this.emit(Sn.a.REQUEST_FULLSCREEN), this.emit(Yi.BACK)
                    }
                }, {
                    key: "enable",
                    value: function() {
                        this._betSelector.enable()
                    }
                }, {
                    key: "disable",
                    value: function() {
                        this._betSelector.disable()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._betSelector = null, En.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        go = {
            TOGGLE: "toggleEvent.toggle"
        },
        bo = {
            AUDIO: "audio",
            CONTROLS_ALIGNMENT: "controlsAlignment",
            GAMBLE: "gamble",
            LANGUAGE: "language",
            TURBO: "turbo",
            WINLINES: "winlines"
        };

    function So(t) {
        return (So = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ko(t, e) {
        return !e || "object" !== So(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Eo(t) {
        return (Eo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function To(t, e) {
        return (To = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Co = function(t) {
        function e(t) {
            var n, i = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                autoToggle: !1
            }).autoToggle;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ko(this, Eo(e).call(this)))._states = t, n._autoToggle = i, n._toggleCooldown = 200, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && To(t, e)
            }(e, io["a"]),
            function(t, e, n) {
                e && wo(t.prototype, e), n && wo(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this;
                    return this._container = this._createContainer(), this.addChild(this._container), this._states.forEach(function(e) {
                        t._container.addChild(e), e.visible = !1
                    }), this._currentState = 0, this._states[this._currentState].visible = !0, this._container.interactive = !0, this._onClick(this._container, this._toggle, this), this
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new kn.Container
                }
            }, {
                key: "_toggle",
                value: function() {
                    var t = this;
                    this._container.interactive = !1;
                    var e = (this._currentState + 1) % this._states.length;
                    return this._autoToggle && this.setState(e), this.emit(go.TOGGLE, e), this._cooldown = setTimeout(function() {
                        t._container.interactive = !0
                    }, this._toggleCooldown), this
                }
            }, {
                key: "setLabel",
                value: function(t, e) {
                    var n = zi.a.convertStyle(e),
                        i = this._createText(t, n);
                    return i.x = .5 * (this._container.width - i.width), i.y = this._container.height - .1 * i.height, this._container.addChild(i), this
                }
            }, {
                key: "_createText",
                value: function(t, e) {
                    return new kn.Text(t, e)
                }
            }, {
                key: "setState",
                value: function(t) {
                    return this._states[this._currentState] && (this._states[this._currentState].visible = !1), this._currentState = t % this._states.length, this._states[this._currentState] && (this._states[this._currentState].visible = !0), this
                }
            }, {
                key: "disable",
                value: function() {
                    this._cooldown && clearTimeout(this._cooldown), this._container.alpha = .33, this._container.interactive = !1
                }
            }, {
                key: "enable",
                value: function() {
                    this._container.alpha = 1, this._container.interactive = !0
                }
            }, {
                key: "destroy",
                value: function() {
                    this._states = null, this._container = null, this._cooldown && (clearTimeout(this._cooldown), this._cooldown = null), io.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Oo(t) {
        return (Oo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ao(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Po(t, e) {
        return !e || "object" !== Oo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Io(t) {
        return (Io = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function xo(t, e) {
        return (xo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ro = function(t) {
        function e(t, n) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Po(this, Io(e).call(this, t, n))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && xo(t, e)
            }(e, Rn["a"]),
            function(t, e, n) {
                e && Ao(t.prototype, e), n && Ao(t, n)
            }(e, [{
                key: "createBackground",
                value: function() {
                    var t = this._assets.getSettingsBackground();
                    return t ? this._createSprite(t) : this._createContainer()
                }
            }, {
                key: "createLanguageSwitch",
                value: function() {
                    var t = this._createStates([{
                            xPos: 0,
                            yPos: 0
                        }, {
                            xPos: 1,
                            yPos: 0
                        }]),
                        e = this._createToggleSwitch({
                            states: t,
                            xPos: 0,
                            yPos: 1
                        });
                    return e.visible = !1, e
                }
            }, {
                key: "_createStates",
                value: function(t) {
                    var e = this,
                        n = [];
                    return t.forEach(function(t) {
                        n.push(e._createSettingsSprite(t))
                    }), n
                }
            }, {
                key: "_createSettingsSprite",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            xPos: 0,
                            yPos: 0
                        },
                        e = t.xPos,
                        n = t.yPos,
                        i = this._config.general.tilesheetLayout,
                        o = this._assets.getSettingsButtons(),
                        r = i.width * e,
                        a = i.height * n,
                        s = this._createFromTilesheet({
                            frameX: r,
                            frameY: a,
                            frameWidth: i.width,
                            frameHeight: i.height,
                            baseTexture: o
                        }),
                        u = this._createFromTilesheet({
                            frameX: r + i.upStateXOffset,
                            frameY: a,
                            frameWidth: i.width,
                            frameHeight: i.height,
                            baseTexture: o
                        });
                    return this._createButton({
                        up: s,
                        down: u
                    })
                }
            }, {
                key: "_createToggleSwitch",
                value: function(t) {
                    var e = t.states,
                        n = t.xPos,
                        i = t.yPos,
                        o = this._config.general,
                        r = o.tilesheetLayout,
                        a = o.positioning,
                        s = new Co(e),
                        u = (r.width + a.xMargin) * n,
                        l = (r.height + a.yMargin) * i;
                    s.x = a.xOffset + u, s.y = a.yOffset + l;
                    var c = o.descriptions;
                    return c && s.setLabel(c[i][n], o.style), s
                }
            }, {
                key: "createAudioSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 0
                    }, {
                        xPos: 2,
                        yPos: 2
                    }, {
                        xPos: 3,
                        yPos: 2
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 1
                    })
                }
            }, {
                key: "createWinlinesSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 3
                    }, {
                        xPos: 3,
                        yPos: 3
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 1
                    })
                }
            }, {
                key: "createTurboSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 1
                    }, {
                        xPos: 1,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 0,
                        yPos: 2
                    })
                }
            }, {
                key: "createGambleSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 2
                    }, {
                        xPos: 1,
                        yPos: 2
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 2
                    })
                }
            }, {
                key: "createAlignmentSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 0,
                        yPos: 3
                    }, {
                        xPos: 1,
                        yPos: 3
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 2
                    })
                }
            }, {
                key: "createBetSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 3,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 0,
                        yPos: 0
                    })
                }
            }, {
                key: "createPaytableSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 3,
                        yPos: 0
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 1,
                        yPos: 0
                    })
                }
            }, {
                key: "createHelpSwitch",
                value: function() {
                    var t = this._createStates([{
                        xPos: 2,
                        yPos: 1
                    }]);
                    return this._createToggleSwitch({
                        states: t,
                        xPos: 2,
                        yPos: 0
                    })
                }
            }]), e
    }();

    function Wo(t) {
        return (Wo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function No(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function jo(t, e) {
        return !e || "object" !== Wo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Lo(t) {
        return (Lo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Go(t, e) {
        return (Go = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mo = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = jo(this, Lo(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Go(t, e)
                }(e, En["a"]),
                function(t, e, n) {
                    e && No(t.prototype, e), n && No(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._togglers = [];
                        var t = this._createWorkshop(),
                            e = t.createBackground();
                        this.addChild(e), this._addToggleSwitch({
                            creator: t.createLanguageSwitch.bind(t),
                            setting: bo.LANGUAGE
                        }), this._addToggleSwitch({
                            creator: t.createAudioSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_AUDIO_SETTING,
                            setting: bo.AUDIO
                        }), this._winlinesToggle = this._addToggleSwitch({
                            creator: t.createWinlinesSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_WINLINES_SETTING,
                            setting: bo.WINLINES
                        }), this._turboToggle = this._addToggleSwitch({
                            creator: t.createTurboSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_TURBO_SETTING,
                            setting: bo.TURBO
                        }), this._gambleToggle = this._addToggleSwitch({
                            creator: t.createGambleSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_GAMBLE_SETTING,
                            setting: bo.GAMBLE
                        }), this._addToggleSwitch({
                            creator: t.createAlignmentSwitch.bind(t),
                            eventToDispatch: Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING,
                            setting: bo.CONTROLS_ALIGNMENT
                        }), this._betButton = this._addToggleSwitch({
                            creator: t.createBetSwitch.bind(t),
                            eventToDispatch: Yi.BET_SETTINGS
                        }), this._addToggleSwitch({
                            creator: t.createPaytableSwitch.bind(t),
                            eventToDispatch: Yi.PAYTABLE
                        }), this._addToggleSwitch({
                            creator: t.createHelpSwitch.bind(t),
                            eventToDispatch: Yi.HELP
                        })
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Ro(this._config, this._assets)
                    }
                }, {
                    key: "_addToggleSwitch",
                    value: function(t) {
                        var e = this,
                            n = t.creator,
                            i = t.eventToDispatch,
                            o = t.setting,
                            r = n.call();
                        return void 0 !== o && (r.setState(this._model[o]), this._model.on(Vi.changeEventFor(o), function(t, e) {
                            r.setState(e)
                        })), i ? (r.on(go.TOGGLE, function(t) {
                            e.emit(i, t)
                        }), this._togglers.push(r)) : r.disable(), this.addChild(r), r
                    }
                }, {
                    key: "enable",
                    value: function() {
                        this._togglers.forEach(function(t) {
                            t.enable()
                        })
                    }
                }, {
                    key: "disable",
                    value: function() {
                        this._togglers.forEach(function(t) {
                            t.disable()
                        })
                    }
                }, {
                    key: "disableGambleSetting",
                    value: function() {
                        return this._gambleToggle.disable(), this
                    }
                }, {
                    key: "enableGambleSetting",
                    value: function() {
                        return this._gambleToggle.enable(), this
                    }
                }, {
                    key: "disableTurboSetting",
                    value: function() {
                        return this._turboToggle.disable(), this
                    }
                }, {
                    key: "enableTurboSetting",
                    value: function() {
                        return this._turboToggle.enable(), this
                    }
                }, {
                    key: "hideBetSetting",
                    value: function() {
                        return this._betButton.visible = !1, this
                    }
                }, {
                    key: "showBetSetting",
                    value: function() {
                        return this._betButton.visible = !0, this
                    }
                }, {
                    key: "hideWinlinesSetting",
                    value: function() {
                        return this._winlinesToggle.visible = !1, this
                    }
                }, {
                    key: "showWinlinesSetting",
                    value: function() {
                        return this._winlinesToggle.visible = !0, this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._togglers = null, this._gambleToggle = null, this._turboToggle = null, this._betButton = null, En.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Bo = {
            FULL: ":full"
        };

    function Fo(t) {
        return (Fo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ho(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Do(t, e) {
        return !e || "object" !== Fo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ko(t) {
        return (Ko = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Uo(t, e) {
        return (Uo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Yo = function(t) {
            function e(t) {
                var n, i = t.style,
                    o = t.setup,
                    r = t.format,
                    a = t.id,
                    s = t.hideMultiplier,
                    u = t.displayScatterGames;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Do(this, Ko(e).call(this)))._style = i, n._setup = o, n._format = r, n.id = a, n._hideMultiplier = s, n._displayScatterGames = u, n.higherToLower = !0, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Uo(t, e)
                }(e, io["a"]),
                function(t, e, n) {
                    e && Ho(t.prototype, e), n && Ho(t, n)
                }(e, [{
                    key: "updatePaytable",
                    value: function(t, e) {
                        return this._paytable = t.concat(), this._updateBet(e), this
                    }
                }, {
                    key: "_updateBet",
                    value: function(t) {
                        var e = this;
                        return this._clearOldText(), this._paytable && (this.higherToLower && this._paytable.reverse(), this._paytable.forEach(function(n, i) {
                            n && e._updatePayout(t, n, i)
                        })), this
                    }
                }, {
                    key: "_updatePayout",
                    value: function(t, e, n) {
                        var i = JSON.parse(JSON.stringify(this._setup)),
                            o = this._createPayout(n, i),
                            r = this._createPayoutContent(t, e, i);
                        return o.setMaxWidth(600), o.setContent(r), o.y = this.children.length * this._setup.lineHeight, this.addChild(o)
                    }
                }, {
                    key: "_createPayout",
                    value: function(t, e) {
                        var n = this.higherToLower ? this._paytable.length - t : t + 1;
                        return e.label = this._hideMultiplier ? "" : "".concat(n, "x"), this._createCreditWidget(e)
                    }
                }, {
                    key: "_createCreditWidget",
                    value: function(t) {
                        return new xn.a({
                            style: this._style,
                            setup: t,
                            format: this._format
                        })
                    }
                }, {
                    key: "_createPayoutContent",
                    value: function(t, e, n) {
                        var i = this._createFormattedPayout(t, e),
                            o = n.blockWidth - n.label.length;
                        if ("center" === this._style.primary.align && this._hideMultiplier) {
                            var r = Math.round(.5 * o),
                                a = Qi.a.padRight(i, r);
                            return Qi.a.padLeft(a, r)
                        }
                        return Qi.a.padLeft(i, o)
                    }
                }, {
                    key: "_createFormattedPayout",
                    value: function(t, e) {
                        return this._displayScatterGames ? "".concat(e, " SG") : Qi.a.formatCredit(t * e, this._format)
                    }
                }, {
                    key: "_clearOldText",
                    value: function() {
                        return this.removeChildren().forEach(function(t) {
                            t.destroy()
                        }), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._style = null, this._setup = null, this._format = null, this._paytable = null, io.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        qo = n(66);

    function Vo(t) {
        return (Vo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Xo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function zo(t, e) {
        return !e || "object" !== Vo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Qo(t) {
        return (Qo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Jo(t, e) {
        return (Jo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var $o = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = zo(this, Qo(e).call(this, t, n, i)))._layoutAdjuster.adjustStyle(o._config.paytable.style), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Jo(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && Xo(t.prototype, e), n && Xo(t, n)
            }(e, [{
                key: "createBackground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getPaytableBackground(),
                        scatter: this._assets.getScatterPaytableBackground()
                    };
                    if (this._assets.getUsesFullwidthBackground()) {
                        var n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                        return this._layoutAdjuster.centerAtMain(n)
                    }
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createMultiplierContainers",
                value: function() {
                    var t = this,
                        e = this._config.paytable,
                        n = [];
                    return e.symbols.forEach(function(i) {
                        if (!i.isSameAs) {
                            if (i.displayScatterGames) {
                                var o = t._createScatterGamesContainer({
                                    config: e,
                                    symbol: i,
                                    hideMultiplier: i.hideMultiplier
                                });
                                n.push(o)
                            } else {
                                var r = t._createMultiplierContainer({
                                    config: e,
                                    symbol: i,
                                    hideMultiplier: i.hideMultiplier
                                });
                                n.push(r)
                            }
                            if (i.full) {
                                var a = t._createFullContainer(e, i);
                                n.push(a)
                            }
                        }
                    }), n
                }
            }, {
                key: "_createMultiplierContainer",
                value: function(t) {
                    var e = t.config,
                        n = t.symbol,
                        i = t.hideMultiplier,
                        o = t.displayScatterGames,
                        r = n.style ? n.style : e.style,
                        a = n.setup ? n.setup : e.setup,
                        s = n.format ? n.format : e.format,
                        u = new Yo({
                            style: r,
                            setup: a,
                            format: s,
                            id: n.id,
                            hideMultiplier: i,
                            displayScatterGames: o
                        });
                    return u.x = n.x, u.y = n.y, u.rotation = n.rotation || 0, this._adjustToMain(u), u
                }
            }, {
                key: "_createFullContainer",
                value: function(t, e) {
                    var n = {
                        id: "".concat(e.id).concat(Bo.FULL),
                        x: e.full.x,
                        y: e.full.y,
                        style: e.full.style,
                        setup: e.full.setup
                    };
                    return this._createMultiplierContainer({
                        config: t,
                        symbol: n,
                        hideMultiplier: !0
                    })
                }
            }, {
                key: "_createScatterGamesContainer",
                value: function(t) {
                    var e = t.config,
                        n = t.symbol,
                        i = t.hideMultiplier,
                        o = {
                            id: "".concat(n.id, ":scatterGames"),
                            x: n.x,
                            y: n.y
                        };
                    return this._createMultiplierContainer({
                        config: e,
                        symbol: o,
                        hideMultiplier: i,
                        displayScatterGames: !0
                    })
                }
            }, {
                key: "createInfoLabels",
                value: function() {
                    var t = this,
                        e = this._config.paytable,
                        n = [];
                    return e.infos && e.infos.forEach(function(i) {
                        var o = new qo.a(e.style.info, i);
                        o.setContent(i.text), o.x = i.x, o.y = i.y, t._adjustToMain(o), n.push(o)
                    }), n
                }
            }]), e
    }();

    function Zo(t) {
        return (Zo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function tr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function er(t, e) {
        return !e || "object" !== Zo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function nr(t) {
        return (nr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ir(t, e) {
        return (ir = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var or = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = er(this, nr(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ir(t, e)
            }(e, En["a"]),
            function(t, e, n) {
                e && tr(t.prototype, e), n && tr(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._createWorkshop();
                    this.addChild(e.createBackground(this._model));
                    var n = e.createMultiplierContainers();
                    this._multiplierBySymbol = {}, n.forEach(function(e) {
                        t._multiplierBySymbol[e.id] = e, t.addChild(e)
                    }), e.createInfoLabels().forEach(function(e) {
                        return t.addChild(e)
                    }), this._model.on(Vi.PAYTABLE_CHANGE, this._handlePaytableChange, this), this._model.on(Vi.BET_CHANGE, this._handleBetChange, this), this._model.on(Vi.SELECTED_WINLINES_COUNT_CHANGE, this._handleBetChange, this)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new $o(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_handlePaytableChange",
                value: function(t, e) {
                    for (var n in e)
                        if (e.hasOwnProperty(n) && this._multiplierBySymbol[n]) {
                            var i = e.scatters.indexOf(Number(n)) > -1,
                                o = n.indexOf(Bo.FULL) > 0,
                                r = i || o ? 1 : this._model.selectedWinlinesCount,
                                a = this._model.bet / r;
                            this._multiplierBySymbol[n].updatePaytable(e[n], a)
                        }
                }
            }, {
                key: "_handleBetChange",
                value: function(t, e) {
                    this._model.paytable && this._handlePaytableChange(t, this._model.paytable)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._multiplierBySymbol = null, En.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function rr(t) {
        return (rr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ar(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function sr(t, e) {
        return !e || "object" !== rr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ur(t) {
        return (ur = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function lr(t, e) {
        return (lr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var cr = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = sr(this, ur(e).call(this, t, n)))._layout = i._config.controls.tilesheetLayout, i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && lr(t, e)
            }(e, Rn["a"]),
            function(t, e, n) {
                e && ar(t.prototype, e), n && ar(t, n)
            }(e, [{
                key: "createBack",
                value: function() {
                    var t = this._assets.getSettingsMainControls(),
                        e = this._createFromTilesheet({
                            baseTexture: t,
                            frameWidth: this._layout.button.width
                        }),
                        n = this._createFromTilesheet({
                            baseTexture: t,
                            frameX: this._layout.button.width
                        }),
                        i = this._createButton({
                            up: e,
                            down: n
                        });
                    return i.x = this._layout.margin.left, i.y = this._layout.margin.top, i
                }
            }]), e
    }();

    function hr(t) {
        return (hr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function fr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function _r(t, e) {
        return !e || "object" !== hr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function yr(t) {
        return (yr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function dr(t, e) {
        return (dr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var pr = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = _r(this, yr(e).call(this, {
                model: i,
                config: o,
                assets: r,
                layoutAdjuster: a
            })))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && dr(t, e)
            }(e, Bn["a"]),
            function(t, e, n) {
                e && fr(t.prototype, e), n && fr(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._addComponent({
                            creator: t.createControlsBackground.bind(t)
                        });
                    return this._adjustBackground(e), this._addComponent({
                        creator: t.createBack.bind(t),
                        eventToDispatch: Yi.BACK
                    }), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new cr(this._config, this._assets)
                }
            }]), e
    }();

    function mr(t) {
        return (mr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function vr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function gr(t, e) {
        return !e || "object" !== mr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function br(t) {
        return (br = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Sr(t, e) {
        return (Sr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var wr = function(t) {
        function e(t, n, i) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), gr(this, br(e).call(this, t, n, i))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Sr(t, e)
            }(e, qn["a"]),
            function(t, e, n) {
                e && vr(t.prototype, e), n && vr(t, n)
            }(e, [{
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, pr)
                }
            }, {
                key: "createBetSettings",
                value: function(t) {
                    var e = new vo({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.visible = !1, this._layoutAdjuster.centerAtMain(e), e
                }
            }, {
                key: "createPaytable",
                value: function(t) {
                    var e = new or({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.visible = !1, this._adjustBackgroundToMain(e), e
                }
            }, {
                key: "createGeneralSettings",
                value: function(t) {
                    var e = new Mo({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._layoutAdjuster.centerAtMain(e), e
                }
            }, {
                key: "createHelp",
                value: function(t) {
                    var e = {
                        regular: this._assets.getHelpBackground(),
                        scatter: this._assets.getScatterHelpBackground()
                    };
                    if (this._assets.getUsesFullwidthBackground()) {
                        var n = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e
                        });
                        return this._layoutAdjuster.centerAtMain(n), n.visible = !1, this._adjustBackgroundToMain(n), n
                    }
                    var i = this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    });
                    return i.visible = !1, this._adjustBackgroundToMain(i), i
                }
            }]), e
    }();

    function kr(t) {
        return (kr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Er(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Tr(t, e) {
        return !e || "object" !== kr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Cr(t) {
        return (Cr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Or(t, e) {
        return (Or = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ar = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Tr(this, Cr(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Or(t, e)
                }(e, wn["a"]),
                function(t, e, n) {
                    e && Er(t.prototype, e), n && Er(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t);
                        return e(t.createGlobalBackground, this._addFullscreenRequester), this._createControlsAdder(t)(t.createControls, this._prepareControls), this._paytable = e(t.createPaytable), this._help = e(t.createHelp), this._betSettings = e(t.createBetSettings, this._prepareBetSettings), this._generalSettings = e(t.createGeneralSettings, this._prepareGeneralSettings), this._model.on(Vi.STATUS_CHANGE, this._handleChangeStatus, this), this._model.on(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections, this), this._updateWinlinesSetting(this._model.winlineSelections), this._model.on(Vi.IS_IN_SCATTER_CHANGE, this._handleChangeIsInScatter, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new wr(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareBetSettings",
                    value: function(t) {
                        var e = this;
                        [Yi.CHANGE_BET, Yi.BACK].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_prepareGeneralSettings",
                    value: function(t) {
                        var e = this;
                        [Yi.CHANGE_LANGUAGE_SETTING, Yi.CHANGE_AUDIO_SETTING, Yi.CHANGE_TURBO_SETTING, Yi.CHANGE_GAMBLE_SETTING, Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING, Yi.CHANGE_WINLINES_SETTING, Yi.BET_SETTINGS, Yi.PAYTABLE, Yi.GENERAL_SETTINGS, Yi.HELP].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_prepareControls",
                    value: function(t) {
                        var e = this;
                        [Yi.BACK, Sn.a.REQUEST_FULLSCREEN].forEach(function(n) {
                            e._forwardEvent(t, n)
                        })
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        this._betSettings.visible = e === Gi.BET_SETTINGS, this._paytable.visible = e === Gi.PAYTABLE, this._generalSettings.visible = e === Gi.GENERAL_SETTINGS, this._help.visible = e === Gi.HELP
                    }
                }, {
                    key: "_handleChangeWinlineSelections",
                    value: function(t, e) {
                        this._updateWinlinesSetting(e)
                    }
                }, {
                    key: "_updateWinlinesSetting",
                    value: function(t) {
                        t && t.length > 1 && !this._model.isInScatter ? this.showWinlinesSetting() : this.hideWinlinesSetting()
                    }
                }, {
                    key: "_handleChangeIsInScatter",
                    value: function(t, e) {
                        e ? (this.hideBetSetting(), this.hideWinlinesSetting()) : (this.showBetSetting(), this._model.winlineSelections.length > 1 && this.showWinlinesSetting())
                    }
                }, {
                    key: "disableControls",
                    value: function() {
                        return this._betSettings.disable(), this._generalSettings.disable(), wn.a.prototype.disableControls.call(this)
                    }
                }, {
                    key: "enableControls",
                    value: function() {
                        return this._betSettings.enable(), this._generalSettings.enable(), wn.a.prototype.enableControls.call(this)
                    }
                }, {
                    key: "disableGambleSetting",
                    value: function() {
                        return this._generalSettings.disableGambleSetting(), this
                    }
                }, {
                    key: "enableGambleSetting",
                    value: function() {
                        return this._generalSettings.enableGambleSetting(), this
                    }
                }, {
                    key: "disableTurboSetting",
                    value: function() {
                        return this._generalSettings.disableTurboSetting(), this
                    }
                }, {
                    key: "enableTurboSetting",
                    value: function() {
                        return this._generalSettings.enableTurboSetting(), this
                    }
                }, {
                    key: "hideBetSetting",
                    value: function() {
                        return this._generalSettings.hideBetSetting(), this
                    }
                }, {
                    key: "showBetSetting",
                    value: function() {
                        return this._generalSettings.showBetSetting(), this
                    }
                }, {
                    key: "hideWinlinesSetting",
                    value: function() {
                        return this._generalSettings.hideWinlinesSetting(), this
                    }
                }, {
                    key: "showWinlinesSetting",
                    value: function() {
                        return this._generalSettings.showWinlinesSetting(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._paytable = null, this._help = null, this._betSettings = null, this._generalSettings = null, wn.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Pr = n(19);

    function Ir(t) {
        return (Ir = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function xr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Rr(t, e) {
        return !e || "object" !== Ir(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Wr(t) {
        return (Wr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Nr(t, e) {
        return (Nr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var jr = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.view,
                    r = t.config,
                    a = t.soundPlayer;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Rr(this, Wr(e).call(this, {
                    model: i,
                    view: o,
                    config: r,
                    soundPlayer: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Nr(t, e)
                }(e, cn),
                function(t, e, n) {
                    e && xr(t.prototype, e), n && xr(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._updateSettings(), this._addViewListeners(), this._model.on(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections, this), this
                    }
                }, {
                    key: "_updateSettings",
                    value: function() {
                        this._updateSetting({
                            retriever: Pr.a.retrieveAudioSetting,
                            validSettings: [Bi.FULL, Bi.HALF, Bi.OFF],
                            defaultSetting: this._volumeToSetting(this._soundPlayer.getVolume()),
                            changeHandler: this._handleChangeAudioSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveGambleSetting,
                            validSettings: [Ui.OFF, Ui.ON],
                            defaultSetting: Ui.ON,
                            changeHandler: this._handleChangeGambleSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveTurboSetting,
                            validSettings: [Di.OFF, Di.ON],
                            defaultSetting: Di.OFF,
                            changeHandler: this._handleChangeTurboSetting
                        }), this._updateSetting({
                            retriever: Pr.a.retrieveControlsAlignmentSetting,
                            validSettings: [Fi.LEFT, Fi.RIGHT],
                            defaultSetting: Fi.RIGHT,
                            changeHandler: this._handleChangeControlsAlignmentSetting
                        })
                    }
                }, {
                    key: "_updateSetting",
                    value: function(t) {
                        var e = t.retriever,
                            n = t.validSettings,
                            i = t.defaultSetting,
                            o = t.changeHandler,
                            r = e.call();
                        return r = n.indexOf(r) > -1 ? r : i, o.call(this, r), r
                    }
                }, {
                    key: "_addViewListeners",
                    value: function() {
                        return this._addTabListener(), this._addSettingsChangeListener(), this
                    }
                }, {
                    key: "_addTabListener",
                    value: function() {
                        var t = this;
                        return this._view.on(Yi.BACK, this._createBackHandler(), this), this._view.on(Yi.PAYTABLE, function() {
                            t._model.status = Gi.PAYTABLE
                        }), this._view.on(Yi.BET_SETTINGS, function() {
                            t._model.status = Gi.BET_SETTINGS
                        }), this._view.on(Yi.HELP, function() {
                            t._model.status = Gi.HELP
                        }), this
                    }
                }, {
                    key: "_addSettingsChangeListener",
                    value: function() {
                        return this._view.on(Yi.CHANGE_LANGUAGE_SETTING, this._handleChangeLanguageSetting, this), this._view.on(Yi.CHANGE_AUDIO_SETTING, this._handleChangeAudioSetting, this), this._view.on(Yi.CHANGE_TURBO_SETTING, this._handleChangeTurboSetting, this), this._view.on(Yi.CHANGE_GAMBLE_SETTING, this._handleChangeGambleSetting, this), this._view.on(Yi.CHANGE_CONTROLS_ALIGNMENT_SETTING, this._handleChangeControlsAlignmentSetting, this), this._view.on(Yi.CHANGE_WINLINES_SETTING, this._handleChangeWinlinesSetting, this), this._view.on(Yi.CHANGE_BET, this._handleChangeBetSetting, this), this
                    }
                }, {
                    key: "_volumeToSetting",
                    value: function(t) {
                        return t >= 1 ? Bi.FULL : t > 0 ? Bi.HALF : Bi.OFF
                    }
                }, {
                    key: "_createBackHandler",
                    value: function() {
                        return this._createInteractionHandler({
                            eventToEmit: Yi.BACK,
                            nextStatus: Gi.GENERAL_SETTINGS
                        })
                    }
                }, {
                    key: "_handleChangeLanguageSetting",
                    value: function(t) {
                        this._model.language = t
                    }
                }, {
                    key: "_handleChangeAudioSetting",
                    value: function(t) {
                        this._changeAudio(t), this._updateAudioSettingAtModel(t)
                    }
                }, {
                    key: "_changeAudio",
                    value: function(t) {
                        switch (t) {
                            case Bi.OFF:
                                this._soundPlayer.mute();
                                break;
                            case Bi.HALF:
                                this._soundPlayer.setHalfVolume();
                                break;
                            case Bi.FULL:
                                this._soundPlayer.setFullVolume()
                        }
                        return t
                    }
                }, {
                    key: "_updateAudioSettingAtModel",
                    value: function(t) {
                        return this._model.audio = t, Pr.a.storeAudioSetting(t), t
                    }
                }, {
                    key: "_handleChangeTurboSetting",
                    value: function(t) {
                        return this._model.turbo = t, Pr.a.storeTurboSetting(t), t
                    }
                }, {
                    key: "_handleChangeGambleSetting",
                    value: function(t) {
                        return this._model.gamble = t, Pr.a.storeGambleSetting(t), t
                    }
                }, {
                    key: "_handleChangeControlsAlignmentSetting",
                    value: function(t) {
                        return this._model.controlsAlignment = t, Pr.a.storeControlsAlignmentSetting(t), t
                    }
                }, {
                    key: "_handleChangeWinlinesSetting",
                    value: function(t) {
                        return this._model.winlines = t, t
                    }
                }, {
                    key: "_handleChangeBetSetting",
                    value: function(t) {
                        return this._soundPlayer.playRisk(), this._model.bet = t, this
                    }
                }, {
                    key: "_handleChangeWinlineSelections",
                    value: function(t, e) {
                        this._config.useSelectableWinlines || (this._model.off(Vi.WINLINE_SELECTIONS_CHANGE, this._handleChangeWinlineSelections), this._model.winlineSelections = e.slice(0, 1));
                        var n = this._model.winlineSelections.indexOf(this._model.selectedWinlinesCount) > 0;
                        this._model.winlines = n ? Ki.HIGH_COUNT : Ki.LOW_COUNT
                    }
                }, {
                    key: "update",
                    value: function() {}
                }, {
                    key: "updateGambleSetting",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            enabled: !0
                        }).enabled;
                        return t ? this._view.enableGambleSetting() : (this._handleChangeGambleSetting(Ui.OFF), this._view.disableGambleSetting()), t
                    }
                }, {
                    key: "updateTurboSetting",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            enabled: !0
                        }).enabled;
                        return t ? this._view.enableTurboSetting() : (this._handleChangeTurboSetting(Di.OFF), this._view.disableTurboSetting()), t
                    }
                }, {
                    key: "changeToBetSettings",
                    value: function() {
                        this._model.status = Gi.BET_SETTINGS
                    }
                }]), e
        }(),
        Lr = n(20);

    function Gr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Mr = function() {
        function t(e, n, i, o) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._soundPlayerWorkshop = o, this._layoutAdjuster = i, this.SlotModelImplementation = _, this.SlotViewImplementation = y.a, this.SlotControllerImplementation = vn, this.GambleModelImplementation = bn, this.GambleViewImplementation = oi, this.GambleControllerImplementation = hi, this.AgModelImplementation = fi, this.AgViewImplementation = mi, this.AgControllerImplementation = vi, this.PreloadModelImplementation = gi, this.PreloadViewImplementation = Ri, this.PreloadControllerImplementation = Mi, this.SettingsModelImplementation = qi, this.SettingsControllerImplementation = jr, this.SettingsViewImplementation = Ar, this._init()
        }
        return function(t, e, n) {
            e && Gr(t.prototype, e), n && Gr(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                return this._soundPlayer = this._soundPlayerWorkshop.create(), this
            }
        }, {
            key: "_createMode",
            value: function(t) {
                var e = t.Model,
                    n = t.View,
                    i = t.Controller,
                    o = t.config,
                    r = t.type,
                    a = new e,
                    s = new n({
                        model: a,
                        config: o,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    }),
                    u = new i({
                        model: a,
                        view: s,
                        config: o,
                        soundPlayer: this._soundPlayer
                    });
                return new l({
                    model: a,
                    view: s,
                    controller: u,
                    type: r
                })
            }
        }, {
            key: "createSlot",
            value: function() {
                return this._createMode({
                    Model: this.SlotModelImplementation,
                    View: this.SlotViewImplementation,
                    Controller: this.SlotControllerImplementation,
                    config: this._config.slot,
                    type: Lr.a.SLOT
                })
            }
        }, {
            key: "createGamble",
            value: function() {
                return this._createMode({
                    Model: this.GambleModelImplementation,
                    View: this.GambleViewImplementation,
                    Controller: this.GambleControllerImplementation,
                    config: this._config.gamble,
                    type: Lr.a.GAMBLE
                })
            }
        }, {
            key: "createAg",
            value: function() {
                return this._createMode({
                    Model: this.AgModelImplementation,
                    View: this.AgViewImplementation,
                    Controller: this.AgControllerImplementation,
                    config: this._config.ag,
                    type: Lr.a.AG
                })
            }
        }, {
            key: "createPreload",
            value: function() {
                return this._createMode({
                    Model: this.PreloadModelImplementation,
                    View: this.PreloadViewImplementation,
                    Controller: this.PreloadControllerImplementation,
                    config: this._config.preload,
                    type: Lr.a.PRELOAD
                })
            }
        }, {
            key: "createSettings",
            value: function() {
                return this._createMode({
                    Model: this.SettingsModelImplementation,
                    View: this.SettingsViewImplementation,
                    Controller: this.SettingsControllerImplementation,
                    config: this._config.settings,
                    type: Lr.a.SETTINGS
                })
            }
        }]), t
    }();

    function Br(t) {
        return (Br = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Fr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Hr(t, e) {
        return !e || "object" !== Br(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Dr(t) {
        return (Dr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Kr(t, e) {
        return (Kr = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ur = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Hr(this, Dr(e).call(this)))._remoteInterface = t, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Kr(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && Fr(t.prototype, e), n && Fr(t, n)
                }(e, [{
                    key: "connect",
                    value: function() {}
                }, {
                    key: "spin",
                    value: function() {}
                }]), e
        }(),
        Yr = {
            CONNECT: "serverEvent.connect",
            CONNECT_ERROR: "serverEvent.connectError",
            SPIN: "serverEvent.spin",
            SPIN_ERROR: "serverEvent.spinError",
            GET_GAMBLE_INFO: "serverEvent.getGambleInfo",
            GET_GAMBLE_INFO_ERROR: "serverEvent.getGambleInfoError",
            GAMBLE: "serverEvent.gamble",
            GAMBLE_ERROR: "serverEvent.gambleError",
            TAKE: "serverEvent.take",
            TAKE_ERROR: "serverEvent.takeError",
            CLOSE: "serverEvent.close",
            WAITING: "serverEvent.waiting",
            POTS_UPDATE: "serverEvent.potsUpdate",
            POTS_HIT: "serverEvent.potsHit",
            GET_JACKPOT_CONFIG: "serverEvent.getJackpotConfig",
            GET_JACKPOT_CONFIG_ERROR: "serverEvent.getJackpotConfigError",
            GET_CREDITS: "serverEvent.getCredits",
            GET_CREDITS_ERROR: "serverEvent.getCreditsError"
        };

    function qr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Vr = function() {
        function t() {
            var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                usePreparedResults: !0
            }).usePreparedResults;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._usePreparedResults = e, this._availableWinlines = [
                [{
                    x: 1,
                    y: 1
                }, {
                    x: 2,
                    y: 1
                }, {
                    x: 3,
                    y: 1
                }, {
                    x: 4,
                    y: 1
                }, {
                    x: 5,
                    y: 1
                }],
                [{
                    x: 1,
                    y: 2
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 2
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 2
                }],
                [{
                    x: 1,
                    y: 3
                }, {
                    x: 2,
                    y: 3
                }, {
                    x: 3,
                    y: 3
                }, {
                    x: 4,
                    y: 3
                }, {
                    x: 5,
                    y: 3
                }],
                [{
                    x: 1,
                    y: 1
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 3
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 1
                }],
                [{
                    x: 1,
                    y: 3
                }, {
                    x: 2,
                    y: 2
                }, {
                    x: 3,
                    y: 1
                }, {
                    x: 4,
                    y: 2
                }, {
                    x: 5,
                    y: 3
                }]
            ], this._cardHistory = [], this.DummyResultsImplementation = null
        }
        return function(t, e, n) {
            e && qr(t.prototype, e), n && qr(t, n)
        }(t, [{
            key: "generateConnectResponse",
            value: function() {
                return {
                    reels: this._generateRandomReels(),
                    winlineWins: []
                }
            }
        }, {
            key: "_generateRandomReels",
            value: function() {
                for (var t = [], e = 0; e < 5; e++) t.push({
                    symbols: this._generateRandomSymbols(e)
                });
                return t
            }
        }, {
            key: "_generateRandomSymbols",
            value: function(t) {
                for (var e = [], n = 7 + 3 * t, i = 0; i < n; i++) {
                    var o = Math.ceil(8 * Math.random()).toString();
                    e.push({
                        id: o
                    })
                }
                return e
            }
        }, {
            key: "getWinlinePositions",
            value: function() {
                return this.DummyResultsImplementation ? this.DummyResultsImplementation.winlinePositions : (console.log("Warning: No concrete dummy results implementation found, using default winlines"), this._availableWinlines)
            }
        }, {
            key: "generateSpinResponse",
            value: function() {
                if (this.DummyResultsImplementation && this._usePreparedResults) {
                    var t = this.DummyResultsImplementation.next();
                    return {
                        special: t.special,
                        reels: t.reels,
                        winlineWins: t.winlineWins,
                        scatterWin: t.scatterWin
                    }
                }
                if (!this.DummyResultsImplementation && this._usePreparedResults) throw Error("DummyResultsImplementation missing!");
                return {
                    reels: this._generateRandomReels(),
                    winlineWins: [this._generateSpinWin()],
                    scatterWin: {}
                }
            }
        }, {
            key: "_generateSpinWin",
            value: function() {
                var t = Math.floor(Math.random() * this._availableWinlines.length);
                return {
                    credits: 10,
                    actionGames: 0,
                    positions: this._availableWinlines[t]
                }
            }
        }, {
            key: "generateCardHistoryResponse",
            value: function() {
                if ((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        next: !1
                    }).next) {
                    var t = this._cardHistory.length % 4;
                    this._cardHistory.push(t)
                }
                return {
                    cardHistory: this._cardHistory.slice(-6)
                }
            }
        }]), t
    }();

    function Xr(t) {
        return (Xr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function zr(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Qr(t, e) {
        return !e || "object" !== Xr(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Jr(t) {
        return (Jr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $r(t, e) {
        return ($r = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Zr = function(t) {
            function e(t) {
                var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        latenzy: 0,
                        fuzz: 0
                    },
                    o = i.latency,
                    r = i.fuzz;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Qr(this, Jr(e).call(this)))._gameId = t, n._latency = o || 0, n._fuzz = r || 0, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && $r(t, e)
                }(e, Ur),
                function(t, e, n) {
                    e && zr(t.prototype, e), n && zr(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._credits = 1e5, this._bet = 100, this._winnings = 0, this._responseGenerator = this._createResponseGenerator(), this
                    }
                }, {
                    key: "_createResponseGenerator",
                    value: function() {
                        return new Vr
                    }
                }, {
                    key: "connect",
                    value: function() {
                        this._emitServerResponse(this._emitConnect)
                    }
                }, {
                    key: "_emitServerResponse",
                    value: function(t) {
                        var e = this;
                        if (this._latency) {
                            var n = this._latency + Math.floor(Math.random() * this._fuzz);
                            console.log("DummyServer latency ".concat(n)), setTimeout(function() {
                                t.call(e)
                            }, n)
                        } else t.call(this)
                    }
                }, {
                    key: "_emitConnect",
                    value: function() {
                        var t = this._responseGenerator.generateConnectResponse(),
                            e = this._responseGenerator.getWinlinePositions();
                        t.setup = {
                            availableWinlines: e
                        }, t.credits = this._credits, t.bet = this._bet, t.betSteps = [100, 200, 300, 500, 1e3, 1500], this.emit(Yr.CONNECT, t)
                    }
                }, {
                    key: "spin",
                    value: function(t) {
                        this._credits -= t || this._bet, this._emitServerResponse(this._emitSpin)
                    }
                }, {
                    key: "_emitSpin",
                    value: function() {
                        var t = this,
                            e = this._responseGenerator.generateSpinResponse();
                        e.winlineWins && e.winlineWins.forEach(function(e) {
                            t._winnings += e.credits || 0
                        }), e.scatterWin && (this._winnings += e.scatterWin.credits || 0), e.credits = this._credits, this.emit(Yr.SPIN, e)
                    }
                }, {
                    key: "getGambleInfo",
                    value: function() {
                        this._emitServerResponse(this._emitGetGambleInfo)
                    }
                }, {
                    key: "_emitGetGambleInfo",
                    value: function() {
                        var t = this._responseGenerator.generateCardHistoryResponse();
                        t = this._updateGambleCredits(t), this.emit(Yr.GET_GAMBLE_INFO, t)
                    }
                }, {
                    key: "_updateGambleCredits",
                    value: function(t) {
                        return t.stake = this._winnings, t.chance = 2 * this._winnings, t.credits = this._credits, t.win = this._winnings, t
                    }
                }, {
                    key: "take",
                    value: function() {
                        this._emitServerResponse(this._emitTake)
                    }
                }, {
                    key: "_emitTake",
                    value: function() {
                        this._credits += this._winnings, this._winnings = 0;
                        var t = {
                            credits: this._credits
                        };
                        this.emit(Yr.TAKE, t)
                    }
                }, {
                    key: "gamble",
                    value: function(t, e) {
                        var n = this;
                        this._emitServerResponse(function() {
                            n._emitGamble(t, e)
                        })
                    }
                }, {
                    key: "_emitGamble",
                    value: function(t, e) {
                        var n = this._responseGenerator.generateCardHistoryResponse({
                                next: !0
                            }),
                            i = t % 2 == n.cardHistory.slice(-1) % 2;
                        this._winnings = i ? this._winnings + e : 0, n = this._updateGambleCredits(n), this.emit(Yr.GAMBLE, n)
                    }
                }, {
                    key: "logout",
                    value: function() {
                        console.log("Dummy logout triggered")
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        console.log("Dummy destroy triggered")
                    }
                }]), e
        }(),
        ta = {
            LOGIN: "LOGIN",
            LOGOUT: "LOGOUT",
            SELGAME: "SELGAME",
            QUITGAME: "QUITGAME",
            CHECK: "CHECK",
            QRY_CHECK: "QRY_CHECK",
            GA_RESYNC: "GA_RESYNC",
            GA_SPIN: "GA_SPIN",
            GA_TAKE: "GA_TAKE",
            GA_GAMBLE: "GA_GAMBLE",
            GA_TRUECRED: "GA_TRUECRED",
            GETJPCFG: "GETJPCFG",
            QRY_OPSITJP: "QRY_OPSITJP"
        },
        ea = {
            RED: "1",
            BLACK: "2",
            HEARTS: "6",
            DIAMONDS: "7",
            SPADES: "8",
            CLUBS: "9",
            ACE_OF_HEARTS: "30",
            ACE_OF_DIAMONDS: "46",
            ACE_OF_SPADES: "62",
            ACE_OF_CLUBS: "78"
        },
        na = {
            TO: {
                0: ea.ACE_OF_SPADES,
                1: ea.ACE_OF_HEARTS,
                2: ea.ACE_OF_CLUBS,
                3: ea.ACE_OF_DIAMONDS
            },
            TO_COLORS: {
                0: ea.BLACK,
                1: ea.RED,
                2: ea.BLACK,
                3: ea.RED
            },
            TO_SUITS: {
                0: ea.SPADES,
                1: ea.HEARTS,
                2: ea.CLUBS,
                3: ea.DIAMONDS
            },
            FROM: {
                0: null,
                62: "0",
                30: "1",
                78: "2",
                46: "3"
            }
        },
        ia = {
            OK: "OK",
            ERR: "ERR"
        },
        oa = n(14),
        ra = {
            LOGIN_OK: "loginOK",
            LOGIN_ERROR: "loginError",
            SELECT_GAME_OK: "selectGameOK",
            SELECT_GAME_ERROR: "selectGameError",
            SPIN_OK: "spinOK",
            SPIN_ERROR: "spinError",
            TAKE_OK: "takeOK",
            TAKE_ERROR: "takeError",
            LOGOUT_OK: "logoutOK",
            LOGOUT_ERROR: "logoutError",
            GAMBLE_OK: "gambleOK",
            GAMBLE_ERROR: "gambleError",
            RECONNECT_OK: "reconnectOK",
            RECONNECT_ERROR: "reconnectError",
            RESYNC_OK: "resyncOK",
            RESYNC_ERROR: "resyncError",
            GET_JACKPOT_CONFIG_OK: "getJackpotConfigOK",
            GET_JACKPOT_CONFIG_ERROR: "getJackpotConfigError",
            GET_CREDITS_OK: "getCreditsOK",
            GET_CREDITS_ERROR: "getCreditsError"
        },
        aa = {
            GAME_DONE: 0,
            WAIT_FOR_TAKE: 1,
            WAIT_FOR_GAMBLE_OR_TAKE: 2,
            GAMBLING: 3,
            GAMBLING_DONE: 4
        },
        sa = {
            STICKY: 1,
            RESERVE: 2,
            X1: 4,
            X2: 8,
            X3: 12,
            WIN: 16,
            QUERY: 32,
            INACTIVE: 64,
            HIGH_WIN: 128
        },
        ua = {
            MULTI_WINLINE: 101,
            DEVILS_BRIDE: 7,
            WIZARD: 6,
            ELVIS: 3,
            PHARAO: 1
        };

    function la(t, e) {
        return function(t) {
            if (Array.isArray(t)) return t
        }(t) || function(t, e) {
            var n = [],
                i = !0,
                o = !1,
                r = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
            } catch (t) {
                o = !0, r = t
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function ca(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ha = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._gtypeMap = e
        }
        return function(t, e, n) {
            e && ca(t.prototype, e), n && ca(t, n)
        }(t, [{
            key: "fromSelGameResponse",
            value: function(t) {
                var e = {};
                this._addWinlinesSetup(e, t), this._addBet(e, t), this._addBetSteps(e, t), this._addActiveWinlinesCount(e, t), this._addCredits(e, t), this._addPaytableSetup(e, t), this._addSelgameSymbols(e, t), this._addGameType(e, t), this._addAction(e, t), this._addWinBonus(e, t), this._addScatterGames(e, t, 1), this._addScatterWin(e, t);
                var n = this._extractAvailableWinlines(t, e.setup.availableWinlinesContainer);
                return this._addWinlineWins(e, t, n.length), this._addGambleHistory(e, t), this._addGambleInfo(e, t), this._addSpecialWin(e, t, n), this._addStickySymbols(e, t), this._addSpecialSymbol(e, t), e
            }
        }, {
            key: "_addWinlinesSetup",
            value: function(t, e) {
                var n = this;
                return t.setup = t.setup || {}, t.setup.availableWinlinesContainer = t.setup.availableWinlinesContainer || {}, e.gtypes.forEach(function(e) {
                    n._processGtype(t, e)
                }), t
            }
        }, {
            key: "_processGtype",
            value: function(t, e) {
                this._getGameType(e.gtype) === h.a.REGULAR && (t.winlineSelections = e.multiwl ? e.multiwl.map(function(t) {
                    return t[Object.keys(t)[0]] || []
                }).map(function(t) {
                    return t.length
                }).sort(function(t, e) {
                    return t - e
                }) : []), this._addWinlinesFromGtype(t.setup.availableWinlinesContainer, e)
            }
        }, {
            key: "_getGameType",
            value: function(t) {
                return this._isScatterGame(t) ? h.a.SCATTER : h.a.REGULAR
            }
        }, {
            key: "_isScatterGame",
            value: function(t) {
                return !(!this._gtypeMap || !this._gtypeMap.scatter) && this._gtypeMap.scatter.indexOf(t) > -1
            }
        }, {
            key: "_addWinlinesFromGtype",
            value: function(t, e) {
                var n = this,
                    i = this._getGameType(e.gtype),
                    o = e.eval_wlines || e.wlines;
                !t[i] && o && (t[i] = o.map(function(t) {
                    return n._mapWinline(t)
                }))
            }
        }, {
            key: "_mapWinline",
            value: function(t) {
                return t.pos.map(function(t, e) {
                    return {
                        x: e + 1,
                        y: t
                    }
                })
            }
        }, {
            key: "_addSelgameSymbols",
            value: function(t, e) {
                var n = this,
                    i = e.scr.map(function(t, i) {
                        t.reverse();
                        var o = [e.prevsym[i]].concat(t, e.nextsym[i]).reverse();
                        return {
                            symbols: n._fromPlainSymbolIds(o, e.specsym, e.action)
                        }
                    });
                return t.reels = e.specsym ? this._mapSpecialTransform(e, i) : i, t
            }
        }, {
            key: "_mapSpecialTransform",
            value: function(t, e) {
                var n = this._calculateSpecialCount(e),
                    i = this._calculateRequiredSymbolCount(t, t.specsym);
                return i && n >= i && e.forEach(function(t) {
                    t.symbols = t.symbols.map(function(t) {
                        return t.id = t.specialTransformTo || t.id, t
                    })
                }), e
            }
        }, {
            key: "_calculateSpecialCount",
            value: function(t) {
                return t.reduce(function(t, e) {
                    var n = t;
                    return e.symbols.forEach(function(t) {
                        t.isSpecial && (n += 1)
                    }), n
                }, 0)
            }
        }, {
            key: "_calculateRequiredSymbolCount",
            value: function(t, e) {
                var n = t.gtypes.filter(function(e) {
                        return e.gtype === t.gtype
                    }),
                    i = n.length ? n[0] : {};
                i.paysyms = i.paysyms || t.gtypes[0].paysyms;
                for (var o = i.paysyms.filter(function(t) {
                        return t.sym === e
                    }), r = o.length ? o[0] : {}, a = 1; a <= t.reels; a += 1)
                    if (r["m_".concat(a)]) return a;
                return 0
            }
        }, {
            key: "_addBet",
            value: function(t, e) {
                return t.bet = Number(e.curbet), t
            }
        }, {
            key: "_addBetSteps",
            value: function(t, e) {
                return t.betSteps = e.allowedbets.map(function(t) {
                    return Number(t)
                }), t
            }
        }, {
            key: "_addActiveWinlinesCount",
            value: function(t, e) {
                return t.selectedWinlinesCount = Number(e.curlines), t
            }
        }, {
            key: "_addCredits",
            value: function(t, e) {
                return t.credits = Number(e.credit.tot), t
            }
        }, {
            key: "_fromPlainSymbolIds",
            value: function(t) {
                var e, n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                return t.map(function(r, a) {
                    var s = {
                            id: String(r)
                        },
                        u = Boolean(n._gtypeMap && s.id === String(n._gtypeMap.scatterTrigger)),
                        l = Boolean(u && o && o.aesyms),
                        c = s.id === String(i);
                    return n._isVisibleSymbol(t, a) && (l && (s.isQuery = l), c && (s.isSpecial = c, e = !0)), s
                }).map(function(o, r) {
                    return e && !o.isSpecial && n._isVisibleSymbol(t, r) && (o.specialTransformTo = String(i)), o
                })
            }
        }, {
            key: "_isVisibleSymbol",
            value: function(t, e) {
                return e > 0 && e < t.length - 1
            }
        }, {
            key: "_extractAvailableWinlines",
            value: function(t, e) {
                return e[this._getGameType(t.gtype)] || e[h.a.REGULAR] || []
            }
        }, {
            key: "fromSpinResponse",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = {};
                this._addSpinSymbols(n, t), this._addScatterWin(n, t);
                var i = this._extractAvailableWinlines(t, e);
                return this._addWinlineWins(n, t, i.length), this._addCredits(n, t), this._addSpecialWin(n, t, i), this._addStickySymbols(n, t), this._addSpecialSymbol(n, t), this._addGamblePermissions(n, t), this._addGameType(n, t), this._addAction(n, t), this._addWinBonus(n, t), this._addScatterGames(n, t), n
            }
        }, {
            key: "_addSpinSymbols",
            value: function(t, e) {
                var n = this,
                    i = !1;
                return t.reels = e.reels.map(function(t, o) {
                    var r = t.syms.concat(e.nextsym[o]).reverse();
                    r.pop();
                    var a = {
                        symbols: n._fromPlainSymbolIds(r, e.specsym, e.action),
                        shouldSlowDownNext: Boolean(t.slowafter) && 12 !== t.slowafter,
                        hasEnterSound: Boolean(t.scatsnd),
                        willSlowDown: i
                    };
                    return i = Boolean(t.slowafter), a
                }), t
            }
        }, {
            key: "_addScatterWin",
            value: function(t, e) {
                return e.scatwin && (t.scatterWin = this._toScatterWin(e.scatwin[0]), this._addScreenFlags([t.scatterWin], e)), t
            }
        }, {
            key: "_toScatterWin",
            value: function(t) {
                var e = [];
                return t.spos.forEach(function(t) {
                    var n = la(t, 2),
                        i = n[0],
                        o = n[1];
                    e.push({
                        x: i + 1,
                        y: o + 1
                    })
                }), {
                    credits: Number(t.win),
                    positions: e
                }
            }
        }, {
            key: "_addWinlineWins",
            value: function(t, e, n) {
                var i = e.winlines || e.scatwin || e.specwins,
                    o = e.win && !i;
                return e.winlines ? t.winlineWins = this._toWinlineWins(e.winlines, n) : o && e.scrflaft && (t.winlineWins = this._toFullScreenWin(e, n)), t.winlineWins && this._addScreenFlags(t.winlineWins, e), t
            }
        }, {
            key: "_toWinlineWins",
            value: function(t, e) {
                for (var n = []; n.length < e;) n.push({});
                return t.forEach(function(t) {
                    var e = t.pos.map(function(t, e) {
                        return {
                            x: e + 1,
                            y: t
                        }
                    }).filter(function(t) {
                        return t.y
                    });
                    n[t.n] = {
                        credits: Number(t.win),
                        positions: e
                    }
                }), n
            }
        }, {
            key: "_toFullScreenWin",
            value: function(t, e) {
                for (var n = []; n.length < e;) n.push({});
                var i = [];
                return t.scrflaft.forEach(function(t, e) {
                    t.forEach(function(t, n) {
                        sa.WIN & t && i.push({
                            x: e + 1,
                            y: n + 1
                        })
                    })
                }), n.push({
                    positions: i,
                    credits: t.win
                }), n
            }
        }, {
            key: "_addScreenFlags",
            value: function(t, e) {
                var n = this;
                return t.filter(function(t) {
                    return Boolean(t.positions)
                }).forEach(function(t) {
                    t.positions = t.positions.map(function(t) {
                        var i = t.x - 1,
                            o = t.y - 1,
                            r = n._fromScreenFlags(e.scrflaft, i, o),
                            a = n._fromScreenFlags(e.scrflbef, i, o);
                        return t.flags = n._toFlags(r, a), t
                    })
                }), t
            }
        }, {
            key: "_fromScreenFlags",
            value: function(t, e, n) {
                return t && t.length > e && t[e].length > n ? t[e][n] : 0
            }
        }, {
            key: "_toFlags",
            value: function(t, e) {
                var n = {};
                return (sa.STICKY & t || sa.STICKY & e) && (n.sticky = !0), sa.X1 & t && sa.X2 & ~t && (n.x1 = !0), sa.X2 & t && sa.X1 & ~t && (n.x2 = !0), sa.X1 & t && sa.X2 & t && (n.x3 = !0), sa.QUERY & t && (n.query = !0), sa.INACTIVE & t && (n.inActive = !0), sa.HIGH_WIN & t && (n.highWin = !0), n
            }
        }, {
            key: "_addSpecialWin",
            value: function(t, e) {
                var n = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
                return e.specwins && e.specwins.forEach(function(o) {
                    o.type === ua.MULTI_WINLINE && o.wlmulti && n._addSpecialMultiWinlineWin(t, o), o.type === ua.ELVIS && o.exchg && n._addSymbolTransform(t, o), o.type === ua.DEVILS_BRIDE && o.move && n._addSpecialAfterSpin(t, o), o.type === ua.WIZARD && o.reelpos && (n._addSpecialWinPositions(t, o), n._addSpecialWinWinlines(t, e, i)), o.type === ua.PHARAO && o.reelpos && (n._addSpecialWinPositions(t, o), n._addSpecialWinWinlines(t, e, i))
                }), t
            }
        }, {
            key: "_addSpecialMultiWinlineWin",
            value: function(t, e) {
                return t.special = t.special || {}, t.special.multiplier = e.wlmulti[0].multi, t
            }
        }, {
            key: "_addSymbolTransform",
            value: function(t, e) {
                return e.exchg.forEach(function(e) {
                    t.reels[e.r - 1].symbols[e.v].transformToId = String(e.sym)
                }), t
            }
        }, {
            key: "_addSpecialAfterSpin",
            value: function(t, e) {
                var n = this;
                return e.move.forEach(function(e) {
                    t.reels[e.r - 1].afterSpin = n._toAfterSpin(e)
                }), t
            }
        }, {
            key: "_addSpecialWinPositions",
            value: function(t, e) {
                return t.special = t.special || {}, t.special.positions = e.reelpos.map(function(t, e) {
                    return {
                        x: e + 1,
                        y: t
                    }
                }).filter(function(t) {
                    return t.y
                }), t
            }
        }, {
            key: "_addSpecialWinWinlines",
            value: function(t, e, n) {
                if (t.special && t.special.positions) {
                    var i = this._calculateSpecialWinTotal(e),
                        o = t.special.positions.map(function(t) {
                            return t.x
                        });
                    t.special.winlineWins = n.map(function(t, e) {
                        return {
                            positions: t.filter(function(t) {
                                return o.indexOf(t.x) > -1
                            }).map(function(t) {
                                return {
                                    x: t.x,
                                    y: t.y,
                                    isSpecial: !0
                                }
                            }),
                            credits: Math.floor(i / n.length)
                        }
                    })
                }
                return t
            }
        }, {
            key: "_calculateSpecialWinTotal",
            value: function(t) {
                var e = Number(t.win);
                return t.winlines && t.winlines.forEach(function(t) {
                    e -= Number(t.win)
                }), t.scatwin && t.scatwin.forEach(function(t) {
                    e -= Number(t.win)
                }), e
            }
        }, {
            key: "_toAfterSpin",
            value: function(t) {
                var e = (t.speed < 0 ? -1 : 1) * t.syms.length;
                return {
                    distance: e,
                    symbols: (e > 1 ? [t.syms[t.syms.length - 1]] : []).map(function(t) {
                        return {
                            id: String(t)
                        }
                    })
                }
            }
        }, {
            key: "_addStickySymbols",
            value: function(t, e) {
                this._addStickyIds(t.reels, e.specwins), this._addNewStickyFlag(t.reels, e.scrflbef, e.scrflaft);
                var n = e.scrflaft || e.scrfl;
                return t.stickySymbols = this._toStickySymbols(t.reels, n), t
            }
        }, {
            key: "_addStickyIds",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return e.filter(function(t) {
                    return Boolean(t.animsticky)
                }).forEach(function(e) {
                    e.animsticky.forEach(function(e) {
                        t[e.r - 1].symbols[e.v].stickyId = String(e.animsym)
                    })
                }), e.filter(function(t) {
                    return Boolean(t.exchg)
                }).forEach(function(e) {
                    e.exchg.filter(function(e) {
                        var n = t[e.r - 1].symbols[e.v];
                        return !Boolean(n.stickyId)
                    }).forEach(function(e) {
                        t[e.r - 1].symbols[e.v].stickyId = String(e.sym)
                    })
                }), t
            }
        }, {
            key: "_addNewStickyFlag",
            value: function(t, e, n) {
                return e && n ? (e.forEach(function(e, i) {
                    e.forEach(function(e, o) {
                        var r = Boolean(sa.STICKY & e),
                            a = Boolean(sa.STICKY & n[i][o]),
                            s = t[i].symbols[o + 1];
                        !r && a && (s.isNewSticky = !0)
                    })
                }), t) : t
            }
        }, {
            key: "_toStickySymbols",
            value: function(t) {
                var e = [];
                return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).forEach(function(n, i) {
                    n.forEach(function(n, o) {
                        if (sa.STICKY & n) {
                            var r = t[i].symbols[o + 1],
                                a = r.stickyId || r.id;
                            e.push({
                                x: i + 1,
                                y: o + 1,
                                id: a
                            })
                        }
                    })
                }), e
            }
        }, {
            key: "_addSpecialSymbol",
            value: function(t, e) {
                var n = e.action ? e.action.sel : "";
                return t.specialSymbolId = String(n || e.specsym || ""), t
            }
        }, {
            key: "_addGamblePermissions",
            value: function(t, e) {
                return t.mayGamble = e.state === aa.WAIT_FOR_GAMBLE_OR_TAKE, t
            }
        }, {
            key: "fromTakeResponse",
            value: function(t) {
                var e = {};
                return this._addCredits(e, t), this._addGameType(e, t), this._addScatterGames(e, t), this._addSpecialSymbol(e, t), e
            }
        }, {
            key: "fromError",
            value: function(t) {
                return {
                    code: t.errcode,
                    subCode: t.subcode,
                    message: t.usermsg || t.msg,
                    isCritical: t.status === ia.ERR
                }
            }
        }, {
            key: "fromGambleResponse",
            value: function(t) {
                var e = {};
                return this._addGambleHistory(e, t), this._addGambleInfo(e, t), this._addCredits(e, t), this._addGameType(e, t), this._addScatterGames(e, t), this._addWinBonus(e, t), e
            }
        }, {
            key: "_addGambleHistory",
            value: function(t, e) {
                return e.gmblhist && (t.cardHistory = this._fromGambleHistory(e.gmblhist)), t
            }
        }, {
            key: "_fromGambleHistory",
            value: function(t) {
                var e = [];
                return t.forEach(function(t) {
                    var n = na.FROM[t];
                    n && e.push(Number(n))
                }), e.reverse()
            }
        }, {
            key: "_addGambleInfo",
            value: function(t, e) {
                if (void 0 !== e.win) {
                    var n = e.state === aa.GAMBLING_DONE ? 0 : 2;
                    t.stake = Number(e.gmblamount || e.win), t.chance = Number(e.gmblamount || e.win) * n, t.win = Number(e.win)
                }
                return t
            }
        }, {
            key: "_addPaytableSetup",
            value: function(t, e) {
                var n = this;
                t.paytable = {};
                var i = e.reels;
                return e.gtypes.forEach(function(e) {
                    1 === e.gtype && (n._addPaytableFromGtype(t, e, i), n._addScatterPaytableFromGtype(t, e, i))
                }), t
            }
        }, {
            key: "_addGameType",
            value: function(t, e) {
                var n = this._isScatterGame(e.gtype);
                t.gameType = n ? h.a.SCATTER : h.a.REGULAR;
                var i = this._isScatterGame(e.gtypeaft) ? h.a.SCATTER : h.a.REGULAR;
                return t.nextGameType = e.gtypeaft ? i : t.gameType, t
            }
        }, {
            key: "_addAction",
            value: function(t, e) {
                if (e.action && e.action.asym) {
                    var n = e.action.aesyms || [];
                    t.scatterSelection = [e.action.asym].concat(n), t.maxSelectableScatterCount = Number(e.action.dat1)
                }
                return t
            }
        }, {
            key: "_addWinBonus",
            value: function(t, e) {
                t.scatterGameWinBonus = this._fromBonusSection(e);
                var n = e.aftertake || e.beforewins;
                return t.bonusTriggerId = n ? String(n.addon_sym) : "", t.bonusType = this._toBonusType(e), t
            }
        }, {
            key: "_fromBonusSection",
            value: function(t) {
                var e = t.aftertake || t.beforewins;
                if (e) {
                    var n = Number(e.addon_inscatwinto) - Number(t.inscatwin) - (t.aftertake ? Number(t.win) : 0);
                    if (n > 0) return n
                }
                return 0
            }
        }, {
            key: "_toBonusType",
            value: function(t) {
                return t.aftertake ? c.a.BEFORE_READY : t.beforewins && !t.win ? c.a.BEFORE_READY : t.beforewins ? c.a.BEFORE_WINLINE_WALK : c.a.NONE
            }
        }, {
            key: "_addScatterGames",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = e.plsg || 0,
                    o = (e.totsg || 0) + (e.sgwin || 0),
                    r = o ? i + n : 0,
                    a = e.inscatwin || e.win || 0;
                t.scatterGames = {
                    current: r,
                    total: o,
                    win: a
                }
            }
        }, {
            key: "_addPaytableFromGtype",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5;
                if (!e.paysyms) return t;
                var i = Number(e.paysym_m_div) || 1;
                return e.paysyms.forEach(function(e) {
                    for (var o = [], r = 1; r <= n; r += 1) {
                        var a = Number(e["m_".concat(r)]) || 0;
                        o.push(a / i)
                    }
                    e.full && (t.paytable["".concat(e.sym).concat(Bo.FULL)] = [Number(e.full) / i]), t.paytable[e.sym] = o
                }), t
            }
        }, {
            key: "_addScatterPaytableFromGtype",
            value: function(t, e) {
                var n = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5;
                return t.paytable.scatters = [], e.scatters ? (e.scatters.forEach(function(e) {
                    for (var o = t.paytable[e.sym] || n._createEmptyPaytableEntries(i), r = Number(e.m_div) || 1, a = Number(e.ntill) || o.length, s = t.paytable["".concat(e.sym, ":scatterGames")] || n._createEmptyPaytableEntries(i), u = e.nfrom; u <= a; u += 1) o[u - 1] = o[u - 1] || Number(e.m) / r, s[u - 1] = Number(e.sg);
                    t.paytable[e.sym] = o, t.paytable["".concat(e.sym, ":scatterGames")] = s, t.paytable.scatters.indexOf(e.sym) < 0 && t.paytable.scatters.push(e.sym)
                }), t) : t
            }
        }, {
            key: "_createEmptyPaytableEntries",
            value: function() {
                for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5, e = [], n = 0; n < t; n += 1) e.push(0);
                return e
            }
        }, {
            key: "fromGetJackpotConfigResponse",
            value: function(t) {
                var e = {},
                    n = t.jps && t.jps.length > 0;
                return e.pots = n ? this._toPotConfigs(t.jps) : [], e
            }
        }, {
            key: "_toPotConfigs",
            value: function(t) {
                return t.map(function(t) {
                    return {
                        id: t.mjpid,
                        label: t.textname || t.name
                    }
                })
            }
        }, {
            key: "fromGetCreditsResponse",
            value: function(t) {
                return {
                    credits: t && t.credit ? Number(t.credit.tot) : 0
                }
            }
        }]), t
    }();

    function fa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _a = function() {
            function t(e, n, i) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._owner = e, this.authToken = n, this._gtypeMap = i, this._retry = {
                    delay: 5e3,
                    maxCount: 10,
                    count: 0
                }, this._init()
            }
            return function(t, e, n) {
                e && fa(t.prototype, e), n && fa(t, n)
            }(t, [{
                key: "_init",
                value: function() {
                    this._cache = {}, this._handlers = {}, this._responseConverter = this._createResponseConverter(this._gtypeMap)
                }
            }, {
                key: "_createResponseConverter",
                value: function(t) {
                    return new ha(t)
                }
            }, {
                key: "getLoginOKHandler",
                value: function(t) {
                    return this._getHandler(ra.LOGIN_OK, function(t) {
                        this._resetRetries(), this.authToken = t.authtoken, Pr.a.storeAuthToken(this.authToken)
                    }, t)
                }
            }, {
                key: "_getHandler",
                value: function(t, e, n) {
                    var i = this;
                    return this._handlers[t] || (this._handlers[t] = function(t) {
                        e.call(i, t), n && n.call(i._owner)
                    }), this._handlers[t].bind(this)
                }
            }, {
                key: "getLoginErrorHandler",
                value: function(t) {
                    var e = t.reconnect,
                        n = t.login,
                        i = {};
                    i[oa.a.LOGIN_ERROR] = e, i[oa.a.SERVER_TIMEOUT_ERROR] = n, i[oa.a.PLAYER_KICKED_ERROR] = n;
                    var o = this._createErrorHandler(i);
                    return this._getHandler(ra.LOGIN_ERROR, o)
                }
            }, {
                key: "_clearHandler",
                value: function(t) {
                    this._handlers[t] = null
                }
            }, {
                key: "_createErrorHandler",
                value: function(t, e) {
                    return function(n) {
                        t[n.errcode] ? t[n.errcode].call(this._owner) : this._handleError(n, e)
                    }
                }
            }, {
                key: "_handleError",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Yr.CONNECT_ERROR,
                        n = this._responseConverter.fromError(t);
                    this._owner.emit(e, n)
                }
            }, {
                key: "getSelectGameOKHandler",
                value: function(t) {
                    return this._getHandler(ra.SELECT_GAME_OK, function(t) {
                        this._cache = JSON.parse(JSON.stringify(t));
                        var e = this._handleOK({
                            converter: this._responseConverter.fromSelGameResponse,
                            event: Yr.CONNECT,
                            response: t
                        });
                        this._availableWinlinesContainer = e.setup.availableWinlinesContainer
                    }, t)
                }
            }, {
                key: "_handleOK",
                value: function(t) {
                    var e = t.converter,
                        n = t.event,
                        i = t.response,
                        o = t.responseMeta;
                    this._resetRetries();
                    var r = e.call(this._responseConverter, i, o);
                    return this._owner.emit(n, r), r
                }
            }, {
                key: "getSelectGameErrorHandler",
                value: function(t, e) {
                    var n = {};
                    n[oa.a.IMPOSSIBLE_ERROR] = t, n[oa.a.SELECT_GAME_ERROR] = t, this._isInitialized ? this._clearHandler(ra.SELECT_GAME_ERROR) : (this._isInitialized = !0, n[oa.a.LOGIN_REQUIRED_ERROR] = e);
                    var i = this._createErrorHandler(n);
                    return this._getHandler(ra.SELECT_GAME_ERROR, i)
                }
            }, {
                key: "setSelectedWinlinesCount",
                value: function(t) {
                    this._selectedWinlinesCount = t
                }
            }, {
                key: "getSpinOKHandler",
                value: function(t) {
                    return this._getHandler(ra.SPIN_OK, function(t) {
                        this._cache = JSON.parse(JSON.stringify(t));
                        var e = this._getSelectedWinlinesContainer();
                        this._handleOK({
                            converter: this._responseConverter.fromSpinResponse,
                            event: Yr.SPIN,
                            response: t,
                            responseMeta: e
                        })
                    }, t)
                }
            }, {
                key: "_getSelectedWinlinesContainer",
                value: function() {
                    if (this._selectedWinlinesCount <= 1) return this._availableWinlinesContainer;
                    var t = {};
                    for (var e in this._availableWinlinesContainer) this._availableWinlinesContainer.hasOwnProperty(e) && (t[e] = this._extractSelectedWinlines(this._availableWinlinesContainer[e]));
                    return t
                }
            }, {
                key: "_extractSelectedWinlines",
                value: function(t) {
                    return t.length % this._selectedWinlinesCount ? t : t.slice(0, this._selectedWinlinesCount)
                }
            }, {
                key: "getSpinErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.SPIN_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.SPIN_ERROR);
                    return this._getHandler(ra.SPIN_ERROR, n)
                }
            }, {
                key: "getTakeOKHandler",
                value: function(t) {
                    return this._getHandler(ra.TAKE_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromTakeResponse,
                            event: Yr.TAKE,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getTakeErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.TAKE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.TAKE_ERROR);
                    return this._getHandler(ra.TAKE_ERROR, n)
                }
            }, {
                key: "getLogoutOKHandler",
                value: function(t) {
                    return this._getHandler(ra.LOGOUT_OK, function(t) {}, t)
                }
            }, {
                key: "getLogoutErrorHandler",
                value: function(t) {
                    var e = t.resync,
                        n = t.stop,
                        i = {};
                    i[oa.a.GAME_QUIT_ERROR] = e, i[oa.a.LOGIN_REQUIRED_ERROR] = n;
                    var o = this._createErrorHandler(i);
                    return this._getHandler(ra.LOGOUT_ERROR, o)
                }
            }, {
                key: "handleGetGambleInfo",
                value: function() {
                    this._handleOK({
                        converter: this._responseConverter.fromGambleResponse,
                        event: Yr.GET_GAMBLE_INFO,
                        response: this._cache
                    })
                }
            }, {
                key: "getGambleOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GAMBLE_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGambleResponse,
                            event: Yr.GAMBLE,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getGambleErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t, e[oa.a.GAMBLE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.GAMBLE_ERROR);
                    return this._getHandler(ra.GAMBLE_ERROR, n)
                }
            }, {
                key: "getReconnectOKHandler",
                value: function(t) {
                    return this._getHandler(ra.RECONNECT_OK, function() {}, t)
                }
            }, {
                key: "getReconnectErrorHandler",
                value: function(t, e) {
                    var n = {};
                    n[oa.a.GAME_QUIT_ERROR] = t, n[oa.a.LOGIN_REQUIRED_ERROR] = e;
                    var i = this._createErrorHandler(n);
                    return this._getHandler(ra.RECONNECT_ERROR, i)
                }
            }, {
                key: "getRno",
                value: function() {
                    return this._cache.rno
                }
            }, {
                key: "_resetRetries",
                value: function() {
                    this._retry.timeout = null, this._retry.count = 0
                }
            }, {
                key: "retry",
                value: function(t) {
                    this._retry.count < this._retry.maxCount ? (console.log("waiting and retrying... ".concat(this._retry.count, " of ").concat(this._retry.maxCount)), this._retry.timeout = setTimeout(t, this._retry.delay), this._retry.count += 1) : (this._retry.count = 0, this._owner.emit(Yr.CLOSE))
                }
            }, {
                key: "getResyncOKHandler",
                value: function(t) {
                    return this._getHandler(ra.RESYNC_OK, function(t) {
                        this._resetRetries()
                    }, t)
                }
            }, {
                key: "getResyncErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.RESYNC_ERROR] = t;
                    var n = this._createErrorHandler(e);
                    return this._getHandler(ra.RESYNC_ERROR, n)
                }
            }, {
                key: "getGetJackpotConfigOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GET_JACKPOT_CONFIG_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGetJackpotConfigResponse,
                            event: Yr.GET_JACKPOT_CONFIG,
                            response: t
                        })
                    }, t)
                }
            }, {
                key: "getGetJackpotConfigErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t;
                    var n = this._createErrorHandler(e);
                    return this._getHandler(ra.GET_JACKPOT_CONFIG_ERROR, n)
                }
            }, {
                key: "getGetCreditsOKHandler",
                value: function(t) {
                    return this._getHandler(ra.GET_CREDITS_OK, function(t) {
                        this._handleOK({
                            converter: this._responseConverter.fromGetCreditsResponse,
                            event: Yr.GET_CREDITS,
                            response: t
                        })
                    })
                }
            }, {
                key: "getGetCreditsErrorHandler",
                value: function(t) {
                    var e = {};
                    e[oa.a.IMPOSSIBLE_ERROR] = t;
                    var n = this._createErrorHandler(e, Yr.GET_CREDITS_ERROR);
                    return this._getHandler(ra.GET_CREDITS_ERROR, n)
                }
            }, {
                key: "isRetrying",
                value: function() {
                    return this._retry.timeout && this._retry.count > 0
                }
            }, {
                key: "clearAuthToken",
                value: function() {
                    this.authToken = "", Pr.a.clearAuthToken()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._owner = null, this._retry = null, this._cache = null, this._handlers = null, this._responseConverter = null
                }
            }]), t
        }(),
        ya = {
            POTS_UPDATE: "MJPUPD",
            POTS_HIT: "MJPHIT"
        },
        da = {
            HIT_SELF: 2048
        };

    function pa(t) {
        return (pa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ma(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function va(t, e) {
        return !e || "object" !== pa(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ga(t) {
        return (ga = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ba(t, e) {
        return (ba = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Sa = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = va(this, ga(e).call(this)))._remoteInterface = t, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && ba(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && ma(t.prototype, e), n && ma(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._remoteInterface.on(ya.POTS_UPDATE, this._handlePotsUpdate, this), this._remoteInterface.on(ya.POTS_HIT, this._handlePotsHit, this)
                    }
                }, {
                    key: "_handlePotsUpdate",
                    value: function(t) {
                        var e = this._convertPotsUpdate(t);
                        this.emit(Yr.POTS_UPDATE, e)
                    }
                }, {
                    key: "_convertPotsUpdate",
                    value: function(t) {
                        var e = t.mjpid,
                            n = t.val;
                        return {
                            potId: e || "",
                            amount: Number(n) || 0
                        }
                    }
                }, {
                    key: "_handlePotsHit",
                    value: function(t) {
                        if (2 === t.stage) {
                            var e = this._convertPotsHit(t);
                            this.emit(Yr.POTS_HIT, e)
                        }
                    }
                }, {
                    key: "_convertPotsHit",
                    value: function(t) {
                        var e = t.mjpid,
                            n = t.val,
                            i = t.user,
                            o = t.flags,
                            r = t.now;
                        return {
                            potId: e || "",
                            winAmount: Number(n) || 0,
                            winner: i || "",
                            self: Boolean(o & da.HIT_SELF),
                            now: Boolean(r)
                        }
                    }
                }]), e
        }(),
        wa = {
            OPEN: "connectionEvent.open",
            CLOSE: "connectionEvent.close",
            ERROR: "connectionEvent.error"
        };

    function ka(t) {
        return (ka = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ea(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ta(t, e) {
        return !e || "object" !== ka(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ca(t) {
        return (Ca = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Oa(t, e) {
        return (Oa = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Aa = function(t) {
        function e(t, n, i, o) {
            var r;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (r = Ta(this, Ca(e).call(this, t)))._remoteInterface = t, r._gameId = n, r._state = r._createServerState(i, o.gtypeMap), r._jackpotListener = r._createJackpotListener(), r._debug = o.debug, r._init(), r
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Oa(t, e)
            }(e, Ur),
            function(t, e, n) {
                e && Ea(t.prototype, e), n && Ea(t, n)
            }(e, [{
                key: "_createServerState",
                value: function(t, e) {
                    return new _a(this, t, e)
                }
            }, {
                key: "_createJackpotListener",
                value: function() {
                    var t = this,
                        e = new Sa(this._remoteInterface);
                    return [Yr.POTS_UPDATE, Yr.POTS_HIT].forEach(function(n) {
                        e.on(n, function(e) {
                            t.emit(n, e)
                        })
                    }), e
                }
            }, {
                key: "_init",
                value: function() {
                    this._reconnectMinWait = 500, this._remoteInterface.on(wa.ERROR, this._handleConnectionError, this), this._remoteInterface.on(wa.CLOSE, this._handleConnectionClose, this)
                }
            }, {
                key: "_handleConnectionError",
                value: function() {
                    this.emit(Yr.WAITING)
                }
            }, {
                key: "_handleConnectionClose",
                value: function() {
                    console.log("IGameServer._handleConnectionClose()"), this.emit(Yr.WAITING), this._state.isRetrying() || (this.emit(Yr.CLOSE), this._remoteInterface.isConnected() && this._reconnect())
                }
            }, {
                key: "connect",
                value: function() {
                    console.log("IGameServer.connect() ".concat(this._state.authToken));
                    var t = this._state.authToken ? this._selectGame : this._login;
                    this._remoteInterface.isConnecting() ? this._remoteInterface.once(wa.OPEN, t, this) : t.call(this)
                }
            }, {
                key: "_login",
                value: function() {
                    console.log("IGameServer._login()"), this._state.clearAuthToken(), this._debug ? this._autonomousLogin() : this.emit(Yr.CLOSE)
                }
            }, {
                key: "_autonomousLogin",
                value: function() {
                    var t = this,
                        e = this._debug.usePots ? this._getJackpotConfig : this._selectGame;
                    this._addDynamicRemoteInterfaceListener(ta.LOGIN, this._createResponseHandler({
                        okHandler: this._state.getLoginOKHandler(e),
                        errorHandler: this._state.getLoginErrorHandler({
                            reconnect: function() {
                                t._state.retry(t._login.bind(t))
                            },
                            login: this._login
                        })
                    })), this._remoteInterface.login({
                        user: this._debug.user,
                        pwd: this._debug.pwd,
                        amount: this._debug.amount,
                        demo: this._debug.demo,
                        usejp: Number(this._debug.usePots)
                    })
                }
            }, {
                key: "_addDynamicRemoteInterfaceListener",
                value: function(t, e) {
                    this._remoteInterface.listeners(t).length || this._remoteInterface.once(t, e, this)
                }
            }, {
                key: "_createResponseHandler",
                value: function(t) {
                    var e = t.okHandler,
                        n = t.errorHandler;
                    return function(t) {
                        (t.errcode || t.status === ia.ERR) && n ? n.call(this._state, t) : e && e.call(this._state, t)
                    }
                }
            }, {
                key: "_getJackpotConfig",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GETJPCFG, this._createResponseHandler({
                        okHandler: this._state.getGetJackpotConfigOKHandler(this._selectGame),
                        errorHandler: this._state.getGetJackpotConfigErrorHandler(this._selectGame)
                    })), this._remoteInterface.getJpCfg(this._state.authToken)
                }
            }, {
                key: "_selectGame",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.SELGAME, this._createResponseHandler({
                        okHandler: this._state.getSelectGameOKHandler(),
                        errorHandler: this._state.getSelectGameErrorHandler(this._resync, this._login)
                    })), this._remoteInterface.selgame(this._state.authToken, this._gameId)
                }
            }, {
                key: "_reconnect",
                value: function() {
                    this._lastReconnectTime && Date.now() < this._lastReconnectTime + this._reconnectMinWait || (console.log("IGameServer._reconnect()"), this._lastReconnectTime = Date.now(), this.connect())
                }
            }, {
                key: "spin",
                value: function(t, e) {
                    this._state.setSelectedWinlinesCount(e), this._addDynamicRemoteInterfaceListener(ta.GA_SPIN, this._createResponseHandler({
                        okHandler: this._state.getSpinOKHandler(),
                        errorHandler: this._state.getSpinErrorHandler(this._resync)
                    })), this._remoteInterface.gaSpin(this._state.authToken, t, e)
                }
            }, {
                key: "take",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GA_TAKE, this._createResponseHandler({
                        okHandler: this._state.getTakeOKHandler(),
                        errorHandler: this._state.getTakeErrorHandler(this._resync)
                    })), this._remoteInterface.gaTake(this._state.authToken, this._state.getRno())
                }
            }, {
                key: "logout",
                value: function(t) {
                    var e = this;
                    this._state.authToken ? (this._addDynamicRemoteInterfaceListener(ta.QUITGAME, this._createResponseHandler({
                        okHandler: this._state.getLogoutOKHandler(this._createProcessQuitGameOK(t)),
                        errorHandler: this._state.getLogoutErrorHandler({
                            resync: this._resync,
                            stop: function() {
                                t && t.call(), e._state.clearAuthToken()
                            }
                        })
                    })), this._remoteInterface.quitgame(this._state.authToken)) : (console.log("cancelled IGameServer.logout(), no authToken present"), t && t.call())
                }
            }, {
                key: "_createProcessQuitGameOK",
                value: function(t) {
                    return function(e) {
                        t ? t.call() : this._remoteInterface.logout(this._state.authToken)
                    }
                }
            }, {
                key: "getGambleInfo",
                value: function() {
                    this._state.handleGetGambleInfo()
                }
            }, {
                key: "gamble",
                value: function(t, e) {
                    this._addDynamicRemoteInterfaceListener(ta.GA_GAMBLE, this._createResponseHandler({
                        okHandler: this._state.getGambleOKHandler(),
                        errorHandler: this._state.getGambleErrorHandler(this._resync)
                    }));
                    var n = na.TO_COLORS[t];
                    console.log("gamble: ".concat([t, n])), this._remoteInterface.gaGamble(this._state.authToken, this._state.getRno(), n, e)
                }
            }, {
                key: "_resync",
                value: function() {
                    this._addDynamicRemoteInterfaceListener(ta.GA_RESYNC, this._createResponseHandler({
                        okHandler: this._state.getResyncOKHandler(this._selectGame),
                        errorHandler: this._state.getResyncErrorHandler(this._selectGame)
                    })), this._remoteInterface.gaResync(this._state.authToken)
                }
            }, {
                key: "getSessionInfo",
                value: function() {
                    return this._state ? this._state.authToken : ""
                }
            }, {
                key: "getCredits",
                value: function() {
                    var t = this;
                    this._addDynamicRemoteInterfaceListener(ta.GA_TRUECRED, this._createResponseHandler({
                        okHandler: this._state.getGetCreditsOKHandler(),
                        errorHandler: this._state.getGetCreditsErrorHandler(function() {
                            setTimeout(function() {
                                t.getCredits()
                            }, 300)
                        })
                    })), this._remoteInterface.gaTruecred(this._state.authToken)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._remoteInterface.removeAllListeners(), this._remoteInterface.destroy(), this._remoteInterface = null, this._state.destroy(), this._state = null
                }
            }]), e
    }();

    function Pa(t) {
        return (Pa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ia(t, e) {
        return function(t) {
            if (Array.isArray(t)) return t
        }(t) || function(t, e) {
            var n = [],
                i = !0,
                o = !1,
                r = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
            } catch (t) {
                o = !0, r = t
            } finally {
                try {
                    i || null == s.return || s.return()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function xa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ra(t, e) {
        return !e || "object" !== Pa(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Wa(t) {
        return (Wa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Na(t, e) {
        return (Na = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ja = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = Ra(this, Wa(e).call(this)))._url = t, i._socket = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Na(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && xa(t.prototype, e), n && xa(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._reconnectDelay = 1500, this._retryCount = 0, this._retryMaxCount = 2, this._connectSocket()
                }
            }, {
                key: "_connectSocket",
                value: function(t) {
                    this._url && console.log("IGameRemoteInterface._connectSocket() ".concat(this._url)), this._socket && (this.isConnected() || this.isConnecting()) || (this._socket = new WebSocket(this._url)), this._socket.onopen = this._createOpenHandler(t).bind(this), this._socket.onclose = this._handleClose.bind(this), this._socket.onmessage = this._handleMessage.bind(this), this._socket.onerror = this._handleError.bind(this)
                }
            }, {
                key: "_createOpenHandler",
                value: function(t) {
                    return function() {
                        console.log("IGameRemoteInterface.handleOpen()"), this.emit(wa.OPEN), t && this._socket.send(t)
                    }
                }
            }, {
                key: "_handleClose",
                value: function() {
                    console.log("IGameRemoteInterface._handleClose()"), this._clearSocketListeners(), this.emit(wa.CLOSE)
                }
            }, {
                key: "_clearSocketListeners",
                value: function() {
                    this._socket && (this._socket.onopen = null, this._socket.onclose = null, this._socket.onmessage = null, this._socket.onerror = null)
                }
            }, {
                key: "_handleMessage",
                value: function(t) {
                     var e = JSON.parse(t.data.split(":::")[1]);
                    this.emit(e.for || e.amsg, e)
                }
            }, {
                key: "_handleError",
                value: function() {
                    console.log("IGameRemoteInterface._handleError() ".concat(this._retryCount)), this._retryCount < this._retryMaxCount ? (this._clearSocketListeners(), this._delayedReconnect = setTimeout(this._connectSocket.bind(this), this._reconnectDelay), this._retryCount += 1, this.emit(wa.ERROR)) : (this._retryCount = 0, this.emit(wa.CLOSE))
                }
            }, {
                key: "isConnected",
                value: function() {
                    return !!this._socket && this._socket.readyState === WebSocket.OPEN
                }
            }, {
                key: "isConnecting",
                value: function() {
                    return !!this._socket && this._socket.readyState === WebSocket.CONNECTING
                }
            }, {
                key: "login",
                value: function(t) {
                    var e = t.user,
                        n = t.pwd,
                        i = t.bonno,
                        o = t.bonpin,
                        r = t.demo,
                        a = t.amount,
                        s = t.nramount,
                        u = t.reqslot,
                        l = t.lang,
                        c = t.allgames,
                        h = t.hwid,
                        f = t.hwsub,
                        _ = t.hwdyn,
                        y = t.gameid,
                        d = t.usejp,
                        p = t.lasthits;
                    return this._send(ta.LOGIN, [
                        ["user", e],
                        ["pwd", n],
                        ["bonno", i],
                        ["bonpin", o],
                        ["demo", r],
                        ["amount", a],
                        ["nramount", s],
                        ["reqslot", u],
                        ["lang", l],
                        ["allgames", c],
                        ["hwid", h],
                        ["hwsub", f],
                        ["hwdyn", _],
                        ["gameid", y],
                        ["usejp", d],
                        ["lasthits", p]
                    ])
                }
            }, {
                key: "_send",
                value: function(t, e) {
                    var n = "action=".concat(t);
                    return e.forEach(function(t) {
                        var e = Ia(t, 2),
                            i = e[0],
                            o = e[1];
                        void 0 !== o && null !== o && (n += "&".concat(i, "=").concat(o))
                    }), this.isConnected() ? this._socket.send(ConvertRequest(n)) : this._connectSocket(n), n
                }
            }, {
                key: "check",
                value: function(t) {
                    return this._send(ta.CHECK, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "selgame",
                value: function(t, e) {
                    return this._send(ta.SELGAME, [
                        ["authtoken", t],
                        ["gameid", e]
                    ])
                }
            }, {
                key: "quitgame",
                value: function(t) {
                    return this._send(ta.QUITGAME, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "gaSpin",
                value: function(t, e, n) {
                    return this._send(ta.GA_SPIN, [
                        ["authtoken", t],
                        ["bet", e],
                        ["winlines", n]
                    ])
                }
            }, {
                key: "gaTake",
                value: function(t, e) {
                    return this._send(ta.GA_TAKE, [
                        ["authtoken", t],
                        ["rno", e]
                    ])
                }
            }, {
                key: "gaGamble",
                value: function(t, e, n, i) {
                    return this._send(ta.GA_GAMBLE, [
                        ["authtoken", t],
                        ["rno", e],
                        ["choice", n],
                        ["amount", i]
                    ])
                }
            }, {
                key: "gaResync",
                value: function(t) {
                    return this._send(ta.GA_RESYNC, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "logout",
                value: function(t) {
                    return this._send(ta.LOGOUT, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "getJpCfg",
                value: function(t) {
                    return this._send(ta.GETJPCFG, [
                        ["authtoken", t]
                    ])
                }
            }, {
                key: "gaTruecred",
                value: function(t) {
                    return this._send(ta.GA_TRUECRED, [
                        ["authtoken", t],
                        ["fromserv", 1]
                    ])
                }
            }, {
                key: "destroy",
                value: function() {
                    this._delayedReconnect && (clearTimeout(this._delayedReconnect), this._delayedReconnect = null), this._socket = null
                }
            }]), e
    }();

    function La(t) {
        return (La = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ga(t, e) {
        return !e || "object" !== La(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ma(t) {
        return (Ma = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ba(t, e) {
        return (Ba = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Fa = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Ga(this, Ma(e).call(this, t))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && Ba(t, e)
        }(e, Ur), e
    }();

    function Ha(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Da = function() {
            function t() {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            return function(t, e, n) {
                e && Ha(t.prototype, e), n && Ha(t, n)
            }(t, [{
                key: "initSession",
                value: function(t, e, n, i, o) {}
            }, {
                key: "spin",
                value: function(t, e, n, i, o, r) {}
            }, {
                key: "take",
                value: function(t, e) {}
            }, {
                key: "getGambleInfo",
                value: function(t, e) {}
            }, {
                key: "gamble",
                value: function(t, e, n, i) {}
            }, {
                key: "playActionGame",
                value: function(t, e) {}
            }, {
                key: "getPaytable",
                value: function(t, e, n) {}
            }, {
                key: "logout",
                value: function(t, e) {}
            }]), t
        }(),
        Ka = u.a.extend({
            props: {
                symbols: {
                    type: "array",
                    default: function() {
                        return []
                    }
                },
                id: "number",
                shouldSlowDownNext: "boolean",
                willSlowDown: "boolean",
                hasEnterSound: "boolean",
                afterSpin: {
                    type: "object",
                    default: function() {
                        return {
                            distance: 0,
                            symbols: []
                        }
                    }
                }
            }
        }),
        Ua = u.a.extend({
            props: {
                id: {
                    type: "string",
                    required: !0,
                    default: "",
                    values: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25"]
                },
                isSpecial: "boolean",
                isQuery: "boolean",
                isNewSticky: "boolean",
                gameType: {
                    type: "string",
                    required: !0,
                    default: h.a.REGULAR,
                    values: [h.a.REGULAR, h.a.SCATTER]
                },
                specialTransformTo: "string",
                transformToId: "string",
                stickyId: "string"
            }
        });

    function Ya(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var qa = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = e, this._cache = {
                stickySymbols: {}
            }, this._init()
        }
        return function(t, e, n) {
            e && Ya(t.prototype, e), n && Ya(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                this.RANGE_ERROR_MESSAGE = "unexpected length difference"
            }
        }, {
            key: "updateOnConnect",
            value: function(t) {
                var e = t.setup,
                    n = t.reels,
                    i = t.winlineWins,
                    o = t.scatterWin,
                    r = t.stickySymbols,
                    a = t.special,
                    s = t.mayGamble,
                    u = t.gameType,
                    l = t.nextGameType,
                    c = t.specialSymbolId;
                return e && this._updateSetup(e), this.updateOnSpin({
                    reels: n,
                    winlineWins: i,
                    scatterWin: o,
                    stickySymbols: r,
                    special: a,
                    mayGamble: s,
                    gameType: u,
                    nextGameType: l,
                    specialSymbolId: c
                }), this._model
            }
        }, {
            key: "_updateSetup",
            value: function(t) {
                var e = t.mayGamble,
                    n = t.availableWinlinesContainer;
                return void 0 !== e && (this._model.mayGamble = e), n && (this._model.availableWinlinesContainer = n), this._model
            }
        }, {
            key: "updateOnSpin",
            value: function(t) {
                var e = t.reels,
                    n = t.winlineWins,
                    i = t.scatterWin,
                    o = t.stickySymbols,
                    r = t.special,
                    a = t.scatterGameWinBonus,
                    s = t.bonusTriggerId,
                    u = t.bonusType,
                    l = t.mayGamble,
                    h = t.gameType,
                    f = t.nextGameType,
                    _ = t.specialSymbolId,
                    y = t.scatterSelection,
                    d = t.maxSelectableScatterCount;
                return this._updateReels(e), this._updateStickySymbolsCache(o), this._model.specialSymbolId = _, this._model.winlineWins = n || [], this._model.scatterWin = i, this._model.stickySymbols = o || [], this._model.special = r, this._model.scatterGameWinBonus = a || 0, this._model.bonusTriggerId = s, this._model.bonusType = u || c.a.NONE, this._model.scatterSelection = y || [], this._model.maxSelectableScatterCount = d || 0, void 0 !== l && (this._model.mayGamble = l), this._model.takenAmount = 0, this._model.walkedWinlinesCount = 0, this._model.walkedAmount = 0, this._updateGameType({
                    gameType: h,
                    nextGameType: f
                }), this._model
            }
        }, {
            key: "_updateReels",
            value: function(t) {
                return this._model.reels.length ? this._extendReels(t) : this._initializeReels(t)
            }
        }, {
            key: "_extendReels",
            value: function(t) {
                this._applyStickySymbolsFromCache(t);
                var e = this._createNewReels(t);
                if (e.length !== this._model.reels.length) throw new RangeError(this.RANGE_ERROR_MESSAGE);
                for (var n = 0; n < this._model.reels.length; n++) {
                    var i = this._model.reels[n].symbols;
                    this._model.reels[n].afterSpin = e[n].afterSpin, this._model.reels[n].shouldSlowDownNext = e[n].shouldSlowDownNext, this._model.reels[n].willSlowDown = e[n].willSlowDown, this._model.reels[n].hasEnterSound = e[n].hasEnterSound, this._model.reels[n].symbols = i.concat(e[n].symbols)
                }
                return this._model
            }
        }, {
            key: "_applyStickySymbolsFromCache",
            value: function(t) {
                var e = this._cache.stickySymbols;
                return this._model.stickySymbols.filter(function(t) {
                    return e[t.x] && e[t.x][t.y] && e[t.x][t.y].id
                }).forEach(function(n) {
                    t[n.x - 1].symbols[n.y].stickyId = e[n.x][n.y].id
                }), t
            }
        }, {
            key: "_createNewReels",
            value: function(t) {
                var e = this,
                    n = [];
                return t.forEach(function(t) {
                    var i = new Ka(t);
                    i.afterSpin = e._convertAfterSpin(t.afterSpin);
                    var o = [];
                    t.symbols.forEach(function(t) {
                        o.push(new Ua(t))
                    }), i.symbols = o, n.push(i)
                }), n
            }
        }, {
            key: "_convertAfterSpin",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.distance,
                    n = t.symbols,
                    i = {
                        distance: e || 0,
                        symbols: []
                    };
                return n && n.forEach(function(t) {
                    i.symbols.push(new Ua(t))
                }), i
            }
        }, {
            key: "_initializeReels",
            value: function(t) {
                this._applyStickySymbolsForInit(t);
                var e = this._createNewReels(t);
                return this._model.reels = e, this._model
            }
        }, {
            key: "_applyStickySymbolsForInit",
            value: function(t) {
                return t.forEach(function(t) {
                    t.symbols.filter(function(t) {
                        return Boolean(t.stickyId)
                    }).forEach(function(t) {
                        t.id = t.stickyId
                    })
                }), t
            }
        }, {
            key: "_updateStickySymbolsCache",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    e = this._cache.stickySymbols;
                return t.filter(function(t) {
                    return Boolean(t.id)
                }).forEach(function(t) {
                    e[t.x] = e[t.x] || {}, e[t.x][t.y] = e[t.x][t.y] || {
                        id: t.id
                    }
                }), this._cache.stickySymbols = t.length > 0 ? e : {}, this._cache
            }
        }, {
            key: "_updateGameType",
            value: function(t) {
                var e = t.gameType,
                    n = t.nextGameType;
                return e && (this._model.gameType = e, this._model.nextGameType = n || e), this._model
            }
        }, {
            key: "updateOnGamble",
            value: function(t) {
                var e = t.gameType,
                    n = t.nextGameType,
                    i = t.scatterGameWinBonus;
                return this._model.scatterGameWinBonus = i || 0, this._updateGameType({
                    gameType: e,
                    nextGameType: n
                }), this._model
            }
        }, {
            key: "updateOnTake",
            value: function(t, e) {
                var n = e.credits,
                    i = e.win;
                return this._model.specialSymbolId = t.specialSymbolId, i > 0 && (this._model.takenAmount = t.credits - n - (this._model.scatterGameWinBonus || 0)), this._model
            }
        }]), t
    }();

    function Va(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Xa = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = e
        }
        return function(t, e, n) {
            e && Va(t.prototype, e), n && Va(t, n)
        }(t, [{
            key: "update",
            value: function(t) {
                var e = t.cardHistory,
                    n = t.stake,
                    i = t.chance;
                return this._model.cardHistory = e, this._model.stake = n, this._model.chance = i, this._model
            }
        }]), t
    }();

    function za(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Qa = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = e
            }
            return function(t, e, n) {
                e && za(t.prototype, e), n && za(t, n)
            }(t, [{
                key: "update",
                value: function(t) {
                    var e = t.bet,
                        n = t.betSteps,
                        i = t.paytable,
                        o = t.winlineSelections;
                    return this._model.bet = e, this._model.betSteps = n, this._model.paytable = i, this._model.winlineSelections = o, this._model
                }
            }]), t
        }(),
        Ja = {
            SYMBOL_MAP: {
                1: "7",
                2: "T",
                3: "Z",
                4: "K",
                5: "M",
                6: "O",
                7: "*",
                8: "P"
            }
        },
        $a = n(23),
        Za = {
            log: function(t) {
                console.log("[".concat(Date.now(), "] ").concat(t))
            },
            logService: null,
            useConsole: !0,
            logWarning: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("WARNING [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logWarn(t, e)
            },
            logInfo: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("INFO [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logInfo(t, e)
            },
            logError: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                Za.useConsole && console.log("!ERROR! [".concat(Date.now(), "] ").concat(t)), Za.logService && Za.logService.logError(t, e)
            }
        },
        ts = Za;

    function es(t) {
        return (es = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ns(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function is(t, e) {
        return !e || "object" !== es(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function os(t) {
        return (os = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function rs(t, e) {
        return (rs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var as = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = is(this, os(e).call(this)))._model = t, i._server = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && rs(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && ns(t.prototype, e), n && ns(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._server.on(Yr.CLOSE, this._handleServerClose, this), this._server.on(Yr.WAITING, this._handleServerWaiting, this), this._server.on(Yr.GET_JACKPOT_CONFIG, this._handlePotsConfig, this), this._server.on(Yr.POTS_UPDATE, this._handlePotsUpdate, this), this._server.on(Yr.POTS_HIT, this._handlePotsHit, this), this._slotModelManipulator = this._createSlotModelManipulator(), this._gambleModelManipulator = this._createGambleModelManipulator(), this._settingsModelManipulator = this._createSettingsModelManipulator(), this.__symbolMap = Ja.SYMBOL_MAP, this.__shouldLogSpinResults = !1
                }
            }, {
                key: "_createSlotModelManipulator",
                value: function() {
                    return new qa(this._model.slot.model)
                }
            }, {
                key: "_createGambleModelManipulator",
                value: function() {
                    return new Xa(this._model.gamble.model)
                }
            }, {
                key: "_createSettingsModelManipulator",
                value: function() {
                    return new Qa(this._model.settings.model)
                }
            }, {
                key: "_handleServerClose",
                value: function() {
                    this._model.serverStatus = $a.a.DISCONNECTED, this._server.removeListener(Yr.CONNECT_ERROR), this._server.once(Yr.CONNECT_ERROR, this._handleConnectError, this), this._server.removeListener(Yr.CONNECT), this._server.once(Yr.CONNECT, this._handleServerConnectBase, this);
                    var t = "".concat(this._model.status, ", SessionInfo: ").concat(this._server.getSessionInfo());
                    ts.logWarning("GambleClient disconnected from Server: ".concat(t)), this._clearServerListeners(), this.emit(Yr.CLOSE)
                }
            }, {
                key: "_handleServerConnectBase",
                value: function(t) {
                    this._model.serverStatus = $a.a.CONNECTED, this._server.removeListener(Yr.CONNECT_ERROR, this._handleConnectError), t && t.win && this._model.modeType !== Lr.a.GAMBLE && this.take(), this.emit(Yr.CONNECT)
                }
            }, {
                key: "_clearServerListeners",
                value: function() {
                    return this._server.removeListener(Yr.SPIN_ERROR, this._handleSpinError), this._server.removeListener(Yr.SPIN, this._handleSpin), this._server.removeListener(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError), this._server.removeListener(Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo), this._server.removeListener(Yr.TAKE_ERROR, this._handleTakeError), this._server.removeListener(Yr.TAKE, this._handleTake), this._server.removeListener(Yr.GAMBLE_ERROR, this._handleGambleError), this._server.removeListener(Yr.GAMBLE, this._handleGamble), this._server
                }
            }, {
                key: "_handleServerWaiting",
                value: function() {
                    this._model.serverStatus = $a.a.WAITING
                }
            }, {
                key: "_handlePotsConfig",
                value: function(t) {
                    t.pots.length > 0 && (this._model.potServerConfigs = t.pots)
                }
            }, {
                key: "_handlePotsUpdate",
                value: function(t) {
                    var e = JSON.parse(JSON.stringify(this._model.pots));
                    e[t.potId] = {
                        amount: t.amount
                    }, this._model.pots = e
                }
            }, {
                key: "_handlePotsHit",
                value: function(t) {
                    var e = JSON.parse(JSON.stringify(this._model.potHits));
                    for (var n in e) e.hasOwnProperty(n) && (e[n] && e[n].now ? e[n].now = !1 : e[n] = null);
                    e[t.potId] = {
                        winAmount: t.winAmount,
                        winner: t.winner,
                        self: t.self,
                        now: t.now
                    }, this._model.potHits = e
                }
            }, {
                key: "connect",
                value: function() {
                    this._server.removeListener(Yr.CONNECT_ERROR), this._server.once(Yr.CONNECT_ERROR, this._handleConnectError, this), this._server.removeListener(Yr.CONNECT), this._server.once(Yr.CONNECT, this._handleConnect, this), this._model.serverStatus = $a.a.CONNECTING, this._server.connect()
                }
            }, {
                key: "_handleConnectError",
                value: function(t) {
                    this._handleError(t, Yr.CONNECT, this._handleConnect)
                }
            }, {
                key: "_handleError",
                value: function(t, e, n) {
                    this._server.removeListener(e, n, this);
                    var i = JSON.stringify(t),
                        o = "".concat(this._model.status, ", SessionInfo: ").concat(this._server.getSessionInfo());
                    ts.logError("GambleClient Server Error: ".concat(i, " @ ").concat(o)), this._model.error = t
                }
            }, {
                key: "_handleConnect",
                value: function(t) {
                    this._handleServerConnectBase(t), this._connectUpdate(t), this.__logSpinResult(t.reels)
                }
            }, {
                key: "_connectUpdate",
                value: function(t) {
                    return this._slotModelManipulator.updateOnConnect(t), this._model.credits = t.credits, this._model.bet = t.bet, this._model.selectedWinlinesCount = t.selectedWinlinesCount, this._model.scatterGames = t.scatterGames, this._settingsModelManipulator.update(t), this._model
                }
            }, {
                key: "__logSpinResult",
                value: function(t) {
                    if (this.__shouldLogSpinResults) {
                        for (var e = [], n = 0; n < t.length; n++)
                            for (var i = 0; i < t[n].symbols.length; i++) e[i] = e[i] || [], e[i][n] = this.__symbolMap[t[n].symbols[i].id];
                        for (var o = 0; o < e.length; o++) {
                            for (var r = 0; r < t.length; r++) e[o][r] = e[o][r] || " ";
                            var a = o > 0 && o < 4 ? " | " : "   ",
                                s = "".concat(a).concat(e[o].join(" ")).concat(a);
                            console.log(s)
                        }
                    }
                }
            }, {
                key: "spin",
                value: function() {
                    this._server.once(Yr.SPIN_ERROR, this._handleSpinError, this), this._server.once(Yr.SPIN, this._handleSpin, this), this._server.spin(this._model.bet, this._model.selectedWinlinesCount)
                }
            }, {
                key: "_handleSpinError",
                value: function(t) {
                    this._handleError(t, Yr.SPIN, this._handleSpin)
                }
            }, {
                key: "_handleSpin",
                value: function(t) {
                    this._server.removeListener(Yr.SPIN_ERROR, this._handleSpinError, this), this._spinUpdate(t), this.__logSpinResult(t.reels)
                }
            }, {
                key: "_spinUpdate",
                value: function(t) {
                    this._slotModelManipulator.updateOnSpin(t), this._model.win = this._calculateWin(t);
                    var e = this._calculatePrematureBonusOnSpin(this._model.win);
                    return this._model.credits = t.credits - e, this._model.scatterGames = t.scatterGames, this._model
                }
            }, {
                key: "_calculatePrematureBonusOnSpin",
                value: function(t) {
                    var e = this._model.potWin || 0,
                        n = this._model.slot.model.scatterGameWinBonus || 0;
                    return t > 0 ? e : e + n
                }
            }, {
                key: "_calculateWin",
                value: function(t) {
                    var e = 0,
                        n = t.winlineWins;
                    n && n.forEach(function(t) {
                        e += isNaN(t.credits) ? 0 : Number(t.credits)
                    });
                    var i = t.scatterWin;
                    return i && (e += isNaN(i.credits) ? 0 : Number(i.credits)), t.special && t.special.winlineWins && t.special.winlineWins.forEach(function(t) {
                        e += isNaN(t.credits) ? 0 : Number(t.credits)
                    }), e
                }
            }, {
                key: "getGambleInfo",
                value: function() {
                    this._server.once(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError, this), this._server.once(Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo, this), this._server.getGambleInfo()
                }
            }, {
                key: "_handleGetGambleInfoError",
                value: function(t) {
                    this._handleError(t, Yr.GET_GAMBLE_INFO, this._handleGetGambleInfo)
                }
            }, {
                key: "_handleGetGambleInfo",
                value: function(t) {
                    this._server.removeListener(Yr.GET_GAMBLE_INFO_ERROR, this._handleGetGambleInfoError, this), this._updateGetGambleInfo(t)
                }
            }, {
                key: "_updateGetGambleInfo",
                value: function(t) {
                    return this._gambleModelManipulator.update(t), this._slotModelManipulator.updateOnGamble(t), this._model.win = t.win, this._model.slot.model.willSwitchToRegular || (this._model.scatterGames = t.scatterGames), this._model
                }
            }, {
                key: "take",
                value: function() {
                    this._server.once(Yr.TAKE_ERROR, this._handleTakeError, this), this._server.once(Yr.TAKE, this._handleTake, this), this._server.take()
                }
            }, {
                key: "_handleTakeError",
                value: function(t) {
                    this._handleError(t, Yr.TAKE, this._handleTake)
                }
            }, {
                key: "_handleTake",
                value: function(t) {
                    this._server.removeListener(Yr.TAKE_ERROR, this._handleTakeError, this), this._slotModelManipulator.updateOnTake(t, {
                        win: this._model.win,
                        credits: this._model.credits
                    });
                    var e = this._model.slot.model,
                        n = e.scatterGameWinBonus || 0;
                    this._model.credits = t.credits - n, e.willSwitchToRegular || (e.scatterGameWinBonus ? this._model.scatterGames = {
                        current: this._model.scatterGames.current,
                        total: this._model.scatterGames.total,
                        win: this._model.scatterGames.win + this._model.win
                    } : this._model.scatterGames = t.scatterGames), this._model.win = 0
                }
            }, {
                key: "logout",
                value: function(t) {
                    this._server.logout(t)
                }
            }, {
                key: "gamble",
                value: function(t) {
                    this._server.once(Yr.GAMBLE_ERROR, this._handleGambleError, this), this._server.once(Yr.GAMBLE, this._handleGamble, this), this._server.gamble(t, this._model.win)
                }
            }, {
                key: "_handleGambleError",
                value: function(t) {
                    this._handleError(t, Yr.GAMBLE, this._handleGamble)
                }
            }, {
                key: "_handleGamble",
                value: function(t) {
                    this._server.removeListener(Yr.GAMBLE_ERROR, this._handleGambleError, this), this._updateGetGambleInfo(t)
                }
            }, {
                key: "getCredits",
                value: function() {
                    this._server.once(Yr.GET_CREDITS_ERROR, this._handleGetCreditsError, this), this._server.once(Yr.GET_CREDITS, this._handleGetCredits, this), this._server.getCredits()
                }
            }, {
                key: "_handleGetCreditsError",
                value: function(t) {
                    this._handleError(t, Yr.GET_CREDITS, this._handleGetCredits)
                }
            }, {
                key: "_handleGetCredits",
                value: function(t) {
                    this._server.removeListener(Yr.GET_CREDITS_ERROR, this._handleGetCreditsError, this);
                    var e = this._model.slot.model.mayGamble ? 0 : this._model.win;
                    this._model.potWin = t.credits - this._model.credits - e, this.emit(Yr.GET_CREDITS)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._server.destroy(), this._server.removeAllListeners(), this._server = null, this._slotModelManipulator = null
                }
            }]), e
    }();

    function ss(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var us = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this.DummyImplementation = Zr
            }
            return function(t, e, n) {
                e && ss(t.prototype, e), n && ss(t, n)
            }(t, [{
                key: "_createServer",
                value: function(t) {
                    var e = t.RemoteInterface,
                        n = t.Server,
                        i = t.authToken,
                        o = t.socket;
                    return new n(new e(this._config.url, o), this._config.gameId, i, this._config)
                }
            }, {
                key: "_createDummyServer",
                value: function(t) {
                    var e = new this.DummyImplementation(this._config.gameId);
                    return new as(t, e)
                }
            }, {
                key: "_createIGameServer",
                value: function(t, e, n) {
                    var i = this._createServer({
                        RemoteInterface: ja,
                        Server: Aa,
                        authToken: e,
                        socket: n
                    });
                    return new as(t, i)
                }
            }, {
                key: "createServer",
                value: function(t, e, n) {
                    return "dummyserver" === this._config.url ? this._createDummyServer(t) : this._createIGameServer(t, e, n)
                }
            }, {
                key: "_createOurServer",
                value: function(t, e) {
                    var n = this._createServer({
                        RemoteInterface: Da,
                        Server: Fa,
                        authToken: e
                    });
                    return new as(t, n)
                }
            }]), t
        }(),
        ls = {
            SMALL_WIN: "soundType.smallWin",
            BIG_WIN: "soundType.bigWin",
            SCATTER_WIN: "soundType.scatterWin",
            CSENGO_SHORT: "soundType.csengoShort",
            CSENGO: "soundType.csengo",
            CSENGO_LONG: "soundType.csengoLong",
            CONGRATULATIONS: "soundType.congratulations",
            SILENCE: "soundType.silence",
            toSoundType: function(t) {
                return "soundType." === t.substr(0, 10) ? t : "soundType.".concat(t)
            }
        };

    function cs(t) {
        return (cs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function hs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function fs(t, e) {
        return !e || "object" !== cs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _s(t) {
        return (_s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ys(t, e) {
        return (ys = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ds = function(t) {
        function e() {
            var t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (t = fs(this, _s(e).call(this)))._duration = Number(n), t
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ys(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && hs(t.prototype, e), n && hs(t, n)
            }(e, [{
                key: "play",
                value: function() {
                    var t = this;
                    return this._timeout = setTimeout(function() {
                        t.emit("end")
                    }, this._duration), this
                }
            }, {
                key: "stop",
                value: function() {
                    return this._timeout && clearTimeout(this._timeout), this.emit("end"), this
                }
            }, {
                key: "mute",
                value: function(t) {
                    return this
                }
            }, {
                key: "pause",
                value: function() {
                    return this._timeout && clearTimeout(this._timeout), this
                }
            }, {
                key: "state",
                value: function() {
                    return ""
                }
            }, {
                key: "unload",
                value: function() {
                    return this
                }
            }, {
                key: "load",
                value: function() {
                    return this
                }
            }, {
                key: "fade",
                value: function(t, e, n) {
                    return this
                }
            }, {
                key: "volume",
                value: function(t) {
                    return this
                }
            }, {
                key: "resetToWebAudio",
                value: function() {}
            }, {
                key: "getVolume",
                value: function() {
                    return 0
                }
            }]), e
    }();

    function ps(t) {
        return (ps = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ms(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function vs(t, e) {
        return !e || "object" !== ps(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function gs(t) {
        return (gs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function bs(t, e) {
        return (bs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ss = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = vs(this, gs(e).call(this)))._assets = t, i._howlerWrapper = n, i.SCATTER_BACKGROUND_MEDIUM_VOLUME = .2, i.SCATTER_BACKGROUND_LOW_VOLUME = .01, i._guard(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && bs(t, e)
                }(e, on.a),
                function(t, e, n) {
                    e && ms(t.prototype, e), n && ms(t, n)
                }(e, [{
                    key: "_guard",
                    value: function() {
                        if (!this._assets || !this._howlerWrapper) throw new Error("Members not initialized properly")
                    }
                }, {
                    key: "playStartup",
                    value: function() {
                        return this._assets.getStartup().play(), this
                    }
                }, {
                    key: "playDeny",
                    value: function() {
                        return this._assets.getDeny().play(), this
                    }
                }, {
                    key: "playCongratulations",
                    value: function() {
                        return this._assets.getCongratulations().play(), this
                    }
                }, {
                    key: "playCsengo",
                    value: function() {
                        return this._assets.getCsengo().play(), this
                    }
                }, {
                    key: "playCsengoLong",
                    value: function() {
                        return this._assets.getCsengoLong().play(), this
                    }
                }, {
                    key: "playCsengoShort",
                    value: function() {
                        return this._assets.getCsengoShort().play(), this
                    }
                }, {
                    key: "playMelody",
                    value: function() {
                        return this._instantlyStopMelody(), this._melody = this._assets.getRandomMelody(), this._melody.volume(1), this._melody.play(), this
                    }
                }, {
                    key: "_instantlyStopMelody",
                    value: function() {
                        return this._melody && (this._melody.stop(), this._melody = null), this
                    }
                }, {
                    key: "stopMelody",
                    value: function() {
                        return this._melody && (this._melody.softStop(), this._melody = null), this
                    }
                }, {
                    key: "playScatterMelody",
                    value: function() {
                        var t = this._assets.getRandomScatterMelody();
                        return t ? (this._instantlyStopMelody(), this._melody = t, this._melody.volume(1), this._melody.play()) : this._isPlayingScatterBackground || this.playMelody(), this
                    }
                }, {
                    key: "playReelStop",
                    value: function() {
                        return this._assets.getReelStop().play(), this
                    }
                }, {
                    key: "playScatter",
                    value: function(t, e) {
                        var n = this;
                        return this._stopScatter(), this._scatter = this._assets.getScatter(t), this._scatter ? e ? (this._scatterDelay = setTimeout(function() {
                            n._scatterDelay = null, n._scatter.play()
                        }, e), this) : (this._scatter.play(), this) : this
                    }
                }, {
                    key: "_stopScatter",
                    value: function() {
                        return this._scatterDelay && (clearTimeout(this._scatterDelay), this._scatterDelay = null), this._scatter && this._scatter.stop(), this
                    }
                }, {
                    key: "playBigWin",
                    value: function() {
                        return this._assets.getRandomBigWin().play(), this
                    }
                }, {
                    key: "playSmallWin",
                    value: function() {
                        return this._assets.getRandomSmallWin().play(), this
                    }
                }, {
                    key: "playScatterWin",
                    value: function() {
                        return this._assets.getScatterWin().play(), this
                    }
                }, {
                    key: "playScatterSpecialWin",
                    value: function(t) {
                        var e = this;
                        return this._specialWin && (this._specialWin.off("end"), this._specialWin.stop()), this._specialWin = this._assets.getScatterSpecialWin(t), this._specialWin && (this.isPlayingSequence = !0, this._specialWin.once("end", function() {
                            e.emit(p.SEQUENCE_COMPLETE), e.isPlayingSequence = !1
                        }), this._specialWin.play()), this
                    }
                }, {
                    key: "_playPayRun",
                    value: function() {
                        return this._playLoop(this._assets.getPayRun()), this
                    }
                }, {
                    key: "_stopPayRun",
                    value: function() {
                        return this._stopLoop(this._assets.getPayRun()), this
                    }
                }, {
                    key: "playTake",
                    value: function() {
                        return this._assets.getPayRun() ? this._playPayRun() : this._assets.getTake().play(), this
                    }
                }, {
                    key: "endTake",
                    value: function() {
                        return this._assets.getPayRun() && (this._stopPayRun(), this._assets.getTake().play()), this
                    }
                }, {
                    key: "playSlideIn",
                    value: function() {
                        return this._assets.getSlideIn().play(), this
                    }
                }, {
                    key: "playRisk",
                    value: function() {
                        return this._assets.getRisk().play(), this
                    }
                }, {
                    key: "playSlowDown",
                    value: function() {
                        return this._playOptionalSound(this._assets.getSlowDown()), this
                    }
                }, {
                    key: "playSlowDownLoop",
                    value: function() {
                        var t = this._assets.getSlowDownLoop();
                        return t && !this._isPlayingSlowDownLoop && (this._isPlayingSlowDownLoop = !0, this._playLoop(t)), this
                    }
                }, {
                    key: "stopSlowDownLoop",
                    value: function() {
                        var t = this._assets.getSlowDownLoop();
                        return t && (this._isPlayingSlowDownLoop = !1, this._stopLoop(t)), this
                    }
                }, {
                    key: "playSpecialPreWin",
                    value: function() {
                        return this._playOptionalSound(this._assets.getSpecialPreWin()), this
                    }
                }, {
                    key: "_playOptionalSound",
                    value: function(t, e) {
                        var n = this;
                        t && (e && t.once("end", function() {
                            n.emit(e)
                        }), t.play())
                    }
                }, {
                    key: "stopSpecialPreWin",
                    value: function() {
                        return this._stopOptionalSound(this._assets.getSpecialPreWin()), this
                    }
                }, {
                    key: "_stopOptionalSound",
                    value: function(t) {
                        t && t.stop()
                    }
                }, {
                    key: "playAfterSpin",
                    value: function() {
                        return this._playOptionalSound(this._assets.getAfterSpin()), this
                    }
                }, {
                    key: "playScatterGameWinBonus",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterGameWinBonus()), this
                    }
                }, {
                    key: "playWaiting",
                    value: function() {
                        return this._playLoop(this._assets.getWaiting()), this
                    }
                }, {
                    key: "_playLoop",
                    value: function(t) {
                        t && (t.stop(), t.enableLoop(), t.play())
                    }
                }, {
                    key: "_stopLoop",
                    value: function(t) {
                        t && (t.disableLoop(), t.stop())
                    }
                }, {
                    key: "stopWaiting",
                    value: function() {
                        return this._stopLoop(this._assets.getWaiting()), this
                    }
                }, {
                    key: "playWinBackgroundMelody",
                    value: function() {
                        return this._playLoop(this._assets.getWinBackgroundMelody()), this
                    }
                }, {
                    key: "stopWinBackgroundMelody",
                    value: function() {
                        var t = this._assets.getWinBackgroundMelody();
                        return t && this._stopLoop(t), this
                    }
                }, {
                    key: "playScatterBackgroundMelody",
                    value: function() {
                        var t = this._assets.getScatterBackgroundMelody();
                        if (t && !this._isPlayingScatterBackground) {
                            this._isPlayingScatterBackground = !0, this._playLoop(t);
                            t.fade(0, 1, 5e3)
                        }
                        return this
                    }
                }, {
                    key: "setScatterBackgroundMelodyMediumVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(this.SCATTER_BACKGROUND_MEDIUM_VOLUME)
                    }
                }, {
                    key: "_setScatterBackgroundMelodyVolume",
                    value: function(t) {
                        var e = this._assets.getScatterBackgroundMelody();
                        if (e && this._isPlayingScatterBackground) {
                            var n = e.getVolume(),
                                i = t;
                            e.fade(n, i, 500)
                        }
                        return this
                    }
                }, {
                    key: "setScatterBackgroundMelodyLowVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(this.SCATTER_BACKGROUND_LOW_VOLUME)
                    }
                }, {
                    key: "setScatterBackgroundMelodyFullVolume",
                    value: function() {
                        return this._setScatterBackgroundMelodyVolume(1)
                    }
                }, {
                    key: "stopScatterBackgroundMelody",
                    value: function() {
                        var t = this._assets.getScatterBackgroundMelody();
                        return t && (this._isPlayingScatterBackground = !1, this._stopLoop(t)), this
                    }
                }, {
                    key: "playScatterHeaderIntro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterHeaderIntroSound()), this
                    }
                }, {
                    key: "playTransform",
                    value: function() {
                        var t = this._assets.getTransformSound();
                        return this._playOptionalSound(t), this
                    }
                }, {
                    key: "playScatterTransform",
                    value: function() {
                        var t = this._assets.getScatterTransformSound() || this._assets.getScatterHeaderIntroSound();
                        return this._playOptionalSound(t), this
                    }
                }, {
                    key: "playScatterSelectIntro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterSelectIntroSound(), p.SCATTER_SELECT_COMPLETE), this
                    }
                }, {
                    key: "playScatterSelectIntroLoop",
                    value: function() {
                        return this._playLoop(this._assets.getScatterSelectIntroSound()), this
                    }
                }, {
                    key: "stopScatterSelectIntroLoop",
                    value: function() {
                        return this._stopLoop(this._assets.getScatterSelectIntroSound()), this
                    }
                }, {
                    key: "playScatterOutro",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterOutro()), this
                    }
                }, {
                    key: "playScatterAnnounce",
                    value: function() {
                        return this._playOptionalSound(this._assets.getScatterAnnounce()), this
                    }
                }, {
                    key: "_stopScatterAnnounce",
                    value: function() {
                        return this._stopOptionalSound(this._assets.getScatterAnnounce()), this
                    }
                }, {
                    key: "playCardFlip",
                    value: function() {
                        return this._playLoop(this._assets.getCardFlip()), this
                    }
                }, {
                    key: "stopCardFlip",
                    value: function() {
                        return this._stopLoop(this._assets.getCardFlip()), this
                    }
                }, {
                    key: "playGambleLost",
                    value: function() {
                        var t = this,
                            e = this._assets.getGambleLost();
                        return e.once("end", function() {
                            t.emit(p.GAMBLE_COMPLETE)
                        }), e.play(), this
                    }
                }, {
                    key: "playGambleWin",
                    value: function(t) {
                        var e = this,
                            n = this._assets.getGambleWin(t || 0);
                        return n.once("end", function() {
                            e.emit(p.GAMBLE_COMPLETE)
                        }), n.play(), this
                    }
                }, {
                    key: "playPotWin",
                    value: function(t) {
                        var e = this;
                        return this._stopPotWin(), this._potWin = this._assets.getPotWin(t || 0), this._potWin.once("end", function() {
                            e.emit(p.POT_COMPLETE), e._potWin = null
                        }), this._potWin.play(), this
                    }
                }, {
                    key: "_stopPotWin",
                    value: function() {
                        this._potWin && (this._potWin.off("end"), this._potWin.stop(), this._potWin = null)
                    }
                }, {
                    key: "playMessage",
                    value: function() {
                        return this._assets.getMessage().play(), this
                    }
                }, {
                    key: "playGambleAutoTake",
                    value: function() {
                        return this._assets.getGambleAutoTake().play(), this
                    }
                }, {
                    key: "playSequence",
                    value: function(t) {
                        var e = this;
                        this.stopSequence();
                        var n = this._fromSequence(t);
                        if (n.length > 1)
                            for (var i = 0; i < n.length - 1; i += 1) this._chainSounds(n[i], n[i + 1]);
                        n.length && (this.isPlayingSequence = !0, n[n.length - 1][0].once("end", function() {
                            e.emit(p.SEQUENCE_COMPLETE), e.isPlayingSequence = !1
                        }), n[0].forEach(function(t) {
                            t.play()
                        }), this._sequence = n);
                        return this
                    }
                }, {
                    key: "_fromSequence",
                    value: function(t) {
                        var e = this;
                        return t.map(function(t) {
                            return (Array.isArray(t) ? t : [t]).map(function(t) {
                                return e._getSoundByType(ls.toSoundType(t))
                            })
                        })
                    }
                }, {
                    key: "_chainSounds",
                    value: function(t, e) {
                        t[0].once("end", function() {
                            e.forEach(function(t) {
                                t.play()
                            })
                        })
                    }
                }, {
                    key: "_getSoundByType",
                    value: function(t) {
                        var e = t.split(":");
                        switch (e[0]) {
                            case ls.SMALL_WIN:
                                return e.length > 1 ? this._assets.getSmallWin(e[1]) : this._assets.getRandomSmallWin();
                            case ls.BIG_WIN:
                                return e.length > 1 ? this._assets.getBigWin(e[1]) : this._assets.getRandomBigWin();
                            case ls.SCATTER_WIN:
                                return e.length > 1 ? this._assets.getScatterWin(e[1]) : this._assets.getRandomScatterWin();
                            case ls.CSENGO_SHORT:
                                return this._assets.getCsengoShort();
                            case ls.CSENGO:
                                return this._assets.getCsengo();
                            case ls.CSENGO_LONG:
                                return this._assets.getCsengoLong();
                            case ls.CONGRATULATIONS:
                                return this._assets.getCongratulations();
                            case ls.SILENCE:
                                return e.length > 1 ? this._createSilence(e[1]) : this._createSilence();
                            default:
                                return ts.logWarning("Unknown soundType ".concat(t)), this._createSilence()
                        }
                    }
                }, {
                    key: "_createSilence",
                    value: function(t) {
                        return new ds(t)
                    }
                }, {
                    key: "stopSequence",
                    value: function() {
                        return this.isPlayingSequence = !1, this._sequence && this._sequence.forEach(function(t) {
                            t.forEach(function(t) {
                                t.off("end"), t.stop()
                            })
                        }), this
                    }
                }, {
                    key: "mute",
                    value: function() {
                        return this._howlerWrapper.mute(!0), this
                    }
                }, {
                    key: "setHalfVolume",
                    value: function() {
                        return this._howlerWrapper.volume(.4), this._howlerWrapper.mute(!1), this
                    }
                }, {
                    key: "setFullVolume",
                    value: function() {
                        return this._howlerWrapper.volume(1), this._howlerWrapper.mute(!1), this
                    }
                }, {
                    key: "getVolume",
                    value: function() {
                        return this._howlerWrapper.getVolume()
                    }
                }, {
                    key: "stop",
                    value: function() {
                        return this.stopMelody().stopWaiting().stopSpecialPreWin().stopCardFlip().stopSequence()._stopPayRun()._stopScatterAnnounce(), this
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.stopSequence(), this._sequence = null, this._assets = null, this._melody = null, this._scatter = null, this._potWin = null, clearTimeout(this._scatterDelay), this._scatterDelay = null, this._howlerWrapper = null
                    }
                }]), e
        }(),
        ws = n(67);

    function ks(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Es = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._assets = e
            }
            return function(t, e, n) {
                e && ks(t.prototype, e), n && ks(t, n)
            }(t, [{
                key: "create",
                value: function() {
                    return new Ss(this._assets, new ws.a)
                }
            }]), t
        }(),
        Ts = n(10),
        Cs = n(18),
        Os = n(4),
        As = n(35);

    function Ps(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Is = function() {
        function t(e) {
            var n = e.model,
                i = e.view,
                o = e.server,
                r = e.config;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = n, this._view = i, this._server = o, this._config = r;
            var a = this._model.potServerConfigs.length > 0 ? this._model.potServerConfigs : Pr.a.getPotConfigs();
            a && a.length > 0 && this._consolidatePotConfigs(a), this._model.on(Ts.a.POT_HITS_CHANGE, this._handlePotHits, this)
        }
        return function(t, e, n) {
            e && Ps(t.prototype, e), n && Ps(t, n)
        }(t, [{
            key: "_consolidatePotConfigs",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    e = this._config.text.pots,
                    n = e.map(function(t) {
                        return t.id
                    });
                this._model.potConfigs = t.map(function(t) {
                    var i = t.id.slice(-2),
                        o = n.indexOf(i),
                        r = o > -1 ? o : 0;
                    return {
                        id: t.id,
                        label: t.label || t.name,
                        maxValue: e[r].maxValue,
                        moveDuration: e[r].moveDuration,
                        win: e[r].win,
                        x: e[r].x,
                        y: e[r].y
                    }
                })
            }
        }, {
            key: "_handlePotHits",
            value: function(t, e) {
                var n = this;
                this._model.potConfigs.forEach(function(t, i) {
                    var o = e[t.id];
                    if (o && o.self && o.now) {
                        n._model.potWin = o.winAmount;
                        var r = n._createPotCompleteHandler(t, o);
                        n._model.slot.controller.once(d.a.POT_COMPLETE, r, n), n._model.slot.controller.announcePot(i, o.winAmount), n._server.once(Yr.GET_CREDITS, n._setWaitingForCreditsFalse, n), n._waitingForCredits = !0, n._server.getCredits()
                    }
                })
            }
        }, {
            key: "_setWaitingForCreditsFalse",
            value: function() {
                this._waitingForCredits = !1
            }
        }, {
            key: "_createPotCompleteHandler",
            value: function(t, e) {
                return function() {
                    var n = this,
                        i = this._createPotMessage(t, e);
                    this._model.slot.controller.message(), this._queuedPotMessage ? this._view.showAlert(i, function() {
                        n._view.showAlert(n._queuedPotMessage, n._confirmPot.bind(n))
                    }) : (this._view.showAlert(i, this._confirmPot.bind(this)), this._queuedPotMessage = i)
                }
            }
        }, {
            key: "_confirmPot",
            value: function() {
                this._queuedPotMessage = "", this._view.hideAlert(), this._waitingForCredits ? this._server.once(Yr.GET_CREDITS, this._takePot, this) : this._takePot()
            }
        }, {
            key: "_takePot",
            value: function() {
                this._model.credits += this._model.potWin, this._model.potWin = 0, this._model.slot.controller.takePot()
            }
        }, {
            key: "_createPotMessage",
            value: function(t, e) {
                var n = this._config.language.potWin;
                return (n = n.replace("%LABEL%", t.label)).replace("%WINAMOUNT%", Qi.a.formatCredit(e.winAmount, this._config.text.format))
            }
        }, {
            key: "destroy",
            value: function() {
                this._model.off(Ts.a.POT_HITS_CHANGE, this._handlePotHits), this._model = null, this._view = null, this._server.removeListener(Yr.GET_CREDITS, this._setWaitingForCreditsFalse), this._server.removeListener(Yr.GET_CREDITS, this._takePot), this._server = null, this._config = null
            }
        }]), t
    }();

    function xs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Rs = function() {
            function t(e) {
                var n = e.model,
                    i = e.view,
                    o = e.config;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = n, this._view = i, this._config = o
            }
            return function(t, e, n) {
                e && xs(t.prototype, e), n && xs(t, n)
            }(t, [{
                key: "showStartupMessages",
                value: function() {
                    var t = this,
                        e = !Os.a.isBigScreen() || this._config.desktop.requestFullscreen,
                        n = Os.a.isNarrowScreen(this._config.display),
                        i = e && !Os.a.isFullscreen() && !n,
                        o = Os.a.isOptimalBrowser(),
                        r = o ? this._config.language.welcome : this._config.language.browserWarning,
                        a = i ? function() {
                            t._model.slot.controller.activate(), t._confirmChangeToFullscreen()
                        } : function() {
                            t._model.slot.controller.activate(), t._view.hideAlert()
                        };
                    return !i && o || (this._model.slot.controller.deactivate(), this._view.showAlert(r, a)), e && this._view.on(Sn.a.REQUEST_FULLSCREEN, this._changeToFullscreen, this), this._view
                }
            }, {
                key: "_confirmChangeToFullscreen",
                value: function() {
                    return this._changeToFullscreen(), this._view.hideAlert(), this._view
                }
            }, {
                key: "_changeToFullscreen",
                value: function() {
                    Os.a.requestFullscreen(), this._view.updateInteractionState()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model = null, this._view.removeListener(Sn.a.REQUEST_FULLSCREEN, this._changeToFullscreen), this._view = null, this._config = null
                }
            }]), t
        }(),
        Ws = {
            STATUS_CHANGE: "change:status"
        };

    function Ns(t) {
        return (Ns = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function js(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ls(t, e) {
        return !e || "object" !== Ns(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Gs(t) {
        return (Gs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ms(t, e) {
        return (Ms = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Bs = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.server,
                a = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Ls(this, Gs(e).call(this)))._model = i, n._view = o, n._server = r, n._config = a, n._waitingFor = {}, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ms(t, e)
            }(e, on.a),
            function(t, e, n) {
                e && js(t.prototype, e), n && js(t, n)
            }(e, [{
                key: "_handleTake",
                value: function() {
                    this._model.mode = this._model.slot, this._model.once(Ts.a.CREDITS_CHANGE, this._setWaitingForTakeFalse, this), this._waitingFor.take = !0, this._server.take()
                }
            }, {
                key: "_setWaitingForTakeFalse",
                value: function() {
                    this._waitingFor.take = !1
                }
            }, {
                key: "_handleSettings",
                value: function() {
                    this._model.mode = this._model.settings
                }
            }, {
                key: "update",
                value: function() {
                    this._updateAppStatus(), this._getMode().model.off(Ws.STATUS_CHANGE, this._updateAppStatus), this._getMode().model.on(Ws.STATUS_CHANGE, this._updateAppStatus, this)
                }
            }, {
                key: "_updateAppStatus",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.status = this._getMode().model.status)
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.mode
                }
            }, {
                key: "destroy",
                value: function() {
                    this._getMode().model.off(Ws.STATUS_CHANGE, this._updateAppStatus), this._model.off(Ts.a.CREDITS_CHANGE, this._setWaitingForTakeFalse), this._model = null, this._view = null, this._server = null, this._config = null, this._waitingFor = null
                }
            }]), e
    }();

    function Fs(t) {
        return (Fs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Hs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ds(t, e) {
        return !e || "object" !== Fs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ks(t) {
        return (Ks = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Us(t, e) {
        return (Us = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ys = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.view,
                r = t.server,
                a = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Ds(this, Ks(e).call(this, {
                model: i,
                view: o,
                server: r,
                config: a
            })))._cache = {
                previousScatterTotal: 0
            }, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Us(t, e)
            }(e, Bs),
            function(t, e, n) {
                e && Hs(t.prototype, e), n && Hs(t, n)
            }(e, [{
                key: "init",
                value: function() {
                    var t = this._getMode().model;
                    t.on(m.a.GAME_TYPE_CHANGE, this._handleChangeGameType, this), t.on(m.a.MAY_TURBO_CHANGE, this._handleChangeMayTurbo, this), t.on(m.a.STATUS_CHANGE, this._handleChangeStatus, this);
                    var e = this._getMode().controller;
                    e.on(d.a.SPIN, this._handleSpin, this), e.on(d.a.GAMBLE, this._handleGamble, this), e.on(d.a.TAKE, this._handleTake, this), e.on(d.a.SETTINGS, this._handleSettings, this), e.on(d.a.EXIT, this._handleExit, this), e.on(d.a.WINLINE_NUMBER_TAP, this._handleWinlineNumberTap, this), this._model.once(Ts.a.SCATTER_GAMES_CHANGE, this._handleScatterGamesChange, this), this._model.on(Ts.a.SELECTED_WINLINES_COUNT_CHANGE, this._handleSelectedWinlinesCountChange, this), this._model.on(Ts.a.BET_CHANGE, this._handleBetChange, this), this._view.addToTop(this._getMode().view.getWinTextContainer()), this._view.addToTop(this._getMode().view.getWinMessageContainer()), this._getMode().view.addToBackground(this._view.getScatterGamesWidget())
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.slot
                }
            }, {
                key: "_handleChangeGameType",
                value: function(t, e) {
                    this._model.settings.model.gameType = e, this._model.gamble.model.gameType = e
                }
            }, {
                key: "_handleChangeMayTurbo",
                value: function(t, e) {
                    this._model.settings.controller.updateTurboSetting({
                        enabled: e
                    })
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    var n = this._getMode();
                    n.model.isFirstWalk && n.model.bonusType === c.a.BEFORE_WINLINE_WALK ? this._updateScatterGameWinBonus() : e === f.a.READY && (this._updateScatterGames(), this._cache.previousScatterTotal < this._model.scatterGames.total && n.controller.announceScatter(), n.model.scatterMessage = this._getScatterMessage(), n.model.scatterMessage && (n.model.autoPlayEnabled = !1), n.model.willSwitchToRegular && (n.model.gameType = n.model.nextGameType), this._cache.previousScatterTotal = this._model.scatterGames.total)
                }
            }, {
                key: "_updateScatterGameWinBonus",
                value: function() {
                    var t = this._getMode(),
                        e = this._model.scatterGames;
                    this._model.scatterGames = {
                        current: e.current,
                        total: e.total,
                        win: e.win + t.model.scatterGameWinBonus
                    }, this._model.credits += t.model.scatterGameWinBonus, t.model.scatterGameWinBonus = 0
                }
            }, {
                key: "_updateScatterGames",
                value: function() {
                    var t = this._getMode(),
                        e = this._model.scatterGames,
                        n = t.model.nextGameType === h.a.SCATTER;
                    t.model.willSwitchToRegular ? this._model.scatterGames = {
                        current: 0,
                        total: e.total,
                        win: e.win + t.model.takenAmount + t.model.scatterGameWinBonus
                    } : e.total && e.current < e.total && n && (this._model.scatterGames = {
                        current: e.current + 1,
                        total: e.total,
                        win: e.win + t.model.scatterGameWinBonus
                    }), this._model.credits += t.model.scatterGameWinBonus, t.model.scatterGameWinBonus = 0
                }
            }, {
                key: "_getScatterMessage",
                value: function() {
                    return this._getMode().model.willSwitchToRegular ? this._getEndScatterMessage() : !this._cache.previousScatterTotal && this._model.scatterGames.total ? this._getBeginScatterMessage() : this._cache.previousScatterTotal < this._model.scatterGames.total ? this._getMoreScatterMessage() : ""
                }
            }, {
                key: "_getEndScatterMessage",
                value: function() {
                    var t = this._config.language.endScatter;
                    if (t) {
                        var e = t,
                            n = this._config.text.format,
                            i = Qi.a.formatCredit(this._model.scatterGames.win, n);
                        return (e = e.replace("%WIN%", "".concat(i, " ").concat(n.currency))).replace("%GAMES%", this._model.scatterGames.total)
                    }
                    return ""
                }
            }, {
                key: "_getBeginScatterMessage",
                value: function() {
                    var t = this._config.language.beginScatter;
                    return t ? t.replace("%GAMES%", this._model.scatterGames.total) : ""
                }
            }, {
                key: "_getMoreScatterMessage",
                value: function() {
                    var t = this._config.language.moreScatter;
                    if (t) {
                        var e = this._model.scatterGames.total - this._cache.previousScatterTotal;
                        return t.replace("%GAMES%", e)
                    }
                    return ""
                }
            }, {
                key: "_handleSpin",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.hasSufficientFunds ? this._spin() : this._cancelSpin())
                }
            }, {
                key: "_spin",
                value: function() {
                    return this._waitingFor.take ? this._model.once(Ts.a.CREDITS_CHANGE, this._serverSpin, this) : this._serverSpin(), this
                }
            }, {
                key: "_serverSpin",
                value: function() {
                    this._server.spin()
                }
            }, {
                key: "_cancelSpin",
                value: function() {
                    return this._view.showAlert(this._config.text.status.insufficientFunds, this._view.hideAlert.bind(this._view)), this.emit(Cs.a.CANCEL), this
                }
            }, {
                key: "_handleGamble",
                value: function() {
                    this._model.mode = this._model.gamble
                }
            }, {
                key: "_handleExit",
                value: function() {
                    var t = this._getMode().model;
                    if (t.gameType === h.a.REGULAR || t.willSwitchToRegular) this.emit(Cs.a.EXIT);
                    else {
                        var e = this._config.language.cantQuitScatter,
                            n = this._view.hideAlert.bind(this._view);
                        this._view.showAlert(e, n)
                    }
                }
            }, {
                key: "_handleWinlineNumberTap",
                value: function() {
                    var t = this._model.settings.model,
                        e = this._model.slot.model;
                    if (t.winlineSelections.length > 1 && !e.isInScatter) {
                        var n = t.winlines === Ki.HIGH_COUNT;
                        t.winlines = n ? Ki.LOW_COUNT : Ki.HIGH_COUNT
                    }
                }
            }, {
                key: "_handleScatterGamesChange",
                value: function(t, e) {
                    this._cache.previousScatterTotal = e.total
                }
            }, {
                key: "_handleSelectedWinlinesCountChange",
                value: function(t, e) {
                    this._model.settings.model.selectedWinlinesCount = e, this._getMode().view.setSelectedWinlines(e)
                }
            }, {
                key: "_handleBetChange",
                value: function(t, e) {
                    this._getMode().model.bet = e
                }
            }, {
                key: "update",
                value: function() {
                    this._getMode().model.status = this._getNextStatus(), Bs.prototype.update.call(this)
                }
            }, {
                key: "_getNextStatus",
                value: function() {
                    return this._model.win > 0 ? f.a.TAKING : this._getMode().model.willSwitchToScatter ? f.a.BEFORE_SCATTER : this._getMode().model.hasScatterSelection ? f.a.SCATTER_SELECT : this._getMode().model.willSwitchToRegular ? f.a.SCATTER_OUTRO : this._getMode().model.status === f.a.READY ? f.a.READY : f.a.BEFORE_READY
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(Ts.a.CREDITS_CHANGE, this._serverSpin), Bs.prototype.destroy.call(this)
                }
            }]), e
    }();

    function qs(t) {
        return (qs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Vs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Xs(t, e) {
        return !e || "object" !== qs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function zs(t) {
        return (zs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Qs(t, e) {
        return (Qs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Js = function(t) {
        function e(t) {
            var n = t.model,
                i = t.view,
                o = t.server,
                r = t.config;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Xs(this, zs(e).call(this, {
                model: n,
                view: i,
                server: o,
                config: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Qs(t, e)
            }(e, Bs),
            function(t, e, n) {
                e && Vs(t.prototype, e), n && Vs(t, n)
            }(e, [{
                key: "init",
                value: function() {
                    var t = this._getMode().controller;
                    return t.on(pn.TAKE, this._handleTake, this), t.on(pn.DONE, this._handleDone, this), t.on(pn.SETTINGS, this._handleSettings, this), t.on(pn.SELECT_BLACK, this._createSelectHandler(ri.BLACK), this), t.on(pn.SELECT_RED, this._createSelectHandler(ri.RED), this), this
                }
            }, {
                key: "_getMode",
                value: function() {
                    return this._model.gamble
                }
            }, {
                key: "_handleDone",
                value: function() {
                    this._model.mode === this._getMode() && (this._model.mode = this._model.slot, this._handleForcedAutoTake())
                }
            }, {
                key: "_handleForcedAutoTake",
                value: function() {
                    this._model.credits += this._model.win, this._model.slot.model.takenAmount = this._model.win, this._model.win = 0
                }
            }, {
                key: "_createSelectHandler",
                value: function(t) {
                    return function() {
                        var e = this;
                        this._model.mode === this._getMode() && (this._waitingFor.getGambleInfo ? this._getMode().model.once(mn.STAKE_CHANGE, function() {
                            e._server.gamble(t)
                        }) : this._server.gamble(t))
                    }
                }
            }, {
                key: "update",
                value: function() {
                    this._getMode().controller.start(), this._getMode().model.on(mn.STAKE_CHANGE, this._setWaitingForGambleInfoFalse, this), this._waitingFor.getGambleInfo = !0, this._server.getGambleInfo(), Bs.prototype.update.call(this)
                }
            }, {
                key: "_setWaitingForGambleInfoFalse",
                value: function() {
                    this._waitingFor.getGambleInfo = !1
                }
            }]), e
    }();

    function $s(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Zs = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._model = e, this._view = n
            }
            return function(t, e, n) {
                e && $s(t.prototype, e), n && $s(t, n)
            }(t, [{
                key: "init",
                value: function() {
                    this._initSettings(), this._addSettingsListeners(), this._model.on(Ts.a.SCATTER_GAMES_CHANGE, this._handleScatterGamesChange, this), this._model.once(Ts.a.SELECTED_WINLINES_COUNT_CHANGE, this._handleSelectedWinlinesCountChange, this)
                }
            }, {
                key: "_initSettings",
                value: function() {
                    var t = this._model.slot.model,
                        e = this._model.settings.model;
                    this._model.settings.controller.updateTurboSetting({
                        enabled: t.mayTurbo
                    }), t.wantsGamble = e.wantsGamble, t.wantsTurbo = e.wantsTurbo, e.controlsAlignment === Fi.LEFT && this._view.switchControlsAlignment()
                }
            }, {
                key: "_addSettingsListeners",
                value: function() {
                    this._model.settings.controller.on(Yi.BACK, this._handleBack, this);
                    var t = this._model.settings.model;
                    return t.on(Vi.BET_CHANGE, this._handleChangeBet, this), t.on(Vi.WINLINES_CHANGE, this._handleWinlinesChange, this), t.on(Vi.WANTS_GAMBLE_CHANGE, this._handleChangeWantsGamble, this), t.on(Vi.WANTS_TURBO_CHANGE, this._handleChangeWantsTurbo, this), t.on(Vi.CONTROLS_ALIGNMENT_CHANGE, this._handleChangeControlsAlignment, this), this
                }
            }, {
                key: "_handleBack",
                value: function() {
                    this._model.mode = this._model.previousMode
                }
            }, {
                key: "_handleChangeBet",
                value: function() {
                    this._model.bet = this._model.settings.model.bet
                }
            }, {
                key: "_handleWinlinesChange",
                value: function() {
                    var t = this._model.settings.model;
                    t.winlineSelections.length > t.winlines && (this._model.selectedWinlinesCount = t.winlineSelections[t.winlines])
                }
            }, {
                key: "_handleChangeWantsGamble",
                value: function(t, e) {
                    this._model.slot.model.wantsGamble = e
                }
            }, {
                key: "_handleChangeWantsTurbo",
                value: function(t, e) {
                    this._model.slot.model.wantsTurbo = e
                }
            }, {
                key: "_handleChangeControlsAlignment",
                value: function() {
                    this._view.switchControlsAlignment()
                }
            }, {
                key: "_handleScatterGamesChange",
                value: function(t, e) {
                    this._model.settings.model.isInScatter = Boolean(e.total)
                }
            }, {
                key: "_handleSelectedWinlinesCountChange",
                value: function(t, e) {
                    var n = this._model.settings.model;
                    n.winlineSelections.indexOf(e) > 0 && (n.winlines = Ki.HIGH_COUNT)
                }
            }, {
                key: "update",
                value: function() {
                    this._model.settings.controller.update()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.settings.controller.removeListener(Yi.BACK, this._handleBack);
                    var t = this._model.settings.model;
                    t.off(Vi.BET_CHANGE, this._handleChangeBet), t.off(Vi.WANTS_GAMBLE_CHANGE, this._handleChangeWantsGamble), t.off(Vi.WANTS_TURBO_CHANGE, this._handleChangeWantsTurbo), t.off(Vi.CONTROLS_ALIGNMENT_CHANGE, this._handleChangeControlsAlignment), this._model = null, this._view = null
                }
            }]), t
        }(),
        tu = n(65),
        eu = n(27);

    function nu(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var iu = function() {
        function t(e) {
            var n = e.model,
                i = e.view,
                o = e.config,
                r = e.assets,
                a = e.layoutAdjuster,
                s = e.authToken,
                u = e.socket,
                l = e.exitCallback,
                c = e.beforeExitCallback,
                h = e.logService;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._model = n, this._view = i, this._config = o, this._assets = r, this._layoutAdjuster = a, this._authToken = s || Pr.a.retrieveAuthToken(), this._socket = u, this._exitCallback = l, this._beforeExitCallback = c, this._strategies = {}, ts.logService = h, ts.logInfo("Player started game: ".concat(o.server.gameId, " at ").concat(o.server.url)), this._init()
        }
        return function(t, e, n) {
            e && nu(t.prototype, e), n && nu(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                var t = this,
                    e = this._createModeFactory();
                this._model.preload = e.createPreload(), this._model.mode = this._model.preload, this._view.on(Cs.a.DIALOG_CONFIRM, this._handleDialogConfirm, this), this._view.on(Cs.a.CRITICAL_FAULT_CONFIRM, this._handleCriticalFault, this), this._view.on(Cs.a.REQUEST_FULLSCREEN, this._handleRequestFullscreen, this), this._waitingFor = {};
                var n = this._createLoadedAssetsHandler(e);
                return this._assets.on(As.a.COMPLETE, n, this), this._assets.on(As.a.PROGRESS, this._handleAssetsProgress, this), this._assets.on(As.a.ERROR, this._handleAssetsError, this), this._createFontLoader().loadFonts(this._config.fonts, function() {
                    t._assets.preload()
                }), this._keyboardControls = this._createKeyboardControls(), this._keyboardControls.onKeyDown(eu.a.F, function() {
                    var e = t._model.settings.model;
                    e.turbo = e.turbo === Di.ON ? Di.OFF : Di.ON
                }), Os.a.addBeforeUnloadListener(function() {}, function() {
                    t._handleExit()
                }), this
            }
        }, {
            key: "_createModeFactory",
            value: function() {
                return new Mr(this._config.modes, this._assets, this._layoutAdjuster, new Es(this._assets))
            }
        }, {
            key: "_handleDialogConfirm",
            value: function(t) {
                t.isCritical ? this._handleExit() : t.code > 0 && (this._view.hideAlert(), this._cancelLastAction(), this._model.mode === this._model.preload && this._server.connect()), this._model.error = null
            }
        }, {
            key: "_cancelLastAction",
            value: function() {
                return this._model.mode.controller && this._model.mode.controller.cancel && this._model.mode.controller.cancel(), this._model.mode.controller
            }
        }, {
            key: "_createLoadedAssetsHandler",
            value: function(t) {
                return function() {
                    this._model.slot = t.createSlot(), this._model.gamble = t.createGamble(), this._model.settings = t.createSettings(), this._model.on(Ts.a.MODE_CHANGE, this._handleModeChange, this), this._view.on(Cs.a.BET_SETTINGS_TAP, this._handleBetSettingsTap, this), this._view.on(Cs.a.WIN_COUNT_COMPLETE, this._handleWinCountComplete, this);
                    var e = this._createServerFactory();
                    this._server = e.createServer(this._model, this._authToken, this._socket), this._strategies.slot = this._getSlotStrategy(), this._strategies.gamble = this._getGambleStrategy(), this._strategies.settings = this._getSettingsStrategy(), this._server.once(Yr.CONNECT, this._handleServerConnect, this), this._server.connect()
                }
            }
        }, {
            key: "_getSlotStrategy",
            value: function() {
                return this._strategies.slot = this._strategies.slot || new Ys({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.slot
            }
        }, {
            key: "_getGambleStrategy",
            value: function() {
                return this._strategies.gamble = this._strategies.gamble || new Js({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.gamble
            }
        }, {
            key: "_getSettingsStrategy",
            value: function() {
                return this._strategies.settings = this._strategies.settings || new Zs(this._model, this._view), this._strategies.settings
            }
        }, {
            key: "_handleModeChange",
            value: function(t, e) {
                switch (t.previousMode = t.previousAttributes().mode, e) {
                    case t.slot:
                        this._strategies.slot.update();
                        break;
                    case t.gamble:
                        this._strategies.gamble.update();
                        break;
                    case t.settings:
                        this._strategies.settings.update()
                }
            }
        }, {
            key: "_handleBetSettingsTap",
            value: function() {
                var t = this._model.slot.model;
                this._model.status === f.a.READY && !t.autoPlayEnabled && t.isActive && (this._model.mode = this._model.settings, this._model.settings.controller.changeToBetSettings())
            }
        }, {
            key: "_handleWinCountComplete",
            value: function() {
                this._model.mode.controller.endTake()
            }
        }, {
            key: "_handleServerConnect",
            value: function() {
                var t = this;
                Os.a.removeBeforeUnloadListener(), Os.a.addBeforeUnloadListener(function() {
                    return t._model.scatterGames.total > 0 && !t._model.slot.model.willSwitchToRegular ? t._config.language.unloadScatterWarning : t._model.win > 0 ? t._config.language.unloadWinningsWarning : null
                }, function() {
                    t._handleExit()
                }), this._model.mode = this._model.slot, this._model.mode.controller.startup(), this._initPots(), this._initStartup(), this._strategies.settings.init(), this._strategies.slot.init(), this._strategies.slot.on(Cs.a.CANCEL, this._cancelLastAction, this), this._strategies.slot.on(Cs.a.EXIT, this._handleExit, this), this._strategies.gamble.init()
            }
        }, {
            key: "_initPots",
            value: function() {
                return this._strategies.pot = this._strategies.pot || new Is({
                    model: this._model,
                    view: this._view,
                    server: this._server,
                    config: this._config
                }), this._strategies.pot
            }
        }, {
            key: "_initStartup",
            value: function() {
                return this._strategies.startup = this._strategies.startup || new Rs({
                    model: this._model,
                    view: this._view,
                    config: this._config
                }), this._strategies.startup.showStartupMessages(), this._strategies.startup
            }
        }, {
            key: "_createServerFactory",
            value: function() {
                return new us(this._config.server)
            }
        }, {
            key: "_handleExit",
            value: function() {
                this._prepareExit(), this._tryGracefulExit()
            }
        }, {
            key: "_prepareExit",
            value: function() {
                return Os.a.removeBeforeUnloadListener(), Pr.a.clearAuthToken(), this._model.slot && (this._model.slot.model.autoPlayEnabled = !1), this._beforeExitCallback && this._beforeExitCallback.call(this), this
            }
        }, {
            key: "_tryGracefulExit",
            value: function() {
                var t = this,
                    e = function() {
                        t._exitCallback && t._exitCallback.call(t, {
                            credits: t._model.credits,
                            pots: t._model.pots
                        })
                    };
                return this._server ? (this._server.logout(e), this) : (e(), this)
            }
        }, {
            key: "_handleCriticalFault",
            value: function() {
                if (this._prepareExit(), this._exitCallback) {
                    var t = this._model.error ? this._model.error.message : "",
                        e = this._model.error ? this._model.error.code : 0,
                        n = this._model.error ? this._model.error.subCode : 0;
                    this._exitCallback.call(this, {
                        credits: this._model.credits,
                        pots: this._model.pots,
                        code: e,
                        subCode: n,
                        message: t
                    })
                }
            }
        }, {
            key: "_handleRequestFullscreen",
            value: function() {
                (!Os.a.isBigScreen() || this._config.desktop.requestFullscreen) && (Os.a.requestFullscreen(), this._view.updateInteractionState())
            }
        }, {
            key: "_handleAssetsProgress",
            value: function(t) {
                void 0 === this._model.preload.model.progress && Os.a.hideSplashScreen(), this._model.preload.model.progress = t
            }
        }, {
            key: "_handleAssetsError",
            value: function() {
                var t = this;
                this._view.showAlert(this._config.language.disconnected, function() {
                    t._assets.preload(), t._view.hideAlert()
                })
            }
        }, {
            key: "_createFontLoader",
            value: function() {
                return new a
            }
        }, {
            key: "_createKeyboardControls",
            value: function() {
                return new tu.a(this._model)
            }
        }, {
            key: "destroy",
            value: function() {
                for (var t in this._view = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this._exitCallback = null, this._waitingFor = null, this._strategies) this._strategies.hasOwnProperty(t) && this._strategies[t].destroy();
                this._strategies = null, this._model.off(), this._destroyMode(this._model.preload), this._model.preload = null, this._destroyMode(this._model.slot), this._model.slot = null, this._destroyMode(this._model.gamble), this._model.gamble = null, this._destroyMode(this._model.settings), this._model.settings = null, this._model = null, this._server && (this._server.removeAllListeners(), this._server.destroy(), this._server = null), this._keyboardControls && (this._keyboardControls.off(), this._keyboardControls.destroy(), this._keyboardControls = null)
            }
        }, {
            key: "_destroyMode",
            value: function(t) {
                t && (t.controller.removeAllListeners(), t.controller.destroy(), t.model.off(), t.off())
            }
        }]), t
    }();
    e.a = iu
}, function(t, e, n) {
    "use strict";
    var i = n(6),
        o = n(11),
        r = n(24),
        a = n(2),
        s = n(7),
        u = n(5),
        l = n(0),
        c = n(1),
        h = n(4),
        f = {
            calculateOnReelX: function(t, e) {
                var n = (t.x - 1) * (e.symbol.width + e.reels.gap);
                return e.reels.x + n
            },
            calculateOnReelY: function(t, e) {
                var n = (t.y - 1) * e.symbol.height;
                return e.reels.y + n
            },
            calculateCenter: function(t, e) {
                var n = Math.floor(.5 * t.length);
                return t.length <= e ? t.forEach(function(t, i) {
                    t.x === Math.ceil(.5 * e) && (n = i)
                }) : e % 2 == 0 && (n -= 2), n
            }
        };

    function _(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var y = function() {
            function t(e) {
                var n = e.config,
                    i = e.assets,
                    o = e.layoutAdjuster;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
            }
            return function(t, e, n) {
                e && _(t.prototype, e), n && _(t, n)
            }(t, [{
                key: "createSymbolIntro",
                value: function(t, e) {
                    var n = this._assets.getSymbolIntro(t);
                    if (!n) return this._createContainer();
                    var i = this._createAnimatedSprite(n);
                    return i.animationSpeed = this._calculateSymbolIntroFps(t) / h.a.FPS, i.x = f.calculateOnReelX(e, this._config), i.y = f.calculateOnReelY(e, this._config), i.loop = !1, i.play(), i.onComplete = function() {
                        i.parent && (i.parent.removeChild(i), i.destroy())
                    }, this._layoutAdjuster.adjustToMain(i)
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new c.Container
                }
            }, {
                key: "_createAnimatedSprite",
                value: function(t) {
                    return new c.extras.AnimatedSprite(t)
                }
            }, {
                key: "_calculateSymbolIntroFps",
                value: function(t) {
                    for (var e = this._config.winlines.animations || [], n = 0; n < e.length; n += 1)
                        if (e[n].id === t) return e[n].introFps || this._config.symbol.introFps || e[n].fps || this._config.symbol.fps;
                    return this._config.symbol.introFps || this._config.symbol.fps
                }
            }]), t
        }(),
        d = n(8);

    function p(t) {
        return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function m(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function v(t, e) {
        return !e || "object" !== p(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function g(t) {
        return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function b(t, e) {
        return (b = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var S = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = v(this, g(e).call(this, {
                    model: i,
                    config: o,
                    assets: r,
                    layoutAdjuster: a
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && b(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && m(t.prototype, e), n && m(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._workshop = this._createWorkshop(), this._symbolIntroContainer = this._createContainer(), this.addChild(this._symbolIntroContainer), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new y({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_handleChangeStatus",
                    value: function(t, e) {
                        switch (e) {
                            case l.a.SPINNING:
                                this._symbolIntroContainer.removeChildren()
                        }
                    }
                }, {
                    key: "showSymbolIntro",
                    value: function(t, e) {
                        var n = this._workshop.createSymbolIntro(t, e);
                        this._symbolIntroContainer.addChild(n)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._symbolIntroContainer = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        w = n(3),
        k = n(42),
        E = n(68);

    function T(t) {
        return (T = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function C(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function O(t, e) {
        return !e || "object" !== T(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function A(t) {
        return (A = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function P(t, e) {
        return (P = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var I = function(t) {
        function e(t) {
            var n = t.message,
                i = t.style,
                o = t.setup,
                r = t.assets;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), O(this, A(e).call(this, {
                message: n,
                style: i,
                setup: o,
                type: k.a.STATUS,
                assets: r
            }))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && P(t, e)
            }(e, E["a"]),
            function(t, e, n) {
                e && C(t.prototype, e), n && C(t, n)
            }(e, [{
                key: "_addBackground",
                value: function() {
                    var t = this._createBackground(this._assets.getScatterMessageBackground()),
                        e = this._setup.size || 1;
                    return t.scale.x = t.scale.y = e, this.addChild(t), t
                }
            }]), e
    }();

    function x(t) {
        return (x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function R(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function W(t, e) {
        return !e || "object" !== x(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function N(t) {
        return (N = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function j(t, e) {
        return (j = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var L = function(t) {
        function e(t) {
            var n, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = W(this, N(e).call(this, t)))._reelIndex = i, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && j(t, e)
            }(e, c["extras"].AnimatedSprite),
            function(t, e, n) {
                e && R(t.prototype, e), n && R(t, n)
            }(e, [{
                key: "getReelIndex",
                value: function() {
                    return this._reelIndex
                }
            }]), e
    }();

    function G(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var M = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && G(t.prototype, e), n && G(t, n)
            }(t, [{
                key: "createQuerySymbols",
                value: function(t) {
                    var e = this;
                    return t.filter(function(t) {
                        return t.flags && t.flags.query
                    }).map(function(t) {
                        return e._createQuerySymbol(t)
                    })
                }
            }, {
                key: "_createQuerySymbol",
                value: function(t) {
                    var e = this._assets.getAnimatedQuerySymbol(),
                        n = new L(e, t.x - 1);
                    return n.x = f.calculateOnReelX(t, this._config), n.y = f.calculateOnReelY(t, this._config), n.animationSpeed = this._calculateAnimationSpeed(), n.loop = !1, n.play(), n
                }
            }, {
                key: "_calculateAnimationSpeed",
                value: function() {
                    var t = this._config.symbol;
                    return (t.queryFps || t.fps) / h.a.FPS
                }
            }, {
                key: "createRevealSymbols",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        return e._assets.getAnimatedQueryReveal(t)
                    }).map(function(t) {
                        var n = e._createAnimatedSprite(t);
                        return n.animationSpeed = e._calculateAnimationSpeed(), n.loop = !1, n.play(), n
                    })
                }
            }, {
                key: "_createAnimatedSprite",
                value: function(t) {
                    return new c.extras.AnimatedSprite(t)
                }
            }, {
                key: "createResultSymbols",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        var n = e._assets.getStaticQueryResult(t);
                        return e._createSprite(n)
                    })
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._assets = null, this._config = null
                }
            }]), t
        }(),
        B = n(12);

    function F(t) {
        return (F = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function H(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function D(t, e) {
        return !e || "object" !== F(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function K(t) {
        return (K = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function U(t, e) {
        return (U = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Y = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = D(this, K(e).call(this)))._config = t, i._assets = n, i._init(), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && U(t, e)
            }(e, B["a"]),
            function(t, e, n) {
                e && H(t.prototype, e), n && H(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._factory = this._createFactory()
                }
            }, {
                key: "_createFactory",
                value: function() {
                    return new M(this._config, this._assets)
                }
            }, {
                key: "showQuery",
                value: function(t, e) {
                    var n = this,
                        i = this._factory.createQuerySymbols(t),
                        o = this._createQueryClickHandler(e);
                    i.forEach(function(t) {
                        t.interactive = !0, h.a.addClickListener(t, o, n), n.addChild(t)
                    })
                }
            }, {
                key: "_createQueryClickHandler",
                value: function(t) {
                    return function(e) {
                        var n = this,
                            i = this._factory.createRevealSymbols(t),
                            r = t.map(function(t) {
                                return n._mapResultId(t)
                            }),
                            a = this._factory.createResultSymbols(r);
                        this.setChildIndex(e.target, 0), this.children.forEach(function(t) {
                            t.interactive = !1, t.removeAllListeners()
                        });
                        var s = e.target.getReelIndex();
                        this._displayQueryOverlay({
                            revealSymbols: i,
                            resultSymbols: a,
                            selectedReelIndex: s
                        }), this.emit(o.a.INPUT_CHANGE);
                        var u = this._config.scatter.queryRevealDuration * (t.length + 1);
                        this._submitTimeout = setTimeout(function() {
                            n.removeChildren(), n.emit(o.a.INPUT_SUBMIT, n, s)
                        }, u)
                    }
                }
            }, {
                key: "_mapResultId",
                value: function(t) {
                    var e = this._config.scatter.mappedQueryIds;
                    if (e && e.hasOwnProperty("_".concat(t))) return e["_".concat(t)];
                    var n = this._config.scatter.queryOffset;
                    return n ? t - n : t
                }
            }, {
                key: "_displayQueryOverlay",
                value: function(t) {
                    var e = this,
                        n = t.revealSymbols,
                        i = t.resultSymbols;
                    t.selectedReelIndex;
                    this.children.map(function(t) {
                        return {
                            x: t.x,
                            y: t.y
                        }
                    }).filter(function(t, e) {
                        return e < n.length
                    }).forEach(function(t, o) {
                        e._positionSymbols({
                            reveal: n[o],
                            result: i[o],
                            position: t
                        });
                        var r = e._createSymbolDisplayUpdater(n[o], i[o]),
                            a = e._config.scatter.queryRevealDuration * o;
                        setTimeout(r.bind(e), a)
                    })
                }
            }, {
                key: "_positionSymbols",
                value: function(t) {
                    var e = t.reveal,
                        n = t.result,
                        i = t.position;
                    [e, n].forEach(function(t) {
                        t.x = i.x, t.y = i.y
                    })
                }
            }, {
                key: "_createSymbolDisplayUpdater",
                value: function(t, e) {
                    return function() {
                        var n = this;
                        t.onComplete = function() {
                            n.removeChild(t)
                        }, t.gotoAndPlay(0), this.addChild(e), this.addChild(t)
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, this._factory.destroy(), this._factory = null, clearTimeout(this._submitTimeout), this._submitTimeout = null, B.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function q(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var V = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
        }
        return function(t, e, n) {
            e && q(t.prototype, e), n && q(t, n)
        }(t, [{
            key: "createBlankHeader",
            value: function() {
                var t = this._assets.getScatterBlankHeader(),
                    e = this._createContainer();
                if (t) {
                    var n = this._layoutAdjuster.getMainX(),
                        i = this._createAdjustedHeader(t, n);
                    i.x = n, e.addChild(i)
                }
                return e
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "_createAdjustedHeader",
            value: function(t, e) {
                var n = t.width - 2 * e,
                    i = this._createRectangle(e, 0, n, t.height),
                    o = t.clone();
                return o.frame = i, new c.Sprite(o)
            }
        }, {
            key: "_createRectangle",
            value: function(t, e, n, i) {
                return new c.Rectangle(t, e, n, i)
            }
        }, {
            key: "createHeaderIntro",
            value: function() {
                var t = this._assets.getScatterHeaderIntroAnimation();
                return this._createIntro(t, this._config.scatter.intro)
            }
        }, {
            key: "_createIntro",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (!t) return null;
                var n = this._createAnimatedSprite(t, e.fps);
                return n.stop(), n.loop = !1, n.x = e.x || 0, n.y = e.y || 0, n
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 12,
                    n = new c.extras.AnimatedSprite(t);
                return n.animationSpeed = e / h.a.FPS, n
            }
        }, {
            key: "createSelectIntro",
            value: function() {
                var t = this._assets.getScatterSelectIntroAnimation();
                return this._createIntro(t, this._config.scatter.select)
            }
        }, {
            key: "createSelectSymbol",
            value: function(t) {
                var e = this._config.scatter.select.symbol,
                    n = this._createSelectSymbol(t, e);
                return n.x = e ? e.x : 0, n.y = e ? e.y : 0, n
            }
        }, {
            key: "_createSelectSymbol",
            value: function(t, e) {
                if (e.fps) {
                    var n = this._assets.getAnimatedScatterSelectSymbol(t),
                        i = this._createAnimatedSprite(n, e.fps);
                    return i.stop(), i.loop = !1, i
                }
                var o = this._assets.getStaticScatterSelectSymbol(t);
                return this._createSprite(o)
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }, {
            key: "createScatterMessage",
            value: function(t) {
                var e = this._createMessageBox(t);
                return this._positionMessageBox(e)
            }
        }, {
            key: "_createMessageBox",
            value: function(t) {
                var e = this._getMessageConfigFor(t);
                return new I({
                    message: t,
                    style: e.style,
                    setup: e.setup,
                    assets: this._assets
                })
            }
        }, {
            key: "_getMessageConfigFor",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 28,
                    n = this._config.scatter.outro;
                if (!n) return {
                    setup: {},
                    style: this._config.text.style
                };
                var i = n.large || n;
                return t.length > e ? n : i
            }
        }, {
            key: "_positionMessageBox",
            value: function(t) {
                var e = this._config.reels,
                    n = this._config.symbol,
                    i = n.width * e.count + e.gap * (e.count - 1),
                    o = n.height * e.countOfVisibleSymbols;
                return t.x = e.x + .5 * (i - t.width), t.y = e.y + .5 * (o - t.height), t
            }
        }, {
            key: "createSelection",
            value: function() {
                return new Y(this._config, this._assets)
            }
        }, {
            key: "createSelectOverlay",
            value: function(t) {
                var e = this._config.scatter.select || {},
                    n = e.overlayMap || {},
                    i = this._padTextureId(t),
                    o = n["_".concat(i)];
                if (o > -1) {
                    var r = this._assets.getScatterSelectOverlay(o),
                        a = this._createSprite(r);
                    return a.x = e.x || 0, a.y = e.y || 0, a
                }
                return this._createContainer()
            }
        }, {
            key: "_padTextureId",
            value: function(t) {
                for (var e = String(t); e.length < 2;) e = "0".concat(e);
                return e
            }
        }, {
            key: "destroy",
            value: function() {
                this._config = null, this._assets = null
            }
        }]), t
    }();

    function X(t) {
        return (X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Q(t, e) {
        return !e || "object" !== X(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function J(t) {
        return (J = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $(t, e) {
        return ($ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Z = function(t) {
            function e(t) {
                var n, i = t.model,
                    o = t.config,
                    r = t.assets,
                    a = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Q(this, J(e).call(this, {
                    model: i,
                    config: o,
                    assets: r
                })))._layoutAdjuster = a, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && $(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && z(t.prototype, e), n && z(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        if (this._config.scatter) {
                            this._workshop = this._createWorkshop();
                            var t = this._workshop.createHeaderIntro(),
                                e = this._workshop.createBlankHeader(),
                                n = this._workshop.createSelectIntro(),
                                i = this._workshop.createSelection(),
                                o = this._createStatusChangeHandler({
                                    headerIntro: t,
                                    blankHeader: e,
                                    selectIntro: n,
                                    selection: i
                                });
                            this._model.on(s.a.STATUS_CHANGE, o, this), this._model.on(s.a.SCATTER_MESSAGE_CHANGE, this._handleScatterMessageChange, this)
                        }
                        return this
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new V({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t) {
                        var e = t.headerIntro,
                            n = t.blankHeader,
                            i = t.selectIntro,
                            o = t.selection;
                        return function(t, r) {
                            switch (r) {
                                case l.a.SCATTER_INTRO:
                                    this._playHeaderIntro(e, n);
                                    break;
                                case l.a.SCATTER_SELECT:
                                    this._handleScatterSelect({
                                        selectIntro: i,
                                        headerIntro: e,
                                        blankHeader: n,
                                        selection: o
                                    });
                                    break;
                                case l.a.SPINNING:
                                    this._removeSelectIntro(i), this._hideScatterMessage()
                            }
                        }
                    }
                }, {
                    key: "_playHeaderIntro",
                    value: function(t, e) {
                        var n = this;
                        t ? (t.alpha = 1, e.alpha = 1, this.addChild(e), this.addChild(t), t.onComplete = function() {
                            n.emit(a.a.SCATTER_INTRO_COMPLETE)
                        }, t.gotoAndPlay(0)) : this.emit(a.a.SCATTER_INTRO_COMPLETE)
                    }
                }, {
                    key: "_handleScatterSelect",
                    value: function(t) {
                        var e = t.selectIntro,
                            n = t.headerIntro,
                            i = t.blankHeader,
                            r = t.selection;
                        this._model.hasScatterSelection ? (r.showQuery(this._model.scatterWin.positions, this._model.scatterSelection), r.once(o.a.INPUT_CHANGE, this._handleSelectionInputChange, this), r.once(o.a.INPUT_SUBMIT, this._handleSelectionInputSubmit, this), this.addChild(r)) : this._playSelectIntro({
                            selectIntro: e,
                            headerIntro: n,
                            blankHeader: i
                        })
                    }
                }, {
                    key: "_handleSelectionInputChange",
                    value: function(t) {
                        this.emit(a.a.SCATTER_SELECT)
                    }
                }, {
                    key: "_handleSelectionInputSubmit",
                    value: function(t, e) {
                        this.removeChild(t), this.emit(a.a.SCATTER_SELECT_COMPLETE, e)
                    }
                }, {
                    key: "_playSelectIntro",
                    value: function(t) {
                        var e = this,
                            n = t.selectIntro,
                            i = t.headerIntro,
                            o = t.blankHeader;
                        n ? (this.addChild(n), n.onComplete = function() {
                            e._handleSelectIntroComplete({
                                selectIntro: n,
                                headerIntro: i,
                                blankHeader: o
                            })
                        }, n.gotoAndPlay(0)) : this._model.hasScatterSelection || this._completeScatterSelect(i, o)
                    }
                }, {
                    key: "_completeScatterSelect",
                    value: function(t, e) {
                        t && this._fadeHeaderIntro(t), e && this._fadeBlankHeader(e), this.emit(a.a.SCATTER_SELECT_COMPLETE)
                    }
                }, {
                    key: "_handleSelectIntroComplete",
                    value: function(t) {
                        var e = this,
                            n = (t.selectIntro, t.headerIntro),
                            i = t.blankHeader;
                        this._showSelectSymbol();
                        var o = this._getSelectDisplayDuration();
                        setTimeout(function() {
                            e._completeScatterSelect(n, i)
                        }, o)
                    }
                }, {
                    key: "_getSelectDisplayDuration",
                    value: function() {
                        var t = this._config.scatter.select;
                        return (t ? t.displayDuration : 0) || 0
                    }
                }, {
                    key: "_fadeHeaderIntro",
                    value: function(t) {
                        var e = this,
                            n = this._getIntroFadeDuration();
                        w.TweenLite.to(t, n, {
                            alpha: 0,
                            onComplete: function() {
                                e.removeChild(t)
                            }
                        })
                    }
                }, {
                    key: "_fadeBlankHeader",
                    value: function(t) {
                        var e = this,
                            n = this._getIntroFadeDuration();
                        w.TweenLite.to(t, n, {
                            alpha: 0,
                            onComplete: function() {
                                e.removeChild(t)
                            }
                        })
                    }
                }, {
                    key: "_getIntroFadeDuration",
                    value: function() {
                        var t = this._config.scatter.intro;
                        return (t ? t.fadeDuration : 0) || 0
                    }
                }, {
                    key: "_removeSelectIntro",
                    value: function(t) {
                        t && t.parent === this && this.removeChild(t)
                    }
                }, {
                    key: "_showSelectSymbol",
                    value: function() {
                        var t = this;
                        if (this._model.specialSymbolId && this._config.scatter.select) {
                            var e = this._addSelectSymbol(this._model.specialSymbolId),
                                n = this._addSelectOverlay(this._model.specialSymbolId);
                            this._model.on(s.a.STATUS_CHANGE, function(i, o) {
                                o === l.a.SPINNING && (t.removeChild(e), t.removeChild(n))
                            })
                        }
                    }
                }, {
                    key: "_addSelectSymbol",
                    value: function(t) {
                        var e = this._workshop.createSelectSymbol(t);
                        return this._fadeSelectSymbol(e), this._scaleSelectSymbol(e), e.play && e.play(), this.addChild(e), e
                    }
                }, {
                    key: "_fadeSelectSymbol",
                    value: function(t) {
                        var e = this._getSelectSymbolFadeDuration();
                        return e ? (t.alpha = 0, w.TweenLite.to(t, e, {
                            alpha: 1
                        }), t) : t
                    }
                }, {
                    key: "_scaleSelectSymbol",
                    value: function(t) {
                        var e = this._getSelectSymbolScaleDuration();
                        if (!e) return t;
                        var n = .5 * t.width,
                            i = .5 * t.height;
                        return t.x += n, t.y += i, t.pivot.x = n, t.pivot.y = i, w.TweenLite.from(t.scale, e, {
                            x: .25,
                            y: .25
                        }), t
                    }
                }, {
                    key: "_getSelectSymbolFadeDuration",
                    value: function() {
                        var t = this._config.scatter.select.symbol;
                        return (t ? t.fadeDuration : 0) || 0
                    }
                }, {
                    key: "_getSelectSymbolScaleDuration",
                    value: function() {
                        var t = this._config.scatter.select.symbol;
                        return (t ? t.scaleDuration : 0) || 0
                    }
                }, {
                    key: "_addSelectOverlay",
                    value: function(t) {
                        var e = this._workshop.createSelectOverlay(t);
                        return this.addChild(e), e
                    }
                }, {
                    key: "_hideScatterMessage",
                    value: function() {
                        this._scatterMessage && (this.removeChild(this._scatterMessage), this._scatterMessage.destroy(!1), this._scatterMessage = null)
                    }
                }, {
                    key: "_handleScatterMessageChange",
                    value: function(t, e) {
                        e && (this._hideScatterMessage(), this._scatterMessage = this._workshop.createScatterMessage(e), this.addChild(this._scatterMessage))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._workshop.destroy(), this._workshop = null, this._scatterMessage = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        tt = n(43),
        et = n(27);

    function nt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var it = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e
            }
            return function(t, e, n) {
                e && nt(t.prototype, e), n && nt(t, n)
            }(t, [{
                key: "hold",
                value: function(t) {
                    var e = 1e3 / (h.a.FPS * t.animationSpeed),
                        n = Math.round(t.totalFrames * e),
                        i = e,
                        o = this._config.controls.minHoldingTime - n + i;
                    return this._chargeAnimation = setTimeout(function() {
                        t.alpha = 1, t.gotoAndPlay(1)
                    }, o), t
                }
            }, {
                key: "release",
                value: function(t) {
                    return this._chargeAnimation && clearTimeout(this._chargeAnimation), t.alpha = 0, t.gotoAndStop(1), t
                }
            }]), t
        }(),
        ot = n(30);

    function rt(t) {
        return (rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function at(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function st(t, e) {
        return !e || "object" !== rt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ut(t) {
        return (ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function lt(t, e) {
        return (lt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ct = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = st(this, ut(e).call(this, t, n)))._layout = i._config.controls.tilesheetLayout, i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && lt(t, e)
                }(e, ot["a"]),
                function(t, e, n) {
                    e && at(t.prototype, e), n && at(t, n)
                }(e, [{
                    key: "createSpin",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.square.height,
                            i = e.button.width,
                            o = e.button.long.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = e.spin.margin.left, s.y = 2 * e.button.square.height + e.spin.margin.top, s
                    }
                }, {
                    key: "createAutoPlayCharge",
                    value: function() {
                        var t = this._createAnimatedSprite(this._assets.getAutoPlayCharge());
                        return t.animationSpeed = 25 / h.a.FPS, t.loop = !1, t.alpha = 0, this._positionAutoPlay(t), t
                    }
                }, {
                    key: "_createAnimatedSprite",
                    value: function(t) {
                        return new c.extras.AnimatedSprite(t)
                    }
                }, {
                    key: "_positionAutoPlay",
                    value: function(t) {
                        var e = this._layout.ready;
                        return t.x = e.charge.margin.left, t.y = 2 * e.button.square.height + e.spin.margin.top + e.charge.margin.top, t
                    }
                }, {
                    key: "createAutoPlayActive",
                    value: function() {
                        var t = this._createContainer(),
                            e = this.createSpin(),
                            n = this._createSprite(this._assets.getAutoPlayActive());
                        return this._positionAutoPlay(n), t.addChild(e), t.addChild(n), t
                    }
                }, {
                    key: "createGamble",
                    value: function() {
                        var t = this._layout.waiting,
                            e = this._assets.getSlotGambleControls(),
                            n = t.button.width,
                            i = t.button.height,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: e
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = t.margin.left, a.y = t.margin.top, a
                    }
                }, {
                    key: "createTake",
                    value: function() {
                        var t = this._layout.waiting,
                            e = this._assets.getSlotGambleControls(),
                            n = t.button.height,
                            i = t.button.width,
                            o = t.button.height,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: e
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = t.margin.left, s.y = t.margin.top + t.button.height, s
                    }
                }, {
                    key: "createSettings",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.square.height + e.button.long.height,
                            i = e.button.width,
                            o = e.button.square.height + e.settings.padding.bottom,
                            r = this._createFromTilesheet({
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            a = this._createFromTilesheet({
                                frameX: i,
                                frameY: n,
                                frameWidth: i,
                                frameHeight: o,
                                baseTexture: t
                            }),
                            s = this._createButton({
                                up: r,
                                down: a
                            });
                        return s.x = e.settings.margin.left, s.y = e.button.square.height + e.settings.margin.top, s
                    }
                }, {
                    key: "createHome",
                    value: function() {
                        var t = this._assets.getSlotControls(),
                            e = this._layout.ready,
                            n = e.button.width,
                            i = e.button.square.height + e.home.padding.bottom,
                            o = this._createFromTilesheet({
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: t
                            }),
                            r = this._createFromTilesheet({
                                frameX: n,
                                frameWidth: n,
                                frameHeight: i,
                                baseTexture: t
                            }),
                            a = this._createButton({
                                up: o,
                                down: r
                            });
                        return a.x = e.home.margin.left, a.y = e.home.margin.top, a
                    }
                }, {
                    key: "createStop",
                    value: function() {
                        var t = this._assets.getSlotStopControls(),
                            e = this._layout.spinning,
                            n = this._createFromTilesheet({
                                baseTexture: t,
                                frameWidth: e.button.width
                            }),
                            i = this._createFromTilesheet({
                                baseTexture: t,
                                frameX: e.button.width
                            }),
                            o = this._createButton({
                                up: n,
                                down: i
                            });
                        return o.x = e.margin.left, o.y = e.margin.top, o
                    }
                }, {
                    key: "createAnimator",
                    value: function() {
                        return new it(this._config)
                    }
                }]), e
        }(),
        ht = n(44);

    function ft(t) {
        return (ft = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function _t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function yt(t, e) {
        return !e || "object" !== ft(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function dt(t) {
        return (dt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function pt(t, e) {
        return (pt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var mt = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = yt(this, dt(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && pt(t, e)
                }(e, ht["a"]),
                function(t, e, n) {
                    e && _t(t.prototype, e), n && _t(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = this._addComponent({
                                creator: e.createControlsBackground.bind(e)
                            });
                        this._adjustBackground(n);
                        var i = e.createAutoPlayCharge(),
                            o = this._addComponent({
                                creator: e.createStop.bind(e),
                                eventToDispatch: a.a.STOP_SPIN,
                                expectedStatus: l.a.SPINNING,
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            });
                        this.addChild(o);
                        var r = this._addComponent({
                            creator: e.createSpin.bind(e),
                            eventToDispatch: a.a.SPIN,
                            expectedStatus: l.a.READY,
                            holdEnabled: this._config.autoPlay.enabled,
                            holdHighlight: i,
                            keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                        });
                        this.addChild(i);
                        var u = this._addComponent({
                                creator: e.createAutoPlayActive.bind(e),
                                eventToDispatch: a.a.STOP_AUTO_PLAY,
                                expectedStatus: [l.a.READY, l.a.SPINNING, l.a.STOP_SPINNING, l.a.AFTER_SPIN, l.a.BEFORE_WINLINE_WALK, l.a.FAST_WINLINE_WALK, l.a.BEFORE_SPECIAL_WALK, l.a.BEFORE_FAST_SPECIAL_WALK, l.a.SPECIAL_WALK, l.a.FAST_SPECIAL_WALK, l.a.TAKING],
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            }),
                            c = this._addComponent({
                                creator: e.createTake.bind(e),
                                eventToDispatch: a.a.TAKE,
                                expectedStatus: [l.a.WAITING, l.a.FIRST_WINLINE_WALK, l.a.NTH_WINLINE_WALK, l.a.SPECIAL_WALK, l.a.BEFORE_SPECIAL_WALK],
                                keyboardShortcut: [et.a.SPACE, et.a.ENTER]
                            }),
                            h = this._addComponent({
                                creator: e.createGamble.bind(e),
                                eventToDispatch: a.a.GAMBLE,
                                expectedStatus: [l.a.WAITING, l.a.FIRST_WINLINE_WALK, l.a.NTH_WINLINE_WALK, l.a.SPECIAL_WALK, l.a.BEFORE_SPECIAL_WALK]
                            }),
                            f = this._addComponent({
                                creator: e.createSettings.bind(e),
                                eventToDispatch: a.a.SETTINGS,
                                expectedStatus: [l.a.READY, l.a.WAITING]
                            }),
                            _ = this._addComponent({
                                creator: e.createHome.bind(e),
                                eventToDispatch: a.a.EXIT
                            });
                        this._model.on(s.a.STATUS_CHANGE, this._createStatusChangeHandler({
                            spin: r,
                            stop: o,
                            take: c,
                            gamble: h,
                            settings: f,
                            home: _,
                            stopAutoPlay: u,
                            holdSpin: i
                        }), this), this._model.once(s.a.REELS_CHANGE, this._createReelsChangeHandler(o), this), this._model.on(s.a.AUTO_PLAY_ENABLED_CHANGE, function(e, n) {
                            o.visible = !n && t._model.status === l.a.SPINNING, u.visible = n, i.visible = u.visible
                        }), this._model.on(s.a.IS_ACTIVE_CHANGE, this._handleChangeIsActive, this), this._animator = e.createAnimator()
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new ct(this._config, this._assets)
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t) {
                        var e = this,
                            n = t.spin,
                            i = t.stop,
                            o = t.take,
                            r = t.gamble,
                            a = t.settings,
                            s = t.home,
                            u = t.stopAutoPlay,
                            c = t.holdSpin;
                        return function(t, h) {
                            o.visible = e._model.isReadyForTaking, r.visible = o.visible && e._model.gambleEnabled, n.visible = h === l.a.READY, a.visible = h === l.a.READY;
                            var f = e._model.isInScatter && e._config.timing.speed.revealDuration;
                            i.visible = h === l.a.SPINNING && !e._model.turboEnabled && !f && !e._model.autoPlayEnabled, s.visible = a.visible, u.visible = e._model.autoPlayEnabled && h === l.a.SPINNING, c.visible = u.visible, h !== l.a.AFTER_SPIN && h !== l.a.STOP_SPINNING || (i.interactive = !1)
                        }
                    }
                }, {
                    key: "_createReelsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            n.forEach(function(e) {
                                e.on(tt.a.SYMBOLS_CHANGE, function() {
                                    t.interactive = !0
                                })
                            })
                        }
                    }
                }, {
                    key: "_handleChangeIsActive",
                    value: function(t, e) {
                        this.visible = e, e ? this.enable() : this.disable()
                    }
                }]), e
        }(),
        vt = n(17),
        gt = {
            X1: 0,
            X2: 1,
            X3: 2
        },
        bt = n(13);

    function St(t) {
        return (St = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function kt(t, e) {
        return !e || "object" !== St(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Et(t) {
        return (Et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Tt(t, e) {
        return (Tt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ct = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = kt(this, Et(e).call(this, t)))._delayedStartOverlay = o._createSprite(n), o._loopCount = 0, o._restartCount = 0, o._startFrame = 0, o._loopFrom = 0, o._position = i, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Tt(t, e)
            }(e, c["extras"].AnimatedSprite),
            function(t, e, n) {
                e && wt(t.prototype, e), n && wt(t, n)
            }(e, [{
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "applyConfig",
                value: function(t) {
                    var e = t.loopRepeatDelay,
                        n = t.maxLoopCount,
                        i = t.nthMaxLoopCount,
                        o = t.shouldEndOnFirstFrame,
                        r = t.startFrame,
                        a = t.hideOnComplete,
                        s = t.loopFrom;
                    e && this.setLoopRepeatDelay(e), this.setMaxLoopCount(n), this.setNthMaxLoopCount(i), this.setShouldEndOnFirstFrame({
                        shouldEndOnFirstFrame: o
                    }), this.setHideOnComplete({
                        hideOnComplete: a
                    }), this._startFrame = r || 0, this._loopFrom || this.setLoopFrom(s)
                }
            }, {
                key: "setLoopRepeatDelay",
                value: function(t) {
                    var e = this;
                    this._loopRepeatDelay = t, this.loop = !1, this.onComplete = function() {
                        e.parent && e.parent.parent ? (e._setLoopRepeatTimeout(e._loopRepeatDelay), e._shouldEndOnFirstFrame && !e._startFrame && e.gotoAndStop(e._loopFrom)) : e.onComplete = null
                    }
                }
            }, {
                key: "_setLoopRepeatTimeout",
                value: function(t) {
                    var e = this;
                    this._loopRepeatTimeout = setTimeout(function() {
                        e._loopRepeatTimeout = null, e._loopCount += 1;
                        var t = e._restartCount > 1 ? e._nthMaxLoopCount : e._maxLoopCount,
                            n = !t || e._loopCount < t;
                        e.parent && (n ? e.gotoAndPlay(e._loopFrom) : e._startFrame && e.gotoAndStop(e._loopFrom))
                    }, t)
                }
            }, {
                key: "clearLoopRepeatTimeout",
                value: function() {
                    this._loopRepeatTimeout && (clearTimeout(this._loopRepeatTimeout), this._loopRepeatTimeout = null)
                }
            }, {
                key: "setStartDelay",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        useStartOverlay: !1
                    }).useStartOverlay;
                    this._useStartOverlay = e, this._startDelay = t
                }
            }, {
                key: "setLoopFrom",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    if (this._loopFrom = e, this._loopFrom) {
                        this.loop = !1;
                        var n = this.onComplete;
                        this.onComplete = function() {
                            n && n(), t.gotoAndPlay(t._loopFrom)
                        }
                    }
                }
            }, {
                key: "restart",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._restartCount += 1, this._loopCount = 0, this.visible = !0, this._startDelay ? this._delayedRestart() : this.gotoAndPlay(t || this._startFrame)
                }
            }, {
                key: "_delayedRestart",
                value: function() {
                    var t = this;
                    this.gotoAndStop(this._startFrame || 0), clearTimeout(this._startDelayTimeout), this._useStartOverlay && !this._startFrame && this.addChild(this._delayedStartOverlay), this._startDelayTimeout = setTimeout(function() {
                        t._startDelayTimeout = null, t.gotoAndPlay(t._loopFrom), t._delayedStartOverlay.parent === t && t.removeChild(t._delayedStartOverlay)
                    }, this._startDelay)
                }
            }, {
                key: "setMaxLoopCount",
                value: function(t) {
                    this._maxLoopCount = t, !(this._loopRepeatDelay >= 0) && t && this.setLoopRepeatDelay(0)
                }
            }, {
                key: "setNthMaxLoopCount",
                value: function(t) {
                    this._nthMaxLoopCount = t, !(this._loopRepeatDelay >= 0) && t && this.setLoopRepeatDelay(0)
                }
            }, {
                key: "setShouldEndOnFirstFrame",
                value: function() {
                    var t = this,
                        e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldEndOnFirstFrame: !1
                        }).shouldEndOnFirstFrame;
                    if (this._shouldEndOnFirstFrame = e, this._shouldEndOnFirstFrame) {
                        var n = this.onComplete;
                        this.onComplete = function() {
                            n && n(), t._startFrame || t.gotoAndStop(t._loopFrom)
                        }
                    }
                }
            }, {
                key: "setHideOnComplete",
                value: function() {
                    var t = this;
                    if ((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            hideOnComplete: !1
                        }).hideOnComplete) {
                        var e = this.onComplete;
                        this.onComplete = function() {
                            e && e(), t.visible = !1
                        }
                    }
                }
            }, {
                key: "getPosition",
                value: function() {
                    return this._position
                }
            }, {
                key: "destroy",
                value: function() {
                    var t;
                    this.removeChildren(), this._delayedStartOverlay.destroy(), this._delayedStartOverlay = null, clearTimeout(this._startDelayTimeout), this._startDelayTimeout = null, clearTimeout(this._loopRepeatTimeout), this._loopRepeatTimeout = null, this._position = null;
                    for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++) n[i] = arguments[i];
                    (t = c.extras.AnimatedSprite.prototype.destroy).call.apply(t, [this].concat(n))
                }
            }]), e
    }();

    function Ot(t) {
        return (Ot = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function At(t, e) {
        return !e || "object" !== Ot(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Pt(t) {
        return (Pt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function It(t, e) {
        return (It = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var xt = function(t) {
        function e(t) {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), At(this, Pt(e).call(this, t))
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), e && It(t, e)
        }(e, c["Sprite"]), e
    }();

    function Rt(t) {
        return (Rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Nt(t, e) {
        return !e || "object" !== Rt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function jt(t) {
        return (jt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Lt(t, e) {
        return (Lt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Gt = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Nt(this, jt(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Lt(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Wt(t.prototype, e), n && Wt(t, n)
            }(e, [{
                key: "applyConfig",
                value: function(t, e) {
                    t.loopRepeatDelay && (!this.loopRepeatDelay || this.loopRepeatDelay < t.loopRepeatDelay) && (this.loopRepeatDelay = t.loopRepeatDelay), t.loopCutOff && (!this.loopCutOff || this.loopCutOff < t.loopCutOff) && (this.loopCutOff = t.loopCutOff), (!this.duration || e > this.duration) && (this.duration = e)
                }
            }]), e
    }();

    function Mt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Bt = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Mt(t.prototype, e), n && Mt(t, n)
            }(t, [{
                key: "createWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.creator,
                        r = this._createWinAnimationContainer(),
                        a = bt.a.hasDelayer(n, i, this._config),
                        s = bt.a.getWinSymbolId(n, i, this._config);
                    return n.filter(function(t) {
                        return !(t.flags && t.flags.sticky)
                    }).map(function(t) {
                        return {
                            animation: o.call(e, t, i, s),
                            position: t
                        }
                    }).map(function(t) {
                        var n = t.animation,
                            o = t.position;
                        return e._addAnimationToContainer({
                            animation: n,
                            position: o,
                            reels: i,
                            hasDelayer: a,
                            container: r
                        })
                    }).forEach(function(t) {
                        var n = t.animation,
                            i = t.animationConfig,
                            o = t.duration;
                        e._adjustMaxLoopCount({
                            container: r,
                            animation: n,
                            animationConfig: i,
                            duration: o
                        })
                    }), r
                }
            }, {
                key: "_createWinAnimationContainer",
                value: function() {
                    return new Gt
                }
            }, {
                key: "_createWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: this._createWinAnimationFrames,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_symbolIdGetter",
                value: function(t) {
                    return t.transformToId || t.id
                }
            }, {
                key: "_createStillFrame",
                value: function(t) {
                    return this._assets.getStaticSymbol(t)
                }
            }, {
                key: "_createAnimation",
                value: function(t) {
                    var e = t.position,
                        n = t.reels,
                        i = t.symbolIdGetter,
                        o = t.animationFramesCreator,
                        r = t.stillFrameCreator,
                        a = t.isLoop,
                        s = t.winSymbolId,
                        u = bt.a.getSymbolAtPosition(n, e),
                        l = i.call(this, u),
                        c = o.call(this, e, l, s),
                        _ = r.call(this, l),
                        y = this._createAnimatedSymbol(c, _, e),
                        d = bt.a.getAnimationConfigByPosition({
                            position: e,
                            reels: n,
                            config: this._config.winlines,
                            id: l
                        });
                    y.x = f.calculateOnReelX(e, this._config), y.y = f.calculateOnReelY(e, this._config);
                    var p = d.fps || this._config.symbol.fps;
                    y.setLoopFrom(d.loopFrom), y.animationSpeed = p / h.a.FPS;
                    var m = !d.playOnlyOnce && !d.hideOnComplete && !d.loopFrom;
                    return y.loop = a && m, y.play(), y
                }
            }, {
                key: "_createAnimatedSymbol",
                value: function(t, e, n) {
                    return new Ct(t, e, n)
                }
            }, {
                key: "_createWinAnimationFrames",
                value: function(t, e, n) {
                    var i = this._toJokerAdjustedId(e, n);
                    if (t.isSpecial && this._config.winlines.special && this._config.winlines.special.fps) return this._assets.getAnimatedScatterSpecialSymbol(i);
                    if (t.flags) {
                        if (t.flags.x3) return this._assets.getAnimatedMultiplierSymbol(i, gt.X3);
                        if (t.flags.x2) return this._assets.getAnimatedMultiplierSymbol(i, gt.X2);
                        if (t.flags.x1) return this._assets.getAnimatedMultiplierSymbol(i, gt.X1);
                        if (t.flags.highWin) return this._assets.getAnimatedHighWinSymbol(i)
                    }
                    return this._assets.getAnimatedSymbol(i)
                }
            }, {
                key: "_toJokerAdjustedId",
                value: function(t, e) {
                    return this._config.joker && t === this._config.joker.id && e ? String(Number(e) + this._config.joker.winAnimationOffset) : t
                }
            }, {
                key: "_addAnimationToContainer",
                value: function(t) {
                    var e = t.animation,
                        n = t.position,
                        i = t.reels,
                        o = t.hasDelayer,
                        r = t.container,
                        a = bt.a.getAnimationConfigByPosition({
                            position: n,
                            reels: i,
                            config: this._config.winlines
                        });
                    o && !bt.a.isDelayer(n, i, this._config) && e.setStartDelay(this._config.delayer.otherSymbolsDelay, {
                        useStartOverlay: this._config.delayer.useStartOverlay
                    }), e.applyConfig(a);
                    var s = bt.a.calculateDuration(e);
                    return r.applyConfig(a, s), r.addChild(e), {
                        container: r,
                        animation: e,
                        animationConfig: a,
                        duration: s
                    }
                }
            }, {
                key: "_adjustMaxLoopCount",
                value: function(t) {
                    var e = t.container,
                        n = t.animation,
                        i = t.animationConfig,
                        o = t.duration;
                    if (e.duration < o && (i.nthMaxLoopCount > 1 || i.useAutoMaxLoopCount)) n.setNthMaxLoopCount(1);
                    else if (e.duration >= o && i.useAutoMaxLoopCount) {
                        var r = Math.floor(e.duration / o) || 1,
                            a = i.nthMaxLoopCount < r ? i.nthMaxLoopCount : r;
                        n.setNthMaxLoopCount(a)
                    }
                }
            }, {
                key: "createPreWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.compositeCache,
                        r = this._createContainer();
                    return n.forEach(function(t, n) {
                        var a = bt.a.getSymbolAtPosition(i, t),
                            s = bt.a.getIsPartOfTransform(a.id, e._config) || a.transformToId,
                            u = bt.a.getIsMultiplierAt(t),
                            l = bt.a.getIsPartOfComposite(a.id, e._config),
                            c = u ? e._createMultiplierTransition : e._createTransform;
                        if (u || s || a.isNewSticky) {
                            var h = o.indexOf(t.x) < 0;
                            if (l) {
                                if (h) {
                                    e._createCompositeAnimation(t, i).forEach(function(t) {
                                        r.addChild(t)
                                    }), o.push(t.x)
                                }
                            } else {
                                var f = e._createPreWinAnimationAtPosition({
                                        position: t,
                                        reels: i,
                                        animationFramesCreator: c
                                    }),
                                    _ = (e._config.winlines.symbolTransformStagger || 0) * n;
                                _ > 0 ? setTimeout(function() {
                                    f.gotoAndPlay(0), r.addChild(f)
                                }, _) : r.addChild(f)
                            }
                        }
                    }), r
                }
            }, {
                key: "_createContainer",
                value: function() {
                    return new c.Container
                }
            }, {
                key: "_createCompositeAnimation",
                value: function(t, e) {
                    for (var n = [], i = 1; i <= this._config.reels.countOfVisibleSymbols; i += 1) {
                        var o = JSON.parse(JSON.stringify(t));
                        o.y = i;
                        var r = this._createWinAnimationAtPosition(o, e);
                        n.push(r)
                    }
                    return n
                }
            }, {
                key: "_createPreWinAnimationAtPosition",
                value: function(t) {
                    var e = t.position,
                        n = t.reels,
                        i = t.animationFramesCreator;
                    return this._createAnimation({
                        position: e,
                        reels: n,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: i,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: this._config.winlines.loopPreWin
                    })
                }
            }, {
                key: "_createMultiplierTransition",
                value: function(t, e) {
                    if (t.flags) {
                        if (t.flags.x3) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X3);
                        if (t.flags.x2) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X2);
                        if (t.flags.x1) return this._assets.getAnimatedMultiplierTransitionSymbol(e, gt.X1)
                    }
                    return [this._assets.getStaticSymbol(e)]
                }
            }, {
                key: "_createTransform",
                value: function(t, e) {
                    return this._assets.getAnimatedSymbol(e)
                }
            }, {
                key: "createCompositeWinAnimation",
                value: function(t) {
                    var e = this,
                        n = t.positions,
                        i = t.reels,
                        o = t.compositeCache,
                        r = this._createContainer();
                    return n.forEach(function(t) {
                        var n = bt.a.getSymbolAtPosition(i, t);
                        bt.a.getIsPartOfComposite(n.id, e._config) && (o.indexOf(t.x) < 0 && (e._createCompositeAnimation(t, i).forEach(function(t) {
                            r.addChild(t)
                        }), o.push(t.x)))
                    }), r
                }
            }, {
                key: "createSpecialWinAnimation",
                value: function(t, e) {
                    var n = this;
                    return t.map(function(t) {
                        var i = bt.a.getSymbolAtPosition(e, t),
                            o = n._assets.getStaticScatterSpecialSymbol(i.specialTransformTo || i.id),
                            r = n._createStaticSymbol(o);
                        return r.isSpecial = i.isSpecial, r.x = f.calculateOnReelX(t, n._config), r.y = f.calculateOnReelY(t, n._config), r
                    }).reduce(function(t, e) {
                        return (e.isSpecial ? t.push : t.unshift).call(t, e), t
                    }, [])
                }
            }, {
                key: "_createStaticSymbol",
                value: function(t) {
                    return new xt(t)
                }
            }, {
                key: "createInScatterWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createInScatterWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createInScatterWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._symbolIdGetter,
                        animationFramesCreator: this._createInScatterWinAnimationFrames,
                        stillFrameCreator: this._createInScatterStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_createInScatterWinAnimationFrames",
                value: function(t, e, n) {
                    var i = this._toJokerAdjustedId(e, n);
                    return t.isSpecial && this._config.winlines.special && this._config.winlines.special.fps ? this._assets.getAnimatedScatterSpecialSymbol(i) : this._assets.getAnimatedInScatterSymbol(i)
                }
            }, {
                key: "_createInScatterStillFrame",
                value: function(t) {
                    return this._assets.getStaticInScatterSymbol(t)
                }
            }, {
                key: "createStickyWinAnimation",
                value: function(t, e) {
                    return this._createWinAnimation({
                        positions: t,
                        reels: e,
                        creator: this._createStickyWinAnimationAtPosition
                    })
                }
            }, {
                key: "_createStickyWinAnimationAtPosition",
                value: function(t, e, n) {
                    return this._createAnimation({
                        position: t,
                        reels: e,
                        symbolIdGetter: this._stickySymbolIdGetter,
                        animationFramesCreator: this._createWinAnimationFrames,
                        stillFrameCreator: this._createStillFrame,
                        isLoop: !0,
                        winSymbolId: n
                    })
                }
            }, {
                key: "_stickySymbolIdGetter",
                value: function(t) {
                    return t.stickyId || t.id
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null
                }
            }]), t
        }(),
        Ft = {
            WIZARD: "transformType.wizzar",
            PHARAO: "transformType.phara"
        },
        Ht = n(9),
        Dt = n.n(Ht);

    function Kt(t) {
        return (Kt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ut(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Yt(t, e) {
        return !e || "object" !== Kt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function qt(t) {
        return (qt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Vt(t, e) {
        return (Vt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Xt = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Yt(this, qt(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Vt(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && Ut(t.prototype, e), n && Ut(t, n)
            }(e, [{
                key: "animate",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        o = t.sort(this._sortByY).sort(this._sortByX),
                        r = n,
                        a = o.filter(function(t) {
                            return !t.isSpecial
                        });
                    a.forEach(function(t) {
                        t.visible = !1, setTimeout(function() {
                            e.emit(i.a.SPECIAL_TRANSFORM), t.visible = !0
                        }, r), r += n
                    });
                    var s = n * (a.length + 1);
                    setTimeout(function() {
                        e.emit(i.a.SPECIAL_TRANSFORM_COMPLETE)
                    }, s)
                }
            }, {
                key: "_sortByX",
                value: function(t, e) {
                    return e.x - t.x
                }
            }, {
                key: "_sortByY",
                value: function(t, e) {
                    return e.y - t.y
                }
            }]), e
    }();

    function zt(t) {
        return (zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Qt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Jt(t, e) {
        return !e || "object" !== zt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function $t(t) {
        return ($t = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Zt(t, e) {
        return (Zt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var te = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Jt(this, $t(e).call(this))
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Zt(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && Qt(t.prototype, e), n && Qt(t, n)
            }(e, [{
                key: "animate",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        i = {};
                    t.forEach(function(t) {
                        t.isSpecial && (i[t.x] = t.y)
                    });
                    var o = {
                        incomplete: 0
                    };
                    t.forEach(function(t) {
                        e._animateSprite({
                            sprite: t,
                            specialY: i[t.x],
                            countCache: o,
                            duration: n
                        })
                    })
                }
            }, {
                key: "_animateSprite",
                value: function(t) {
                    var e = t.sprite,
                        n = t.specialY,
                        i = t.countCache,
                        o = t.duration,
                        r = e.y,
                        a = (r - n) / e.height;
                    e.y = n;
                    var s = Math.abs(a);
                    if (s > 0) {
                        var u = a < 0 ? -1 : 1;
                        this._move({
                            sprite: e,
                            targetY: r,
                            offset: s - 1,
                            sign: u,
                            countCache: i,
                            duration: o
                        })
                    }
                }
            }, {
                key: "_move",
                value: function(t) {
                    var e = this,
                        n = t.sprite,
                        o = t.targetY,
                        r = t.offset,
                        a = t.sign,
                        s = t.countCache,
                        u = t.duration,
                        l = r * u;
                    s.incomplete += 1, setTimeout(function() {
                        e.emit(i.a.SPECIAL_TRANSFORM), n.y += r * a * n.height, w.TweenLite.to(n, .001 * u, {
                            y: o,
                            onComplete: function() {
                                s.incomplete -= 1, s.incomplete <= 0 && e.emit(i.a.SPECIAL_TRANSFORM_COMPLETE)
                            }
                        })
                    }, l)
                }
            }]), e
    }();

    function ee(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var ne = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && ee(t.prototype, e), n && ee(t, n)
        }(t, [{
            key: "createAnimator",
            value: function() {
                var t = this._config.scatter;
                switch (t ? t.transformType : Ft.WIZARD) {
                    case Ft.PHARAO:
                        return new Xt;
                    default:
                        return new te
                }
            }
        }]), t
    }();

    function ie(t) {
        return (ie = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function oe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function re(t, e) {
        return !e || "object" !== ie(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ae(t) {
        return (ae = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function se(t, e) {
        return (se = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ue = function(t) {
            function e(t, n, i) {
                var o;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (o = re(this, ae(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                })))._init(), o
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && se(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && oe(t.prototype, e), n && oe(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._stickyCache = {}, this._regular = this._createContainer(), this.addChild(this._regular), this._sticky = this._createContainer(), this.addChild(this._sticky);
                        var t = this._createSpriteFactory(),
                            e = this._createAnimatorFactory().createAnimator();
                        return this._model.once(s.a.STICKY_SYMBOLS_CHANGE, this._createChangeStickySymbolsHandler(t), this), this._model.on(s.a.STATUS_CHANGE, this._createChangeStatusHandler(t, e), this), this
                    }
                }, {
                    key: "_createContainer",
                    value: function() {
                        return new c.Container
                    }
                }, {
                    key: "_createSpriteFactory",
                    value: function() {
                        return new Bt(this._config, this._assets)
                    }
                }, {
                    key: "_createAnimatorFactory",
                    value: function() {
                        return new ne(this._config)
                    }
                }, {
                    key: "_createChangeStickySymbolsHandler",
                    value: function(t) {
                        return function(e, n) {
                            e.status === l.a.READY && this._showStickySymbols(t)
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t, e) {
                        var n = this;
                        return e.on(i.a.SPECIAL_TRANSFORM_COMPLETE, function() {
                                n.emit(a.a.BEFORE_SPECIAL_WALK_COMPLETE)
                            }), e.on(i.a.SPECIAL_TRANSFORM, function() {
                                n.emit(a.a.BEFORE_SPECIAL_WALK_TRANSFORM)
                            }),
                            function(n, i) {
                                switch (i) {
                                    case l.a.BEFORE_WINLINE_WALK:
                                        this._showSymbolTransformOverlay(t);
                                        break;
                                    case l.a.BEFORE_SPECIAL_WALK:
                                        this._showSpecialSymbolTransformOverlay({
                                            spriteFactory: t,
                                            animator: e,
                                            transformDuration: this._config.scatter.transformDuration
                                        });
                                        break;
                                    case l.a.BEFORE_FAST_SPECIAL_WALK:
                                        this._showSpecialSymbolTransformOverlay({
                                            spriteFactory: t,
                                            animator: e,
                                            transformDuration: this._config.scatter.fastTransformDuration
                                        });
                                        break;
                                    case l.a.BEFORE_READY:
                                        this._showBeforeReadyBonus(t);
                                        break;
                                    case l.a.FIRST_WINLINE_WALK:
                                        this._playStickyAnimations();
                                        break;
                                    case l.a.TAKING:
                                    case l.a.GAMBLING:
                                        this._removeAnimations();
                                        break;
                                    case l.a.READY:
                                        this._removeAnimations(), this._pauseStickyAnimations(), this._removeStickyAnimations();
                                        break;
                                    case l.a.SPINNING:
                                        this._instantlyRemoveStickyAnimations()
                                }
                            }
                    }
                }, {
                    key: "_showSymbolTransformOverlay",
                    value: function(t) {
                        var e = this,
                            n = bt.a.getTransformPositions(this._model.reels, this._config);
                        if (n.length > 0) this._showPreWinTransform(t, [{
                            positions: n
                        }]), this.emit(a.a.BEFORE_WINLINE_WALK);
                        else if (bt.a.hasPreWin(this._model.winlineWins, this._model.reels, this._config)) this._showPreWinTransform(t, this._model.winlineWins), this.emit(a.a.BEFORE_WINLINE_WALK);
                        else {
                            this._showBeforeWinlineWalkBonus(t);
                            var i = this._showStickySymbols(t),
                                o = this._calculateCompletionDelay(i);
                            setTimeout(function() {
                                e.emit(a.a.BEFORE_WINLINE_WALK_COMPLETE)
                            }, o)
                        }
                        return this
                    }
                }, {
                    key: "_calculateCompletionDelay",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            e = this._config.winlines;
                        return e.stickySymbolDelay > 0 && e.symbolTransformDuration > 0 && t.length > 0 ? e.symbolTransformDuration - e.stickySymbolDelay : 0
                    }
                }, {
                    key: "_showBeforeWinlineWalkBonus",
                    value: function(t) {
                        this._model.bonusType === vt.a.BEFORE_WINLINE_WALK && this._model.bonusTriggerId && this._addScatterGameBonusWinAnimation(t)
                    }
                }, {
                    key: "_addScatterGameBonusWinAnimation",
                    value: function(t) {
                        var e = this,
                            n = bt.a.getPositionsById(this._model.bonusTriggerId, this._model.reels),
                            i = t.createWinAnimation(n, this._model.reels);
                        this._regular.addChild(i), this._model.once(s.a.STATUS_CHANGE, function() {
                            e.removeChild(i)
                        })
                    }
                }, {
                    key: "_showPreWinTransform",
                    value: function(t, e) {
                        var n = this,
                            i = [];
                        e.forEach(function(e, o) {
                            n._addPreWinAnimation(e.positions, t, i)
                        });
                        var o = this._config.winlines.stickySymbolDelay || 0;
                        setTimeout(function() {
                            n._showStickySymbols(t)
                        }, o);
                        var r = this._config.winlines.symbolTransformDuration || 0;
                        return setTimeout(function() {
                            n._showBeforeWinlineWalkBonus(t), n.emit(a.a.BEFORE_WINLINE_WALK_COMPLETE)
                        }, r), this
                    }
                }, {
                    key: "_addPreWinAnimation",
                    value: function(t, e, n) {
                        if (t) {
                            var i = e.createPreWinAnimation({
                                positions: t,
                                reels: this._model.reels,
                                compositeCache: n
                            });
                            i.children.length && this._regular.addChild(i)
                        }
                        return this
                    }
                }, {
                    key: "_showSpecialSymbolTransformOverlay",
                    value: function(t) {
                        var e = this,
                            n = t.spriteFactory,
                            i = t.animator,
                            o = t.transformDuration,
                            r = this._model.special;
                        if (r && r.winlineWins) {
                            var s = bt.a.reduceToUniquePositions(r.winlineWins),
                                u = n.createSpecialWinAnimation(s, this._model.reels);
                            u.forEach(function(t) {
                                e._regular.addChild(t)
                            });
                            var l = o || 0;
                            i.animate(u, l)
                        } else this.emit(a.a.BEFORE_SPECIAL_WALK_COMPLETE)
                    }
                }, {
                    key: "_showBeforeReadyBonus",
                    value: function(t) {
                        this._model.bonusType === vt.a.BEFORE_READY && this._model.bonusTriggerId && this._addScatterGameBonusWinAnimation(t)
                    }
                }, {
                    key: "_showStickySymbols",
                    value: function(t) {
                        var e = this;
                        if (this._model.stickySymbols.length <= 0) return [];
                        var n = this._model.stickySymbols.filter(function(t) {
                                var n = !Boolean(e._stickyCache[t.x] && e._stickyCache[t.x][t.y]);
                                return e._stickyCache[t.x] = e._stickyCache[t.x] || {}, e._stickyCache[t.x][t.y] = !0, n
                            }),
                            i = t.createStickyWinAnimation(n, this._model.reels);
                        return this._sticky.addChild(i), n.length > 0 && (this._config.winlines.restartStickyOnNew ? this._restartStickySymbols() : this._normalizeStickySymbols(i)), this._config.winlines.staticStickies && i.children.forEach(function(t) {
                            t.stop()
                        }), n
                    }
                }, {
                    key: "_restartStickySymbols",
                    value: function() {
                        this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.restart()
                            })
                        })
                    }
                }, {
                    key: "_normalizeStickySymbols",
                    value: function(t) {
                        var e = this;
                        t.children.forEach(function(t) {
                            e._regular.children.forEach(function(e) {
                                e.children.filter(function(e) {
                                    var n = e.x === t.x && e.y === t.y,
                                        i = e.totalFrames === t.totalFrames;
                                    if (n && i) {
                                        var o = (e.currentFrame + 1) % t.totalFrames;
                                        t.gotoAndPlay(o)
                                    }
                                })
                            })
                        })
                    }
                }, {
                    key: "_playStickyAnimations",
                    value: function() {
                        var t = this;
                        return this._config.winlines.staticStickies && this._model.hasStickySymbols ? (this._sticky.children.forEach(function(e) {
                            e.children.filter(function(e) {
                                return t._isPartOfWin(e.getPosition())
                            }).forEach(function(t) {
                                t.play()
                            })
                        }), this) : this
                    }
                }, {
                    key: "_isPartOfWin",
                    value: function(t) {
                        for (var e = this._model.winlineWins, n = 0; n < e.length; n += 1)
                            if (e[n].positions)
                                for (var i = 0; i < e[n].positions.length; i += 1) {
                                    var o = e[n].positions[i];
                                    if (o.x === t.x && o.y === t.y) return !0
                                }
                        return !1
                    }
                }, {
                    key: "_removeAnimations",
                    value: function() {
                        return this._regular.removeChildren(), this
                    }
                }, {
                    key: "_pauseStickyAnimations",
                    value: function() {
                        return this._config.winlines.staticStickies && this._model.hasStickySymbols ? (this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.gotoAndStop(0)
                            })
                        }), this) : this
                    }
                }, {
                    key: "_removeStickyAnimations",
                    value: function() {
                        var t = this;
                        if (this._model.hasStickySymbols) return this;
                        if (this._config.winlines.staticStickies) return this._instantlyRemoveStickyAnimations();
                        var e = 0;
                        return this._sticky.children.forEach(function(n) {
                            n.children.forEach(function(n) {
                                e += 1, n.loop = !1, n.gotoAndPlay(n.currentFrame), n.onComplete = function() {
                                    (e -= 1) <= 0 && t._sticky.removeChildren()
                                }
                            })
                        }), this._stickyCache = {}, this
                    }
                }, {
                    key: "_instantlyRemoveStickyAnimations",
                    value: function() {
                        return this._model.hasStickySymbols ? this : (this._sticky.children.forEach(function(t) {
                            t.children.forEach(function(t) {
                                t.onComplete = null
                            })
                        }), this._sticky.removeChildren(), this._stickyCache = {}, this)
                    }
                }]), e
        }(),
        le = n(85),
        ce = n(22),
        he = {
            Elastic: w.Elastic,
            Back: w.Back,
            Sine: w.Sine,
            Bounce: w.Bounce,
            Circ: w.Circ,
            "elastic.easeInOut": w.Elastic.easeInOut,
            "elastic.easeIn": w.Elastic.easeIn,
            "elastic.easeOut": w.Elastic.easeOut,
            "back.easeInOut": w.Back.easeInOut,
            "back.easeIn": w.Back.easeIn,
            "back.easeOut": w.Back.easeOut,
            "sine.easeInOut": w.Sine.easeInOut,
            "sine.easeIn": w.Sine.easeIn,
            "sine.easeOut": w.Sine.easeOut,
            "bounce.easeInOut": w.Bounce.easeInOut,
            "bounce.easeIn": w.Bounce.easeIn,
            "bounce.easeOut": w.Bounce.easeOut,
            "circ.easeInOut": w.Circ.easeInOut,
            "circ.easeIn": w.Circ.easeIn,
            "circ.easeOut": w.Circ.easeOut
        };

    function fe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _e = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && fe(t.prototype, e), n && fe(t, n)
        }(t, [{
            key: "animate",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        isFirstShow: !0,
                        isSpecialWalk: !1,
                        isInScatter: !1
                    },
                    i = n.isFirstShow,
                    o = n.isSpecialWalk,
                    r = n.isInScatter,
                    a = this._extractConfig({
                        isSpecialWalk: o,
                        isInScatter: r
                    }),
                    s = a.jumpDuration || 0;
                t.scale && s && (i || (w.TweenLite.killTweensOf(t), w.TweenLite.killTweensOf(t.scale)), this._animatePulseScale(t, {
                    config: a,
                    duration: s
                }), this._animatePulsePosition(t, {
                    isFirstShow: i,
                    winSize: e,
                    config: a,
                    duration: s
                }))
            }
        }, {
            key: "_extractConfig",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        isSpecialWalk: !1,
                        isInScatter: !1
                    },
                    e = t.isSpecialWalk,
                    n = t.isInScatter,
                    i = this._config.text.animation || {};
                return e ? i.special || i : n && i.inScatter || i
            }
        }, {
            key: "_animatePulseScale",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = n.scale || 1;
                w.TweenLite.from(t.scale, i, {
                    x: o,
                    y: o
                })
            }
        }, {
            key: "_animatePulsePosition",
            value: function(t, e) {
                var n = this,
                    i = e.isFirstShow,
                    o = e.winSize,
                    r = e.config,
                    a = e.duration,
                    s = t.x + (r.x || 0),
                    u = t.y + (r.y || 0);
                w.TweenLite.from(t, a, {
                    x: s,
                    y: u,
                    onComplete: function() {
                        i && n._moveToWinnings(t, {
                            winSize: o,
                            config: r
                        })
                    }
                })
            }
        }, {
            key: "_moveToWinnings",
            value: function(t, e) {
                var n = e.winSize,
                    i = e.config,
                    o = i.moveDuration || 0,
                    r = i.waitDuration || 0,
                    a = r.length ? r : [r],
                    s = a.length >= n ? n - 1 : a.length - 1;
                this._animateMovePosition(t, {
                    config: i,
                    duration: o,
                    moveDelay: a[s]
                }), this._animateMoveFadeout(t, {
                    duration: o,
                    moveDelay: a[s]
                }), this._animateMoveScale(t, {
                    config: i,
                    duration: o,
                    moveDelay: a[s]
                })
            }
        }, {
            key: "_animateMovePosition",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = e.moveDelay,
                    r = {
                        x: t.x,
                        y: t.y
                    },
                    a = he[n.moveEase] || w.Back.easeInOut;
                w.TweenLite.to(t, i, {
                    x: n.endX,
                    y: n.endY,
                    delay: o,
                    ease: a,
                    onComplete: function() {
                        t.visible = !1, t.x = r.x, t.y = r.y
                    }
                })
            }
        }, {
            key: "_animateMoveFadeout",
            value: function(t, e) {
                var n = e.duration,
                    i = e.moveDelay,
                    o = .8 * n,
                    r = n - o;
                w.TweenLite.to(t, r, {
                    delay: o + i,
                    alpha: 0,
                    onComplete: function() {
                        t.alpha = 1, t.visible = !1
                    }
                })
            }
        }, {
            key: "_animateMoveScale",
            value: function(t, e) {
                var n = e.config,
                    i = e.duration,
                    o = e.moveDelay,
                    r = .5 * i,
                    a = n.moveMidScale || 1,
                    s = n.moveEndScale || 1;
                w.TweenLite.to(t.scale, r, {
                    x: a,
                    y: a,
                    delay: o,
                    ease: w.Expo.easeIn,
                    onComplete: function() {
                        w.TweenLite.to(t.scale, r, {
                            x: s,
                            y: s,
                            onComplete: function() {
                                t.scale.x = 1, t.scale.y = 1
                            }
                        })
                    }
                })
            }
        }, {
            key: "destroy",
            value: function() {
                this._config = null
            }
        }]), t
    }();

    function ye(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var de = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._currentIndex = -1, this._containers = []
        }
        return function(t, e, n) {
            e && ye(t.prototype, e), n && ye(t, n)
        }(t, [{
            key: "add",
            value: function(t) {
                return t.hide(), this._config.winlines.animateSelectedOnly || t.showWinAnimation(), this._containers.push(t)
            }
        }, {
            key: "hideCurrent",
            value: function() {
                var t = this.getCurrent();
                return t && (t.hide(), this._config.winlines.animateSelectedOnly || t.showWinAnimation(), t.showWinModifier()), this
            }
        }, {
            key: "next",
            value: function() {
                return this._currentIndex += 1, this
            }
        }, {
            key: "show",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    e = this.getCurrent();
                e && (e.show(), this._getShouldRestart() && e.restartWinAnimation(t));
                return this
            }
        }, {
            key: "_getShouldRestart",
            value: function() {
                var t = this._config.winlines,
                    e = this.getCurrentWinType() === ce.a.SCATTER,
                    n = 1 === this.getLength();
                return !(!t.walkIfSingleScatter && e && n) && (!(!t.walkIfSingle && n) && (this.getLength() && t.animateSelectedOnly))
            }
        }, {
            key: "reset",
            value: function() {
                return this._currentIndex = -1, this
            }
        }, {
            key: "getLength",
            value: function() {
                return this._containers.length
            }
        }, {
            key: "getCurrentIndex",
            value: function() {
                return this._currentIndex
            }
        }, {
            key: "getCurrent",
            value: function() {
                return this._currentIndex > -1 && this._currentIndex < this._containers.length ? this._containers[this._currentIndex] : null
            }
        }, {
            key: "getCurrentWinType",
            value: function() {
                var t = this.getCurrent();
                return t && t.winline.winType || ce.a.REGULAR
            }
        }, {
            key: "hasNext",
            value: function() {
                return this._currentIndex < this._containers.length - 1
            }
        }, {
            key: "clear",
            value: function() {
                this._containers.forEach(function(t) {
                    t.hide(), t.showWinModifier()
                }), this._containers = [], this._currentIndex = -1
            }
        }, {
            key: "destroy",
            value: function() {
                this._containers.forEach(function(t) {
                    t.destroy()
                }), this._containers = null, this._config = null
            }
        }]), t
    }();

    function pe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var me = function() {
        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                n = e.winline,
                i = e.winModifier,
                o = e.winAnimation,
                r = e.winText,
                a = e.animateSelectedOnly,
                s = e.winTextAnimator,
                u = e.isSpecialWalk,
                l = e.isInScatter;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this.winline = n || {}, this.winModifier = i || {}, this.winAnimation = o || {}, this.winText = r || {}, this._animateSelectedOnly = a, this._winTextAnimator = s, this._isSpecialWalk = u || !1, this._isInScatter = l || !1, this._isFirstShow = !0, this._children = [this.winline, this.winModifier, this.winAnimation, this.winText]
        }
        return function(t, e, n) {
            e && pe(t.prototype, e), n && pe(t, n)
        }(t, [{
            key: "show",
            value: function() {
                if (this._children.forEach(function(t) {
                        t.visible = !0
                    }), this._winTextAnimator) {
                    var t = (this.winline.positions || []).length || 1;
                    this._winTextToCache(), this._winTextFromCache(), this._winTextAnimator.animate(this.winText, t, {
                        isFirstShow: this._isFirstShow,
                        isSpecialWalk: this._isSpecialWalk,
                        isInScatter: this._isInScatter
                    }), this._isFirstShow = !1
                }
                return this
            }
        }, {
            key: "_winTextToCache",
            value: function() {
                var t = this.winText;
                this._isFirstShow && t.scale && (this._winTextCache = {
                    alpha: t.alpha,
                    x: t.x,
                    y: t.y,
                    scale: {
                        x: t.scale.x,
                        y: t.scale.y
                    }
                })
            }
        }, {
            key: "_winTextFromCache",
            value: function() {
                var t = this.winText,
                    e = this._winTextCache;
                e && t.scale && e.scale && (t.alpha = e.alpha, t.x = e.x, t.y = e.y, t.scale.x = e.scale.x, t.scale.y = e.scale.y)
            }
        }, {
            key: "hide",
            value: function() {
                return this._children.forEach(function(t) {
                    t.visible = !1
                }), this
            }
        }, {
            key: "showWinAnimation",
            value: function() {
                return this.winAnimation.visible = !0, this
            }
        }, {
            key: "showWinModifier",
            value: function() {
                return this.winModifier.visible = !0, this
            }
        }, {
            key: "hideWinModifier",
            value: function() {
                return this.winModifier.visible = !1, this
            }
        }, {
            key: "restartWinAnimation",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return this.winAnimation.children && this.winAnimation.children.forEach(function(e) {
                    e.clearLoopRepeatTimeout(), e.restart(t)
                }), this
            }
        }, {
            key: "destroy",
            value: function() {
                this.winline = null, this.winModifier = null, this.winAnimation = null, this.winText = null, this._children = null, this._winTextAnimator = null
            }
        }]), t
    }();

    function ve(t) {
        return (ve = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ge(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function be(t, e) {
        return !e || "object" !== ve(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Se(t) {
        return (Se = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function we(t, e) {
        return (we = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ke = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = be(this, Se(e).call(this)))._config = t, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && we(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && ge(t.prototype, e), n && ge(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._winContainers = new de(this._config), this._winTextAnimator = new _e(this._config), this
                    }
                }, {
                    key: "addToWinlineWalk",
                    value: function(t) {
                        var e = t.winline,
                            n = t.winModifier,
                            i = t.winAnimation,
                            o = t.winText,
                            r = t.isSpecialWalk,
                            a = t.isInScatter;
                        this._startFrame = 0, this._walkDelay = 0, this._fastWalkDelay = 0, clearTimeout(this._timer), this._timer = null;
                        var s = new me({
                            winline: e,
                            winText: o,
                            winAnimation: i,
                            winModifier: n,
                            winTextAnimator: this._winTextAnimator,
                            isSpecialWalk: r,
                            isInScatter: a
                        });
                        return this._winContainers.add(s)
                    }
                }, {
                    key: "walk",
                    value: function() {
                        return this._isPaused = !1, this._winContainers.getLength() && this._walk(), this
                    }
                }, {
                    key: "_walk",
                    value: function() {
                        return this._isPaused || (this._hideCurrent(), this._showNext(), this._checkForCompletion()), this
                    }
                }, {
                    key: "_checkForCompletion",
                    value: function() {
                        return this._timer && !this._winContainers.getCurrent() && this.emit(i.a.WINLINE_WALK_COMPLETE), this
                    }
                }, {
                    key: "_hideCurrent",
                    value: function() {
                        var t = this._calculateWalkThreshold();
                        return this._winContainers.getLength() > t && this._winContainers.hideCurrent(), this
                    }
                }, {
                    key: "_calculateWalkThreshold",
                    value: function() {
                        var t = this._config.winlines,
                            e = this._winContainers.getCurrentWinType();
                        return (t.walkIfSingleScatter || e !== ce.a.SCATTER) && t.walkIfSingle ? 0 : 1
                    }
                }, {
                    key: "_showNext",
                    value: function() {
                        this._winContainers.hasNext() ? (this._winContainers.next(), this._winContainers.show(this._startFrame), this._updateTimer()) : (this._winContainers.reset(), this.initializeTimer()), this.emit(i.a.WINLINE_WALK, this._winContainers.getCurrentIndex())
                    }
                }, {
                    key: "initializeTimer",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this._walkDelay = e, this._timer = setTimeout(function() {
                            t._walk()
                        }, this._getDelay()), this
                    }
                }, {
                    key: "_updateTimer",
                    value: function() {
                        var t = this;
                        return this._timer && (this._timer = setTimeout(function() {
                            t._walk()
                        }, this._getDelay())), this
                    }
                }, {
                    key: "_getDelay",
                    value: function() {
                        if (this._fastWalkDelay) return this._fastWalkDelay;
                        if (this._walkDelay) return this._walkDelay;
                        var t = this._config.winlines,
                            e = this._winContainers.getCurrent();
                        if (!e) return t.walkRepeatDelay;
                        var n = this._winContainers.getCurrentWinType(),
                            i = t.scatter.delay || t.regular.delay,
                            o = n === ce.a.REGULAR ? t.regular.delay : i,
                            r = e.winAnimation,
                            a = r.loopRepeatDelay || 0,
                            s = r.duration + a,
                            u = t.loopCutOff || r.loopCutOff || 0;
                        return o || s - u
                    }
                }, {
                    key: "fastWalk",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        return this._isPaused = !1, this._fastWalkDelay = e || this._config.winlines.fastWalkDelay, clearTimeout(this._timer), this._timer = setTimeout(function() {
                            t._startFrame = t._config.winlines.fastWalkStartFrame || 0, t._walk()
                        }, this._fastWalkDelay), this
                    }
                }, {
                    key: "fastSpecialWalk",
                    value: function() {
                        return this.fastWalk(this._config.winlines.fastSpecialWalkDelay)
                    }
                }, {
                    key: "pause",
                    value: function() {
                        return this._isPaused = !0, clearTimeout(this._timer), this
                    }
                }, {
                    key: "clearWinlineWalk",
                    value: function() {
                        var t = this._winContainers.getLength();
                        return this._winContainers.clear(), clearTimeout(this._timer), this._timer = null, t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._timer), this._timer = null, this._config = null, this._winContainers.destroy(), this._winContainers = null, this._winTextAnimator.destroy(), this._winTextAnimator = null
                    }
                }]), e
        }(),
        Ee = n(36);

    function Te(t) {
        return (Te = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ce(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Oe(t, e) {
        return !e || "object" !== Te(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ae(t) {
        return (Ae = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pe(t, e) {
        return (Pe = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ie = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Oe(this, Ae(e).call(this, i)))._style = t, o._setup = n, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Pe(t, e)
            }(e, Ee["a"]),
            function(t, e, n) {
                e && Ce(t.prototype, e), n && Ce(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._info = this._addTextField({
                        text: "",
                        style: this._determineStyle(this._setup, this._style)
                    }), this._setAlign(this._setup.align || this._style.align)
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._setContent(this._contentSetter, t)
                }
            }, {
                key: "_contentSetter",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this._info.text = isNaN(t) ? t : this._formatCredit(t), this._info.text
                }
            }, {
                key: "_alignCenter",
                value: function() {
                    this._info.x = .5 * -this._info.width
                }
            }, {
                key: "_alignRight",
                value: function() {
                    this._info.x = -this._info.width
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, Ee.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function xe(t) {
        return (xe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Re(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function We(t, e) {
        return !e || "object" !== xe(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ne(t) {
        return (Ne = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function je(t, e) {
        return (je = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Le = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = We(this, Ne(e).call(this))).winType = t || ce.a.REGULAR, i.positions = n || [], i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && je(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Re(t.prototype, e), n && Re(t, n)
            }(e, [{
                key: "destroy",
                value: function() {
                    this.positions = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ge(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Me = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && Ge(t.prototype, e), n && Ge(t, n)
        }(t, [{
            key: "createWinline",
            value: function(t) {
                var e = this,
                    n = t.positions,
                    i = t.frameConfig,
                    o = t.emphasizedPositions,
                    r = t.winlineIndex,
                    a = t.winType,
                    s = this._createWinline(a, o || n);
                return n.forEach(function(t) {
                    var n = !!(o && o.length) && o.indexOf(t.x - 1) < 0,
                        a = e._createWinlineFrame({
                            position: t,
                            config: i,
                            isFaded: n,
                            winlineIndex: r
                        });
                    s.addChild(a)
                }), s.cacheAsBitmap = !0, s
            }
        }, {
            key: "_createWinline",
            value: function(t, e) {
                return new Le(t, e)
            }
        }, {
            key: "_createWinlineFrame",
            value: function(t) {
                var e = t.position,
                    n = t.config,
                    i = t.isFaded,
                    o = t.winlineIndex,
                    r = n.padding || 0,
                    a = n.lineWidth % 2 ? .5 : 2,
                    s = f.calculateOnReelX(e, this._config) + a - r,
                    u = f.calculateOnReelY(e, this._config) + a - r,
                    l = this._extractColor({
                        config: n,
                        isFaded: i,
                        winlineIndex: o
                    }),
                    c = n.lineWidth,
                    h = this._createGraphics(),
                    _ = this._config.symbol,
                    y = n.lineWidth % 2 ? 0 : -4,
                    d = _.width + y + 2 * r,
                    p = _.height + y + 2 * r;
                h.lineStyle(c, l, 1);
                var m = this._extractBaseWinFrameSetupAtPosition(e),
                    v = !!n.inset && this._extractColor({
                        config: n.inset,
                        isFaded: i,
                        winlineIndex: o
                    });
                if (m.padding || m.curve || m.skew) {
                    var g = this._toWinFrameSetup(m);
                    this._drawCustomWinFrame(h, d, p, g), v && n.inset && (h.lineStyle(n.inset.lineWidth, v, 1), this._drawCustomWinFrame(h, d, p, g));
                    var b = h.generateTexture(),
                        S = this._createSprite(b);
                    return S.x = s - g.paddingLeft, S.y = u - c, S
                }
                return h.drawRect(s, u, d, p), v && n.inset && (h.lineStyle(n.inset.lineWidth, v, 1), h.drawRect(s, u, d, p)), h
            }
        }, {
            key: "_extractColor",
            value: function(t) {
                var e = t.config,
                    n = t.winlineIndex,
                    i = t.isFaded && e.fadedColor ? e.fadedColor : e.lineColor;
                return i.length ? i[n % i.length] : i
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new c.Graphics
            }
        }, {
            key: "_extractBaseWinFrameSetupAtPosition",
            value: function(t) {
                var e = t.x,
                    n = t.y;
                return this._config.winlines.frames ? this._config.winlines.frames.length < n - 1 ? {} : this._config.winlines.frames[n - 1].length < e - 1 ? {} : this._config.winlines.frames[n - 1][e - 1] : {}
            }
        }, {
            key: "_toWinFrameSetup",
            value: function(t) {
                var e = t.padding || {},
                    n = t.curve || {},
                    i = t.skew || {};
                return {
                    padding: e,
                    curve: n,
                    skew: i,
                    paddingLeft: e.left || 0,
                    paddingRight: e.right || 0,
                    curveLeft: n.left || [0, 0],
                    curveRight: n.right || [0, 0],
                    skewLeft: i.left || 0,
                    skewRight: i.right || 0
                }
            }
        }, {
            key: "_drawCustomWinFrame",
            value: function(t, e, n, i) {
                var o = i.paddingLeft,
                    r = i.paddingRight,
                    a = i.curveLeft,
                    s = i.curveRight,
                    u = i.skewLeft,
                    l = i.skewRight,
                    c = -1 * o;
                t.moveTo(c, 0);
                var h = e + r,
                    f = .33 * n,
                    _ = .66 * n;
                return t.lineTo(h, 0), this._drawCurve(t, {
                    cpX: h + s[0],
                    cpY: f,
                    cpX2: h + s[1],
                    cpY2: _,
                    toX: h + l,
                    toY: n
                }), t.lineTo(c + u, n), this._drawCurve(t, {
                    cpX: c + a[1],
                    cpY: f,
                    cpX2: c + a[0],
                    cpY2: _,
                    toX: c,
                    toY: 0
                }), t
            }
        }, {
            key: "_drawCurve",
            value: function(t, e) {
                var n = e.cpX,
                    i = e.cpY,
                    o = e.cpX2,
                    r = e.cpY2,
                    a = e.toX,
                    s = e.toY;
                return t.bezierCurveTo(n, i, o, r, a, s), t
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }]), t
    }();

    function Be(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Fe = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n
        }
        return function(t, e, n) {
            e && Be(t.prototype, e), n && Be(t, n)
        }(t, [{
            key: "createWinModifier",
            value: function(t, e) {
                var n = this,
                    i = new c.Container;
                return t.forEach(function(t) {
                    if (t.flags) {
                        var o = n._createWinSymbolAtPosition(t, e);
                        i.addChild(o)
                    }
                }), i
            }
        }, {
            key: "_createWinSymbolAtPosition",
            value: function(t, e) {
                if (t.flags) {
                    if (t.flags.x3) return this._createMultiplierSymbol(t, e, gt.X3);
                    if (t.flags.x2) return this._createMultiplierSymbol(t, e, gt.X2);
                    if (t.flags.x1) return this._createMultiplierSymbol(t, e, gt.X1);
                    if (t.flags.highWin) return this._createHugeWinSymbol(t, e)
                }
                return new c.Container
            }
        }, {
            key: "_createHugeWinSymbol",
            value: function(t, e) {
                return this._createChangedSymbol({
                    position: t,
                    reels: e,
                    changedTextureGetter: this._assets.getStaticHighWinSymbol
                })
            }
        }, {
            key: "_createChangedSymbol",
            value: function(t) {
                var e = t.position,
                    n = t.reels,
                    i = t.changedTextureGetter,
                    o = t.changedTextureGetterArgs,
                    r = bt.a.getSymbolAtPosition(n, e),
                    a = i.apply(this._assets, [r.id].concat(o));
                if (a !== this._assets.getStaticSymbol(r.id)) {
                    var s = new c.Sprite(a);
                    return s.x = f.calculateOnReelX(e, this._config), s.y = f.calculateOnReelY(e, this._config), s
                }
                return new c.Container
            }
        }, {
            key: "_createMultiplierSymbol",
            value: function(t, e, n) {
                return this._createChangedSymbol({
                    position: t,
                    reels: e,
                    changedTextureGetter: this._assets.getStaticMultiplierSymbol,
                    changedTextureGetterArgs: [n]
                })
            }
        }]), t
    }();

    function He(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var De = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._init()
        }
        return function(t, e, n) {
            e && He(t.prototype, e), n && He(t, n)
        }(t, [{
            key: "_init",
            value: function() {
                return this._winlineFactory = new Me(this._config), this._winModifierFactory = new Fe(this._config, this._assets), this._winAnimationFactory = new Bt(this._config, this._assets), this
            }
        }, {
            key: "createRegularWinline",
            value: function(t) {
                var e = t.positions,
                    n = t.emphasizedPositions,
                    i = t.winlineIndex,
                    o = t.isInScatter,
                    r = this._getRegularWinlineConfig({
                        isFullWin: n && n.length > this._config.reels.count,
                        isInScatter: o
                    });
                return this._winlineFactory.createWinline({
                    positions: e,
                    frameConfig: r,
                    emphasizedPositions: n,
                    winlineIndex: i,
                    winType: ce.a.REGULAR
                })
            }
        }, {
            key: "_getRegularWinlineConfig",
            value: function(t) {
                var e = t.isFullWin,
                    n = t.isInScatter,
                    i = this._config.scatter.winlines || this._config.winlines;
                return n && e ? i.full || i.regular : n ? i.regular : this._config.winlines.regular
            }
        }, {
            key: "createScatterWinline",
            value: function(t) {
                return this._winlineFactory.createWinline({
                    positions: t,
                    frameConfig: this._config.winlines.scatter,
                    winType: ce.a.SCATTER
                })
            }
        }, {
            key: "createWinModifier",
            value: function(t, e) {
                return this._winModifierFactory.createWinModifier(t, e)
            }
        }, {
            key: "createWinAnimation",
            value: function(t, e) {
                return this._winAnimationFactory.createWinAnimation(t, e)
            }
        }, {
            key: "createWinlineAnimator",
            value: function() {
                return new ke(this._config)
            }
        }, {
            key: "createWinText",
            value: function(t, e) {
                if (!e) return this._createGuiObject();
                var n = this._config.text,
                    i = f.calculateCenter(t, this._config.reels.count),
                    o = this._createWinInfo(n.style, {}, n.format),
                    r = bt.a.getIsMultiplierAt(t[i]) ? .6 : .33,
                    a = this._config.reels,
                    s = a.count % 2 == 0 && t.length >= a.count,
                    u = this._config.symbol,
                    l = s ? 1 * u.width + .5 * a.gap : .5 * u.width,
                    c = u.height * r;
                return o.setContent(e), o.x = f.calculateOnReelX(t[i], this._config) + l, o.y = f.calculateOnReelY(t[i], this._config) + c, o
            }
        }, {
            key: "_createGuiObject",
            value: function() {
                return new B.a
            }
        }, {
            key: "_createWinInfo",
            value: function(t, e, n) {
                return new Ie(t, e, n)
            }
        }, {
            key: "createCompositeWinAnimation",
            value: function(t, e) {
                var n = this,
                    i = this._createContainer(),
                    o = [];
                return t.forEach(function(t, r) {
                    var a = n._createCompositeWinAnimation(t.positions, e, o);
                    a.children.length && i.addChild(a)
                }), i
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "createInScatterWinAnimation",
            value: function(t, e) {
                return this._winAnimationFactory.createInScatterWinAnimation(t, e)
            }
        }, {
            key: "_createCompositeWinAnimation",
            value: function(t, e, n) {
                return t ? this._winAnimationFactory.createCompositeWinAnimation({
                    positions: t,
                    reels: e,
                    compositeCache: n
                }) : this._createContainer()
            }
        }]), t
    }();

    function Ke(t) {
        return (Ke = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ue(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ye(t, e) {
        return !e || "object" !== Ke(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function qe(t) {
        return (qe = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ve(t, e) {
        return (Ve = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Xe, ze = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Ye(this, qe(e).call(this, {
                model: t,
                config: n,
                assets: i
            })))._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ve(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Ue(t.prototype, e), n && Ue(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    return this._workshop = this._createWorkshop(), this._winlineAnimator = this._workshop.createWinlineAnimator(), this._containers = {
                        winModifier: this._addContainer(),
                        winAnimation: this._addContainer(),
                        compositeWinAnimation: this._addContainer(),
                        winline: this._addContainer(),
                        winText: this._addContainer()
                    }, this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new De(this._config, this._assets)
                }
            }, {
                key: "_addContainer",
                value: function() {
                    return this.addChild(new c.Container)
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case l.a.FIRST_WINLINE_WALK:
                            this._startWalk(this._addWinlineGraphics);
                            break;
                        case l.a.SPECIAL_WALK:
                            this._startWalk(this._addSpecialWinlineGraphics), this._winlineAnimator.initializeTimer(this._config.winlines.specialWalkDelay);
                            break;
                        case l.a.BEFORE_SPECIAL_WALK:
                        case l.a.BEFORE_FAST_SPECIAL_WALK:
                        case l.a.WAITING:
                        case l.a.GAMBLING:
                        case l.a.TAKING:
                            this._clearWinAnimations();
                            break;
                        case l.a.FAST_SPECIAL_WALK:
                            this._fastSpecialWalk();
                            break;
                        case l.a.FAST_WINLINE_WALK:
                            this._fastWalk();
                            break;
                        case l.a.SPINNING:
                            this._clearWinModifiers()
                    }
                }
            }, {
                key: "_startWalk",
                value: function(t) {
                    this._wins = [], t.call(this), this._addAnimatorListeners(), this._model.hasMultiplier || this.walk()
                }
            }, {
                key: "_addWinlineGraphics",
                value: function() {
                    var t = this;
                    this._model.winlineWins.forEach(function(e, n) {
                        t._processWinline(t._addRegularWinline, e, n)
                    }), this._model.scatterWin && this._processWinline(this._addScatterWinline, this._model.scatterWin), this._checkForCompositeAnimation = !0
                }
            }, {
                key: "_addSpecialWinlineGraphics",
                value: function() {
                    var t = this;
                    this._model.special && this._model.special.winlineWins && this._model.special.winlineWins.forEach(function(e, n) {
                        t._processWinline(t._addRegularWinline, e, n)
                    })
                }
            }, {
                key: "_addAnimatorListeners",
                value: function() {
                    var t = this;
                    this._winlineAnimator.on(i.a.WINLINE_WALK_COMPLETE, function() {
                        t.emit(a.a.WINLINE_WALK_COMPLETE)
                    }), this._winlineAnimator.on(i.a.WINLINE_WALK, function(e) {
                        var n = e > -1 ? t._wins[e] : null;
                        t.emit(a.a.WINLINE_WALK, n)
                    })
                }
            }, {
                key: "_processWinline",
                value: function(t, e, n) {
                    if (e && e.positions && e.positions.length) {
                        var i = this._extractCurrentWinline(n),
                            o = t.call(this, e, i, n),
                            r = this._addWinModifier(e),
                            a = this._addWinAnimation(e),
                            s = this._addWinText(e);
                        this._winlineAnimator.addToWinlineWalk({
                            winline: o,
                            winModifier: r,
                            winAnimation: a,
                            winText: s,
                            isSpecialWalk: this._model.isSpecialWalk,
                            isInScatter: this._model.isInScatter
                        })
                    }
                    return this._winlineAnimator
                }
            }, {
                key: "_extractCurrentWinline",
                value: function(t) {
                    var e;
                    return (t || 0 === t) && t < this._model.availableWinlines.length && (e = this._model.availableWinlines[t]), e
                }
            }, {
                key: "_addRegularWinline",
                value: function(t, e, n) {
                    var i = t.positions.map(function(t) {
                            return t.x - 1
                        }),
                        o = this._config.winlines,
                        r = o.fadeNonSelected || o.fadeNonSelectedFrames ? i : [],
                        a = e || t.positions,
                        s = this._workshop.createRegularWinline({
                            positions: a,
                            emphasizedPositions: r,
                            winlineIndex: n,
                            isInScatter: this._model.isInScatter
                        }),
                        u = !!this._config.offbeat && this._getHasOffbeat(t.positions);
                    return this._containers.winline.addChild(s), this._wins.push({
                        credits: t.credits,
                        size: t.positions.length,
                        coordinates: this._calculateCoordinatesFromPositions(t.positions),
                        hasOffbeat: u,
                        type: ce.a.REGULAR,
                        index: n
                    }), s
                }
            }, {
                key: "_calculateCoordinatesFromPositions",
                value: function(t) {
                    var e = this;
                    return t.map(function(t) {
                        return {
                            x: t.x * (e._config.symbol.width + e._config.reels.gap),
                            y: (t.y + .5) * e._config.symbol.height
                        }
                    })
                }
            }, {
                key: "_getHasOffbeat",
                value: function(t) {
                    for (var e = 0; e < t.length; e += 1) {
                        var n = t[e];
                        if (this._model.reels[n.x - 1].symbols[n.y].id === this._config.offbeat.id) return !0
                    }
                    return !1
                }
            }, {
                key: "_addWinModifier",
                value: function(t) {
                    var e = this._workshop.createWinModifier(t.positions, this._model.reels);
                    return this._containers.winModifier.addChild(e), e
                }
            }, {
                key: "_addWinAnimation",
                value: function(t) {
                    var e = this._createWinAnimaton(t);
                    return this._containers.winAnimation.addChild(e), e
                }
            }, {
                key: "_createWinAnimaton",
                value: function(t) {
                    switch (this._model.gameType) {
                        case u.a.SCATTER:
                            return this._workshop.createInScatterWinAnimation(t.positions, this._model.reels);
                        default:
                            return this._workshop.createWinAnimation(t.positions, this._model.reels)
                    }
                }
            }, {
                key: "_addWinText",
                value: function(t) {
                    var e = this._workshop.createWinText(t.positions, t.credits);
                    return this._containers.winText.addChild(e), e
                }
            }, {
                key: "_addScatterWinline",
                value: function(t) {
                    var e = this._workshop.createScatterWinline(t.positions);
                    return this._containers.winline.addChild(e), this._wins.push({
                        credits: t.credits,
                        size: t.positions.length,
                        coordinates: this._calculateCoordinatesFromPositions(t.positions),
                        type: ce.a.SCATTER,
                        index: -1
                    }), e
                }
            }, {
                key: "_fastWalk",
                value: function() {
                    this._model.hasMultiplier && this.walk(), this._winlineAnimator.fastWalk()
                }
            }, {
                key: "_fastSpecialWalk",
                value: function() {
                    this._winlineAnimator.fastSpecialWalk()
                }
            }, {
                key: "_clearWinAnimations",
                value: function() {
                    this._winlineAnimator.removeAllListeners(), this._winlineAnimator.clearWinlineWalk(), this._containers.winline.children.forEach(function(t) {
                        t.children.forEach(function(t) {
                            t.destroy(!0, !0)
                        })
                    }), this._containers.winline.removeChildren(), this._containers.winAnimation.removeChildren(), this._containers.compositeWinAnimation.removeChildren(), this._containers.winText.children.forEach(function(t) {
                        t.destroy()
                    }), this._containers.winText.removeChildren()
                }
            }, {
                key: "_clearWinModifiers",
                value: function() {
                    this._containers.winModifier.removeChildren()
                }
            }, {
                key: "walk",
                value: function() {
                    this._winlineAnimator.walk(), this._showCompositeWinAnimation()
                }
            }, {
                key: "_showCompositeWinAnimation",
                value: function() {
                    if (this._checkForCompositeAnimation) {
                        var t = this._workshop.createCompositeWinAnimation(this._model.winlineWins, this._model.reels);
                        t.children.length && this._containers.compositeWinAnimation.addChild(t), this._checkForCompositeAnimation = !1
                    }
                }
            }, {
                key: "pause",
                value: function() {
                    this._winlineAnimator.pause()
                }
            }, {
                key: "getWinTextContainer",
                value: function() {
                    return this._containers.winText
                }
            }, {
                key: "destroy",
                value: function() {
                    this._workshop = null, this._winlineAnimator.removeAllListeners(), this._winlineAnimator.destroy(), this._winlineAnimator = null, this._wins = null, this._containers = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Qe(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }! function(t) {
        t.INIT = "init", t.SMALL_WIN = "smallWin", t.REGULAR_WIN = "regularWin", t.HIGH_WIN = "highWin", t.HUGE_WIN = "hugeWin", t.FULL_WIN = "fullWin", t.POT_WIN = "potWin", t.BEFORE_READY = "beforeReady"
    }(Xe || (Xe = {}));
    var Je = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._sprite = e, this._config = n
        }
        return function(t, e, n) {
            e && Qe(t.prototype, e), n && Qe(t, n)
        }(t, [{
            key: "initialize",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.range,
                    n = t.xStep,
                    i = t.yStep,
                    o = t.rotationStep,
                    r = t.sharedState,
                    a = t.emissionPoint,
                    s = e ? {
                        x: e.x || 0,
                        y: e.y || 0,
                        rotation: e.rotation || 0
                    } : {
                        x: 0,
                        y: 0,
                        rotation: 0
                    },
                    u = a ? {
                        x: a.x || 0,
                        y: a.y || 0
                    } : {
                        x: 0,
                        y: 0
                    };
                return this._sprite.x = u.x + Math.random() * s.x, this._sprite.y = u.y + Math.random() * s.y, this._sprite.pivot.x = .5 * this._sprite.width, this._sprite.pivot.y = .5 * this._sprite.height, this._sprite.rotation = Math.random() * Math.PI * 2 * s.rotation - Math.PI * s.rotation, this._sprite.scale.x = this._config.motion.startScale, this._sprite.scale.y = this._config.motion.startScale, this._motion = {
                    xStep: this._calculateXStep(n, r),
                    yStep: this._calculateYStep(i, r),
                    rotationStep: this._calculateRotationStep(o, r)
                }, {
                    sprite: this._sprite,
                    motion: this._motion
                }
            }
        }, {
            key: "_calculateXStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        lastRandomXStep: 0
                    },
                    n = t.base || this._config.motion.xStep.base || 0,
                    i = t.fuzz || this._config.motion.xStep.fuzz || 0,
                    o = t.range || this._config.motion.xStep.range || 0;
                return e.lastRandomXStep += n + Math.random() * i, e.lastRandomXStep %= o, e.lastRandomXStep - .5 * o
            }
        }, {
            key: "_calculateYStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = (arguments.length > 1 && void 0 !== arguments[1] && arguments[1], t.base || this._config.motion.yStep.base || 0),
                    n = t.fuzz || this._config.motion.yStep.fuzz || 0;
                return e + Math.random() * n
            }
        }, {
            key: "_calculateRotationStep",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = (arguments.length > 1 && void 0 !== arguments[1] && arguments[1], t.base || this._config.motion.rotationStep.base || 0),
                    n = t.fuzz || this._config.motion.rotationStep.fuzz || 0;
                return e + Math.random() * n
            }
        }, {
            key: "addTo",
            value: function(t) {
                t.addChildAt(this._sprite, 0)
            }
        }, {
            key: "onEnterFrame",
            value: function() {
                return {
                    sprite: this._applyMotion(),
                    motion: this._applyPhysics()
                }
            }
        }, {
            key: "_applyMotion",
            value: function() {
                this._sprite.x += this._motion.xStep * (2 * this._sprite.scale.x), this._sprite.y += this._motion.yStep * (2 * this._sprite.scale.x), this._sprite.rotation += this._motion.rotationStep;
                var t = this._config.motion.maxScale,
                    e = this._sprite.scale.x * this._config.motion.scaleStep;
                return this._sprite.scale.x = e < t ? e : t, this._sprite.scale.y = this._sprite.scale.x, this._sprite
            }
        }, {
            key: "_applyPhysics",
            value: function() {
                this._motion.xStep *= this._config.physics.damping, this._motion.rotationStep *= this._config.physics.damping;
                var t = this._config.physics.terminalVelocity,
                    e = this._motion.yStep + this._config.physics.gravity;
                return this._motion.yStep = e < t ? e : t, this._motion
            }
        }, {
            key: "destroy",
            value: function() {
                this._motion = null, this._config = null, this._sprite.destroy(), this._sprite = null
            }
        }]), t
    }();

    function $e(t) {
        return ($e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ze(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function tn(t, e) {
        return !e || "object" !== $e(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function en(t) {
        return (en = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function nn(t, e) {
        return (nn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var on = function(t) {
        function e(t) {
            var n, i = t.config,
                o = t.assets,
                r = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = tn(this, en(e).call(this)))._config = i, n._assets = o, n._layoutAdjuster = r, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && nn(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Ze(t.prototype, e), n && Ze(t, n)
            }(e, [{
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, this._layoutAdjuster = null, this.children.forEach(function(t) {
                        t.interactive = !1, t.cacheAsBitmap = !1, t.removeAllListeners()
                    }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function rn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var an = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster,
                r = e.multiplierIndex;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o, this._multiplierIndex = r, this._guard()
        }
        return function(t, e, n) {
            e && rn(t.prototype, e), n && rn(t, n)
        }(t, [{
            key: "_guard",
            value: function() {
                if (!this._config || !this._assets || !this._layoutAdjuster) throw new Error("Invalid config/parameters passed to MultiplierBannerWorkshop!")
            }
        }, {
            key: "createBackground",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsBackground());
                return t.x = 0, t.y = this._config.y, t
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new c.Sprite(t)
            }
        }, {
            key: "createWinText",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsWinText());
                return t.x = -1 * t.width, t.y = this._config.textBottomY + this._config.y - t.height, t
            }
        }, {
            key: "createMultiplier",
            value: function() {
                var t = this._createSprite(this._assets.getEffectsMultiplier(this._multiplierIndex));
                return t.x = this._layoutAdjuster.getMainWidth(), t.y = this._config.textBottomY + this._config.y - t.height, t
            }
        }, {
            key: "createMask",
            value: function() {
                var t = this._createGraphics();
                return t.beginFill(10066329, 1), t.drawRect(0, 0, this._layoutAdjuster.getMainWidth(), this._layoutAdjuster.getHeight()), t.endFill(), t
            }
        }, {
            key: "_createGraphics",
            value: function() {
                return new c.Graphics
            }
        }]), t
    }();

    function sn(t) {
        return (sn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function un(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ln(t, e) {
        return !e || "object" !== sn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function cn(t) {
        return (cn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function hn(t, e) {
        return (hn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var fn = function(t) {
        function e(t) {
            var n, i = t.config,
                o = t.assets,
                r = t.layoutAdjuster,
                a = t.multiplierIndex;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ln(this, cn(e).call(this, {
                config: i,
                assets: o,
                layoutAdjuster: r
            })))._multiplierIndex = a, n._ease = w.Bounce.easeOut, n._config = i || {
                duration: 0,
                repeatDelay: 0,
                loopCount: 1
            }, n._BANNER_PADDING = 3, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && hn(t, e)
            }(e, on),
            function(t, e, n) {
                e && un(t.prototype, e), n && un(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._sprites = {}, this._sprites.background = t.createBackground(), this.addChild(this._sprites.background), this._sprites.winText = t.createWinText(), this.addChild(this._sprites.winText), this._sprites.multiplier = t.createMultiplier(), this.addChild(this._sprites.multiplier);
                    var e = t.createMask();
                    this.addChild(e), this.mask = e
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new an({
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster,
                        multiplierIndex: this._multiplierIndex
                    })
                }
            }, {
                key: "play",
                value: function() {
                    var t = .5 * (this._sprites.winText.width - this._sprites.multiplier.width),
                        e = this._layoutAdjuster.getMainWidth() / 2 + t;
                    this._loopCount = 1, this._playWinText(e), this._playMultiplier(e)
                }
            }, {
                key: "_playWinText",
                value: function(t) {
                    if (this._winTextTimeline) this._winTextTimeline.restart();
                    else {
                        this._winTextTimeline = new w.TimelineLite;
                        var e = -1 * (this._sprites.winText.width + this._BANNER_PADDING);
                        this._winTextTimeline.to(this._sprites.winText, this._config.duration, {
                            x: t + e,
                            ease: this._ease
                        }), this._winTextTimeline.to(this._sprites.winText, this._config.repeatDelay, {
                            onComplete: this._onTimelineComplete.bind(this)
                        })
                    }
                }
            }, {
                key: "_playMultiplier",
                value: function(t) {
                    this._multiplierTimeline ? this._multiplierTimeline.restart() : (this._multiplierTimeline = new w.TimelineLite, this._multiplierTimeline.to(this._sprites.multiplier, this._config.duration, {
                        x: t + this._BANNER_PADDING,
                        ease: this._ease
                    }))
                }
            }, {
                key: "stop",
                value: function() {
                    this._winTextTimeline && this._winTextTimeline.stop(), this._multiplierTimeline && this._multiplierTimeline.stop()
                }
            }, {
                key: "_onTimelineComplete",
                value: function() {
                    this._loopCount < this._config.loopCount ? (this._winTextTimeline && this._winTextTimeline.restart(), this._multiplierTimeline && this._multiplierTimeline.restart(), this._loopCount += 1) : this.emit(i.a.MULTIPLIER_BANNER_COMPLETE)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._winTextTimeline && this._winTextTimeline.kill(), this._multiplierTimeline && this._multiplierTimeline.kill(), this._winTextTimeline = null, this._multiplierTimeline = null, this._sprites = null, on.prototype.destroy.call(this)
                }
            }]), e
    }();

    function _n(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var yn = function() {
        function t(e) {
            var n = e.particleCreator,
                i = e.stage,
                o = e.config;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._particleCreator = n, this._stage = i, this._config = o, this._particles = [], this._container = this._createContainer()
        }
        return function(t, e, n) {
            e && _n(t.prototype, e), n && _n(t, n)
        }(t, [{
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "emit",
            value: function() {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = e.triggerType,
                    i = e.triggerIndex,
                    o = e.duration,
                    r = e.interval,
                    a = e.delay,
                    s = e.position,
                    u = e.range,
                    l = e.xStep,
                    c = e.yStep,
                    h = e.rotationStep,
                    f = this._extractTriggerOptions(n, i) || {},
                    _ = {
                        duration: o || f.duration,
                        interval: r || f.interval,
                        delay: a || f.delay,
                        position: s || f.position || {},
                        range: u || f.range || {},
                        xStep: l || f.xStep || {},
                        yStep: c || f.yStep || {},
                        rotationStep: h || f.rotationStep || {}
                    };
                _.duration && (clearTimeout(this._delay), this._delay = setTimeout(function() {
                    t._emissionPoint = t._initializeEmissionPosition(_.position), t._moveEmissionPoint(_.duration, _.position), t._emissionInterval = t._createEmissionInterval(_), t._animationFrameRequest || t._onEnterFrame()
                }, _.delay))
            }
        }, {
            key: "_extractTriggerOptions",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;
                if (!this._config.triggers || !this._config.triggers[t]) return null;
                if (e > -1 && this._config.triggers[t].length > 0) {
                    var n = e % this._config.triggers[t].length;
                    return this._config.triggers[t][n]
                }
                return this._config.triggers[t]
            }
        }, {
            key: "_initializeEmissionPosition",
            value: function(t) {
                var e = t.keyframes && t.keyframes.length > 0;
                return {
                    x: e ? t.keyframes[0].x : t.x,
                    y: e ? t.keyframes[0].y : t.y
                }
            }
        }, {
            key: "_moveEmissionPoint",
            value: function(t, e) {
                var n = this;
                if (!t || !e || !e.keyframes || e.keyframes.length < 0) return null;
                var i = e.keyframes,
                    o = .001 * t / i.length,
                    r = this._createTimelineLite();
                return i.forEach(function(t) {
                    r.add(w.TweenLite.to(n._emissionPoint, o, {
                        x: t.x,
                        y: t.y
                    }))
                }), r.play(), r
            }
        }, {
            key: "_createTimelineLite",
            value: function() {
                return new w.TimelineLite
            }
        }, {
            key: "_createEmissionInterval",
            value: function(t) {
                var e = this,
                    n = t.duration,
                    i = t.interval,
                    o = t.range,
                    r = t.xStep,
                    a = t.yStep,
                    s = t.rotationStep,
                    u = Math.floor(n / i),
                    l = {
                        lastRandomXStep: 0
                    },
                    c = setInterval(function() {
                        u > 0 ? (e._emitParticle({
                            range: o,
                            xStep: r,
                            yStep: a,
                            rotationStep: s,
                            sharedState: l
                        }), u -= 1) : clearInterval(c)
                    }, i);
                return c
            }
        }, {
            key: "_emitParticle",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.range,
                    n = t.xStep,
                    i = t.yStep,
                    o = t.rotationStep,
                    r = t.sharedState,
                    a = this._particleCreator();
                a.initialize({
                    range: e,
                    xStep: n,
                    yStep: i,
                    rotationStep: o,
                    sharedState: r,
                    emissionPoint: this._emissionPoint
                }), this._particles.push(a), this._stage.addChild(this._container), a.addTo(this._container)
            }
        }, {
            key: "_onEnterFrame",
            value: function() {
                this._animationFrameRequest = requestAnimationFrame(this._onEnterFrame.bind(this));
                for (var t = 0; t < this._particles.length; t += 1) this._particles[t].onEnterFrame()
            }
        }, {
            key: "clear",
            value: function() {
                w.TweenLite.killTweensOf(this._emissionPoint), cancelAnimationFrame(this._animationFrameRequest), this._animationFrameRequest = null, clearInterval(this._emissionInterval), this._emissionInterval = null, clearTimeout(this._delay), this._delay = null, this._container.removeChildren(), this._stage === this._container.parent && this._stage.removeChild(this._container), this._particles.forEach(function(t) {
                    t.destroy()
                }), this._particles = []
            }
        }, {
            key: "destroy",
            value: function() {
                this.clear(), this._emissionPoint = null, this._container.destroy(), this._container = null, this._stage = null, this._config = null, this._particles.forEach(function(t) {
                    t.destroy()
                }), this._particles = null
            }
        }]), t
    }();

    function dn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var pn = function() {
        function t(e) {
            var n = e.config,
                i = e.assets,
                o = e.layoutAdjuster;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = n, this._assets = i, this._layoutAdjuster = o
        }
        return function(t, e, n) {
            e && dn(t.prototype, e), n && dn(t, n)
        }(t, [{
            key: "createRevealAnimation",
            value: function() {
                var t = this._assets.getScatterRevealAnimation();
                if (!t) return this._createContainer();
                var e = this._createAnimatedSprite(t);
                return e.animationSpeed = this._config.fps / h.a.FPS, e.loop = !1, e
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new c.Container
            }
        }, {
            key: "_createAnimatedSprite",
            value: function(t) {
                return new c.extras.AnimatedSprite(t)
            }
        }]), t
    }();

    function mn(t) {
        return (mn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function vn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function gn(t, e) {
        return !e || "object" !== mn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function bn(t) {
        return (bn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Sn(t, e) {
        return (Sn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var wn = function(t) {
            function e(t) {
                var n, i = t.config,
                    o = t.assets,
                    r = t.layoutAdjuster;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = gn(this, bn(e).call(this, {
                    config: i,
                    assets: o,
                    layoutAdjuster: r
                })))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Sn(t, e)
                }(e, on),
                function(t, e, n) {
                    e && vn(t.prototype, e), n && vn(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createFactory();
                        return this._addRevealAnimations(t), this
                    }
                }, {
                    key: "_createFactory",
                    value: function() {
                        return new pn({
                            config: this._config,
                            assets: this._assets,
                            layoutAdjuster: this._layoutAdjuster
                        })
                    }
                }, {
                    key: "_addRevealAnimations",
                    value: function(t) {
                        for (var e = 0; e < this._config.reels.count; e += 1)
                            for (var n = 0; n < this._config.reels.countOfVisibleSymbols; n += 1) {
                                var i = t.createRevealAnimation();
                                i.x = e * (this._config.symbol.width + this._config.reels.gap), i.y = n * this._config.symbol.height, this.addChild(i)
                            }
                        return this
                    }
                }, {
                    key: "gotoAndPlay",
                    value: function(t) {
                        var e = this,
                            n = 0;
                        this.children.filter(function(t) {
                            return t.gotoAndPlay && t.gotoAndStop
                        }).forEach(function(i, o) {
                            i.alpha = 1, i.gotoAndStop(t), i.timeout = setTimeout(function() {
                                i.timeout = null;
                                var n = i.totalFrames / i.animationSpeed / h.a.FPS,
                                    o = n * (e._config.fadeoutDelayPercentage || 0),
                                    r = n - o;
                                w.TweenLite.to(i, r, {
                                    delay: o,
                                    alpha: 0,
                                    ease: w.Circ.easeIn
                                }), i.gotoAndPlay(t)
                            }, n), n += e._getStaggerDelay(o)
                        })
                    }
                }, {
                    key: "_getStaggerDelay",
                    value: function(t) {
                        return this._config.staggerDelay.length > 0 ? this._config.staggerDelay[t % this._config.staggerDelay.length] : this._config.staggerDelay || 0
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.children.filter(function(t) {
                            return Boolean(t.timeout)
                        }).forEach(function(t) {
                            clearTimeout(t.timeout)
                        }), on.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        kn = n(15),
        En = {
            REMOVED: "removed"
        };

    function Tn(t) {
        return (Tn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Cn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function On(t, e) {
        return !e || "object" !== Tn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function An(t) {
        return (An = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Pn(t, e) {
        return (Pn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var In = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = On(this, An(e).call(this)))._setup = t, n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Pn(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Cn(t.prototype, e), n && Cn(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this,
                        e = this._setup.text || "";
                    this._label = this._createLabel(e, this._setup.font), this._updatePivot(this._label), this.addChild(this._label);
                    var n = this._setup.filters || [];
                    this._filterContainers = n.map(function(n) {
                        return {
                            label: t._createLabel(e, n.font),
                            setup: n
                        }
                    }), this._filterContainers.forEach(function(e) {
                        e.label.alpha = 0, t._updatePivot(e.label, e.setup), t.addChild(e.label)
                    }), this.on(En.REMOVED, function() {
                        t.destroy()
                    })
                }
            }, {
                key: "_createLabel",
                value: function(t, e) {
                    var n = new c.extras.BitmapText(t, {
                        font: e,
                        align: "center"
                    });
                    return n.x = this._setup.x || 0, n.y = this._setup.y || 0, n
                }
            }, {
                key: "_updatePivot",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = e.offsetX || 0,
                        i = e.offsetY || 0;
                    switch (t.pivot.x = .5 * t.width / t.scale.x - n, this._setup.verticalAlignment) {
                        case "bottom":
                            t.pivot.y = 0 - i;
                            break;
                        case "top":
                            t.pivot.y = 1 * t.height - i;
                            break;
                        default:
                            t.pivot.y = .5 * t.height - i
                    }
                }
            }, {
                key: "setContent",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    this._label.text = e, this._updatePivot(this._label), this._filterContainers.forEach(function(n) {
                        n.label.text = e, t._updatePivot(n.label, n.setup)
                    })
                }
            }, {
                key: "play",
                value: function() {
                    var t = this,
                        e = this._filterContainers.map(function(t) {
                            return t.label
                        });
                    [this._label].concat(e).forEach(function(e) {
                        t._play({
                            label: e,
                            startScale: t._setup.startScale || 1,
                            introDuration: t._setup.introDuration || 0,
                            outroDuration: t._setup.outroDuration || 0,
                            fadeoutDuration: t._setup.fadeoutDuration || 0,
                            introScale: t._setup.introScale || 1,
                            outroScale: t._setup.outroScale || 1
                        })
                    }), this._filterContainers.forEach(function(e) {
                        t._animateFilter({
                            label: e.label,
                            fadeinDelay: e.setup.fadeinDelay || 0,
                            fadeinDuration: e.setup.fadeinDuration || 0,
                            fadeoutDelay: e.setup.fadeoutDelay || 0,
                            fadeoutDuration: e.setup.fadeoutDuration || 0
                        })
                    })
                }
            }, {
                key: "_play",
                value: function(t) {
                    var e = t.label,
                        n = t.startScale,
                        i = t.introDuration,
                        o = t.outroDuration,
                        r = t.fadeoutDuration,
                        a = t.introScale,
                        s = t.outroScale;
                    e.scale.x = n, e.scale.y = n;
                    var u = o - r;
                    w.TweenLite.to(e.scale, i, {
                        x: a,
                        y: a,
                        onComplete: function() {
                            w.TweenLite.to(e.scale, o, {
                                x: s,
                                y: s,
                                ease: he.Circ.easeOut
                            }), w.TweenLite.to(e, r, {
                                delay: u,
                                alpha: 0
                            })
                        }
                    })
                }
            }, {
                key: "_animateFilter",
                value: function(t) {
                    var e = t.label,
                        n = t.fadeinDelay,
                        i = t.fadeinDuration,
                        o = t.fadeoutDelay,
                        r = t.fadeoutDuration;
                    w.TweenLite.to(e, i, {
                        delay: n,
                        alpha: 1,
                        onComplete: function() {
                            w.TweenLite.to(e, r, {
                                delay: o,
                                alpha: 0
                            })
                        }
                    })
                }
            }, {
                key: "destroy",
                value: function() {
                    this._setup = null, w.TweenLite.killTweensOf(this._label), w.TweenLite.killTweensOf(this._label.scale), this._label.destroy(), this._label = null, this._filterContainers.forEach(function(t) {
                        w.TweenLite.killTweensOf(t.label), w.TweenLite.killTweensOf(t.label.scale), t.label.destroy()
                    }), this._filterContainers = null, this.removeChildren(), c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function xn(t) {
        return (xn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Rn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Wn(t, e) {
        return !e || "object" !== xn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Nn(t) {
        return (Nn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function jn(t, e) {
        return (jn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ln = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = Wn(this, Nn(e).call(this, t)))._FRAME_INTERVAL = 50, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && jn(t, e)
            }(e, In),
            function(t, e, n) {
                e && Rn(t.prototype, e), n && Rn(t, n)
            }(e, [{
                key: "setAmount",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._targetAmount = t;
                    var e = 1e3 * this._setup.countUpDuration || 0,
                        n = Math.floor(e / this._FRAME_INTERVAL) || 1;
                    this._countStep = Math.floor(this._targetAmount / n), this._countUp(this._countStep)
                }
            }, {
                key: "_countUp",
                value: function(t) {
                    var e = this,
                        n = t < this._targetAmount ? t : this._targetAmount,
                        i = kn.a.formatCredit(n, this._setup.format);
                    this.setContent(i), n < this._targetAmount && (this._counter = setTimeout(function() {
                        e._countUp(t + e._countStep)
                    }, this._FRAME_INTERVAL))
                }
            }]), e
    }();

    function Gn(t) {
        return (Gn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Mn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Bn(t, e) {
        return !e || "object" !== Gn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Fn(t) {
        return (Fn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Hn(t, e) {
        return (Hn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Dn = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = Bn(this, Fn(e).call(this)))._config = t, i._animationCreator = n, i._animationStartDelays = [], i._isDestroyed = !1, i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Hn(t, e)
                }(e, c["Container"]),
                function(t, e, n) {
                    e && Mn(t.prototype, e), n && Mn(t, n)
                }(e, [{
                    key: "showIdleAnimations",
                    value: function(t) {
                        var e = this;
                        t.forEach(function(t, n) {
                            t.symbols.filter(function(t, i) {
                                var o = n + 1;
                                bt.a.getIsWithinVisibleArea(i, e._config) && e._showIdleAnimation(t.id, {
                                    x: o,
                                    y: i
                                })
                            })
                        });
                        var n = this._calculateIdleRepeatDelay();
                        n > 0 && !this._isDestroyed && (this._repeatDelay = setTimeout(function() {
                            e._isDestroyed || e.showIdleAnimations(t)
                        }, n))
                    }
                }, {
                    key: "_showIdleAnimation",
                    value: function(t, e) {
                        var n = this,
                            i = e.x,
                            o = e.y;
                        if (this._calculateShouldDisplayIdleAnimation()) {
                            var r = this._calculateIdleDelay(),
                                a = setTimeout(function() {
                                    if (!n._isDestroyed) {
                                        var e = n._animationCreator(t, {
                                            x: i,
                                            y: o
                                        });
                                        n.addChild(e)
                                    }
                                }, r);
                            this._animationStartDelays.push(a)
                        }
                    }
                }, {
                    key: "_calculateShouldDisplayIdleAnimation",
                    value: function() {
                        var t = (this._config.idle || {}).likeliness || 0;
                        return Math.random() < t
                    }
                }, {
                    key: "_calculateIdleDelay",
                    value: function() {
                        var t = (this._config.idle || {}).delay || {},
                            e = t.base || 0,
                            n = t.fuzz || 0;
                        return e + Math.floor(Math.random() * n)
                    }
                }, {
                    key: "_calculateIdleRepeatDelay",
                    value: function() {
                        return ((this._config.idle || {}).delay || {}).repeat || 0
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.removeChildren(), this._animationStartDelays.forEach(function(t) {
                            clearTimeout(t)
                        }), this._animationStartDelays = [], clearTimeout(this._repeatDelay)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._isDestroyed = !0, this._config = null, this._animationCreator = null, clearTimeout(this._repeatDelay), this._repeatDelay = null, this._animationStartDelays.forEach(function(t) {
                            clearTimeout(t)
                        }), this._animationStartDelays = null, this.children.forEach(function(t) {
                            t.removeAllListeners()
                        }), this.removeChildren(), c.Container.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Kn = n(69);

    function Un(t) {
        return (Un = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Yn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function qn(t, e) {
        return !e || "object" !== Un(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Vn(t) {
        return (Vn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Xn(t, e) {
        return (Xn = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var zn = function(t) {
        function e(t) {
            var n;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n = qn(this, Vn(e).call(this));
            var i = t.config,
                o = t.assets,
                r = t.layoutAdjuster;
            return n._config = i, n._assets = o, n._layoutAdjuster = r, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Xn(t, e)
            }(e, Kn["a"]),
            function(t, e, n) {
                e && Yn(t.prototype, e), n && Yn(t, n)
            }(e, [{
                key: "createMultiplierBanner",
                value: function(t) {
                    var e = this._config.effects;
                    if (!(e && e.multiplier && e.multiplier.indexMap) || !t.special) return this._createContainer();
                    var n = e.multiplier.indexMap.indexOf(t.special.multiplier);
                    return n > -1 && n < e.multiplier.indexMap.length ? this._createMultiplierBanner({
                        config: e.multiplier,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster,
                        multiplierIndex: n
                    }) : this._createContainer()
                }
            }, {
                key: "_createMultiplierBanner",
                value: function(t) {
                    var e = t.config,
                        n = t.assets,
                        i = t.layoutAdjuster,
                        o = t.multiplierIndex;
                    return new fn({
                        config: e,
                        assets: n,
                        layoutAdjuster: i,
                        multiplierIndex: o
                    })
                }
            }, {
                key: "createWinHeader",
                value: function(t) {
                    var e = this._config.winHeader || {},
                        n = {
                            regular: this._assets.getWinHeader(),
                            scatter: this._assets.getScatterWinHeader()
                        },
                        i = this._createGameTypeAnimatedSprite({
                            model: t,
                            spriteCreator: this._createAnimatedSprite.bind(this),
                            texture: n,
                            scatterOffset: e.scatterOffset,
                            playOnlyOnce: !0
                        });
                    return i.x = e.x || 0, i.y = e.y || 0, this._layoutAdjuster.adjustToMain(i)
                }
            }, {
                key: "createRevealOverlay",
                value: function() {
                    var t = this._config.effects;
                    if (!t || !t.revealOverlay) return this._createContainer();
                    var e = this._createRevealOverlay({
                        config: t.revealOverlay,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return e.x = this._config.reels.x, e.y = this._config.reels.y, this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "_createRevealOverlay",
                value: function(t) {
                    var e = t.config,
                        n = t.assets,
                        i = t.layoutAdjuster;
                    return new wn({
                        config: e,
                        assets: n,
                        layoutAdjuster: i
                    })
                }
            }, {
                key: "createCoinEmitter",
                value: function(t) {
                    return new yn({
                        particleCreator: this._createCoin.bind(this),
                        stage: t,
                        config: this._config.effects.coinEmitter
                    })
                }
            }, {
                key: "_createCoin",
                value: function() {
                    var t = this._assets.getEffectsCoin();
                    if (!t) return this._createContainer();
                    var e = this._createAnimatedSprite(t),
                        n = Math.floor(15 + 10 * Math.random());
                    return e.animationSpeed = n / h.a.FPS, e.play(), new Je(e, this._config.effects.coinEmitter)
                }
            }, {
                key: "createWinMessage",
                value: function(t) {
                    if (!t) return this._createContainer();
                    var e = new In(t);
                    return e.play(), this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "createWinAmountMessage",
                value: function(t, e) {
                    if (!t) return this._createContainer();
                    var n = new Ln(t);
                    return n.setAmount(e), n.play(), this._layoutAdjuster.adjustToMain(n)
                }
            }, {
                key: "createIdleAnimationContainer",
                value: function() {
                    return new Dn(this._config, this._createIdleSymbol.bind(this))
                }
            }, {
                key: "_createIdleSymbol",
                value: function(t, e) {
                    var n = this._assets.getIdleSymbol(t);
                    if (!n) return this._createContainer();
                    var i = this._createAnimatedSprite(n);
                    return i.animationSpeed = this._config.symbol.fps / h.a.FPS, i.x = f.calculateOnReelX(e, this._config), i.y = f.calculateOnReelY(e, this._config), i.loop = !1, i.play(), i.onComplete = function() {
                        i.parent && (i.parent.removeChild(i), i.destroy())
                    }, this._layoutAdjuster.adjustToMain(i)
                }
            }]), e
    }();

    function Qn(t) {
        return (Qn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Jn(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function $n(t, e) {
        return !e || "object" !== Qn(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Zn(t) {
        return (Zn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ti(t, e) {
        return (ti = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ei = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = $n(this, Zn(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ti(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Jn(t.prototype, e), n && Jn(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._workshop = this._createWorkshop(), this._idleAnimationContainer = this._workshop.createIdleAnimationContainer(), this.addChild(this._idleAnimationContainer);
                    var t = this._workshop.createWinHeader(this._model);
                    this._addEffect(t);
                    var e = this._workshop.createRevealOverlay(),
                        n = this._createStatusChangeHandler({
                            winHeader: t,
                            revealOverlay: e
                        });
                    this._model.on(s.a.STATUS_CHANGE, n, this);
                    var i = this._createGameTypeChangeHandler({
                        winHeader: t,
                        revealOverlay: e
                    });
                    this._model.on(s.a.GAME_TYPE_CHANGE, i, this), this._coinEmitter = this._workshop.createCoinEmitter(this), this._coinEmitter.emit({
                        triggerType: Xe.INIT
                    }), this._winMessageContainer = this._createContainer(), this.addChild(this._winMessageContainer)
                }
            }, {
                key: "_addEffect",
                value: function(t) {
                    t.parent !== this && (t.visible = !1, this.addChild(t))
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new zn({
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "_createStatusChangeHandler",
                value: function(t) {
                    var e = this,
                        n = t.winHeader,
                        i = t.revealOverlay;
                    return function(t, o) {
                        switch (o) {
                            case l.a.SCATTER_INTRO:
                                e._cancelWinHeader(n);
                                break;
                            case l.a.FIRST_WINLINE_WALK:
                                e._showWinHeader(n), e._showMultiplier();
                                break;
                            case l.a.FAST_SPECIAL_WALK:
                            case l.a.FAST_WINLINE_WALK:
                            case l.a.WAITING:
                            case l.a.GAMBLING:
                            case l.a.TAKING:
                                e._hideMultiplier();
                                break;
                            case l.a.READY:
                                e._winMessageContainer.removeChildren(), e._idleAnimationContainer.showIdleAnimations(e._model.reels);
                                break;
                            case l.a.SPINNING:
                                e._showRevealOverlay(i), e._idleAnimationContainer.clear(), e._coinEmitter.clear()
                        }
                    }
                }
            }, {
                key: "_cancelWinHeader",
                value: function(t) {
                    this._isAnimatedSprite(t) && (t.visible = !1, t.onComplete = null)
                }
            }, {
                key: "_showWinHeader",
                value: function(t) {
                    var e = this;
                    this._isAnimatedSprite(t) && (this.emit(i.a.WIN_HEADER_START), t.visible = !0, t.onComplete = function() {
                        e.emit(i.a.WIN_HEADER_COMPLETE), t.visible = !1
                    }, t.gotoAndPlay(0))
                }
            }, {
                key: "_isAnimatedSprite",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "_showMultiplier",
                value: function() {
                    this._model.hasMultiplier && this._showBanner()
                }
            }, {
                key: "_showBanner",
                value: function() {
                    this.emit(a.a.SPECIAL_MULTIPLIER), this._banner = this._workshop.createMultiplierBanner(this._model), this._banner.on(i.a.MULTIPLIER_BANNER_COMPLETE, this._handleBannerComplete, this), this._isMultiplerBanner(this._banner) && this._banner.play(), this.addChild(this._banner)
                }
            }, {
                key: "_isMultiplerBanner",
                value: function(t) {
                    return "play" in t && "stop" in t
                }
            }, {
                key: "_handleBannerComplete",
                value: function() {
                    this._banner && (this._isMultiplerBanner(this._banner) && this._banner.stop(), this._banner.visible = !1), this.emit(i.a.MULTIPLIER_BANNER_COMPLETE)
                }
            }, {
                key: "_hideMultiplier",
                value: function() {
                    this._banner && (this._isMultiplerBanner(this._banner) && this._banner.stop(), this._banner.removeAllListeners(), this.removeChild(this._banner), this._banner = null), this._bannerDelay && clearTimeout(this._bannerDelay)
                }
            }, {
                key: "_createGameTypeChangeHandler",
                value: function(t) {
                    var e = this,
                        n = t.revealOverlay;
                    return function(t, i) {
                        (i === u.a.SCATTER ? e._addEffect : e._removeEffect).call(e, n)
                    }
                }
            }, {
                key: "_removeEffect",
                value: function(t) {
                    t.parent === this && this.removeChild(t)
                }
            }, {
                key: "_showRevealOverlay",
                value: function(t) {
                    t.visible = !0, this._isRevealOverlay(t) && t.gotoAndPlay(0)
                }
            }, {
                key: "_isRevealOverlay",
                value: function(t) {
                    return "gotoAndPlay" in t
                }
            }, {
                key: "showBanner",
                value: function() {
                    this._banner && (this._banner.visible = !0, this._isMultiplerBanner(this._banner) && this._banner.play())
                }
            }, {
                key: "hasBanner",
                value: function() {
                    return Boolean(this._banner)
                }
            }, {
                key: "showSmallWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.SMALL_WIN,
                        messageSetup: this._getMessageConfig().smallWin
                    })
                }
            }, {
                key: "_showWin",
                value: function(t) {
                    var e = t.coordinates,
                        n = t.triggerType,
                        i = t.messageSetup;
                    this._winMessageContainer.removeChildren(), this._showWinMessage(i), this._coinEmitter.emit({
                        triggerType: n,
                        position: {
                            keyframes: e
                        }
                    })
                }
            }, {
                key: "_getMessageConfig",
                value: function() {
                    return (this._config.effects ? this._config.effects.message : {}) || {}
                }
            }, {
                key: "_showWinMessage",
                value: function(t) {
                    var e = this._workshop.createWinMessage(t);
                    this._winMessageContainer.addChild(e)
                }
            }, {
                key: "showRegularWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.REGULAR_WIN,
                        messageSetup: this._getMessageConfig().regularWin
                    })
                }
            }, {
                key: "showHighWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.HIGH_WIN,
                        messageSetup: this._getMessageConfig().highWin
                    })
                }
            }, {
                key: "showHugeWin",
                value: function(t) {
                    this._showWin({
                        coordinates: t,
                        triggerType: Xe.HUGE_WIN,
                        messageSetup: this._getMessageConfig().hugeWin
                    })
                }
            }, {
                key: "showFullWin",
                value: function() {
                    this._winMessageContainer.removeChildren(), this._showWinMessage(this._getMessageConfig().fullWin), this._coinEmitter.emit({
                        triggerType: Xe.FULL_WIN
                    })
                }
            }, {
                key: "showPotWin",
                value: function(t, e) {
                    this._winMessageContainer.removeChildren();
                    var n = this._getMessageConfig().potWins,
                        i = n[t % n.length];
                    this._showWinMessage(i), this._showWinAmountMessage(i.amount, e), this._coinEmitter.emit({
                        triggerType: Xe.POT_WIN,
                        triggerIndex: t
                    })
                }
            }, {
                key: "_showWinAmountMessage",
                value: function(t, e) {
                    var n = this._workshop.createWinAmountMessage(t, e);
                    this._winMessageContainer.addChild(n)
                }
            }, {
                key: "showBeforeReady",
                value: function(t) {
                    this._coinEmitter.emit({
                        triggerType: Xe.BEFORE_READY
                    })
                }
            }, {
                key: "getWinMessageContainer",
                value: function() {
                    return this._winMessageContainer
                }
            }, {
                key: "destroy",
                value: function() {
                    this._workshop = null, clearTimeout(this._bannerDelay), this._bannerDelay = null, this._banner && (this._banner.destroy(), this._banner = null), this._coinEmitter.destroy(), this._coinEmitter = null, this._winMessageContainer.destroy(), this._winMessageContainer = null, this._idleAnimationContainer.destroy(), this._idleAnimationContainer = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function ni(t) {
        return (ni = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ii(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }

    function oi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ri(t, e) {
        return !e || "object" !== ni(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ai(t) {
        return (ai = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function si(t, e) {
        return (si = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var ui = function(t) {
            function e(t) {
                var n, i, o = t.config,
                    r = t.model,
                    a = t.regular,
                    s = t.scatter;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = ri(this, ai(e).call(this)))._config = o, i._model = r, i._animators = (ii(n = {}, u.a.REGULAR, a), ii(n, u.a.SCATTER, s), n), i._init(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && si(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && oi(t.prototype, e), n && oi(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._forEachAnimator(this._addEventForwardingTo), this
                    }
                }, {
                    key: "_forEachAnimator",
                    value: function(t) {
                        for (var e in this._animators) this._animators.hasOwnProperty(e) && this._animators[e] && t.call(this, this._animators[e])
                    }
                }, {
                    key: "_addEventForwardingTo",
                    value: function(t) {
                        for (var e = this, n = [i.a.REEL_ENTER_FINAL_SYMBOLS, i.a.REEL_STOPPING], o = 0; o < this._config.reels.count; o += 1) n.push(i.a.spinCompleteForId(o)), n.push(i.a.afterSpinCompleteForId(o));
                        return n.forEach(function(n) {
                            t.on(n, function() {
                                for (var t = arguments.length, i = new Array(t), o = 0; o < t; o++) i[o] = arguments[o];
                                e.emit.apply(e, [n].concat(i))
                            })
                        }), t
                    }
                }, {
                    key: "spin",
                    value: function(t) {
                        var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            turboEnabled: !1
                        }).turboEnabled;
                        return this._getActiveAnimator().spin(t, {
                            turboEnabled: e
                        })
                    }
                }, {
                    key: "afterSpin",
                    value: function(t, e) {
                        return this._getActiveAnimator().afterSpin(t, e)
                    }
                }, {
                    key: "_getActiveAnimator",
                    value: function() {
                        return this._animators[this._model.gameType] || this._animators[u.a.REGULAR]
                    }
                }, {
                    key: "slowDown",
                    value: function(t) {
                        return this._getActiveAnimator().slowDown(t)
                    }
                }, {
                    key: "stop",
                    value: function(t) {
                        return this._getActiveAnimator().stop(t)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._forEachAnimator(this._destroyAnimator), this._animators = null, this._config = null, this._model = null
                    }
                }, {
                    key: "_destroyAnimator",
                    value: function(t) {
                        t.removeAllListeners(), t.destroy()
                    }
                }]), e
        }(),
        li = {
            isDisplayObject: function(t) {
                var e = !(isNaN(t.x) || isNaN(t.y) || isNaN(t.width) || isNaN(t.height)),
                    n = t.width >= 0 && t.height >= 0;
                return e && n
            }
        };

    function ci(t) {
        return (ci = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function hi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function fi(t, e) {
        return !e || "object" !== ci(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function _i(t) {
        return (_i = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function yi(t, e) {
        return (yi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var di = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = fi(this, _i(e).call(this)))._config = t, n._timelines = [], n._endTweens = [], n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && yi(t, e)
            }(e, Dt.a),
            function(t, e, n) {
                e && hi(t.prototype, e), n && hi(t, n)
            }(e, [{
                key: "spin",
                value: function(t) {
                    var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        turboEnabled: !1
                    }).turboEnabled;
                    if (!li.isDisplayObject(t) || void 0 === t.getId()) throw new TypeError;
                    var n = this._calculateSpinTargetPositions(t),
                        i = this._calculateSpinDurations(t, n.completeY),
                        o = this._createSpinParameters(n, i, {
                            id: t.getId(),
                            shouldSlowDownNext: t.getShouldSlowDownNext(),
                            hasEnterSound: t.getHasEnterSound()
                        }),
                        r = new w.TimelineLite({
                            onComplete: this._createSpinCompleteDispatcher(t).bind(this)
                        });
                    return e || r.to(t, i.windupDuration, o.windupVars), r.to(t, i.completeDuration, o.completeVars).to(t, i.overshootDuration, o.overshootVars), this._animateSpinSpeedup(r), this._endTweens[t.getId()] = this._animateSpinSlowdown(r, i.completeDuration), this._timelines[t.getId()] = r, this._quickSpinDuration = 0, t
                }
            }, {
                key: "_createSpinParameters",
                value: function(t, e, n) {
                    var o = this,
                        r = n.shouldSlowDownNext,
                        a = n.hasEnterSound,
                        s = n.id,
                        u = this._config.timing.windup;
                    return {
                        windupVars: {
                            y: t.windupY,
                            ease: w.Sine.easeInOut
                        },
                        completeVars: {
                            y: t.overshootY,
                            ease: w.Power0.easeNone,
                            delay: u.delay,
                            onStart: function() {
                                var t = o._calculateFinalSymbolsDuration(),
                                    n = e.completeDuration - t;
                                setTimeout(function() {
                                    o.emit(i.a.REEL_ENTER_FINAL_SYMBOLS)
                                }, 1e3 * n)
                            },
                            onComplete: function() {
                                o.emit(i.a.REEL_STOPPING, {
                                    id: s,
                                    shouldSlowDownNext: r,
                                    hasEnterSound: a
                                })
                            }
                        },
                        overshootVars: {
                            y: t.completeY,
                            ease: w.Power1.easeIn
                        }
                    }
                }
            }, {
                key: "_calculateSpinDurations",
                value: function(t, e) {
                    var n = this._config.timing.speed,
                        i = this._config.timing.overshoot;
                    return {
                        windupDuration: this._config.timing.windup.duration * n.correctionFactor,
                        completeDuration: this._calculateSpinCompleteDuration(t, e) * n.correctionFactor,
                        overshootDuration: i.duration * n.correctionFactor
                    }
                }
            }, {
                key: "_calculateSpinCompleteDuration",
                value: function(t, e) {
                    return (e - t.y) / this._config.symbol.height / this._config.timing.speed.symbolsPerSecond
                }
            }, {
                key: "_calculateFinalSymbolsDuration",
                value: function() {
                    return this._config.reels.countOfVisibleSymbols / this._config.timing.speed.symbolsPerSecond
                }
            }, {
                key: "_calculateSpinTargetPositions",
                value: function(t) {
                    var e = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1,
                        n = t.height + e,
                        i = n + this._config.timing.overshoot.distance;
                    return {
                        windupY: t.y + this._config.timing.windup.distance,
                        overshootY: i,
                        completeY: n
                    }
                }
            }, {
                key: "_createSpinCompleteDispatcher",
                value: function(t) {
                    return function() {
                        var e = i.a.spinCompleteForId(t.getId());
                        this._timelines[t.getId()] = null, this.emit(e)
                    }
                }
            }, {
                key: "_animateSpinSpeedup",
                value: function(t) {
                    var e = this._config.timing.speedup.duration,
                        n = {
                            timeScale: this._config.timing.speedup.timeScale,
                            ease: w.Sine.easeInOut
                        };
                    return w.TweenLite.from(t, e, n)
                }
            }, {
                key: "_animateSpinSlowdown",
                value: function(t, e) {
                    var n = this._config.timing,
                        i = (n.slowdown.distance + n.overshoot.distance) / this._config.symbol.height / n.speed.symbolsPerSecond,
                        o = {
                            delay: e - i,
                            timeScale: n.slowdown.timeScale,
                            ease: w.Sine.easeOut
                        };
                    return w.TweenLite.to(t, i, o)
                }
            }, {
                key: "afterSpin",
                value: function(t, e) {
                    var n = this,
                        o = e > 0 && this._quickSpinDuration > 0 ? 1 : e,
                        r = t.y + o * this._config.symbol.height;
                    return w.TweenLite.to(t, .3, {
                        y: r,
                        onComplete: function() {
                            setTimeout(function() {
                                n.emit(i.a.afterSpinCompleteForId(t.getId()))
                            }, 100)
                        }
                    }), t
                }
            }, {
                key: "slowDown",
                value: function(t) {
                    var e = this._config.timing.speed;
                    if (e.slowSymbolsPerSecond) {
                        var n = e.slowSymbolsPerSecond / e.symbolsPerSecond,
                            i = n * this._timelines[t].timeScale(),
                            o = this._endTweens[t].delay() / n;
                        this._timelines[t].timeScale(i), this._endTweens[t].delay(o)
                    }
                    return t
                }
            }, {
                key: "stop",
                value: function(t) {
                    var e = this._timelines[t.getId()],
                        n = t.prepareToStop();
                    if (e) {
                        var i = this._calculateSpinTargetPositions(t),
                            o = this._calculateSpinDurations(t, i.completeY);
                        this._quickSpinDuration = this._getQuickSpinDuration({
                            droppedSymbolsCount: n,
                            timeline: e,
                            durations: o
                        }), o.overshootDuration < this._quickSpinDuration && (e.stop(), this._quickSpin({
                            reel: t,
                            targets: i,
                            durations: o
                        }), e.kill())
                    }
                    return t
                }
            }, {
                key: "_getQuickSpinDuration",
                value: function(t) {
                    var e = t.droppedSymbolsCount,
                        n = (t.timeline, t.durations);
                    if (e <= 0) return 0;
                    var i = n.completeDuration + n.overshootDuration;
                    return this._quickSpinDuration || i
                }
            }, {
                key: "_quickSpin",
                value: function(t) {
                    var e = t.reel,
                        n = t.targets,
                        i = t.durations,
                        o = this._createSpinParameters(n, i, {
                            id: e.getId(),
                            shouldSlowDownNext: e.getShouldSlowDownNext(),
                            hasEnterSound: e.getHasEnterSound()
                        }),
                        r = new w.TimelineLite({
                            onComplete: this._createSpinCompleteDispatcher(e).bind(this)
                        });
                    r.to(e, this._quickSpinDuration, o.completeVars).to(e, i.overshootDuration, o.overshootVars);
                    var a = this._config.timing.windup,
                        s = a.duration - a.delay;
                    return r.time(s), this._endTweens[e.getId()] = this._animateSpinSlowdown(r, this._quickSpinDuration), this._timelines[e.getId()] = r, e
                }
            }, {
                key: "destroy",
                value: function() {
                    for (var t = 0; t < this._config.reels.count; t += 1) this._timelines[t] && (this._timelines[t].kill(), this._timelines[t] = null), this._endTweens[t] && (this._endTweens[t].kill(), this._endTweens[t] = null);
                    this._timelines = null, this._endTweens = null, this._config = null
                }
            }]), e
    }();

    function pi(t) {
        return (pi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function mi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function vi(t, e) {
        return !e || "object" !== pi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function gi(t) {
        return (gi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function bi(t, e) {
        return (bi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Si = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = vi(this, gi(e).call(this)))._config = t, n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && bi(t, e)
                }(e, Dt.a),
                function(t, e, n) {
                    e && mi(t.prototype, e), n && mi(t, n)
                }(e, [{
                    key: "spin",
                    value: function(t) {
                        var e = this,
                            n = ((arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                turboEnabled: !1
                            }).turboEnabled, this._calculateSpinTargetPosition(t));
                        t.y = n;
                        var o = i.a.spinCompleteForId(t.getId()),
                            r = 1e3 * this._config.timing.speed.revealDuration || 0;
                        this._spinCompleteTimeout = setTimeout(function() {
                            e.emit(o)
                        }, r);
                        var a = this._config.effects.revealOverlay || {
                                staggerDelay: 0,
                                reels: {
                                    countOfVisibleSymbols: 3
                                }
                            },
                            s = (a.enterReelStaggerDelay || a.staggerDelay) * (a.reels.countOfVisibleSymbols + 1),
                            u = a.stoppingOffset || 1.3,
                            l = s * (t.getId() + u);
                        return this._reelStopDelay = setTimeout(function() {
                            e.emit(i.a.REEL_STOPPING, {
                                id: t.getId(),
                                shouldSlowDownNext: t.getShouldSlowDownNext(),
                                hasEnterSound: t.getHasEnterSound()
                            })
                        }, l), t
                    }
                }, {
                    key: "_calculateSpinTargetPosition",
                    value: function(t) {
                        var e = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1;
                        return t.height + e
                    }
                }, {
                    key: "afterSpin",
                    value: function(t, e) {
                        return t
                    }
                }, {
                    key: "slowDown",
                    value: function(t) {
                        return t
                    }
                }, {
                    key: "stop",
                    value: function(t) {
                        return t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._config = null, clearTimeout(this._spinCompleteTimeout), this._spinCompleteTimeout = null, clearTimeout(this._reelStopDelay), this._reelStopDelay = null
                    }
                }]), e
        }(),
        wi = n(45),
        ki = {
            ID_CHANGE: "change:id",
            GAME_TYPE_CHANGE: "change:gameType"
        };

    function Ei(t) {
        return (Ei = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ti(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ci(t, e) {
        return !e || "object" !== Ei(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Oi(t) {
        return (Oi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Ai(t, e) {
        return (Ai = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Pi = function(t) {
        function e(t, n, i) {
            var o;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var r = (o = Ci(this, Oi(e).call(this)))._getTexture(t, n);
            return o._sprite = o._createSprite(r), o.addChild(o._sprite), o._model = t, o._assets = n, o._config = i, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Ai(t, e)
            }(e, c["Container"]),
            function(t, e, n) {
                e && Ti(t.prototype, e), n && Ti(t, n)
            }(e, [{
                key: "_createSprite",
                value: function(t) {
                    return new c.Sprite(t)
                }
            }, {
                key: "_getTexture",
                value: function(t, e) {
                    return t.isSpecial || t.id === t.specialTransformTo ? e.getStaticScatterSpecialSymbol(t.id) : t.gameType === u.a.SCATTER ? e.getStaticInScatterSymbol(t.id) : e.getStaticSymbol(t.id)
                }
            }, {
                key: "_init",
                value: function() {
                    var t = this._config.transform;
                    (t && t.from && t.from.indexOf(this._model.id) > -1 || this._model.specialTransformTo || this._model.isQuery || this._model.transformToId || this._model.stickyId) && this._model.on(ki.ID_CHANGE, this._handleChangeId, this);
                    var e = this._config.scatter;
                    return e && e.changeSymbolsWithGameType && this._model.on(ki.GAME_TYPE_CHANGE, this._handleChangeGameType, this), this
                }
            }, {
                key: "_handleChangeId",
                value: function(t, e) {
                    this._sprite.texture = this._getTexture(t, this._assets)
                }
            }, {
                key: "_handleChangeGameType",
                value: function(t, e) {
                    this._sprite.texture = this._getTexture(t, this._assets)
                }
            }, {
                key: "equalsModel",
                value: function(t) {
                    return this._model === t
                }
            }, {
                key: "getId",
                value: function() {
                    return this._model.id
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._sprite.destroy(), this._sprite = null, c.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ii(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var xi = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Ii(t.prototype, e), n && Ii(t, n)
            }(t, [{
                key: "createSymbols",
                value: function(t) {
                    var e = this,
                        n = [],
                        i = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0) - t.length * this._config.symbol.height;
                    return t.forEach(function(t) {
                        var o = new Pi(t, e._assets, e._config);
                        o.y = i, i += e._config.symbol.height, n.push(o)
                    }), n
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null
                }
            }]), t
        }(),
        Ri = n(25);

    function Wi(t) {
        return (Wi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Ni(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ji(t, e) {
        return !e || "object" !== Wi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Li(t) {
        return (Li = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Gi(t, e) {
        return (Gi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Mi = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = ji(this, Li(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Gi(t, e)
            }(e, d["a"]),
            function(t, e, n) {
                e && Ni(t.prototype, e), n && Ni(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._targetSymbolCount = Ri.a.getTargetReelLength(this._config), this._factory = this._createSymbolFactory(), this._updateSymbols(this._model.symbols), this._model.on(tt.a.SYMBOLS_CHANGE, this._handleChangeSymbols, this)
                }
            }, {
                key: "_createSymbolFactory",
                value: function() {
                    return new xi(this._config, this._assets)
                }
            }, {
                key: "_handleChangeSymbols",
                value: function(t, e) {
                    if (this._updateSymbols(e), this.children.length > 1 && this._turboEnabled && 0 === this._model.afterSpin.distance) {
                        var n = this.children[0],
                            i = this.children[this.children.length - 1];
                        n.y === i.y && this.swapChildren(n, i)
                    }
                }
            }, {
                key: "_updateView",
                value: function(t) {
                    this.cacheAsBitmap = !1, t.apply(this);
                    var e = h.a.isBigScreen() ? h.a.MAX_DESKTOP_TEXTURE_SIZE : h.a.MAX_MOBILE_TEXTURE_SIZE;
                    return this.cacheAsBitmap = this.height <= e, this
                }
            }, {
                key: "_updateSymbols",
                value: function(t) {
                    var e = this;
                    return this._updateView(function() {
                        e._previousSymbolCount = e.children.length, e._addNewSymbols(t)
                    }), this
                }
            }, {
                key: "_addNewSymbols",
                value: function(t) {
                    var e = this,
                        n = this.children.length;
                    return this._createNewSymbols(t, n).forEach(function(t) {
                        var i = n && e._turboEnabled ? e._config.symbol.height : 0;
                        t.y += i, e.addChild(t)
                    }), this
                }
            }, {
                key: "_createNewSymbols",
                value: function(t, e) {
                    var n = this._calculateTurboEnd(t, e),
                        i = this._turboEnabled ? n : t.length,
                        o = t.slice(e, i),
                        r = e * this._config.symbol.height * -1;
                    return this._cacheAfterSpinSymbolsBelow(t, i), this._factory.createSymbols(o, r)
                }
            }, {
                key: "_calculateTurboEnd",
                value: function(t, e) {
                    var n = e + this._targetSymbolCount,
                        i = t.length - n;
                    return this._model.willSlowDown ? i : n
                }
            }, {
                key: "_cacheAfterSpinSymbolsBelow",
                value: function(t, e) {
                    var n = -1 * this._model.afterSpin.distance - 1,
                        i = n > 0 && this._turboEnabled;
                    return this._cachedAfterSpinSymbols = i ? t.slice(e, e + n) : [], this._cachedAfterSpinSymbols
                }
            }, {
                key: "addChangeListener",
                value: function(t, e) {
                    return this._model.on(tt.a.SYMBOLS_CHANGE, t, e), this
                }
            }, {
                key: "trimSymbols",
                value: function() {
                    if (!(this.children.length > this._targetSymbolCount)) {
                        var t = "expected more than ".concat(this._targetSymbolCount, " Symbols, has ").concat(this.children.length);
                        throw new Error(t)
                    }
                    return this._updateView(this._trimSymbols), this
                }
            }, {
                key: "_trimSymbols",
                value: function() {
                    var t = this._removeOldSymbols,
                        e = this._calculateHeightDifference(t),
                        n = this._model.afterSpin,
                        i = e + (n.distance - n.symbols.length) * this._config.symbol.height;
                    return this._adjustSymbolsPosition(i), this
                }
            }, {
                key: "_calculateHeightDifference",
                value: function(t) {
                    var e = this.height;
                    return t.apply(this), e - this.height
                }
            }, {
                key: "_removeOldSymbols",
                value: function() {
                    var t = this._removeLeftoverSymbols(),
                        e = this._removeMissedSymbols(),
                        n = t.concat(e);
                    return this._wrapSymbolsAround(), n.forEach(function(t) {
                        t.destroy()
                    }), this
                }
            }, {
                key: "__logSymbols",
                value: function(t) {
                    console.log(t), this.children.forEach(function(t) {
                        console.log("symbol: ".concat([t.getId(), t.y]))
                    })
                }
            }, {
                key: "_removeLeftoverSymbols",
                value: function() {
                    var t = [];
                    if (this._previousSymbolCount > 0) {
                        var e = this._model.afterSpin,
                            n = e.distance < 0 && !this._turboEnabled ? -1 * e.distance : 0,
                            i = this._cachedAfterSpinSymbols.length;
                        t = this.removeChildren(0, this._previousSymbolCount + n + i)
                    }
                    return t
                }
            }, {
                key: "_removeMissedSymbols",
                value: function() {
                    var t = [];
                    if (this.children.length > this._targetSymbolCount) {
                        var e = this._model.afterSpin.symbols.length,
                            n = this._targetSymbolCount - e,
                            i = this.children.length - e;
                        t = this.removeChildren(n, i)
                    }
                    return t
                }
            }, {
                key: "_wrapSymbolsAround",
                value: function() {
                    return this._model.afterSpin.distance > 0 ? this._moveSymbolsUp() : this._moveSymbolsDown()
                }
            }, {
                key: "_moveSymbolsUp",
                value: function() {
                    for (var t = this._model.afterSpin, e = t.distance > 0 ? t.distance : 0, n = this.getChildAt(0).y, i = 1; i <= e; i += 1) {
                        this.getChildAt(this.children.length - i).y = n - this._config.symbol.height * i
                    }
                    return e
                }
            }, {
                key: "_moveSymbolsDown",
                value: function() {
                    var t = this._model.afterSpin,
                        e = t.distance < 0 ? -1 * t.distance : 0;
                    this._turboEnabled && e > 1 && (e = 1);
                    var n = this.getChildAt(this.children.length - 1).y + this._config.symbol.height;
                    if (this._turboEnabled)
                        for (var i = 0; i < e; i += 1) {
                            this.getChildAt(i).y = n + this._config.symbol.height * i
                        }
                    return e
                }
            }, {
                key: "_adjustSymbolsPosition",
                value: function(t) {
                    return this.children.forEach(function(e) {
                        e.y += t
                    }), this._previousSymbolCount = this.children.length, this
                }
            }, {
                key: "adjustPosition",
                value: function() {
                    var t = this._config.symbol.height * this._config.reels.countOfHiddenSymbolsAbove * -1;
                    return this.y = this.height + t, this
                }
            }, {
                key: "getId",
                value: function() {
                    return this._model.id
                }
            }, {
                key: "getSymbols",
                value: function() {
                    return this._model.symbols
                }
            }, {
                key: "getShouldSlowDownNext",
                value: function() {
                    return this._model.shouldSlowDownNext
                }
            }, {
                key: "getHasEnterSound",
                value: function() {
                    return this._model.hasEnterSound
                }
            }, {
                key: "setTurbo",
                value: function() {
                    var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        enabled: !1
                    }).enabled;
                    this._turboEnabled = t
                }
            }, {
                key: "update",
                value: function() {
                    this.cacheAsBitmap && (this.cacheAsBitmap = !1, this.cacheAsBitmap = !0)
                }
            }, {
                key: "getAfterSpin",
                value: function() {
                    return this._model.afterSpin
                }
            }, {
                key: "addAfterSpinSymbolsAbove",
                value: function() {
                    var t = this;
                    if (this._model.afterSpin.symbols.length) {
                        var e = this.getChildAt(this._previousSymbolCount).y;
                        this._factory.createSymbols(this._model.afterSpin.symbols, e).forEach(function(e) {
                            t.addChild(e)
                        }), this.update()
                    }
                }
            }, {
                key: "addAfterSpinSymbolsBelow",
                value: function() {
                    var t = this;
                    if (this._cachedAfterSpinSymbols.length) {
                        var e = this.getChildAt(this.children.length - 1).y + 2 * this._config.symbol.height;
                        this._factory.createSymbols(this._cachedAfterSpinSymbols, e).forEach(function(e) {
                            t.addChild(e)
                        }), this.update()
                    }
                }
            }, {
                key: "prepareToStop",
                value: function() {
                    var t = this,
                        e = [],
                        n = this._config.reels.countOfHiddenSymbolsAbove * this._config.symbol.height * -1,
                        i = (this._config.reels.countOfHiddenSymbolsBelow + this._config.reels.countOfVisibleSymbols + Math.abs(this._model.afterSpin.distance)) * this._config.symbol.height;
                    this.children.forEach(function(o) {
                        var r = o.y + t.y < n,
                            a = o.y + t.height > i;
                        r && a && (o.visible = !1, e.push(o))
                    });
                    var o = e.length * this._config.symbol.height;
                    return this.children.forEach(function(e) {
                        e.y + t.y < n && (e.y += o)
                    }), e.length > 0 && this.update(), e.length
                }
            }, {
                key: "destroy",
                value: function() {
                    this._factory.destroy(), this._factory = null, this._cachedAfterSpinSymbols = null, d.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Bi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Fi = function() {
        function t(e, n, i) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
        }
        return function(t, e, n) {
            e && Bi(t.prototype, e), n && Bi(t, n)
        }(t, [{
            key: "createReelsContainer",
            value: function() {
                var t = new c.Container;
                return t.x = this._config.reels.x, t.y = this._config.reels.y, t
            }
        }, {
            key: "createReels",
            value: function(t) {
                var e = this,
                    n = [],
                    i = 0,
                    o = this._config.reels.countOfHiddenSymbolsAbove + this._config.reels.countOfVisibleSymbols + this._config.reels.countOfHiddenSymbolsBelow;
                return t.forEach(function(t, r) {
                    t.id = r, t.symbols = t.symbols.slice(0, o);
                    var a = new Mi({
                        model: t,
                        config: e._config,
                        assets: e._assets
                    });
                    a.x = i, i += e._config.symbol.width + e._config.reels.gap, n.push(a)
                }), n
            }
        }, {
            key: "createReelAnimator",
            value: function(t) {
                var e = this._createRegularAnimator(),
                    n = this._createScatterAnimator();
                return new ui({
                    config: this._config,
                    model: t,
                    regular: e,
                    scatter: n
                })
            }
        }, {
            key: "_createRegularAnimator",
            value: function() {
                return new di(this._config)
            }
        }, {
            key: "_createScatterAnimator",
            value: function() {
                if (this._config.timing.speed.revealDuration) return new Si(this._config);
                var t = JSON.parse(JSON.stringify(this._config));
                return t.timing = this._config.scatter.timing, this._config.scatter.timing ? new di(t) : null
            }
        }, {
            key: "createReelClipper",
            value: function(t) {
                var e = {
                        slot: this._assets.getSlotBackground() || this._assets.getGlobalBackground(),
                        scatter: this._assets.getScatterBackground() || this._assets.getScatterGlobalBackground()
                    },
                    n = {
                        slot: this._createReelClipper(e.slot),
                        scatter: this._createReelClipper(e.scatter)
                    },
                    i = new wi.a(t, {
                        regular: n.slot,
                        scatter: n.scatter
                    });
                return this._layoutAdjuster.adjustReelClipperToMain(i), i
            }
        }, {
            key: "_createReelClipper",
            value: function(t) {
                var e = new c.Container;
                return this._addTopClipper(t, e), this._addBottomClipper(t, e), e.cacheAsBitmap = !0, e.x = this._getClipperXOffset(), e
            }
        }, {
            key: "_addTopClipper",
            value: function(t, e) {
                var n = this._getClipperXOffset(),
                    i = t.width - n + this._layoutAdjuster.getMainX(),
                    o = new c.Rectangle(n, 0, i, this._config.reels.y),
                    r = this._createClipper(t, o);
                return e.addChild(r), e
            }
        }, {
            key: "_getClipperXOffset",
            value: function() {
                var t = this._config.reels;
                return "number" == typeof t.clipperXOffset ? t.clipperXOffset : t.x
            }
        }, {
            key: "_createClipper",
            value: function(t, e) {
                var n = t.clone();
                return n.frame = e, new c.Sprite(n)
            }
        }, {
            key: "_addBottomClipper",
            value: function(t, e) {
                var n = this._getClipperXOffset(),
                    i = t.width - n + this._layoutAdjuster.getMainX(),
                    o = this._config.symbol.height * this._config.reels.countOfVisibleSymbols,
                    r = this._config.reels.y + o,
                    a = t.height - r,
                    s = new c.Rectangle(n, r, i, a),
                    u = this._createClipper(t, s);
                return u.y = r, e.addChild(u), e
            }
        }]), t
    }();

    function Hi(t) {
        return (Hi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Di(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Ki(t, e) {
        return !e || "object" !== Hi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ui(t) {
        return (Ui = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yi(t, e) {
        return (Yi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qi = function(t) {
            function e(t) {
                var n;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = Ki(this, Ui(e).call(this, t)))._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && Yi(t, e)
                }(e, d["a"]),
                function(t, e, n) {
                    e && Di(t.prototype, e), n && Di(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this._createWorkshop(),
                            e = this._createComponentAdder(t),
                            n = e(t.createReelsContainer);
                        this._reelClipper = e(t.createReelClipper), this._reelAnimator = e(t.createReelAnimator, this._prepareReelAnimator), this._model.on(s.a.STATUS_CHANGE, this._createChangeStatusHandler(n), this), this._model.on(s.a.REELS_CHANGE, this._createChangeReelsHandler(t, n), this), this._model.on(s.a.TURBO_ENABLED_CHANGE, this._handleChangeTurboEnabled, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new Fi(this._config, this._assets, this._layoutAdjuster)
                    }
                }, {
                    key: "_prepareReelAnimator",
                    value: function(t) {
                        var e = this;
                        return t.on(i.a.REEL_STOPPING, function() {
                            for (var n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                            e._applyReelFeatures.apply(e, [t].concat(i)), e.emit.apply(e, [a.a.REEL_STOPPING].concat(i))
                        }), t.on(i.a.REEL_ENTER_FINAL_SYMBOLS, function() {
                            e.emit(a.a.REEL_ENTER_FINAL_SYMBOLS)
                        }), t
                    }
                }, {
                    key: "_applyReelFeatures",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                id: -1,
                                shouldSlowDownNext: !1
                            },
                            n = e.id;
                        if (e.shouldSlowDownNext && n >= 0 && !this._hasSlowedDown) {
                            for (var i = n + 1; i < this._model.reels.length;) t.slowDown(i), i += 1;
                            this._hasSlowedDown = !0
                        }
                    }
                }, {
                    key: "_createChangeStatusHandler",
                    value: function(t) {
                        var e = this;
                        return function(n, i) {
                            var o = e._config.winlines.fadeNonSelected,
                                r = e._config.winlines.nonSelectedAlpha || .5,
                                a = e._config.winlines.nonSelectedSpecialAlpha || .3;
                            switch (i) {
                                case l.a.SPECIAL_WALK:
                                case l.a.BEFORE_SPECIAL_WALK:
                                case l.a.BEFORE_FAST_SPECIAL_WALK:
                                    t.alpha = o ? a : 1;
                                    break;
                                case l.a.FIRST_WINLINE_WALK:
                                    t.alpha = o ? r : 1;
                                    break;
                                case l.a.AFTER_SPIN:
                                    e._handleAfterSpinning();
                                    break;
                                case l.a.READY:
                                case l.a.WAITING:
                                case l.a.GAMBLING:
                                case l.a.TAKING:
                                    t.alpha = 1, e._updateReels();
                                    break;
                                case l.a.SPINNING:
                                    e._hasSlowedDown = !1;
                                    break;
                                case l.a.STOP_SPINNING:
                                    e._handleStopSpinning()
                            }
                        }
                    }
                }, {
                    key: "_handleAfterSpinning",
                    value: function() {
                        if (!this._reels) throw Error("unexpected _handleAfterSpinning() call");
                        var t = this._showAfterSpin() > 0 ? a.a.AFTER_SPIN : a.a.AFTER_SPIN_COMPLETE;
                        this.emit(t)
                    }
                }, {
                    key: "_showAfterSpin",
                    value: function() {
                        var t = this,
                            e = this._extractAfterSpinReels(),
                            n = e.length;
                        return e.forEach(function(e) {
                            var o = i.a.afterSpinCompleteForId(e.getId());
                            t._reelAnimator.once(o, function() {
                                e.trimSymbols(), e.adjustPosition(), (n -= 1) <= 0 && t.emit(a.a.AFTER_SPIN_COMPLETE)
                            }), t._reelAnimator.afterSpin(e, e.getAfterSpin().distance)
                        }), e.length
                    }
                }, {
                    key: "_extractAfterSpinReels",
                    value: function() {
                        var t = [];
                        return this._reels.forEach(function(e) {
                            e.getAfterSpin().distance && t.push(e)
                        }), t
                    }
                }, {
                    key: "_updateReels",
                    value: function() {
                        this._reels && this._reels.forEach(function(t) {
                            t.update()
                        })
                    }
                }, {
                    key: "_createChangeReelsHandler",
                    value: function(t, e) {
                        var n = this;
                        return function(i, o) {
                            n._reels || (n._reels = t.createReels(o), n._reels.forEach(function(t, i) {
                                n._addReel(t, i, e)
                            }))
                        }
                    }
                }, {
                    key: "_handleChangeTurboEnabled",
                    value: function(t, e) {
                        this._reels && this._reels.forEach(function(t) {
                            t.setTurbo({
                                enabled: e
                            })
                        })
                    }
                }, {
                    key: "_addReel",
                    value: function(t, e, n) {
                        return t.setTurbo({
                            enabled: this._model.turboEnabled
                        }), n.addChild(t), t.adjustPosition(), t.addChangeListener(this._createReelDetailsChangeHandler(t, e, n), this), t
                    }
                }, {
                    key: "_createReelDetailsChangeHandler",
                    value: function(t, e, n) {
                        var o = this;
                        return function() {
                            0 === e && (n.alpha = 1, o.emit(a.a.REEL_SPIN_START));
                            var r = i.a.spinCompleteForId(t.getId());
                            o._reelAnimator.once(r, o._createSpinCompleteHandler(t), o), o._reelAnimator.spin(t, {
                                turboEnabled: o._model.turboEnabled
                            }), t.addAfterSpinSymbolsAbove()
                        }
                    }
                }, {
                    key: "_createSpinCompleteHandler",
                    value: function(t) {
                        var e = this;
                        return function() {
                            t.getAfterSpin().distance || (t.trimSymbols(), t.adjustPosition()), t.addAfterSpinSymbolsBelow(), e.emit(a.a.SPIN_COMPLETE, t)
                        }
                    }
                }, {
                    key: "_handleStopSpinning",
                    value: function() {
                        var t = !0,
                            e = !1,
                            n = void 0;
                        try {
                            for (var i, o = this._reels[Symbol.iterator](); !(t = (i = o.next()).done); t = !0) {
                                var r = i.value;
                                if (this._reelAnimator.stop(r), r.getShouldSlowDownNext()) break
                            }
                        } catch (t) {
                            e = !0, n = t
                        } finally {
                            try {
                                t || null == o.return || o.return()
                            } finally {
                                if (e) throw n
                            }
                        }
                    }
                }, {
                    key: "setXOffset",
                    value: function(t) {
                        this._reelClipper.x -= t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._reelAnimator.removeAllListeners(), this._reelAnimator.destroy(), this._reelAnimator = null, this._reels && (this._reels.forEach(function(t) {
                            t.destroy()
                        }), this._reels = null), this._reelClipper.destroy(), this._reelClipper = null, d.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Vi = n(34);

    function Xi(t) {
        return (Xi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function zi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Qi(t, e) {
        return !e || "object" !== Xi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ji(t) {
        return (Ji = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function $i(t, e) {
        return ($i = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Zi = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = Qi(this, Ji(e).call(this, t, n, i)))._WinlineNumbersImplementation = le.a, o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && $i(t, e)
            }(e, Vi["a"]),
            function(t, e, n) {
                e && zi(t.prototype, e), n && zi(t, n)
            }(e, [{
                key: "createModeBackground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getSlotBackground(),
                        scatter: this._assets.getScatterBackground()
                    };
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createModeForeground",
                value: function(t) {
                    var e = {
                        regular: this._assets.getSlotForeground(),
                        scatter: this._assets.getScatterForeground()
                    };
                    return this._createGameTypeSprite({
                        model: t,
                        spriteCreator: this._createTrimmedBackground.bind(this),
                        texture: e
                    })
                }
            }, {
                key: "createModeHeader",
                value: function(t) {
                    var e = {
                            regular: this._assets.getSlotHeader(),
                            scatter: this._assets.getScatterHeader()
                        },
                        n = this._config.header || {},
                        i = this._createGameTypeSprite({
                            model: t,
                            spriteCreator: this._createSprite.bind(this),
                            texture: e,
                            scatterOffset: n.scatterOffset
                        });
                    return i.x = n.x || 0, i.y = n.y || 0, this._adjustBackgroundToMain(i)
                }
            }, {
                key: "createReelContainer",
                value: function(t) {
                    var e = new qi({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createWinline",
                value: function(t) {
                    var e = new ze(t, this._config, this._assets);
                    return this._adjustToMain(e)
                }
            }, {
                key: "createControls",
                value: function(t) {
                    return this._createControls(t, mt)
                }
            }, {
                key: "createWinlineNumbers",
                value: function(t) {
                    var e = new this.WinlineNumbersImplementation({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createEffectsTopOverlay",
                value: function(t) {
                    return new ei({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "createEffectsBottomOverlay",
                value: function(t) {
                    return new S({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    })
                }
            }, {
                key: "createScatterTransitionOverlay",
                value: function(t) {
                    var e = new Z({
                        model: t,
                        config: this._config,
                        assets: this._assets,
                        layoutAdjuster: this._layoutAdjuster
                    });
                    return this._adjustToMain(e)
                }
            }, {
                key: "createSymbolTransformOverlay",
                value: function(t) {
                    var e = new ue(t, this._config, this._assets);
                    return this._adjustToMain(e)
                }
            }, {
                key: "WinlineNumbersImplementation",
                get: function() {
                    return this._WinlineNumbersImplementation
                },
                set: function(t) {
                    this._WinlineNumbersImplementation = t
                }
            }]), e
    }();

    function to(t) {
        return (to = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function eo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function no(t, e) {
        return !e || "object" !== to(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function io(t, e, n) {
        return (io = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var i = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = oo(t)););
                return t
            }(t, e);
            if (i) {
                var o = Object.getOwnPropertyDescriptor(i, e);
                return o.get ? o.get.call(n) : o.value
            }
        })(t, e, n || t)
    }

    function oo(t) {
        return (oo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function ro(t, e) {
        return (ro = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    n.d(e, "a", function() {
        return ao
    });
    var ao = function(t) {
        function e(t) {
            var n;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = no(this, oo(e).call(this, t)))._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && ro(t, e)
            }(e, r["a"]),
            function(t, e, n) {
                e && eo(t.prototype, e), n && eo(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop(),
                        e = this._createComponentAdder(t);
                    this._globalBackground = e(t.createGlobalBackground, this._addFullscreenRequester);
                    e(t.createModeBackground);
                    this._reelContainer = e(t.createReelContainer, this._prepareReelContainer);
                    e(t.createModeForeground);
                    this._modeHeader = e(t.createModeHeader), e(t.createSymbolTransformOverlay, this._prepareSymbolTransformOverlay), this._backgroundOverlayContainer = this._createContainer(), this.addChild(this._backgroundOverlayContainer), this._createControlsAdder(t)(t.createControls, this._prepareControls), this._winlineNumbers = e(t.createWinlineNumbers), this._effectsTopOverlay = e(t.createEffectsTopOverlay, this._prepareEffectsOverlay), this._scatterTransitionOverlay = e(t.createScatterTransitionOverlay, this._prepareScatterTransitionOverlay);
                    var n = this._createWinlinePreparator(this._winlineNumbers, this._effectsTopOverlay);
                    return this._winline = e(t.createWinline, n), this._effectsBottomOverlay = e(t.createEffectsBottomOverlay), this._createThrobberAdder(t)(t.createThrobber, this._reelContainer), this._model.on(s.a.STATUS_CHANGE, this._handleChangeStatus, this), this._moveOnTop(this._effectsTopOverlay), this
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Zi(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_prepareReelContainer",
                value: function(t) {
                    var e = this;
                    return [a.a.SPIN_COMPLETE, a.a.REEL_STOPPING, a.a.REEL_ENTER_FINAL_SYMBOLS, a.a.AFTER_SPIN, a.a.AFTER_SPIN_COMPLETE].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), this._forwardEvent(t, a.a.REEL_SPIN_START, function() {
                        e.hideThrobber()
                    }), t
                }
            }, {
                key: "_prepareSymbolTransformOverlay",
                value: function(t) {
                    var e = this;
                    return [a.a.BEFORE_WINLINE_WALK, a.a.BEFORE_WINLINE_WALK_COMPLETE, a.a.BEFORE_SPECIAL_WALK_COMPLETE, a.a.BEFORE_SPECIAL_WALK_TRANSFORM].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), t
                }
            }, {
                key: "_createWinlinePreparator",
                value: function(t, e) {
                    var n = this;
                    return function(i) {
                        return n._forwardEvent(i, a.a.WINLINE_WALK, function() {
                            t.walk()
                        }), n._forwardEvent(i, a.a.WINLINE_WALK_COMPLETE, function() {
                            n._model.special && e.hasBanner() && (e.showBanner(), i.pause())
                        }), n._forwardEvent(t, a.a.WINLINE_NUMBER_TAP), i
                    }
                }
            }, {
                key: "_prepareControls",
                value: function(t) {
                    var e = this;
                    [a.a.SPIN, a.a.STOP_SPIN, a.a.STOP_AUTO_PLAY, a.a.TAKE, a.a.GAMBLE, a.a.SETTINGS, o.a.REQUEST_FULLSCREEN].forEach(function(n) {
                        e._forwardEvent(t, n)
                    }), this._forwardEvent(t, a.a.EXIT, function() {
                        (e._model.gameType === u.a.REGULAR || e._model.willSwitchToRegular) && e._prepareThrobber()
                    })
                }
            }, {
                key: "_prepareEffectsOverlay",
                value: function(t) {
                    var e = this;
                    this._forwardEvent(t, a.a.SPECIAL_MULTIPLIER), t.on(i.a.MULTIPLIER_BANNER_COMPLETE, function() {
                        e.walkWinline()
                    }), t.on(i.a.WIN_HEADER_START, function() {
                        e._modeHeader.visible = !1
                    }), t.on(i.a.WIN_HEADER_COMPLETE, function() {
                        e._modeHeader.visible = !0
                    })
                }
            }, {
                key: "_prepareScatterTransitionOverlay",
                value: function(t) {
                    var e = this;
                    [a.a.SCATTER_INTRO_COMPLETE, a.a.SCATTER_SELECT, a.a.SCATTER_SELECT_COMPLETE].forEach(function(n) {
                        e._forwardEvent(t, n)
                    })
                }
            }, {
                key: "_handleChangeStatus",
                value: function(t, e) {
                    switch (e) {
                        case l.a.TAKING:
                            this._prepareThrobber();
                            break;
                        case l.a.SPINNING:
                            this._prepareThrobber(), this._moveOnTopOf(this._effectsTopOverlay, this._scatterTransitionOverlay), this._moveOnTopOf(this._winline, this._scatterTransitionOverlay);
                            break;
                        case l.a.SCATTER_INTRO:
                            this._modeHeader.visible = !1, this.hideThrobber();
                            break;
                        case l.a.SCATTER_SELECT:
                            this._modeHeader.visible = !0, this.hideThrobber();
                            break;
                        case l.a.BEFORE_SCATTER:
                        case l.a.SCATTER_OUTRO:
                        case l.a.WAITING:
                        case l.a.FIRST_WINLINE_WALK:
                        case l.a.BEFORE_SPECIAL_WALK:
                        case l.a.BEFORE_FAST_SPECIAL_WALK:
                        case l.a.SPECIAL_WALK:
                        case l.a.BEFORE_READY:
                            this.hideThrobber();
                            break;
                        case l.a.READY:
                            this.hideThrobber(), this._moveOnTopOf(this._scatterTransitionOverlay, this._winline), this._moveOnTopOf(this._scatterTransitionOverlay, this._effectsTopOverlay)
                    }
                    this.emit(o.a.CONTROLS_CHANGE)
                }
            }, {
                key: "_moveOnTopOf",
                value: function(t, e) {
                    this.getChildIndex(e) > this.getChildIndex(t) && this.swapChildren(t, e)
                }
            }, {
                key: "walkWinline",
                value: function() {
                    this._model.isActive && this._winline.walk()
                }
            }, {
                key: "pauseWinline",
                value: function() {
                    this._winline.pause()
                }
            }, {
                key: "getWinTextContainer",
                value: function() {
                    return this._winline.getWinTextContainer()
                }
            }, {
                key: "getWinMessageContainer",
                value: function() {
                    return this._effectsTopOverlay.getWinMessageContainer()
                }
            }, {
                key: "showSmallWin",
                value: function(t) {
                    this._effectsTopOverlay.showSmallWin(t)
                }
            }, {
                key: "showRegularWin",
                value: function(t) {
                    this._effectsTopOverlay.showRegularWin(t)
                }
            }, {
                key: "showHighWin",
                value: function(t) {
                    this._effectsTopOverlay.showHighWin(t)
                }
            }, {
                key: "showHugeWin",
                value: function(t) {
                    this._effectsTopOverlay.showHugeWin(t)
                }
            }, {
                key: "showFullWin",
                value: function() {
                    this._effectsTopOverlay.showFullWin()
                }
            }, {
                key: "showPotWin",
                value: function(t, e) {
                    this._effectsTopOverlay.showPotWin(t, e)
                }
            }, {
                key: "showBeforeReady",
                value: function() {
                    this._effectsTopOverlay.showBeforeReady()
                }
            }, {
                key: "setSelectedWinlines",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this._winlineNumbers.setSelectedWinlines(t)
                }
            }, {
                key: "showSymbolIntro",
                value: function(t, e) {
                    this._effectsBottomOverlay.showSymbolIntro(t, e)
                }
            }, {
                key: "addToBackground",
                value: function(t) {
                    this._backgroundOverlayContainer.addChild(t)
                }
            }, {
                key: "_switchControlsToLeft",
                value: function() {
                    var t = io(oo(e.prototype), "_switchControlsToLeft", this).call(this);
                    return this._setReelContainerXOffset(t)
                }
            }, {
                key: "_setReelContainerXOffset",
                value: function(t) {
                    return this._assets.getUsesFullwidthBackground() && this._reelContainer.setXOffset(t), t
                }
            }, {
                key: "_switchControlsToRight",
                value: function() {
                    var t = io(oo(e.prototype), "_switchControlsToRight", this).call(this);
                    return this._setReelContainerXOffset(t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._winline.destroy(), this._winline = null, this._winlineNumbers.destroy(), this._winlineNumbers = null, this._effectsTopOverlay.destroy(), this._effectsTopOverlay = null, this._effectsBottomOverlay.destroy(), this._effectsBottomOverlay = null, this._scatterTransitionOverlay.destroy(), this._scatterTransitionOverlay = null, this._backgroundOverlayContainer.destroy(), this._backgroundOverlayContainer = null, this._reelContainer.destroy(), this._reelContainer = null, this._globalBackground.destroy(), this._globalBackground = null, this._modeHeader.destroy(), this._modeHeader = null, r.a.prototype.destroy.call(this)
                }
            }]), e
    }()
}, function(t, e, n) {
    "use strict";
    var i = n(1);

    function o(t) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function r(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function a(t, e) {
        return !e || "object" !== o(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function s(t) {
        return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function u(t, e) {
        return (u = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var l = function(t) {
        function e(t) {
            var n, i = t.assets,
                o = t.id,
                r = t.isInverted;
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var u = (n = a(this, s(e).call(this)))._getWinlineNumber({
                    assets: i,
                    id: o,
                    emphasized: r
                }),
                l = n._getWinlineNumber({
                    assets: i,
                    id: o,
                    emphasized: !r
                });
            return n._regular = n._createSprite(u), n._emphasized = n._createSprite(l), n.addChild(n._regular), n.addChild(n._emphasized), n._regular.visible = !1, n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && u(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && r(t.prototype, e), n && r(t, n)
            }(e, [{
                key: "_getWinlineNumber",
                value: function(t) {
                    var e = t.assets,
                        n = t.id,
                        i = t.emphasized;
                    return e.getWinlineNumber(n, {
                        emphasized: i
                    })
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "showRegular",
                value: function() {
                    this._regular.visible = !0, this._emphasized.visible = !1, clearTimeout(this._blinkTimeout)
                }
            }, {
                key: "showEmphasized",
                value: function() {
                    this._regular.visible = !1, this._emphasized.visible = !0, clearTimeout(this._blinkTimeout)
                }
            }, {
                key: "blink",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    this.showEmphasized(), e.length && this._blink(t, e)
                }
            }, {
                key: "_blink",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    this._blinkTimeout = setTimeout(function() {
                        t._switchVisibility();
                        var i = (e + 1) % n.length;
                        t._blink(i, n)
                    }, n[e])
                }
            }, {
                key: "_switchVisibility",
                value: function() {
                    this._regular.visible = !this._regular.visible, this._emphasized.visible = !this._emphasized.visible
                }
            }, {
                key: "destroy",
                value: function() {
                    this.removeChildren(), this._regular.destroy(), this._regular = null, this._emphasized.destroy(), this._emphasized = null, clearTimeout(this._blinkTimeout), this._blinkTimeout = null, i.Container.prototype.destroy.call(this)
                }
            }]), e
    }();
    e.a = l
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(88);

    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e) {
        return !e || "object" !== r(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function u(t) {
        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function l(t, e) {
        return (l = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var c = function(t) {
            function e() {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), s(this, u(e).call(this))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && l(t, e)
                }(e, i["Container"]),
                function(t, e, n) {
                    e && a(t.prototype, e), n && a(t, n)
                }(e, [{
                    key: "showRegular",
                    value: function() {
                        this.children.forEach(function(t) {
                            t.showRegular()
                        })
                    }
                }, {
                    key: "showEmphasized",
                    value: function() {
                        this.children.forEach(function(t) {
                            t.showEmphasized()
                        })
                    }
                }, {
                    key: "blink",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                        this.children.forEach(function(n) {
                            n.blink(t, e)
                        })
                    }
                }, {
                    key: "blinkAt",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
                        this[t].blink(e, n)
                    }
                }]), e
        }(),
        h = n(70);

    function f(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var _ = function() {
        function t(e, n, i) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
        }
        return function(t, e, n) {
            e && f(t.prototype, e), n && f(t, n)
        }(t, [{
            key: "createWinlineNumbersBackground",
            value: function() {
                var t = this._createContainer();
                return this._createWinlineNumbersElement(this._createContainer, this._createWinlineNumberBackground).forEach(function(e) {
                    t.addChild(e)
                }), t.cacheAsBitmap = !0, t
            }
        }, {
            key: "_createContainer",
            value: function() {
                return new i.Container
            }
        }, {
            key: "_createWinlineNumberBackground",
            value: function(t) {
                if (this._config.winlines.numbers.useBackground) {
                    var e = this._getWinlineNumberBackground(t);
                    return this._createSprite(e)
                }
                return this._createContainer()
            }
        }, {
            key: "_getWinlineNumberBackground",
            value: function(t) {
                return this._assets.getWinlineNumber(t, {
                    background: !0
                })
            }
        }, {
            key: "_createSprite",
            value: function(t) {
                return new i.Sprite(t)
            }
        }, {
            key: "_createWinlineNumbersElement",
            value: function(t, e) {
                var n = this,
                    i = this._config.winlines.numbers.positions,
                    o = this._getColumns(),
                    r = this._getRatio();
                return i.map(function(i, a) {
                    var s = t.call(n);
                    return n._createRow({
                        container: s,
                        columns: o,
                        winlineNumberCreator: e,
                        position: i,
                        id: a,
                        ratio: r
                    })
                })
            }
        }, {
            key: "createWinlineNumbers",
            value: function() {
                return this._createWinlineNumbersElement(this._createWinlineNumberContainer, this._createWinlineNumber)
            }
        }, {
            key: "_createWinlineNumberContainer",
            value: function() {
                return new c
            }
        }, {
            key: "_createWinlineNumber",
            value: function(t) {
                return new o.a({
                    assets: this._assets,
                    id: t,
                    isInverted: this._config.winlines.numbers.invert
                })
            }
        }, {
            key: "_getColumns",
            value: function() {
                var t = this._config.symbol,
                    e = this._config.reels,
                    n = t.width * e.count + e.gap * (e.count - 1),
                    i = e.x,
                    o = e.x + n;
                return [{
                    x: i,
                    propertyName: h.a.LEFT
                }, {
                    x: o,
                    propertyName: h.a.RIGHT
                }]
            }
        }, {
            key: "_getRatio",
            value: function() {
                var t = this._layoutAdjuster.getRatio();
                return t < 1 ? t : 1
            }
        }, {
            key: "_createRow",
            value: function(t) {
                var e = this,
                    n = t.container,
                    i = t.columns,
                    o = t.winlineNumberCreator,
                    r = t.position,
                    a = t.id,
                    s = t.ratio;
                return i.forEach(function(t, i) {
                    var u = t.x,
                        l = t.propertyName,
                        c = r.length > 2 ? r[2] : 1,
                        h = Array.isArray(r) ? r[i % r.length] : r,
                        f = o.call(e, a);
                    e._adjustWinlineNumber({
                        winlineNumber: f,
                        x: u,
                        y: h,
                        scaleX: c,
                        align: i,
                        ratio: s
                    }), n[l] = n.addChild(f)
                }), n
            }
        }, {
            key: "_adjustWinlineNumber",
            value: function(t) {
                var e = t.winlineNumber,
                    n = t.x,
                    i = t.y,
                    o = t.scaleX,
                    r = t.align,
                    a = t.ratio;
                if (!1 === i) return e.visible = !1, e;
                e.scale.x = o;
                var s = this._calculateWinlineNumberOffset({
                    winlineNumber: e,
                    align: r,
                    ratio: a,
                    scaleX: o
                });
                return e.x = n + s, e.y = i, e
            }
        }, {
            key: "_calculateWinlineNumberOffset",
            value: function(t) {
                var e = t.winlineNumber,
                    n = t.ratio,
                    i = t.align,
                    o = t.scaleX,
                    r = this._config.winlines.numbers.margin,
                    a = this._layoutAdjuster.calculateWinlineNumberMargin(r, n),
                    s = Boolean(i % 2),
                    u = o < 0;
                return s && u ? -1 * (e.width - a) : s && !u ? a : !s && u ? -1 * a : -1 * (e.width + a)
            }
        }]), t
    }();
    e.a = _
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var i = n(4);

    function o(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var r = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._config = e
        }
        return function(t, e, n) {
            e && o(t.prototype, e), n && o(t, n)
        }(t, [{
            key: "scaleMainView",
            value: function(t) {
                var e = this.getRatio(),
                    n = i.a.getRatioAdjustment({
                        width: this._config.width,
                        height: this._config.height
                    }) / e;
                return t.scale.x = n, t.scale.y = n, t
            }
        }, {
            key: "center",
            value: function(t) {
                return t.x -= .5 * this.getWidthDifference(), t
            }
        }, {
            key: "getControlsWidth",
            value: function() {
                var t = this._config.controls,
                    e = this.getRatio(),
                    n = e * e * e * e,
                    i = t.width * n + t.offsetX,
                    o = t.minWidth || 0;
                return i > o ? i : o
            }
        }, {
            key: "getMainWidth",
            value: function() {
                var t = this._getMainBaselineWidth(),
                    e = this._config.width * this.getRatio() - this.getControlsWidth();
                return e < t ? e : t
            }
        }, {
            key: "getHeight",
            value: function() {
                return this._config.height
            }
        }, {
            key: "getWidth",
            value: function() {
                return this._config.width
            }
        }, {
            key: "_getMainBaselineWidth",
            value: function() {
                return this._config.width - this._config.controls.width
            }
        }, {
            key: "getMainX",
            value: function() {
                return .5 * (this._getMainBaselineWidth() - this.getMainWidth())
            }
        }, {
            key: "getControlsX",
            value: function() {
                var t = this._config.controls,
                    e = t.width - this.getControlsWidth();
                return this.getMainWidth() - .5 * e + t.offsetX
            }
        }, {
            key: "_isNarrowScreen",
            value: function(t) {
                return (t || this.getRatio()) < this._config.adjustment.narrowScreenThreshold
            }
        }, {
            key: "getWidthDifference",
            value: function() {
                var t = this.getRatio(),
                    e = this._config.width * t;
                return t < 1 ? this._config.width - e : 0
            }
        }, {
            key: "adjustBackgroundToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "invertAdjustBackgroundToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "adjustReelClipperToMain",
            value: function(t) {
                return t
            }
        }, {
            key: "adjustToMain",
            value: function(t) {
                return t.x -= this.getMainX(), t
            }
        }, {
            key: "calculateWinlineNumberMargin",
            value: function(t, e) {
                var n = this._config.adjustment.winlineNumbersOffset;
                return t + (this._isNarrowScreen(e) ? n : 0)
            }
        }, {
            key: "getRatio",
            value: function() {
                return i.a.getCappedRatioAdjustment({
                    width: this._config.width,
                    height: this._config.height
                })
            }
        }, {
            key: "adjustToMainFromControls",
            value: function(t) {
                return t.x += .5 * this.getWidthDifference(), t
            }
        }, {
            key: "centerAtMain",
            value: function(t) {
                var e = this.getMainWidth() - t.width;
                return t.x += .5 * e, t
            }
        }, {
            key: "getControlsSwitchedX",
            value: function() {
                var t = this._config.controls,
                    e = -.5 * (t.width - this.getControlsWidth());
                return e > 0 ? 0 : e + t.switchedBorderOffsetX
            }
        }, {
            key: "adjustStyle",
            value: function(t) {
                if (this._isNarrowScreen())
                    for (var e in t) t.hasOwnProperty(e) && this._adjustFontSize(t[e]);
                return t
            }
        }, {
            key: "_adjustFontSize",
            value: function(t) {
                var e = /(\d+)px/.exec(t.font);
                if (e && Number(e[1]) > 2) {
                    var n = Number(e[1]) + (this._config.adjustment.narrowFontSizeCorrection || 0);
                    t.font = t.font.replace(e[1], n)
                }
                return t
            }
        }]), t
    }()
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i;
    i = function() {
        return this
    }();
    try {
        i = i || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" === ("undefined" == typeof window ? "undefined" : n(window)) && (i = window)
    }
    t.exports = i
}, function(t, e, n) {
    var i = n(71),
        o = 0;
    t.exports = function(t) {
        var e = ++o;
        return i(t) + e
    }
}, function(t, e, n) {
    (function(e) {
        function n(t) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var i = "object" == (void 0 === e ? "undefined" : n(e)) && e && e.Object === Object && e;
        t.exports = i
    }).call(this, n(91))
}, function(t, e, n) {
    var i = n(73),
        o = n(47),
        r = n(134),
        a = n(39),
        s = n(49),
        u = n(41),
        l = Object.prototype.hasOwnProperty,
        c = r(function(t, e) {
            if (s(e) || a(e)) o(e, u(e), t);
            else
                for (var n in e) l.call(e, n) && i(t, n, e[n])
        });
    t.exports = c
}, function(t, e, n) {
    var i = n(96);
    t.exports = function(t, e, n) {
        "__proto__" == e && i ? i(t, e, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : t[e] = n
    }
}, function(t, e, n) {
    var i = n(40),
        o = function() {
            try {
                var t = i(Object, "defineProperty");
                return t({}, "", {}), t
            } catch (t) {}
        }();
    t.exports = o
}, function(t, e) {
    var n = Function.prototype.toString;
    t.exports = function(t) {
        if (null != t) {
            try {
                return n.call(t)
            } catch (t) {}
            try {
                return t + ""
            } catch (t) {}
        }
        return ""
    }
}, function(t, e, n) {
    var i = n(74),
        o = n(99),
        r = n(100);
    t.exports = function(t, e) {
        return r(o(t, e, i), t + "")
    }
}, function(t, e, n) {
    var i = n(135),
        o = Math.max;
    t.exports = function(t, e, n) {
        return e = o(void 0 === e ? t.length - 1 : e, 0),
            function() {
                for (var r = arguments, a = -1, s = o(r.length - e, 0), u = Array(s); ++a < s;) u[a] = r[e + a];
                a = -1;
                for (var l = Array(e + 1); ++a < e;) l[a] = r[a];
                return l[e] = n(u), i(t, this, l)
            }
    }
}, function(t, e, n) {
    var i = n(136),
        o = n(138)(i);
    t.exports = o
}, function(t, e, n) {
    var i = n(140),
        o = n(56),
        r = n(29),
        a = n(57),
        s = n(76),
        u = n(77),
        l = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        var n = r(t),
            c = !n && o(t),
            h = !n && !c && a(t),
            f = !n && !c && !h && u(t),
            _ = n || c || h || f,
            y = _ ? i(t.length, String) : [],
            d = y.length;
        for (var p in t) !e && !l.call(t, p) || _ && ("length" == p || h && ("offset" == p || "parent" == p) || f && ("buffer" == p || "byteLength" == p || "byteOffset" == p) || s(p, d)) || y.push(p);
        return y
    }
}, function(t, e, n) {
    var i = n(49),
        o = n(144),
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!i(t)) return o(t);
        var e = [];
        for (var n in Object(t)) r.call(t, n) && "constructor" != n && e.push(n);
        return e
    }
}, function(t, e) {
    t.exports = function(t, e) {
        return function(n) {
            return t(e(n))
        }
    }
}, function(t, e, n) {
    var i = n(60),
        o = n(152),
        r = n(153),
        a = n(154),
        s = n(155),
        u = n(156);

    function l(t) {
        var e = this.__data__ = new i(t);
        this.size = e.size
    }
    l.prototype.clear = o, l.prototype.delete = r, l.prototype.get = a, l.prototype.has = s, l.prototype.set = u, t.exports = l
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t););
        return t
    }
}, function(t, e, n) {
    var i = n(101),
        o = n(171),
        r = n(39);
    t.exports = function(t) {
        return r(t) ? i(t, !0) : o(t)
    }
}, function(t, e) {
    t.exports = function() {
        return []
    }
}, function(t, e, n) {
    var i = n(81),
        o = n(82),
        r = n(80),
        a = n(107),
        s = Object.getOwnPropertySymbols ? function(t) {
            for (var e = []; t;) i(e, r(t)), t = o(t);
            return e
        } : a;
    t.exports = s
}, function(t, e, n) {
    var i = n(110),
        o = n(80),
        r = n(41);
    t.exports = function(t) {
        return i(t, r, o)
    }
}, function(t, e, n) {
    var i = n(81),
        o = n(29);
    t.exports = function(t, e, n) {
        var r = e(t);
        return o(t) ? r : i(r, n(t))
    }
}, function(t, e, n) {
    var i = n(110),
        o = n(108),
        r = n(106);
    t.exports = function(t) {
        return i(t, r, o)
    }
}, function(t, e, n) {
    var i = n(40)(n(33), "Set");
    t.exports = i
}, function(t, e, n) {
    var i = n(33).Uint8Array;
    t.exports = i
}, function(t, e, n) {
    var i = n(81),
        o = n(206);
    t.exports = function t(e, n, r, a, s) {
        var u = -1,
            l = e.length;
        for (r || (r = o), s || (s = []); ++u < l;) {
            var c = e[u];
            n > 0 && r(c) ? n > 1 ? t(c, n - 1, r, a, s) : i(s, c) : a || (s[s.length] = c)
        }
        return s
    }
}, function(t, e, n) {
    var i = n(211),
        o = n(41);
    t.exports = function(t, e) {
        return t && i(t, e, o)
    }
}, function(t, e, n) {
    var i = n(74);
    t.exports = function(t) {
        return "function" == typeof t ? t : i
    }
}, function(t, e, n) {
    var i = n(214),
        o = n(215),
        r = n(216);
    t.exports = function(t, e, n) {
        return e == e ? r(t, e, n) : i(t, o, n)
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(29),
        r = n(32),
        a = "[object String]";
    t.exports = function(t) {
        return "string" == typeof t || !o(t) && r(t) && i(t) == a
    }
}, function(t, e, n) {
    var i = n(217);
    t.exports = function(t) {
        var e = i(t),
            n = e % 1;
        return e == e ? n ? e - n : e : 0
    }
}, function(t, e, n) {
    var i = n(121),
        o = n(228),
        r = n(122),
        a = 1,
        s = 2;
    t.exports = function(t, e, n, u, l, c) {
        var h = n & a,
            f = t.length,
            _ = e.length;
        if (f != _ && !(h && _ > f)) return !1;
        var y = c.get(t);
        if (y && c.get(e)) return y == e;
        var d = -1,
            p = !0,
            m = n & s ? new i : void 0;
        for (c.set(t, e), c.set(e, t); ++d < f;) {
            var v = t[d],
                g = e[d];
            if (u) var b = h ? u(g, v, d, e, t, c) : u(v, g, d, t, e, c);
            if (void 0 !== b) {
                if (b) continue;
                p = !1;
                break
            }
            if (m) {
                if (!o(e, function(t, e) {
                        if (!r(m, e) && (v === t || l(v, t, n, u, c))) return m.push(e)
                    })) {
                    p = !1;
                    break
                }
            } else if (v !== g && !l(v, g, n, u, c)) {
                p = !1;
                break
            }
        }
        return c.delete(t), c.delete(e), p
    }
}, function(t, e, n) {
    var i = n(79),
        o = n(226),
        r = n(227);

    function a(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.__data__ = new i; ++e < n;) this.add(t[e])
    }
    a.prototype.add = a.prototype.push = o, a.prototype.has = r, t.exports = a
}, function(t, e) {
    t.exports = function(t, e) {
        return t.has(e)
    }
}, function(t, e, n) {
    "use strict";

    function i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return o
    });
    var o = function() {
        function t(e) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._assets = e.workshop.createAssetLibrary(), this._model = e.workshop.createModel(), this._model.isDemo = Boolean(e.isDemo), this._layoutAdjuster = e.workshop.createLayoutAdjuster(), this._view = e.workshop.createView({
                model: this._model,
                assets: this._assets,
                layoutAdjuster: this._layoutAdjuster
            }), this._controller = e.workshop.createController({
                model: this._model,
                view: this._view,
                assets: this._assets,
                layoutAdjuster: this._layoutAdjuster,
                authToken: e.authToken,
                socket: e.socket,
                exitCallback: e.exitCallback,
                beforeExitCallback: e.beforeExitCallback,
                logService: e.logService
            }), this._renderer = e.workshop.createRenderer(this._view)
        }
        return function(t, e, n) {
            e && i(t.prototype, e), n && i(t, n)
        }(t, [{
            key: "destroy",
            value: function() {
                var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    shouldKeepAudioContext: !1
                }).shouldKeepAudioContext;
                this._assets.destroy({
                    shouldKeepAudioContext: t
                }), this._assets = null, this._model = null, this._layoutAdjuster = null, this._view.destroy(), this._view = null, this._controller.destroy(), this._controller = null, this._renderer.destroy(), this._renderer = null
            }
        }]), t
    }()
}, function(t, e, n) {
    (function(t) {
        function e(t) {
            return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }! function() {
            function n(t, e) {
                document.addEventListener ? t.addEventListener("scroll", e, !1) : t.attachEvent("scroll", e)
            }

            function i(t) {
                this.a = document.createElement("div"), this.a.setAttribute("aria-hidden", "true"), this.a.appendChild(document.createTextNode(t)), this.b = document.createElement("span"), this.c = document.createElement("span"), this.h = document.createElement("span"), this.f = document.createElement("span"), this.g = -1, this.b.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.c.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.f.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.h.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;", this.b.appendChild(this.h), this.c.appendChild(this.f), this.a.appendChild(this.b), this.a.appendChild(this.c)
            }

            function o(t, e) {
                t.a.style.cssText = "max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:" + e + ";"
            }

            function r(t) {
                var e = t.a.offsetWidth,
                    n = e + 100;
                return t.f.style.width = n + "px", t.c.scrollLeft = n, t.b.scrollLeft = t.b.scrollWidth + 100, t.g !== e && (t.g = e, !0)
            }

            function a(t, e) {
                function i() {
                    var t = o;
                    r(t) && t.a.parentNode && e(t.g)
                }
                var o = t;
                n(t.b, i), n(t.c, i), r(t)
            }

            function s(t, e) {
                var n = e || {};
                this.family = t, this.style = n.style || "normal", this.weight = n.weight || "normal", this.stretch = n.stretch || "normal"
            }
            var u = null,
                l = null,
                c = null,
                h = null;

            function f() {
                return null === h && (h = !!document.fonts), h
            }

            function _(t, e) {
                return [t.style, t.weight, function() {
                    if (null === c) {
                        var t = document.createElement("div");
                        try {
                            t.style.font = "condensed 100px sans-serif"
                        } catch (t) {}
                        c = "" !== t.style.font
                    }
                    return c
                }() ? t.stretch : "", "100px", e].join(" ")
            }
            s.prototype.load = function(t, e) {
                var n = this,
                    r = t || "BESbswy",
                    s = 0,
                    c = e || 3e3,
                    h = (new Date).getTime();
                return new Promise(function(t, e) {
                    if (f() && ! function() {
                            if (null === l)
                                if (f() && /Apple/.test(window.navigator.vendor)) {
                                    var t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                                    l = !!t && 603 > parseInt(t[1], 10)
                                } else l = !1;
                            return l
                        }()) {
                        var y = new Promise(function(t, e) {
                                ! function i() {
                                    (new Date).getTime() - h >= c ? e() : document.fonts.load(_(n, '"' + n.family + '"'), r).then(function(e) {
                                        1 <= e.length ? t() : setTimeout(i, 25)
                                    }, function() {
                                        e()
                                    })
                                }()
                            }),
                            d = new Promise(function(t, e) {
                                s = setTimeout(e, c)
                            });
                        Promise.race([d, y]).then(function() {
                            clearTimeout(s), t(n)
                        }, function() {
                            e(n)
                        })
                    } else ! function(t) {
                        document.body ? t() : document.addEventListener ? document.addEventListener("DOMContentLoaded", function e() {
                            document.removeEventListener("DOMContentLoaded", e), t()
                        }) : document.attachEvent("onreadystatechange", function e() {
                            "interactive" != document.readyState && "complete" != document.readyState || (document.detachEvent("onreadystatechange", e), t())
                        })
                    }(function() {
                        function l() {
                            var e;
                            (e = -1 != p && -1 != m || -1 != p && -1 != v || -1 != m && -1 != v) && ((e = p != m && p != v && m != v) || (null === u && (e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent), u = !!e && (536 > parseInt(e[1], 10) || 536 === parseInt(e[1], 10) && 11 >= parseInt(e[2], 10))), e = u && (p == g && m == g && v == g || p == b && m == b && v == b || p == S && m == S && v == S)), e = !e), e && (w.parentNode && w.parentNode.removeChild(w), clearTimeout(s), t(n))
                        }
                        var f = new i(r),
                            y = new i(r),
                            d = new i(r),
                            p = -1,
                            m = -1,
                            v = -1,
                            g = -1,
                            b = -1,
                            S = -1,
                            w = document.createElement("div");
                        w.dir = "ltr", o(f, _(n, "sans-serif")), o(y, _(n, "serif")), o(d, _(n, "monospace")), w.appendChild(f.a), w.appendChild(y.a), w.appendChild(d.a), document.body.appendChild(w), g = f.a.offsetWidth, b = y.a.offsetWidth, S = d.a.offsetWidth,
                            function t() {
                                if ((new Date).getTime() - h >= c) w.parentNode && w.parentNode.removeChild(w), e(n);
                                else {
                                    var i = document.hidden;
                                    !0 !== i && void 0 !== i || (p = f.a.offsetWidth, m = y.a.offsetWidth, v = d.a.offsetWidth, l()), s = setTimeout(t, 50)
                                }
                            }(), a(f, function(t) {
                                p = t, l()
                            }), o(f, _(n, '"' + n.family + '",sans-serif')), a(y, function(t) {
                                m = t, l()
                            }), o(y, _(n, '"' + n.family + '",serif')), a(d, function(t) {
                                v = t, l()
                            }), o(d, _(n, '"' + n.family + '",monospace'))
                    })
                })
            }, "object" === e(t) ? t.exports = s : (window.FontFaceObserver = s, window.FontFaceObserver.prototype.load = s.prototype.load)
        }()
    }).call(this, n(52)(t))
}, function(t, e, n) {
    "use strict";

    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = {
        merge: function(t, e) {
            var n = JSON.parse(JSON.stringify(e));
            return this._mergeProperty(t, n), n
        },
        _mergeProperty: function(t, e) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var o = t[n],
                        r = e.hasOwnProperty(n);
                    "object" === i(o) && r && !Array.isArray(o) ? this._mergeProperty(t[n], e[n]) : void 0 !== e[n] && null !== e[n] || (e[n] = t[n])
                } return e
        }
    };
    e.a = o
}, function(t, e, n) {
    "use strict";
    var i = n(1),
        o = n(9),
        r = n.n(o);

    function a(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var s = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e
            }
            return function(t, e, n) {
                e && a(t.prototype, e), n && a(t, n)
            }(t, [{
                key: "getImagePath",
                value: function(t) {
                    return "".concat(this._config.imagePath).concat(t)
                }
            }, {
                key: "getStaticSymbol",
                value: function(t) {
                    var e = this._config.mappedSymbolIds;
                    if (e && e.hasOwnProperty("_".concat(t))) return e["_".concat(t)];
                    var n = this._padTextureId(t);
                    return "".concat(n, "_anim01.png")
                }
            }, {
                key: "getStaticHighWinSymbol",
                value: function(t) {
                    var e = this._getIsHighWinException(t),
                        n = this._getIsMappedSymbolId(t);
                    if (e || n) return this.getStaticSymbol(t);
                    var i = this._padTextureId(t);
                    return "".concat(i, "_anim01").concat(this._config.highWinSuffix || "", ".png")
                }
            }, {
                key: "_getIsHighWinException",
                value: function(t) {
                    return !!this._config.highWinExceptions && this._config.highWinExceptions.indexOf(t) > -1
                }
            }, {
                key: "getStaticInScatterSymbol",
                value: function(t) {
                    var e = this._getIsMappedSymbolId(t);
                    return this._config.scatter && !e ? "".concat(this._config.scatter.prefix || "").concat(this.getStaticSymbol(t)) : this.getStaticSymbol(t)
                }
            }, {
                key: "_getIsMappedSymbolId",
                value: function(t) {
                    return !!this._config.mappedSymbolIds && this._config.mappedSymbolIds.hasOwnProperty("_".concat(t))
                }
            }, {
                key: "getStaticScatterSpecialSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.special) {
                        var n = this._padTextureId(t),
                            i = e.special.suffix || "";
                        return "".concat(n, "_anim01").concat(i, ".png")
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "getScatterWidgetSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.widget) {
                        var n = this._padTextureId(t),
                            i = e.widget.suffix || "";
                        return "".concat(n, "_anim01").concat(i, ".png")
                    }
                    return this.getStaticScatterSpecialSymbol(t)
                }
            }, {
                key: "getAnimatedScatterSpecialSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.special && e.special.hasWinAnimation) {
                        var n = this._padTextureId(t),
                            i = e.special.suffix || "";
                        return "".concat(n, "_anim").concat(i, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getStaticScatterSelectSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.select) {
                        var n = this._padTextureId(t),
                            i = e.select.suffix || "";
                        return "".concat(n).concat(i, ".png")
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "getAnimatedScatterSelectSymbol",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.select && e.select.animated) {
                        var n = this._padTextureId(t);
                        return e.select.animated.suffixes.map(function(t) {
                            return "".concat(n).concat(t, ".jpg")
                        })
                    }
                    var i = this.getAnimatedSymbol(t);
                    return this._toStringArray(i)
                }
            }, {
                key: "getStaticMultiplierSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e);
                    return "".concat(n, "_anim01").concat(i, ".png")
                }
            }, {
                key: "_getMultiplierSuffix",
                value: function(t) {
                    return this._config.multiplier && this._config.multiplier.available.length > t ? this._config.multiplier.available[t] : ""
                }
            }, {
                key: "getAnimatedQuerySymbol",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.query && t.query.id) {
                        var e = this._padTextureId(t.query.id),
                            n = t.query.suffix || "";
                        return "".concat(e, "_anim").concat(n, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getAnimatedQueryReveal",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.query && e.query.available) {
                        var n = t - e.query.revealOffset;
                        if (n >= 0 && n < e.query.available.length) {
                            var i = this._padTextureId(e.query.id),
                                o = e.query.revealInterfix || "",
                                r = e.query.available[n];
                            return "".concat(i, "_anim").concat(o).concat(r, ".jpg")
                        }
                    }
                    return ""
                }
            }, {
                key: "getStaticQueryResult",
                value: function(t) {
                    var e = this._config.scatter;
                    if (e && e.query && e.query.available) {
                        var n = t - e.query.revealOffset,
                            i = (e.special ? e.special.ids : null) || e.query.mapped;
                        if (n >= 0 && i && n < i.length) {
                            var o = i[n];
                            return this.getStaticSymbol(o)
                        }
                    }
                    return this.getStaticSymbol(t)
                }
            }, {
                key: "_padTextureId",
                value: function(t) {
                    for (var e = String(t); e.length < 2;) e = "0".concat(e);
                    return e
                }
            }, {
                key: "getSymbolIntro",
                value: function(t) {
                    var e = this._config.symbolIntro;
                    if (e && e.ids) {
                        var n = this._padTextureId(t),
                            i = e.suffix || "";
                        return "".concat(n).concat(i, ".jpg")
                    }
                    return ""
                }
            }, {
                key: "getIdleSymbol",
                value: function(t) {
                    var e = this._config.idleSymbols;
                    return e && e.hasOwnProperty("_".concat(t)) ? e["_".concat(t)] : ""
                }
            }, {
                key: "getAnimatedSymbol",
                value: function(t) {
                    var e = this._config.mappedSymbolIds;
                    if (e && e.hasOwnProperty("_".concat(t, "_animated"))) return this._toStringArray(e["_".concat(t, "_animated")]);
                    var n = this._padTextureId(t);
                    return ["".concat(n, "_anim.jpg")]
                }
            }, {
                key: "getAnimatedHighWinSymbol",
                value: function(t) {
                    if (this._getIsHighWinException(t) || !this._config.highWinSuffix) return this.getAnimatedSymbol(t);
                    var e = this._padTextureId(t);
                    return ["".concat(e, "_anim").concat(this._config.highWinSuffix || "", ".jpg")]
                }
            }, {
                key: "getAnimatedInScatterSymbol",
                value: function(t) {
                    var e = this,
                        n = this._getIsAnimatedInScatterException(t),
                        i = this._getIsMappedSymbolId(t);
                    return !this._config.scatter || n || i ? this.getAnimatedSymbol(t) : this.getAnimatedSymbol(t).map(function(t) {
                        return "".concat(e._config.scatter.prefix || "").concat(t)
                    })
                }
            }, {
                key: "_getIsAnimatedInScatterException",
                value: function(t) {
                    var e = this._config.scatter;
                    return !!e && (!!e.prefixAnimatedExceptions && e.prefixAnimatedExceptions.indexOf(t) > -1)
                }
            }, {
                key: "getAnimatedMultiplierSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e);
                    return "".concat(n, "_anim").concat(i, ".jpg")
                }
            }, {
                key: "getAnimatedMultiplierTransitionSymbol",
                value: function(t, e) {
                    var n = this._padTextureId(t),
                        i = this._getMultiplierSuffix(e),
                        o = this._config.multiplier ? this._config.multiplier.transitionInterfix : "";
                    return "".concat(n, "_anim").concat(o || "").concat(i, ".jpg")
                }
            }, {
                key: "getThrobber",
                value: function() {
                    return this._config.throbber
                }
            }, {
                key: "getDemoFlag",
                value: function() {
                    return this._config.demoFlag
                }
            }, {
                key: "getEffectsCoin",
                value: function() {
                    return this._config.effects ? this._config.effects.coin : ""
                }
            }, {
                key: "getAutoPlayCharge",
                value: function() {
                    return this._config.autoPlayCharge.file
                }
            }, {
                key: "getOverlay",
                value: function() {
                    return this._config.overlay
                }
            }, {
                key: "getPaytableBackground",
                value: function() {
                    return this._config.paytableBackground
                }
            }, {
                key: "getScatterPaytableBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.paytableBackground ? this._config.scatter.paytableBackground : this.getPaytableBackground()
                }
            }, {
                key: "getHelpBackground",
                value: function() {
                    return this._config.helpBackground
                }
            }, {
                key: "getScatterHelpBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.helpBackground ? this._config.scatter.helpBackground : this.getHelpBackground()
                }
            }, {
                key: "getSettingsMainControls",
                value: function() {
                    return this._config.settingsMainControls
                }
            }, {
                key: "getSettingsButtons",
                value: function() {
                    return this._config.settingsButtons
                }
            }, {
                key: "getAmountSelect",
                value: function() {
                    return this._config.amount.select
                }
            }, {
                key: "getAmountDecrease",
                value: function() {
                    return this._config.amount.decrease
                }
            }, {
                key: "getAmountIncrease",
                value: function() {
                    return this._config.amount.increase
                }
            }, {
                key: "getSlotBackground",
                value: function() {
                    return this._config.slotBackground || ""
                }
            }, {
                key: "getSlotHeader",
                value: function() {
                    return this._config.slotHeader || ""
                }
            }, {
                key: "getSlotForeground",
                value: function() {
                    return this._config.slotForeground || ""
                }
            }, {
                key: "getScatterBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotBackground ? this._config.scatter.slotBackground : this.getSlotBackground()
                }
            }, {
                key: "getScatterHeader",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotHeader ? this._config.scatter.slotHeader : this.getSlotHeader()
                }
            }, {
                key: "getScatterForeground",
                value: function() {
                    return this._config.scatter && this._config.scatter.slotForeground ? this._config.scatter.slotForeground : this.getSlotForeground()
                }
            }, {
                key: "getScatterRevealAnimation",
                value: function() {
                    return (this._config.scatter ? this._config.scatter.revealAnimation : "") || ""
                }
            }, {
                key: "getSlotControls",
                value: function() {
                    return this._config.slotControls
                }
            }, {
                key: "getControlsSeparator",
                value: function() {
                    return this._config.controlsSeparator
                }
            }, {
                key: "getControlsBackground",
                value: function() {
                    return this._config.controlsBackground
                }
            }, {
                key: "getGambleControls",
                value: function() {
                    return this._config.gambleControls
                }
            }, {
                key: "getSlotGambleControls",
                value: function() {
                    return this._config.slotGambleControls
                }
            }, {
                key: "getSlotStopControls",
                value: function() {
                    return this._config.slotStopControls
                }
            }, {
                key: "getGambleBackground",
                value: function() {
                    return this._config.gambleBackground
                }
            }, {
                key: "getPreloadBackground",
                value: function() {
                    return this._config.preloadBackground
                }
            }, {
                key: "getSettingsBackground",
                value: function() {
                    return this._config.settingsBackground || ""
                }
            }, {
                key: "getGlobalBackground",
                value: function() {
                    return this._config.globalBackground || ""
                }
            }, {
                key: "getScatterGlobalBackground",
                value: function() {
                    return this._config.scatter && this._config.scatter.globalBackground ? this._config.scatter.globalBackground : this.getGlobalBackground()
                }
            }, {
                key: "getAlertBox",
                value: function() {
                    return this._config.alertBox
                }
            }, {
                key: "getFormButton",
                value: function() {
                    return this._config.formButton
                }
            }, {
                key: "getCardSuits",
                value: function() {
                    return this._config.card.suits
                }
            }, {
                key: "getCardBlackBack",
                value: function() {
                    return this._config.card.blackBack
                }
            }, {
                key: "getCardRedBack",
                value: function() {
                    return this._config.card.redBack
                }
            }, {
                key: "getCardFull",
                value: function() {
                    return this._config.card.full
                }
            }, {
                key: "getGambleSelected",
                value: function() {
                    return this._config.gambleSelected
                }
            }, {
                key: "getWinlineNumbers",
                value: function() {
                    return this._config.winline.numbers
                }
            }, {
                key: "getScatterWinlineNumbers",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.winline && t.winline.numbers ? t.winline.numbers : this._config.winline.numbers
                }
            }, {
                key: "getEffectsMultiplier",
                value: function(t) {
                    return this._config.effects && this._config.effects.multiplier ? this._config.effects.multiplier[t] : ""
                }
            }, {
                key: "getEffectsWinText",
                value: function() {
                    return this._config.effects ? this._config.effects.winText : ""
                }
            }, {
                key: "getEffectsBackground",
                value: function() {
                    return this._config.effects ? this._config.effects.background : ""
                }
            }, {
                key: "getScatterSelectBackground",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.select ? this._config.scatter.select.background : ""
                }
            }, {
                key: "getScatterSelectOverlay",
                value: function(t) {
                    var e = this._config.scatter;
                    return e && e.select && e.select.overlays && e.select.overlays.length > t ? e.select.overlays[t] : ""
                }
            }, {
                key: "getScatterMessageBackground",
                value: function() {
                    return this._config.scatter ? this._config.scatter.messageBackground : ""
                }
            }, {
                key: "getScatterBlankHeader",
                value: function() {
                    var t = this._config.scatter;
                    return t && t.header ? this._config.scatter.header.blank : ""
                }
            }, {
                key: "getWinHeader",
                value: function() {
                    var t = this._getGraphicAssetPaths(this._config.winHeader);
                    return this._toStringArray(t)
                }
            }, {
                key: "getScatterWinHeader",
                value: function() {
                    var t = this._config.scatter || {},
                        e = this._getGraphicAssetPaths(t.winHeader);
                    return this._toStringArray(e)
                }
            }, {
                key: "_getGraphicAssetPaths",
                value: function(t) {
                    if (!t) return null;
                    var e = t;
                    return e.path ? e.path : Array.isArray(t) ? t : "string" == typeof t ? t : void 0
                }
            }, {
                key: "_toStringArray",
                value: function(t) {
                    return t ? Array.isArray(t) ? t : [String(t)] : null
                }
            }, {
                key: "getScatterHeaderIntroAnimation",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.header) {
                        var e = this._getGraphicAssetPaths(t.header.intro);
                        return this._toSingleString(e)
                    }
                    return ""
                }
            }, {
                key: "_toSingleString",
                value: function(t) {
                    return Array.isArray(t) && t.length > 0 ? t[0] : "string" == typeof t ? t : ""
                }
            }, {
                key: "getScatterSelectIntroAnimation",
                value: function() {
                    var t = this._config.scatter;
                    if (t && t.select) {
                        var e = this._getGraphicAssetPaths(t.select.intro);
                        return this._toStringArray(e)
                    }
                    return null
                }
            }, {
                key: "getFontManifest",
                value: function() {
                    var t = [],
                        e = this._config.fonts;
                    if (!e) return t;
                    for (var n in e) e.hasOwnProperty(n) && t.push({
                        name: n,
                        path: e[n]
                    });
                    return t
                }
            }, {
                key: "getImageManifest",
                value: function() {
                    var t = this,
                        e = this.getImagePath.bind(this),
                        n = [this._config.slotControls, this._config.slotGambleControls, this._config.slotStopControls, this._config.gambleControls, this._config.gambleBackground, this._config.gambleSelected, this._config.winline.numbers, this._config.alertBox, this._config.formButton, this._config.card.suits, this._config.card.blackBack, this._config.card.redBack, this._config.card.full, this._config.paytableBackground, this._config.helpBackground, this._config.settingsMainControls, this._config.settingsButtons, this._config.amount.select, this._config.amount.increase, this._config.amount.decrease, this._config.throbber, this._config.autoPlayCharge.file],
                        i = [this._config.overlay, this._config.slotBackground, this._config.slotForeground, this._config.slotHeader, this._config.controlsSeparator, this._config.controlsBackground, this._config.globalBackground, this._config.settingsBackground].filter(function(t) {
                            return Boolean(t)
                        }).concat(n).map(function(n) {
                            return t._getManifestItem(n, e)
                        });
                    if (this._config.mappedSymbolIds)
                        for (var o in this._config.mappedSymbolIds)
                            if (this._config.mappedSymbolIds.hasOwnProperty(o)) {
                                var r = this._config.mappedSymbolIds[o];
                                (Array.isArray(r) ? r : [r]).forEach(function(n) {
                                    i.push(t._getManifestItem(n, e))
                                })
                            } if (this._config.idleSymbols)
                        for (var a in this._config.idleSymbols) this._config.idleSymbols.hasOwnProperty(a) && i.push(this._getManifestItem(this._config.idleSymbols[a], e));
                    return this._config.winHeader && this._addWinHeader(i, e, this._config), this._config.scatter && this._addScatterAssets(i, e), this._config.effects && this._addSpecialEffects(i, e), this._config.validSymbolIds.forEach(function(n) {
                        t._addRegularSymbols(i, e, n), t._addHighWinSymbols(i, e, n), t._addInScatterSymbols(i, e, n)
                    }), this._addSymbolIntros(i, e), this._addMultiplierSymbols(i, e), i
                }
            }, {
                key: "_addWinHeader",
                value: function(t, e, n) {
                    var i = this,
                        o = n.winHeader.path || n.winHeader;
                    return (Array.isArray(o) ? o : [String(o)]).forEach(function(n) {
                        t.push(i._getManifestItem(n, e))
                    }), t
                }
            }, {
                key: "_addScatterAssets",
                value: function(t, e) {
                    var n = this,
                        i = this._config.scatter;
                    return [i.revealAnimation, i.slotBackground, i.slotHeader, i.slotForeground, i.globalBackground, i.paytableBackground, i.helpBackground, i.messageBackground].filter(function(t) {
                        return Boolean(t)
                    }).forEach(function(i) {
                        t.push(n._getManifestItem(i, e))
                    }), i.winHeader && this._addWinHeader(t, e, i), i.winline && i.winline.numbers && t.push(this._getManifestItem(i.winline.numbers, e)), this._addScatterSpecial({
                        manifest: t,
                        pathGetter: e,
                        config: i.special
                    }), this._addScatterWidget({
                        manifest: t,
                        pathGetter: e,
                        config: i.widget
                    }), this._addScatterSelect({
                        manifest: t,
                        pathGetter: e,
                        config: i.select
                    }), this._addScatterQuery({
                        manifest: t,
                        pathGetter: e,
                        config: i.query
                    }), this._addScatterHeader({
                        manifest: t,
                        pathGetter: e,
                        config: i.header
                    }), t
                }
            }, {
                key: "_addScatterSpecial",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    return o ? (o.ids.forEach(function(t) {
                        var r = e.getStaticScatterSpecialSymbol(t);
                        if (n.push(e._getManifestItem(r, i)), o.hasWinAnimation) {
                            var a = e.getAnimatedScatterSpecialSymbol(t);
                            n.push(e._getManifestItem(a, i))
                        }
                    }), n) : n
                }
            }, {
                key: "_addScatterWidget",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    return o ? (o.ids.forEach(function(t) {
                        var o = e.getScatterWidgetSymbol(t);
                        n.push(e._getManifestItem(o, i))
                    }), n) : n
                }
            }, {
                key: "_addScatterSelect",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    if (o.ids && o.ids.forEach(function(t) {
                            (o.animated ? e.getAnimatedScatterSelectSymbol(t) : [e.getStaticScatterSelectSymbol(t)]).forEach(function(t) {
                                n.push(e._getManifestItem(t, i))
                            })
                        }), o.background && n.push(this._getManifestItem(o.background, i)), o.intro) {
                        var r = this._getGraphicAssetPaths(o.intro);
                        this._toStringArray(r).forEach(function(t) {
                            n.push(e._getManifestItem(t, i))
                        })
                    }
                    return o.overlays && o.overlays.forEach(function(t) {
                        n.push(e._getManifestItem(t, i))
                    }), n
                }
            }, {
                key: "_addScatterQuery",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    var r = this.getAnimatedQuerySymbol();
                    return n.push(this._getManifestItem(r, i)), o.available && o.available.forEach(function(t, r) {
                        var a = r + o.revealOffset,
                            s = e.getAnimatedQueryReveal(a);
                        n.push(e._getManifestItem(s, i))
                    }), n
                }
            }, {
                key: "_addScatterHeader",
                value: function(t) {
                    var e = this,
                        n = t.manifest,
                        i = t.pathGetter,
                        o = t.config;
                    if (!o) return n;
                    if (o.intro) {
                        var r = this._getGraphicAssetPaths(o.intro);
                        this._toStringArray(r).forEach(function(t) {
                            n.push(e._getManifestItem(t, i))
                        })
                    }
                    return o.blank && n.push(this._getManifestItem(o.blank, i)), n
                }
            }, {
                key: "_addSpecialEffects",
                value: function(t, e) {
                    var n = this,
                        i = this._config.effects;
                    [i.coin, i.winText, i.background].filter(function(t) {
                        return Boolean(t)
                    }).forEach(function(i) {
                        t.push(n._getManifestItem(i, e))
                    });
                    var o = i.multiplier;
                    return o && o.forEach(function(i, o) {
                        var r = n.getEffectsMultiplier(o);
                        t.push(n._getManifestItem(r, e))
                    }), t
                }
            }, {
                key: "_addRegularSymbols",
                value: function(t, e, n) {
                    var i = this,
                        o = this.getStaticSymbol(n);
                    (t.push(this._getManifestItem(o, e)), this._config.multiplier && this._config.multiplier.id === n) || this.getAnimatedSymbol(n).forEach(function(n) {
                        t.push(i._getManifestItem(n, e))
                    });
                    return t
                }
            }, {
                key: "_addHighWinSymbols",
                value: function(t, e, n) {
                    var i = this,
                        o = this._config.multiplier && this._config.multiplier.id === n,
                        r = this._getIsHighWinException(n);
                    if (this._config.highWinSuffix && !o && !r) {
                        this.getAnimatedHighWinSymbol(n).forEach(function(n) {
                            t.push(i._getManifestItem(n, e))
                        });
                        var a = this.getStaticHighWinSymbol(n);
                        t.push(this._getManifestItem(a, e))
                    }
                    return t
                }
            }, {
                key: "_addInScatterSymbols",
                value: function(t, e, n) {
                    var i = this;
                    if (this._config.scatter && this._config.scatter.prefix) {
                        this.getAnimatedInScatterSymbol(n).forEach(function(n) {
                            t.push(i._getManifestItem(n, e))
                        });
                        var o = this.getStaticInScatterSymbol(n);
                        t.push(this._getManifestItem(o, e))
                    }
                    return t
                }
            }, {
                key: "_addSymbolIntros",
                value: function(t, e) {
                    var n = this,
                        i = this._config.symbolIntro;
                    return i && i.ids && i.ids.forEach(function(i) {
                        var o = n.getSymbolIntro(i);
                        t.push(n._getManifestItem(o, e))
                    }), t
                }
            }, {
                key: "_addMultiplierSymbols",
                value: function(t, e) {
                    var n = this,
                        i = this._config.multiplier;
                    return i && i.available && i.id && this._config.multiplier.available.forEach(function(o, r) {
                        var a = n.getAnimatedMultiplierSymbol(i.id, r),
                            s = n.getStaticMultiplierSymbol(i.id, r),
                            u = n.getAnimatedMultiplierTransitionSymbol(i.id, r);
                        t.push(n._getManifestItem(a, e)), t.push(n._getManifestItem(s, e)), t.push(n._getManifestItem(u, e))
                    }), t
                }
            }, {
                key: "_getManifestItem",
                value: function(t, e) {
                    if (!t) throw new Error("Filename undefined! This would crash AssetLibrary._preloadImages");
                    return {
                        name: t,
                        path: e(t)
                    }
                }
            }, {
                key: "getSoundPaths",
                value: function(t) {
                    var e = this,
                        n = [];
                    return t.forEach(function(t) {
                        n.push("".concat(e._config.soundPath).concat(t))
                    }), n
                }
            }, {
                key: "getDeny",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.deny)
                }
            }, {
                key: "_addSoundFileExtensions",
                value: function(t) {
                    var e = [];
                    return this._config.sound.formats.forEach(function(n) {
                        e.push("".concat(t, ".").concat(n))
                    }), e
                }
            }, {
                key: "getStartup",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.startup)
                }
            }, {
                key: "getCongratulations",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.congratulations)
                }
            }, {
                key: "getCsengo",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengo)
                }
            }, {
                key: "getCsengoLong",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengoLong)
                }
            }, {
                key: "getCsengoShort",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.csengoShort)
                }
            }, {
                key: "getMelody",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.melodies[t])
                }
            }, {
                key: "getMelodyCount",
                value: function() {
                    var t = this._config.sound.melodies;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterMelody",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatter.melodies[t])
                }
            }, {
                key: "getScatterMelodyCount",
                value: function() {
                    var t = this._config.sound.scatter,
                        e = t ? t.melodies : [];
                    return e ? e.length : 0
                }
            }, {
                key: "getReelStop",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.reelStop)
                }
            }, {
                key: "getSlowDown",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slowDown)
                }
            }, {
                key: "getSlowDownLoop",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slowDownLoop)
                }
            }, {
                key: "getScatter",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatters[t])
                }
            }, {
                key: "getScatterCount",
                value: function() {
                    var t = this._config.sound.scatters;
                    return t ? t.length : 0
                }
            }, {
                key: "getBigWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.bigWins[t])
                }
            }, {
                key: "getBigWinCount",
                value: function() {
                    var t = this._config.sound.bigWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getSmallWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.smallWins[t])
                }
            }, {
                key: "getSmallWinCount",
                value: function() {
                    var t = this._config.sound.smallWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatterWins[t])
                }
            }, {
                key: "getScatterWinCount",
                value: function() {
                    var t = this._config.sound.scatterWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getScatterSpecialWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.scatter.specialWins[t])
                }
            }, {
                key: "getScatterSpecialWinCount",
                value: function() {
                    if (!this._config.sound.scatter) return 0;
                    var t = this._config.sound.scatter.specialWins;
                    return t ? t.length : 0
                }
            }, {
                key: "getPayRun",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.payRun)
                }
            }, {
                key: "getTake",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.take)
                }
            }, {
                key: "getSlideIn",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.slideIn)
                }
            }, {
                key: "getRisk",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.risk)
                }
            }, {
                key: "getWaiting",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.waiting)
                }
            }, {
                key: "getSpecialPreWin",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.specialPreWin)
                }
            }, {
                key: "getAfterSpin",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.afterSpin)
                }
            }, {
                key: "getScatterGameWinBonus",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatterGameWinBonus)
                }
            }, {
                key: "getCardFlip",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.cardFlip)
                }
            }, {
                key: "getGambleLost",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.gambleLost)
                }
            }, {
                key: "getGambleWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.gambleWins[t])
                }
            }, {
                key: "getGambleWinCount",
                value: function() {
                    return this._config.sound.gambleWins.length
                }
            }, {
                key: "getMessage",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.message)
                }
            }, {
                key: "getPotWin",
                value: function(t) {
                    return this._addSoundFileExtensions(this._config.sound.potWins[t])
                }
            }, {
                key: "getPotWinCount",
                value: function() {
                    return this._config.sound.potWins.length
                }
            }, {
                key: "getGambleAutoTake",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.gambleAutoTake)
                }
            }, {
                key: "getWinBackgroundMelody",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.winBgMelody)
                }
            }, {
                key: "getScatterBackgroundMelody",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.bgMelody)
                }
            }, {
                key: "getScatterHeaderIntroSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.headerIntro)
                }
            }, {
                key: "getTransformSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.transform)
                }
            }, {
                key: "getScatterTransformSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.transform)
                }
            }, {
                key: "getScatterSelectIntroSound",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.selectIntro)
                }
            }, {
                key: "getScatterOutro",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.outro)
                }
            }, {
                key: "getScatterAnnounce",
                value: function() {
                    return this._addSoundFileExtensions(this._config.sound.scatter.announce)
                }
            }, {
                key: "getSoundManifest",
                value: function() {
                    var t = [];
                    t.push(this.getSoundPaths(this.getDeny())), t.push(this.getSoundPaths(this.getCongratulations())), t.push(this.getSoundPaths(this.getCsengo())), t.push(this.getSoundPaths(this.getCsengoLong())), t.push(this.getSoundPaths(this.getCsengoShort())), t.push(this.getSoundPaths(this.getReelStop())), t.push(this.getSoundPaths(this.getTake())), t.push(this.getSoundPaths(this.getSlideIn())), t.push(this.getSoundPaths(this.getRisk())), t.push(this.getSoundPaths(this.getCardFlip())), t.push(this.getSoundPaths(this.getGambleLost())), t.push(this.getSoundPaths(this.getStartup())), t.push(this.getSoundPaths(this.getMessage())), t.push(this.getSoundPaths(this.getGambleAutoTake())), this._addMultipleSounds(t, this.getMelody, this.getMelodyCount), this._addMultipleSounds(t, this.getScatter, this.getScatterCount), this._addMultipleSounds(t, this.getBigWin, this.getBigWinCount), this._addMultipleSounds(t, this.getSmallWin, this.getSmallWinCount), this._addMultipleSounds(t, this.getScatterWin, this.getScatterWinCount), this._addMultipleSounds(t, this.getGambleWin, this.getGambleWinCount), this._addMultipleSounds(t, this.getPotWin, this.getPotWinCount), this._config.sound.slowDown && t.push(this.getSoundPaths(this.getSlowDown())), this._config.sound.slowDownLoop && t.push(this.getSoundPaths(this.getSlowDownLoop())), this._config.sound.waiting && t.push(this.getSoundPaths(this.getWaiting())), this._config.sound.payRun && t.push(this.getSoundPaths(this.getPayRun())), this._config.sound.specialPreWin && t.push(this.getSoundPaths(this.getSpecialPreWin())), this._config.sound.afterSpin && t.push(this.getSoundPaths(this.getAfterSpin())), this._config.sound.scatterGameWinBonus && t.push(this.getSoundPaths(this.getScatterGameWinBonus())), this._config.sound.winBgMelody && t.push(this.getSoundPaths(this.getWinBackgroundMelody())), this._config.sound.transform && t.push(this.getSoundPaths(this.getTransformSound())), this._config.sound.scatter && this._addScatterSounds(t);
                    var e = [];
                    return t.filter(function(t) {
                        var n = e.indexOf(t[0]) < 0;
                        return e.push(t[0]), n
                    })
                }
            }, {
                key: "_addScatterSounds",
                value: function(t) {
                    return this._config.sound.scatter.melodies && this._addMultipleSounds(t, this.getScatterMelody, this.getScatterMelodyCount), this._config.sound.scatter.bgMelody && t.push(this.getSoundPaths(this.getScatterBackgroundMelody())), this._config.sound.scatter.headerIntro && t.push(this.getSoundPaths(this.getScatterHeaderIntroSound())), this._config.sound.scatter.transform && t.push(this.getSoundPaths(this.getScatterTransformSound())), this._config.sound.scatter.selectIntro && t.push(this.getSoundPaths(this.getScatterSelectIntroSound())), this._config.sound.scatter.outro && t.push(this.getSoundPaths(this.getScatterOutro())), this._config.sound.scatter.announce && t.push(this.getSoundPaths(this.getScatterAnnounce())), this._config.sound.scatter.specialWins && this._addMultipleSounds(t, this.getScatterSpecialWin, this.getScatterSpecialWinCount), t
                }
            }, {
                key: "_addMultipleSounds",
                value: function(t, e, n) {
                    for (var i = n.call(this), o = 0; o < i; o++) t.push(this.getSoundPaths(e.call(this, o)));
                    return t
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null
                }
            }]), t
        }(),
        u = n(35);

    function l(t) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function c(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function h(t, e) {
        return !e || "object" !== l(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function f(t) {
        return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _(t, e) {
        return (_ = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var y = function(t) {
            function e(t, n) {
                var i;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (i = h(this, f(e).call(this)))._config = t, i._howlerWrapper = n, i._init(), i
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && _(t, e)
                }(e, r.a),
                function(t, e, n) {
                    e && c(t.prototype, e), n && c(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._directory = this._createAssetPathDirectory(), this._resources = {}, this
                    }
                }, {
                    key: "_createAssetPathDirectory",
                    value: function() {
                        return new s(this._config)
                    }
                }, {
                    key: "getTexture",
                    value: function(t) {
                        var e = this._directory.getImagePath(t),
                            n = this._resources[e] || i.Texture.fromImage(e);
                        return n && n.valid || console.log("Warning: The following texture could not be properly initialized: ".concat(e)), n
                    }
                }, {
                    key: "getOverlay",
                    value: function() {
                        var t = this._directory.getOverlay();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsMainControls",
                    value: function() {
                        var t = this._directory.getSettingsMainControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsButtons",
                    value: function() {
                        var t = this._directory.getSettingsButtons();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountSelect",
                    value: function() {
                        var t = this._directory.getAmountSelect();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountIncrease",
                    value: function() {
                        var t = this._directory.getAmountIncrease();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAmountDecrease",
                    value: function() {
                        var t = this._directory.getAmountDecrease();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getPaytableBackground",
                    value: function() {
                        var t = this._directory.getPaytableBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getScatterPaytableBackground",
                    value: function() {
                        var t = this._directory.getScatterPaytableBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getHelpBackground",
                    value: function() {
                        var t = this._directory.getHelpBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getScatterHelpBackground",
                    value: function() {
                        var t = this._directory.getScatterHelpBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotBackground",
                    value: function() {
                        var t = this._directory.getSlotBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getSlotHeader",
                    value: function() {
                        var t = this._directory.getSlotHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "_getOptionalTexture",
                    value: function(t) {
                        return t ? this.getTexture(t) : null
                    }
                }, {
                    key: "getSlotForeground",
                    value: function() {
                        var t = this._directory.getSlotForeground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterBackground",
                    value: function() {
                        var t = this._directory.getScatterBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterHeader",
                    value: function() {
                        var t = this._directory.getScatterHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterForeground",
                    value: function() {
                        var t = this._directory.getScatterForeground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterSelectBackground",
                    value: function() {
                        var t = this._directory.getScatterSelectBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterSelectOverlay",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                            e = this._directory.getScatterSelectOverlay(t);
                        return this._getOptionalTexture(e)
                    }
                }, {
                    key: "getScatterMessageBackground",
                    value: function() {
                        var t = this._directory.getScatterMessageBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterBlankHeader",
                    value: function() {
                        var t = this._directory.getScatterBlankHeader();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getWinHeader",
                    value: function() {
                        var t = this._directory.getWinHeader();
                        return t ? this._getWinHeaderAnimation(t) : null
                    }
                }, {
                    key: "_getWinHeaderAnimation",
                    value: function(t) {
                        var e = "winHeader";
                        if (!this._resources[e]) {
                            var n = this._config.winHeader || {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: n,
                                defaultXCount: 2,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "_mergeFrames",
                    value: function(t) {
                        var e = this,
                            n = t.parts,
                            i = t.config,
                            o = t.defaultXCount,
                            r = t.defaultYCount;
                        return n.map(function(t) {
                            var n = e.getTexture(t),
                                a = e._createAnimationSetup({
                                    tilesheet: n,
                                    config: i,
                                    defaultXCount: o,
                                    defaultYCount: r
                                });
                            return e._createAnimatedSprite(a)
                        }).reduce(function(t, e) {
                            return t.concat(e)
                        }, [])
                    }
                }, {
                    key: "_createAnimationSetup",
                    value: function(t) {
                        var e = t.tilesheet,
                            n = t.config,
                            i = t.defaultXCount,
                            o = t.defaultYCount,
                            r = n.width ? e.width / n.width : i,
                            a = n.height ? e.height / n.height : o;
                        return {
                            tilesheet: e,
                            xCount: r,
                            yCount: a,
                            frameSize: {
                                width: n.width || e.width / r,
                                height: n.height || e.height / a
                            }
                        }
                    }
                }, {
                    key: "_createAnimatedSprite",
                    value: function(t) {
                        for (var e = t.tilesheet, n = t.xCount, i = t.yCount, o = t.frameSize, r = [], a = 0; a < n * i; a += 1) {
                            var s = this._createAnimationFrame({
                                tilesheet: e,
                                xPos: a % n,
                                yPos: Math.floor(a / n),
                                frameSize: o
                            });
                            r.push(s)
                        }
                        return r
                    }
                }, {
                    key: "getScatterWinHeader",
                    value: function() {
                        var t = this._directory.getScatterWinHeader();
                        return t ? this._getScatterWinHeaderAnimation(t) : null
                    }
                }, {
                    key: "_getScatterWinHeaderAnimation",
                    value: function(t) {
                        var e = "scatterWinHeader";
                        if (!this._resources[e]) {
                            var n = (this._config.scatter || {}).winHeader || {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: n,
                                defaultXCount: 2,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getScatterHeaderIntroAnimation",
                    value: function() {
                        var t = this._directory.getScatterHeaderIntroAnimation();
                        return t ? this._getScatterHeaderIntroAnimation(t) : null
                    }
                }, {
                    key: "_getScatterHeaderIntroAnimation",
                    value: function(t) {
                        var e = "scatterHeaderIntroAnimation";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t),
                                i = this._config.scatter,
                                o = i && i.header && i.header.intro ? i.header.intro : {},
                                r = this._createAnimationSetup({
                                    tilesheet: n,
                                    config: o,
                                    defaultXCount: 2,
                                    defaultYCount: 8
                                });
                            this._resources[e] = this._createAnimatedSprite(r)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getScatterSelectIntroAnimation",
                    value: function() {
                        var t = this._directory.getScatterSelectIntroAnimation();
                        if (t) {
                            var e = this._getScatterSelectIntroAnimation(t),
                                n = this.getScatterSelectBackground();
                            return n && e.push(n), e
                        }
                        return null
                    }
                }, {
                    key: "_getScatterSelectIntroAnimation",
                    value: function(t) {
                        var e = "scatterSelectIntroAnimation";
                        if (!this._resources[e]) {
                            var n = this._config.scatter,
                                i = n && n.select && n.select.intro ? n.select.intro : {};
                            this._resources[e] = this._mergeFrames({
                                parts: t,
                                config: i,
                                defaultXCount: 3,
                                defaultYCount: 5
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedScatterSelectSymbol",
                    value: function(t) {
                        var e = this._directory.getAnimatedScatterSelectSymbol(t);
                        return e ? this._getAnimatedScatterSelectSymbol(e, t) : null
                    }
                }, {
                    key: "_getAnimatedScatterSelectSymbol",
                    value: function(t, e) {
                        var n = "animatedScatterSelectSymbol:".concat(e);
                        if (!this._resources[n]) {
                            var i = this._config.scatter,
                                o = i && i.select && i.select.animated ? i.select.animated : {};
                            this._resources[n] = this._mergeFrames({
                                parts: t,
                                config: o,
                                defaultXCount: 4,
                                defaultYCount: 5
                            })
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getScatterRevealAnimation",
                    value: function() {
                        var t = this._directory.getScatterRevealAnimation();
                        return t ? this._getScatterRevealAnimation(t) : null
                    }
                }, {
                    key: "_getScatterRevealAnimation",
                    value: function(t) {
                        var e = "scatterRevealAnimation";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getStaticSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticHighWinSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticHighWinSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticInScatterSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticInScatterSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticScatterSpecialSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticScatterSpecialSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getScatterWidgetSymbol",
                    value: function(t) {
                        var e = this._directory.getScatterWidgetSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getAnimatedScatterSpecialSymbol",
                    value: function(t) {
                        var e = this._directory.getAnimatedScatterSpecialSymbol(t);
                        if (!e) return this.getAnimatedSymbol(t);
                        var n = "animatedSpecial:".concat(t);
                        if (!this._resources[n]) {
                            var i = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getStaticScatterSelectSymbol",
                    value: function(t) {
                        var e = this._directory.getStaticScatterSelectSymbol(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getStaticMultiplierSymbol",
                    value: function(t, e) {
                        var n = this._directory.getStaticMultiplierSymbol(t, e);
                        return this.getTexture(n)
                    }
                }, {
                    key: "getAnimatedQuerySymbol",
                    value: function() {
                        var t = this._directory.getAnimatedQuerySymbol();
                        if (!t) return null;
                        var e = "animatedQuery";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedQueryReveal",
                    value: function(t) {
                        var e = this._directory.getAnimatedQueryReveal(t);
                        if (!e) return [i.Texture.EMPTY];
                        var n = "animatedQueryReveal:".concat(t);
                        if (!this._resources[n]) {
                            var o = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(o)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getStaticQueryResult",
                    value: function(t) {
                        var e = this._directory.getStaticQueryResult(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "getSymbolIntro",
                    value: function(t) {
                        var e = "intro:".concat(t);
                        if (!this._resources[e]) {
                            var n = this.getTexture(this._directory.getSymbolIntro(t));
                            this._resources[e] = this._createAnimatedSymbol(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getIdleSymbol",
                    value: function(t) {
                        var e = this._directory.getIdleSymbol(t);
                        if (!e) return null;
                        var n = "idle:".concat(t);
                        if (!this._resources[n]) {
                            var i = this.getTexture(e);
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getAnimatedSymbol",
                    value: function(t) {
                        var e = "animated:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedHighWinSymbol",
                    value: function(t) {
                        var e = "animatedHighWin:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedHighWinSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedInScatterSymbol",
                    value: function(t) {
                        var e = "animatedInScatter:".concat(t);
                        if (!this._resources[e]) {
                            var n = this._directory.getAnimatedInScatterSymbol(t),
                                i = this._config.symbol || {};
                            this._resources[e] = this._mergeFrames({
                                parts: n,
                                config: i,
                                defaultXCount: 8,
                                defaultYCount: 8
                            })
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAnimatedMultiplierSymbol",
                    value: function(t, e) {
                        var n = "animatedMultiplier:".concat(t, ":").concat(e);
                        if (!this._resources[n]) {
                            var i = this.getTexture(this._directory.getAnimatedMultiplierSymbol(t, e));
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "getAnimatedMultiplierTransitionSymbol",
                    value: function(t, e) {
                        var n = "animatedMultiplierTransition:".concat(t, ":").concat(e);
                        if (!this._resources[n]) {
                            var i = this.getTexture(this._directory.getAnimatedMultiplierTransitionSymbol(t, e));
                            this._resources[n] = this._createAnimatedSymbol(i)
                        }
                        return this._resources[n]
                    }
                }, {
                    key: "_createAnimatedSymbol",
                    value: function(t) {
                        var e = t.width / this._config.symbol.width,
                            n = t.height / this._config.symbol.height;
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: e,
                            yCount: n,
                            frameSize: this._config.symbol
                        })
                    }
                }, {
                    key: "_createAnimationFrame",
                    value: function(t) {
                        var e = t.tilesheet,
                            n = t.xPos,
                            o = t.yPos,
                            r = t.frameSize,
                            a = n * r.width,
                            s = o * r.height,
                            u = e.clone();
                        return u.frame = new i.Rectangle(a, s, r.width, r.height), u
                    }
                }, {
                    key: "getThrobber",
                    value: function() {
                        var t = "animatedThrobber";
                        if (!this._resources[t]) {
                            var e = this.getTexture(this._directory.getThrobber());
                            this._resources[t] = this._createSimpleAnimatedSprite(e)
                        }
                        return this._resources[t]
                    }
                }, {
                    key: "getDemoFlag",
                    value: function() {
                        return this.getTexture(this._directory.getDemoFlag())
                    }
                }, {
                    key: "_createSimpleAnimatedSprite",
                    value: function(t) {
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: t.width / t.height,
                            yCount: 1,
                            frameSize: {
                                width: t.height,
                                height: t.height
                            }
                        })
                    }
                }, {
                    key: "getEffectsCoin",
                    value: function() {
                        var t = this._directory.getEffectsCoin();
                        if (!t) return null;
                        var e = "animatedCoin";
                        if (!this._resources[e]) {
                            var n = this.getTexture(t);
                            this._resources[e] = this._createSimpleAnimatedSprite(n)
                        }
                        return this._resources[e]
                    }
                }, {
                    key: "getAutoPlayCharge",
                    value: function() {
                        var t = "animatedAutoPlayCharge";
                        if (!this._resources[t]) {
                            var e = this.getTexture(this._directory.getAutoPlayCharge());
                            this._resources[t] = this._createAnimatedAutoPlayCharge(e)
                        }
                        return this._resources[t]
                    }
                }, {
                    key: "_createAnimatedAutoPlayCharge",
                    value: function(t) {
                        var e = this._config.autoPlayCharge.frameCount;
                        return this._createAnimatedSprite({
                            tilesheet: t,
                            xCount: e,
                            yCount: 1,
                            frameSize: {
                                width: t.width / e,
                                height: t.height
                            }
                        })
                    }
                }, {
                    key: "getAutoPlayActive",
                    value: function() {
                        var t = this.getAutoPlayCharge();
                        return t[t.length - 1]
                    }
                }, {
                    key: "getPreloadBackground",
                    value: function() {
                        var t = this._directory.getPreloadBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getGambleBackground",
                    value: function() {
                        var t = this._directory.getGambleBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSettingsBackground",
                    value: function() {
                        var t = this._directory.getSettingsBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getGlobalBackground",
                    value: function() {
                        var t = this._directory.getGlobalBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getScatterGlobalBackground",
                    value: function() {
                        var t = this._directory.getScatterGlobalBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getSlotControls",
                    value: function() {
                        var t = this._directory.getSlotControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getControlsSeparator",
                    value: function() {
                        var t = this._directory.getControlsSeparator();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getControlsBackground",
                    value: function() {
                        var t = this._directory.getControlsBackground();
                        return this._getOptionalTexture(t)
                    }
                }, {
                    key: "getGambleControls",
                    value: function() {
                        var t = this._directory.getGambleControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotGambleControls",
                    value: function() {
                        var t = this._directory.getSlotGambleControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getSlotStopControls",
                    value: function() {
                        var t = this._directory.getSlotStopControls();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getAlertBox",
                    value: function() {
                        var t = this._directory.getAlertBox();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getFormButton",
                    value: function() {
                        var t = this._directory.getFormButton();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getGambleSelected",
                    value: function() {
                        var t = this._directory.getGambleSelected();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getCardSuit",
                    value: function(t) {
                        var e = "cardSuit:".concat(t);
                        return this._resources[e] || (this._resources[e] = this._createCard(t, this._directory.getCardSuits())), this._resources[e]
                    }
                }, {
                    key: "_createCard",
                    value: function(t, e) {
                        var n = this.getTexture(e),
                            o = n.width / 4,
                            r = n.clone();
                        return r.frame = new i.Rectangle([2, 0, 3, 1][t] * o, 0, o, n.height), r
                    }
                }, {
                    key: "getWinlineNumber",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                emphasized: !1,
                                background: !1
                            },
                            n = e.emphasized,
                            i = e.background,
                            o = t % this._config.winline.count,
                            r = this._directory.getWinlineNumbers();
                        return this._getWinlineNumber({
                            path: r,
                            id: o,
                            config: this._config.winline,
                            emphasized: n,
                            background: i
                        })
                    }
                }, {
                    key: "_getWinlineNumber",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                                path: "",
                                id: 0,
                                config: {},
                                emphasized: !1,
                                background: !1,
                                isScatter: !1
                            },
                            e = t.path,
                            n = t.id,
                            i = t.config,
                            o = t.emphasized,
                            r = t.background,
                            a = t.isScatter,
                            s = "winlineNumber:".concat(n, ":").concat(Number(o), ":").concat(Number(r), ":").concat(Number(a));
                        return this._resources[s] || (this._resources[s] = this._createWinlineNumber({
                            id: n,
                            path: e,
                            config: i,
                            emphasized: o,
                            background: r
                        })), this._resources[s]
                    }
                }, {
                    key: "getScatterWinlineNumber",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                emphasized: !1,
                                background: !1
                            },
                            n = e.emphasized,
                            i = e.background,
                            o = this._config.scatter.winline || this._config.winline,
                            r = t % o.count,
                            a = this._directory.getScatterWinlineNumbers();
                        return this._getWinlineNumber({
                            path: a,
                            id: r,
                            config: o,
                            emphasized: n,
                            background: i,
                            isScatter: !0
                        })
                    }
                }, {
                    key: "getEffectsWinText",
                    value: function() {
                        var t = this._directory.getEffectsWinText();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getEffectsBackground",
                    value: function() {
                        var t = this._directory.getEffectsBackground();
                        return this.getTexture(t)
                    }
                }, {
                    key: "getEffectsMultiplier",
                    value: function(t) {
                        var e = this._directory.getEffectsMultiplier(t);
                        return this.getTexture(e)
                    }
                }, {
                    key: "_createWinlineNumber",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                                id: 0,
                                path: "",
                                config: {},
                                emphasized: !1,
                                background: !1
                            },
                            e = t.id,
                            n = t.path,
                            o = t.config,
                            r = t.emphasized,
                            a = t.background,
                            s = this.getTexture(n),
                            u = s.width / o.count,
                            l = o.useBackground ? .333 : .5,
                            c = s.height * l,
                            h = s.clone(),
                            f = e * u,
                            _ = 2 * c,
                            y = Number(!r) * c,
                            d = a ? _ : y;
                        return h.frame = new i.Rectangle(f, d, u, c), h
                    }
                }, {
                    key: "getCardFull",
                    value: function(t) {
                        var e = "cardFull:".concat(t);
                        return this._resources[e] || (this._resources[e] = this._createCard(t, this._directory.getCardFull())), this._resources[e]
                    }
                }, {
                    key: "getAnimatedCardBack",
                    value: function() {
                        var t = "animatedCardBack";
                        return this._resources[t] || (this._resources[t] = this._createAnimatedCardBack()), this._resources[t]
                    }
                }, {
                    key: "_createAnimatedCardBack",
                    value: function() {
                        return [this.getTexture(this._directory.getCardBlackBack()), this.getTexture(this._directory.getCardRedBack())]
                    }
                }, {
                    key: "preload",
                    value: function() {
                        return this._loadFails = [], this._itemPaths = [], this._loadRemainingAssets(), this
                    }
                }, {
                    key: "_loadRemainingAssets",
                    value: function() {
                        var t = this,
                            e = this._directory.getImageManifest(),
                            n = this._directory.getFontManifest(),
                            i = e.concat(n);
                        return this._preloadGraphics(i, function() {
                            if (t._loadFails.length) t.emit(u.a.ERROR);
                            else {
                                var e = t._directory.getSoundManifest();
                                t._preloadSounds(e)
                            }
                        }), this
                    }
                }, {
                    key: "_preloadGraphics",
                    value: function(t, e) {
                        var n = this;
                        this._loader = new i.loaders.Loader, t.forEach(function(t) {
                            n._itemPaths.indexOf(t.path) < 0 && (n._loader.add(t.name, t.path), n._itemPaths.push(t.path))
                        });
                        var o = this._createLoadedAssetsHandler(e).bind(this);
                        return this._loader.once("complete", o), this._loader.on("progress", this._handleProgress, this), this._loader.on("error", this._handleError, this), this._loader.load(), this
                    }
                }, {
                    key: "_createLoadedAssetsHandler",
                    value: function(t) {
                        return function(e, n) {
                            for (var i in n) n.hasOwnProperty(i) && (this._resources[i] = n[i].texture);
                            t()
                        }
                    }
                }, {
                    key: "_handleProgress",
                    value: function(t, e) {
                        e.name !== this._config.preloadBackground && this.emit(u.a.PROGRESS, .5 * t.progress)
                    }
                }, {
                    key: "_handleError",
                    value: function(t, e, n) {
                        this._loadFails.push(n)
                    }
                }, {
                    key: "_preloadSounds",
                    value: function(t) {
                        var e = this,
                            n = {
                                total: t.length,
                                count: 0
                            };
                        t.forEach(function(t) {
                            var i = e._getSoundByFullPaths(t);
                            ("loaded" === i.state() ? e._registerSound : e._loadSound).call(e, n, i)
                        })
                    }
                }, {
                    key: "_loadSound",
                    value: function(t, e) {
                        var n = this;
                        "loading" !== e.state() && e.load(), e.off("load"), e.on("load", function() {
                            n._registerSound(t)
                        }), e.off("loaderror"), e.on("loaderror", function() {
                            t.count += 1, n._loadFails.push(e), n._checkCompletion(t), e.unload(), n._howlerWrapper.setNoAudio(!1), e.resetToWebAudio()
                        })
                    }
                }, {
                    key: "_checkCompletion",
                    value: function(t) {
                        if (t.count >= t.total) {
                            var e = this._loadFails.length ? u.a.ERROR : u.a.COMPLETE;
                            this.emit(e)
                        }
                    }
                }, {
                    key: "_registerSound",
                    value: function(t) {
                        t.count += 1;
                        var e = t.count / t.total;
                        return this.emit(u.a.PROGRESS, 50 + 50 * e), this._checkCompletion(t), this
                    }
                }, {
                    key: "getSound",
                    value: function(t) {
                        var e = this._directory.getSoundPaths(t);
                        return this._getSoundByFullPaths(e)
                    }
                }, {
                    key: "_getSoundByFullPaths",
                    value: function(t) {
                        var e = t.join();
                        return this._resources[e] || (this._resources[e] = this._howlerWrapper.createHowl(t)), this._resources[e]
                    }
                }, {
                    key: "getDeny",
                    value: function() {
                        return this.getSound(this._directory.getDeny())
                    }
                }, {
                    key: "getStartup",
                    value: function() {
                        return this.getSound(this._directory.getStartup())
                    }
                }, {
                    key: "getCongratulations",
                    value: function() {
                        return this.getSound(this._directory.getCongratulations())
                    }
                }, {
                    key: "getCsengo",
                    value: function() {
                        return this.getSound(this._directory.getCsengo())
                    }
                }, {
                    key: "getCsengoLong",
                    value: function() {
                        return this.getSound(this._directory.getCsengoLong())
                    }
                }, {
                    key: "getCsengoShort",
                    value: function() {
                        return this.getSound(this._directory.getCsengoShort())
                    }
                }, {
                    key: "getMelody",
                    value: function(t) {
                        var e = t % this._directory.getMelodyCount(),
                            n = this.getSound(this._directory.getMelody(e)),
                            i = this._config.volume;
                        return i && i.melody && n.volume(i.melody), n
                    }
                }, {
                    key: "getRandomMelody",
                    value: function() {
                        var t = 0,
                            e = this._directory.getMelodyCount(),
                            n = Math.floor(Math.random() * e);
                        if (e > 1)
                            for (; this._previousMelodyId === n && t < 100;) n = Math.floor(Math.random() * e), t += 1;
                        return this._previousMelodyId = n, this.getMelody(n)
                    }
                }, {
                    key: "getScatterMelody",
                    value: function(t) {
                        var e = this._config.sound.scatter;
                        if (e && e.melodies) {
                            var n = t % this._directory.getScatterMelodyCount();
                            return this.getSound(this._directory.getScatterMelody(n))
                        }
                        return null
                    }
                }, {
                    key: "getRandomScatterMelody",
                    value: function() {
                        var t = 0,
                            e = this._directory.getScatterMelodyCount(),
                            n = Math.floor(Math.random() * e);
                        if (e > 1)
                            for (; this._previousScatterMelodyId === n && t < 100;) n = Math.floor(Math.random() * e), t += 1;
                        return this._previousScatterMelodyId = n, this.getScatterMelody(n)
                    }
                }, {
                    key: "getReelStop",
                    value: function() {
                        var t = this.getSound(this._directory.getReelStop()),
                            e = this._config.volume;
                        return e && e.reelStop && t.volume(e.reelStop), t
                    }
                }, {
                    key: "getSlowDown",
                    value: function() {
                        return this._config.sound.slowDown ? this.getSound(this._directory.getSlowDown()) : null
                    }
                }, {
                    key: "getSlowDownLoop",
                    value: function() {
                        return this._config.sound.slowDownLoop ? this.getSound(this._directory.getSlowDownLoop()) : null
                    }
                }, {
                    key: "getScatter",
                    value: function(t) {
                        var e = this._directory.getScatterCount();
                        if (e > 0) {
                            var n = t % e;
                            return this.getSound(this._directory.getScatter(n))
                        }
                        return null
                    }
                }, {
                    key: "getRandomScatter",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getScatterCount());
                        return this.getScatter(t)
                    }
                }, {
                    key: "getBigWin",
                    value: function(t) {
                        var e = t % this._directory.getBigWinCount();
                        return this.getSound(this._directory.getBigWin(e))
                    }
                }, {
                    key: "getRandomBigWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getBigWinCount());
                        return this.getBigWin(t)
                    }
                }, {
                    key: "getSmallWin",
                    value: function(t) {
                        var e = t % this._directory.getSmallWinCount();
                        return this.getSound(this._directory.getSmallWin(e))
                    }
                }, {
                    key: "getRandomSmallWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getSmallWinCount());
                        return this.getSmallWin(t)
                    }
                }, {
                    key: "getScatterWin",
                    value: function(t) {
                        var e = t % this._directory.getScatterWinCount();
                        return this.getSound(this._directory.getScatterWin(e))
                    }
                }, {
                    key: "getRandomScatterWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getScatterWinCount());
                        return this.getScatterWin(t)
                    }
                }, {
                    key: "getScatterSpecialWin",
                    value: function(t) {
                        var e = t % this._directory.getScatterSpecialWinCount();
                        return this.getSound(this._directory.getScatterSpecialWin(e))
                    }
                }, {
                    key: "getPayRun",
                    value: function() {
                        return this._config.sound.payRun ? this.getSound(this._directory.getPayRun()) : null
                    }
                }, {
                    key: "getTake",
                    value: function() {
                        return this.getSound(this._directory.getTake())
                    }
                }, {
                    key: "getSlideIn",
                    value: function() {
                        return this.getSound(this._directory.getSlideIn())
                    }
                }, {
                    key: "getRisk",
                    value: function() {
                        return this.getSound(this._directory.getRisk())
                    }
                }, {
                    key: "getWaiting",
                    value: function() {
                        return this._config.sound.waiting ? this.getSound(this._directory.getWaiting()) : null
                    }
                }, {
                    key: "getSpecialPreWin",
                    value: function() {
                        return this._config.sound.specialPreWin ? this.getSound(this._directory.getSpecialPreWin()) : null
                    }
                }, {
                    key: "getAfterSpin",
                    value: function() {
                        return this._config.sound.afterSpin ? this.getSound(this._directory.getAfterSpin()) : null
                    }
                }, {
                    key: "getScatterGameWinBonus",
                    value: function() {
                        return this._config.sound.scatterGameWinBonus ? this.getSound(this._directory.getScatterGameWinBonus()) : null
                    }
                }, {
                    key: "getCardFlip",
                    value: function() {
                        return this.getSound(this._directory.getCardFlip())
                    }
                }, {
                    key: "getGambleLost",
                    value: function() {
                        return this.getSound(this._directory.getGambleLost())
                    }
                }, {
                    key: "getGambleWin",
                    value: function(t) {
                        var e = t % this._directory.getGambleWinCount();
                        return this.getSound(this._directory.getGambleWin(e))
                    }
                }, {
                    key: "getRandomGambleWin",
                    value: function() {
                        var t = Math.floor(Math.random() * this._directory.getGambleWinCount());
                        return this.getGambleWin(t)
                    }
                }, {
                    key: "getMessage",
                    value: function() {
                        return this.getSound(this._directory.getMessage())
                    }
                }, {
                    key: "getGambleAutoTake",
                    value: function() {
                        return this.getSound(this._directory.getGambleAutoTake())
                    }
                }, {
                    key: "getWinBackgroundMelody",
                    value: function() {
                        return this._config.sound.winBgMelody ? this.getSound(this._directory.getWinBackgroundMelody()) : null
                    }
                }, {
                    key: "getScatterBackgroundMelody",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.bgMelody ? this.getSound(this._directory.getScatterBackgroundMelody()) : null
                    }
                }, {
                    key: "getScatterHeaderIntroSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.headerIntro ? this.getSound(this._directory.getScatterHeaderIntroSound()) : null
                    }
                }, {
                    key: "getTransformSound",
                    value: function() {
                        return this._config.sound.transform ? this.getSound(this._directory.getTransformSound()) : null
                    }
                }, {
                    key: "getScatterTransformSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.transform ? this.getSound(this._directory.getScatterTransformSound()) : null
                    }
                }, {
                    key: "getScatterSelectIntroSound",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.selectIntro ? this.getSound(this._directory.getScatterSelectIntroSound()) : null
                    }
                }, {
                    key: "getScatterOutro",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.outro ? this.getSound(this._directory.getScatterOutro()) : null
                    }
                }, {
                    key: "getScatterAnnounce",
                    value: function() {
                        var t = this._config.sound.scatter;
                        return t && t.announce ? this.getSound(this._directory.getScatterAnnounce()) : null
                    }
                }, {
                    key: "getPotWin",
                    value: function(t) {
                        var e = t % this._directory.getPotWinCount();
                        return this.getSound(this._directory.getPotWin(e))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            shouldKeepAudioContext: !1
                        }).shouldKeepAudioContext;
                        for (var e in this._itemPaths = null, this._loadFails = null, this._directory.destroy(), this._directory = null, this._resources) this._resources.hasOwnProperty(e) && (console.log("destroying ".concat(e, "...")), this._checkIsTexture(this._resources[e]) && (this._resources[e].destroy(!0), console.log("destroyed Texture ".concat(e))), this._howlerWrapper.isHowl(this._resources[e]) && (this._resources[e].off(), this._resources[e].unload(), console.log("destroyed Howl ".concat(e))));
                        this._resources = null, this._loader = null, this._config = null, t || this._howlerWrapper.destroy(), this._howlerWrapper = null
                    }
                }, {
                    key: "_checkIsTexture",
                    value: function(t) {
                        return t instanceof i.Texture
                    }
                }, {
                    key: "getUsesFullwidthBackground",
                    value: function() {
                        return !Boolean(this._directory.getSlotBackground())
                    }
                }]), e
        }(),
        d = n(90),
        p = n(4);

    function m(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var v = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._view = e, this._config = n, this._init()
            }
            return function(t, e, n) {
                e && m(t.prototype, e), n && m(t, n)
            }(t, [{
                key: "_init",
                value: function() {
                    i.utils.skipHello();
                    var t = document.getElementById("game-canvas"),
                        e = document.getElementById("game-container"),
                        n = p.a.getRatioAdjustment({
                            width: this._config.width,
                            height: this._config.height
                        }),
                        o = n / p.a.getCappedRatioAdjustment({
                            width: this._config.width,
                            height: this._config.height
                        }),
                        r = Math.round(this._config.width * n),
                        a = Math.floor(this._config.height * o);
                    this._renderer = Object(i.autoDetectRenderer)(r, a, {
                        transparent: !0,
                        view: t
                    }), e.appendChild(this._renderer.view), t.oncontextmenu = function(t) {
                        t.preventDefault()
                    }, this._view.setInteractionManager(this._renderer.plugins.interaction), this._enterFrame()
                }
            }, {
                key: "_enterFrame",
                value: function() {
                    this._renderer && (requestAnimationFrame(this._enterFrame.bind(this)), this._renderer.render(this._view), this._view.enterFrame())
                }
            }, {
                key: "destroy",
                value: function() {
                    this._view = null, this._config = null, document.getElementById("game-container").removeChild(this._renderer.view), this._renderer.plugins.interaction.destroy(), this._renderer.destroy(!0), this._renderer = null
                }
            }]), t
        }(),
        g = n(86),
        b = n(21),
        S = n.n(b);

    function w(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var k = function() {
            function t(e) {
                var n = e.availableWinlines,
                    i = e.betSteps,
                    o = e.mayTurbo,
                    r = e.mayGamble;
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this.availableWinlines = n, this.betSteps = i, this.mayTurbo = o, this.mayGamble = r
            }
            return function(t, e, n) {
                e && w(t.prototype, e), n && w(t, n)
            }(t, [{
                key: "equals",
                value: function(t) {
                    return t && this.availableWinlines === t.availableWinlines && this.betSteps === t.betSteps && this.mayTurbo === t.mayTurbo && this.mayGamble === t.mayGamble
                }
            }]), t
        }(),
        E = n(0),
        T = n(5),
        C = n(23);

    function O(t) {
        return (O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var A = S.a.extend({
        dataTypes: {
            setup: {
                set: function(t) {
                    if (t instanceof k) return {
                        val: t,
                        type: "setup"
                    };
                    var e = "Expected value of type mode, received ".concat(O(t));
                    throw new TypeError(e)
                },
                compare: function(t, e, n) {
                    return !!t && t.equals(e)
                }
            }
        },
        props: {
            credits: "number",
            bet: "number",
            win: "number",
            selectedWinlinesCount: "number",
            setup: "setup",
            mode: "state",
            previousMode: "state",
            error: "object",
            scatterGames: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potServerConfigs: {
                type: "array",
                default: function() {
                    return []
                }
            },
            potConfigs: {
                type: "array",
                default: function() {
                    return []
                }
            },
            pots: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potHits: {
                type: "object",
                default: function() {
                    return {}
                }
            },
            potWin: "number",
            isDemo: "boolean",
            serverStatus: {
                type: "string",
                required: !0,
                default: C.a.CONNECTING,
                values: [C.a.CONNECTING, C.a.DISCONNECTED, C.a.WAITING, C.a.CONNECTED]
            },
            settings: "state",
            slot: "state",
            gamble: "state",
            preload: "state",
            status: "string"
        },
        derived: {
            modeType: {
                deps: ["mode"],
                fn: function() {
                    return this.mode ? this.mode.type : ""
                },
                cache: !1
            },
            shouldShowWinnings: {
                deps: ["status"],
                fn: function() {
                    return [E.a.WAITING, E.a.TAKING, E.a.FIRST_WINLINE_WALK, E.a.NTH_WINLINE_WALK, E.a.FAST_WINLINE_WALK, E.a.BEFORE_SPECIAL_WALK, E.a.BEFORE_FAST_SPECIAL_WALK, E.a.SPECIAL_WALK, E.a.FAST_SPECIAL_WALK].indexOf(this.status) > -1
                },
                cache: !1
            },
            hasSufficientFunds: {
                deps: ["credits", "bet", "slot"],
                fn: function() {
                    var t = this.credits >= this.bet || void 0 === this.bet,
                        e = this.slot.model.nextGameType === T.a.SCATTER;
                    return t || e
                }
            }
        }
    });

    function P(t) {
        return (P = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function I(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function x(t, e) {
        return !e || "object" !== P(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function R(t) {
        return (R = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function W(t, e) {
        return (W = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var N = function(t) {
            function e() {
                var t;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (t = x(this, R(e).call(this)))._init(), t
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && W(t, e)
                }(e, i["Container"]),
                function(t, e, n) {
                    e && I(t.prototype, e), n && I(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        this._fpsMeter = new i.Text("fps", {
                            fontSize: 24,
                            fontFamily: "Arial",
                            fill: 16777215
                        }), this._previousTimestamp = new Date, this._fpsHistory = [], this._maxFpsHistoryLength = 120, this.addChild(this._fpsMeter)
                    }
                }, {
                    key: "enterFrame",
                    value: function() {
                        var t = new Date,
                            e = 1e3 / (t - this._previousTimestamp);
                        this._fpsHistory.push(e);
                        var n = this._fpsHistory.length - this._maxFpsHistoryLength;
                        n > 0 && this._fpsHistory.splice(0, n);
                        var i = this._fpsHistory.reduce(function(t, e) {
                            return t + e
                        }) / this._fpsHistory.length;
                        this._fpsMeter.text = "".concat(i.toFixed(2), " fps"), this._previousTimestamp = t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._fpsMeter.destroy(!0), this._fpsMeter = null, this._previousTimestamp = null, this._fpsHistory = null, this.removeChildren(), i.Container.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        j = n(18),
        L = n(10),
        G = n(6),
        M = n(8);

    function B(t) {
        return (B = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function F(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function H(t, e) {
        return !e || "object" !== B(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function D(t) {
        return (D = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function K(t, e) {
        return (K = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var U = function(t) {
            function e(t, n, i) {
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), H(this, D(e).call(this, {
                    model: t,
                    config: n,
                    assets: i
                }))
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && K(t, e)
                }(e, M["a"]),
                function(t, e, n) {
                    e && F(t.prototype, e), n && F(t, n)
                }(e, [{
                    key: "_addComponent",
                    value: function(t) {
                        var e = this,
                            n = t.call(null, this._model);
                        return n.length ? n.forEach(function(t) {
                            e.addChild(t)
                        }) : this.addChild(n), n
                    }
                }]), e
        }(),
        Y = n(16),
        q = n(20),
        V = n(3);

    function X(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var z = function() {
            function t(e) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._cache = {}
            }
            return function(t, e, n) {
                e && X(t.prototype, e), n && X(t, n)
            }(t, [{
                key: "pulse",
                value: function(t) {
                    return this._cache.scale ? this._applyCache(t) : this._cacheScale(t), V.TweenLite.killTweensOf(t.scale), this._animateAttack(t), t
                }
            }, {
                key: "_animateAttack",
                value: function(t) {
                    var e = this;
                    V.TweenLite.to(t.scale, this._config.attackDuration, {
                        x: this._config.scale,
                        y: this._config.scale,
                        ease: V.Sine.easeOut,
                        onComplete: function() {
                            e._animateDecay(t)
                        }
                    })
                }
            }, {
                key: "_animateDecay",
                value: function(t) {
                    var e = this;
                    V.TweenLite.to(t.scale, this._config.decayDuration, {
                        x: this._getCachedScaleX(),
                        y: this._getCachedScaleY(),
                        ease: V.Sine.easeIn,
                        onComplete: function() {
                            e._clearCache()
                        }
                    })
                }
            }, {
                key: "_cacheScale",
                value: function(t) {
                    return this._cache.scale = {
                        x: t.scale.x,
                        y: t.scale.y
                    }, this._cache
                }
            }, {
                key: "_getCachedScaleX",
                value: function() {
                    return this._cache.scale && this._cache.scale.x || 1
                }
            }, {
                key: "_getCachedScaleY",
                value: function() {
                    return this._cache.scale && this._cache.scale.y || 1
                }
            }, {
                key: "_applyCache",
                value: function(t) {
                    return t.scale.x = this._getCachedScaleX(), t.scale.y = this._getCachedScaleY(), t
                }
            }, {
                key: "_clearCache",
                value: function() {
                    return this._cache.scale = null, this._cache
                }
            }, {
                key: "clear",
                value: function(t) {
                    return V.TweenLite.killTweensOf(t.scale), this._applyCache(t), this._clearCache(), t
                }
            }]), t
        }(),
        Q = n(48),
        J = n(36);

    function $(t) {
        return ($ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function tt(t, e) {
        return !e || "object" !== $(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function et(t) {
        return (et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function nt(t, e) {
        return (nt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var it = function(t) {
            function e(t) {
                var n, i = t.style,
                    o = t.setup,
                    r = t.format,
                    a = t.assets;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (n = tt(this, et(e).call(this, r)))._style = i, n._setup = o, n._assets = a, n._init(), n
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && nt(t, e)
                }(e, J["a"]),
                function(t, e, n) {
                    e && Z(t.prototype, e), n && Z(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        return this._label = this._addTextField({
                            text: this._setup.label || "",
                            style: this._determineStyle(this._setup, this._style.secondary)
                        }), this._amount = this._addTextField({
                            text: "",
                            style: this._determineStyle(this._setup, this._style.primary),
                            y: this._style.secondary.lineHeight || this._label.height
                        }), this._setAlign(), this.setContent(0), this
                    }
                }, {
                    key: "_setAlign",
                    value: function() {
                        var t = this._setup.symbol ? this._setup.symbol.padding : 0,
                            e = this._symbol ? -1 * (t + this._symbol.width) : 0;
                        this._label.x = this._calculateTextX(this._label, e, this._style.secondary), this._amount.x = this._calculateTextX(this._amount, e, this._style.primary), this._symbol && (this._symbol.x = -1 * this._symbol.width)
                    }
                }, {
                    key: "_calculateTextX",
                    value: function(t, e, n) {
                        switch (n.align || this._style.primary.align || this._style.secondary.align || this._setup.align) {
                            case "left":
                                return e;
                            case "center":
                                return -.5 * t.width + e;
                            default:
                                return -1 * t.width + e
                        }
                    }
                }, {
                    key: "setContent",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._setContent(this._contentSetter, t)
                    }
                }, {
                    key: "_contentSetter",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        return this._amount.text = isNaN(t) ? t : this._formatCredit(t), this._amount.text
                    }
                }, {
                    key: "setSpecialSymbolId",
                    value: function(t) {
                        var e = this._assets.getScatterWidgetSymbol(t);
                        e && (this._clearSpecialSymbol(), this._addSpecialSymbol(e))
                    }
                }, {
                    key: "_clearSpecialSymbol",
                    value: function() {
                        this._symbol && (this.removeChild(this._symbol), this._symbol.destroy(), this._symbol = null)
                    }
                }, {
                    key: "_addSpecialSymbol",
                    value: function(t) {
                        this._symbol = this._createSprite(t);
                        var e = this._setup.symbol ? this._setup.symbol.height : 0;
                        this._symbol.height = e || this.height, this._symbol.scale.x = this._symbol.scale.y, this.addChild(this._symbol), this._setAlign()
                    }
                }, {
                    key: "_createSprite",
                    value: function(t) {
                        return new i.Sprite(t)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._style = null, this._setup = null, this._assets = null, this._clearSpecialSymbol(), J.a.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        ot = n(66),
        rt = n(26),
        at = n(15),
        st = {
            READY: "odometerEvent.ready"
        },
        ut = n(12);

    function lt(t) {
        return (lt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function ct(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function ht(t, e) {
        return !e || "object" !== lt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function ft(t) {
        return (ft = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function _t(t, e) {
        return (_t = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var yt = function(t) {
        function e(t, n) {
            var i, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = ht(this, ft(e).call(this)))._style = n, i._moveDuration = o, i._currentIndex = isNaN(t) ? 0 : Number(t), i._radix = 10, i._size = isNaN(t) ? 1 : 2 * i._radix, i._addText(t), i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && _t(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && ct(t.prototype, e), n && ct(t, n)
            }(e, [{
                key: "_addText",
                value: function(t) {
                    var e = isNaN(t) ? t : "0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9";
                    return this._text = this._createText(e), this.addChild(this._text)
                }
            }, {
                key: "_createText",
                value: function(t) {
                    var e = rt.a.convertStyle(this._style);
                    return p.a.isIE11() || (e.lineHeight = .5 * this._style.fontSize), e.wordWrap = !0, e.wordWrapWidth = 10, new i.Text(t, e)
                }
            }, {
                key: "moveTo",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    return this._tween && this._tween.seek(this._tween.duration(), !1), this._tween = this._createTween(t, e), this._tween
                }
            }, {
                key: "_createTween",
                value: function(t, e) {
                    var n = this._createTweenSettings(t, e);
                    return V.TweenLite.to(this, n.duration, {
                        y: n.targetY,
                        ease: V.Linear.easeNone,
                        onComplete: this._createTweenCompleteHandler(n.wrappedIndex).bind(this)
                    })
                }
            }, {
                key: "_createTweenSettings",
                value: function(t, e) {
                    var n = t + (t < this._currentIndex ? this._radix : 0);
                    return {
                        wrappedIndex: n,
                        targetY: this._calcTargetY(n),
                        duration: e > 0 ? this._moveDuration / e : this._moveDuration
                    }
                }
            }, {
                key: "_createTweenCompleteHandler",
                value: function(t) {
                    return function() {
                        this._currentIndex = t % this._radix, this.y = this._calcTargetY(this._currentIndex), this._tween = null, this.emit(st.READY)
                    }
                }
            }, {
                key: "_calcTargetY",
                value: function(t) {
                    var e = this.height / this._size;
                    return this._size <= 1 ? this.y : e * t * -1
                }
            }, {
                key: "jumpTo",
                value: function(t) {
                    return this._tween && (this._tween.seek(this._tween.duration()), this._tween = null), t < this._size && (this._currentIndex = t % this._radix), this.y = this._calcTargetY(this._currentIndex), this._currentIndex
                }
            }, {
                key: "setColor",
                value: function(t) {
                    var e = this._text.style;
                    e.fill = t || this._style.color;
                    var n = new i.Text(this._text.text, e);
                    this.addChild(n), this.removeChild(this._text), this._text.destroy(!0), this._text = n
                }
            }, {
                key: "destroy",
                value: function() {
                    this._tween && this._tween.kill(), this._tween = null, this._text = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function dt(t) {
        return (dt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function pt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function mt(t, e) {
        return !e || "object" !== dt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function vt(t) {
        return (vt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function gt(t, e) {
        return (gt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var bt = function(t) {
        function e(t, n, i) {
            var o;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (o = mt(this, vt(e).call(this)))._style = t, o._setup = n, o._format = i, o._init(), o
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && gt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && pt(t.prototype, e), n && pt(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    this._movingReelsCount = 0, this._maxValue = at.a.formatCredit(this._setup.maxValue, this._format), this._container = new i.Container, this.addChild(this._container);
                    var t = this._createMask(this._style);
                    return this.mask = t, this.addChild(t), this._initializeReels(), this
                }
            }, {
                key: "_createMask",
                value: function(t) {
                    var e = rt.a.extractFontSize(this._style),
                        n = new i.Graphics;
                    n.beginFill(10066329, 1);
                    var o = e + 4;
                    return n.drawRect(0, -2, 200, o), n.endFill(), n
                }
            }, {
                key: "_initializeReels",
                value: function() {
                    for (; this._container.children.length < this._maxValue.length;) {
                        var t = this._maxValue[this._container.children.length],
                            e = this._createOdometerReel(t);
                        e.x = this._container.width, this._container.addChild(e)
                    }
                    return this._container.x = -1 * this._container.width, this.mask && (this.mask.x = this._container.x), this._container.children.forEach(function(t) {
                        t.visible = !1
                    }), this._container
                }
            }, {
                key: "_createOdometerReel",
                value: function(t) {
                    return new yt(t, this._style, this._setup.moveDuration)
                }
            }, {
                key: "setContent",
                value: function(t) {
                    if (isNaN(Number(t))) return "";
                    if (t !== this._targetAmount) {
                        var e = t < this._amount || t < this._targetAmount,
                            n = void 0 === this._amount || e;
                        this._targetAmount = t, (n ? this._jumpTo : this._moveTo).call(this)
                    }
                    return at.a.formatCredit(this._amount, this._format)
                }
            }, {
                key: "_jumpTo",
                value: function() {
                    this._amount = this._targetAmount, this._clearReelListeners(), this._setContent(function(t, e) {
                        t.jumpTo(e)
                    })
                }
            }, {
                key: "_clearReelListeners",
                value: function() {
                    for (var t = 0; t < this._maxValue.length; t += 1) {
                        this._container.children[t].off(st.READY)
                    }
                    this._movingReelsCount = 0
                }
            }, {
                key: "_setContent",
                value: function(t) {
                    for (var e = at.a.formatCredit(this._amount, this._format), n = this._maxValue.length - e.length, i = 0; i < this._maxValue.length; i += 1) {
                        var o = i - n,
                            r = o >= 0,
                            a = r ? Number(e[o]) : 0,
                            s = isNaN(a) ? 0 : a,
                            u = this._container.children[i];
                        t.call(this, u, s), u.visible = r
                    }
                }
            }, {
                key: "_moveTo",
                value: function() {
                    var t = this;
                    this._amount < this._targetAmount && !this._movingReelsCount && (this._movingReelsCount = this._maxValue.length, this._amount += 1, this._setContent(function(e, n) {
                        e.once(st.READY, function() {
                            t._movingReelsCount -= 1, t._movingReelsCount <= 0 && t._moveTo()
                        });
                        var i = t._targetAmount - t._amount + 4;
                        e.moveTo(n, i)
                    }))
                }
            }, {
                key: "blink",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 65280,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4,
                        i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 500;
                    return this._blinkInterval && clearInterval(this._blinkInterval), this._steps && this._steps.length && this._steps.splice(0, this._steps.length - 1), this._remainingBlinkCount = 2 * n, this._setColor(e), this._blinkInterval = setInterval(function() {
                        t._remainingBlinkCount -= 1;
                        var n = t._remainingBlinkCount % 2 ? e : null;
                        t._setColor(n), t._remainingBlinkCount <= 0 && (clearInterval(t._blinkInterval), t._blinkInterval = null)
                    }, i), this._blinkInterval
                }
            }, {
                key: "_setColor",
                value: function(t) {
                    return this._container.children.forEach(function(e) {
                        e.setColor(t)
                    }), this._container
                }
            }, {
                key: "getId",
                value: function() {
                    return this._setup.id
                }
            }, {
                key: "getIsReady",
                value: function() {
                    return !this._movingReelsCount
                }
            }, {
                key: "destroy",
                value: function() {
                    this._style = null, this._setup = null, this._format = null, this._container = null, this._blinkInterval && (clearInterval(this._blinkInterval), this._blinkInterval = null), ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function St(t) {
        return (St = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function wt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function kt(t, e) {
        return !e || "object" !== St(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Et(t) {
        return (Et = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Tt(t, e) {
        return (Tt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Ct = function(t) {
        function e(t, n, o) {
            var r;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (r = kt(this, Et(e).call(this)))._style = t, r._setup = n.win, r._format = o, r._odometer = r._createOdometer(t, n, o), r.addChild(r._odometer), r._winInfo = new i.Container, r.addChild(r._winInfo), r
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Tt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && wt(t.prototype, e), n && wt(t, n)
            }(e, [{
                key: "_createOdometer",
                value: function(t, e, n) {
                    return new bt(t, e, n)
                }
            }, {
                key: "updatePot",
                value: function(t) {
                    this._odometer.setContent(t)
                }
            }, {
                key: "displayLobbyWin",
                value: function(t, e) {
                    var n = this._createComplexSequence(t, e);
                    this._displaySequence(n, this._setup.interval, this._setup.lobbyColor)
                }
            }, {
                key: "_createComplexSequence",
                value: function(t, e) {
                    var n = this._setup.blinkIntervals,
                        i = this._setup.iterations,
                        o = this._createSequence(t, e, n[0], i[0]);
                    return o = o.concat(this._createSequence(t, e, n[1], i[1]))
                }
            }, {
                key: "_createSequence",
                value: function(t, e) {
                    for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, o = [], r = 0; r < i; r += 1) o.push({
                        content: e,
                        blinkInterval: n
                    }), o.push({
                        content: Number(t),
                        blinkInterval: n
                    }), o.push(!1);
                    return o
                }
            }, {
                key: "_displaySequence",
                value: function(t, e, n) {
                    var i = this;
                    this._clearSequenceTimeout(), this._winInfo.removeChildren();
                    var o = t.shift();
                    this._winInfo.visible = Boolean(o), this._odometer.visible = !Boolean(o), o && this._displaySequencePart(o, n), t.length && (this._sequenceTimeout = setTimeout(function() {
                        i._displaySequence(t, e, n)
                    }, e))
                }
            }, {
                key: "_clearSequenceTimeout",
                value: function() {
                    this._sequenceTimeout && (clearTimeout(this._sequenceTimeout), this._sequenceTimeout = null)
                }
            }, {
                key: "_displaySequencePart",
                value: function(t, e) {
                    this._clearBlinkTimeout();
                    var n = rt.a.convertStyle(this._style);
                    n.fill = e;
                    var o = "string" == typeof t.content ? t.content : at.a.formatCredit(t.content, this._format),
                        r = new i.Text(o, n);
                    return this._adjustText(r), this._winInfo.addChild(r), t.blinkInterval && this._blinkText(r, t.blinkInterval), r
                }
            }, {
                key: "_adjustText",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 130;
                    if (t.width > e) {
                        var n = t.height;
                        t.width = e, t.scale.y = t.scale.x, t.y = .5 * (n - t.height)
                    }
                    t.x = -1 * t.width
                }
            }, {
                key: "_clearBlinkTimeout",
                value: function() {
                    this._blinkTimeout && (clearTimeout(this._blinkTimeout), this._blinkTimeout = null)
                }
            }, {
                key: "_blinkText",
                value: function(t, e) {
                    var n = this;
                    this._clearBlinkTimeout(), t.visible = !t.visible, this._blinkTimeout = setTimeout(function() {
                        n._blinkText(t, e)
                    }, e)
                }
            }, {
                key: "displaySelfWin",
                value: function(t) {
                    var e = this._createComplexSequence(t, this._setup.selfText);
                    this._displaySequence(e, this._setup.interval, this._setup.selfColor)
                }
            }, {
                key: "getId",
                value: function() {
                    return this._odometer.getId()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._clearSequenceTimeout(), this._clearBlinkTimeout(), this._style = null, this._format = null, this._winInfo.destroy(), this._winInfo = null, this._odometer.destroy(), this._odometer = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Ot(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var At = function() {
            function t(e, n) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n
            }
            return function(t, e, n) {
                e && Ot(t.prototype, e), n && Ot(t, n)
            }(t, [{
                key: "createOverlay",
                value: function() {
                    return this._createSprite(this._assets.getOverlay())
                }
            }, {
                key: "_createSprite",
                value: function(t) {
                    return new i.Sprite(t)
                }
            }, {
                key: "createNonJackpotOverlay",
                value: function() {
                    var t = this._assets.getOverlay(),
                        e = .5 * t.height;
                    t.frame = new i.Rectangle(0, e, t.width, e);
                    var n = this._createSprite(t);
                    return n.y = e, n
                }
            }, {
                key: "createCreditsInfo",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.credits,
                        format: t.format
                    })
                }
            }, {
                key: "_createCreditInfo",
                value: function(t) {
                    var e = t.style,
                        n = t.setup,
                        i = t.format,
                        o = t.animator,
                        r = new Q.a({
                            style: e,
                            setup: n,
                            format: i,
                            animator: o
                        });
                    return r.x = n.x, r.y = n.y, r.setBaseY(r.y), r
                }
            }, {
                key: "createBetInfo",
                value: function() {
                    var t = this._config.text;
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.bet,
                        format: t.format
                    })
                }
            }, {
                key: "createWinInfo",
                value: function() {
                    var t = this._config.text,
                        e = this._createCreditWidgetAnimator(t.win);
                    return this._createCreditInfo({
                        style: t.style,
                        setup: t.win,
                        format: t.format,
                        animator: e
                    })
                }
            }, {
                key: "_createCreditWidgetAnimator",
                value: function(t) {
                    return new z(t.pulse)
                }
            }, {
                key: "createStatusInfo",
                value: function() {
                    var t = this._config.text,
                        e = new ot.a(t.style.secondary, t.status);
                    return e.x = t.status.x, e.y = t.status.y, e
                }
            }, {
                key: "createPotWidgets",
                value: function(t) {
                    var e = this,
                        n = [],
                        i = this._config.text;
                    return t.potConfigs.forEach(function(t) {
                        n.push(e._createPotWidget(i.style.secondary, t, i.format))
                    }), n
                }
            }, {
                key: "_createPotWidget",
                value: function(t, e, n) {
                    var i = new Ct(t, e, n);
                    return i.x = e.x, i.y = e.y, i
                }
            }, {
                key: "createScatterGamesWidget",
                value: function() {
                    var t = this._config.scatter ? this._config.scatter.text : this._config.text,
                        e = new it({
                            style: t.style,
                            setup: t.win,
                            format: t.format,
                            assets: this._assets
                        });
                    return e.x = t.win.x, e.y = t.win.y, e
                }
            }, {
                key: "createDemoFlag",
                value: function() {
                    return this._createSprite(this._assets.getDemoFlag())
                }
            }]), t
        }(),
        Pt = n(7),
        It = n(19);

    function xt(t) {
        return (xt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Rt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Wt(t, e) {
        return !e || "object" !== xt(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Nt(t) {
        return (Nt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function jt(t, e) {
        return (jt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var Lt = function(t) {
            function e(t, n, i, o) {
                var r;
                return function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, e), (r = Wt(this, Nt(e).call(this, t, n, i)))._layoutAdjuster = o, r._init(), r
            }
            return function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && jt(t, e)
                }(e, U),
                function(t, e, n) {
                    e && Rt(t.prototype, e), n && Rt(t, n)
                }(e, [{
                    key: "_init",
                    value: function() {
                        var t = this,
                            e = this._createWorkshop(),
                            n = this._config.server.usePots ? e.createOverlay : e.createNonJackpotOverlay;
                        this._addComponent(n.bind(e));
                        var i = this._createInfo(e);
                        if (this._initInfo(i.winInfo, i.statusInfo), this._addModelListeners(i), this._addBetInfoMouseListener(i.betInfo), this._scatterGamesWidget = i.scatterGamesWidget || this._createContainer(), this._layoutAdjuster.adjustBackgroundToMain(this._scatterGamesWidget), i.scatterGamesWidget && this._addScatterGamesListeners(i), this._config.server.usePots && this._model.once(L.a.POT_CONFIGS_CHANGE, function() {
                                t._addPotListeners(e, i.statusInfo)
                            }), this._model.isDemo) {
                            var o = this._addComponent(e.createDemoFlag.bind(e));
                            this._layoutAdjuster.invertAdjustBackgroundToMain(o)
                        }
                        return this
                    }
                }, {
                    key: "_createInfo",
                    value: function(t) {
                        var e = {
                            creditsInfo: this._addComponent(t.createCreditsInfo.bind(t)),
                            betInfo: this._addComponent(t.createBetInfo.bind(t)),
                            winInfo: this._addComponent(t.createWinInfo.bind(t)),
                            statusInfo: this._addComponent(t.createStatusInfo.bind(t))
                        };
                        return this._config.scatter && (e.scatterGamesWidget = this._addComponent(t.createScatterGamesWidget.bind(t))), e
                    }
                }, {
                    key: "_initInfo",
                    value: function(t, e) {
                        t.visible = !1, this._updateStatusInfo(e)
                    }
                }, {
                    key: "_addModelListeners",
                    value: function(t) {
                        var e = t.creditsInfo,
                            n = t.betInfo,
                            i = t.winInfo,
                            o = t.statusInfo,
                            r = (t.scatterGamesWidget, this._createCreditChangeHandler(e, o));
                        this._model.on(L.a.CREDITS_CHANGE, r, this);
                        var a = this._createBetChangeHandler(n, e, o);
                        this._model.on(L.a.BET_CHANGE, a, this);
                        var s = this._createWinChangeHandler(i, o);
                        this._model.on(L.a.WIN_CHANGE, s, this);
                        var u = this._createStatusChangeHandler(i, o);
                        this._model.on(L.a.STATUS_CHANGE, u, this);
                        var l = this._createModeChangeHandler([e, n, i, o]);
                        this._model.on(L.a.MODE_TYPE_CHANGE, l, this);
                        var c = this._createWalkedAmountChangeHandler(i, o);
                        this._model.slot.model.on(Pt.a.WALKED_AMOUNT_CHANGE, c, this)
                    }
                }, {
                    key: "_createWorkshop",
                    value: function() {
                        return new At(this._config, this._assets)
                    }
                }, {
                    key: "_addBetInfoMouseListener",
                    value: function(t) {
                        t.interactive = !0, this._onClick(t, this._handleBetInfoClick, this)
                    }
                }, {
                    key: "_addScatterGamesListeners",
                    value: function(t) {
                        var e = t.statusInfo,
                            n = t.betInfo,
                            i = t.scatterGamesWidget,
                            o = this._createScatterGamesChangeHandler({
                                statusInfo: e,
                                betInfo: n,
                                scatterGamesWidget: i
                            });
                        this._model.on(L.a.SCATTER_GAMES_CHANGE, o, this)
                    }
                }, {
                    key: "_addPotListeners",
                    value: function(t, e) {
                        var n = this._addComponent(t.createPotWidgets.bind(t));
                        this._initializePots(n), this._updatePots(n, this._model.pots), this._updatePotHits(n, this._model.potHits), this._model.on(L.a.POTS_CHANGE, this._createPotsChangeHandler(n), this), this._model.on(L.a.POT_HITS_CHANGE, this._createPotHitsChangeHandler(n), this), this._model.on(L.a.POT_WIN_CHANGE, this._createPotWinChangeHandler(e), this)
                    }
                }, {
                    key: "_createContainer",
                    value: function() {
                        return new i.Container
                    }
                }, {
                    key: "_createCreditChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            this._updateCreditsInfo(t, i), this._updateStatusInfo(e)
                        }
                    }
                }, {
                    key: "_updateCreditsInfo",
                    value: function(t, e) {
                        void 0 === this._model.previousAttributes().credits || this._model.potWin ? t.setContent(e) : t.setAnimatedContent(e)
                    }
                }, {
                    key: "_updateStatusInfo",
                    value: function(t) {
                        var e = this._getStatusInfoContent();
                        t.setContent(e)
                    }
                }, {
                    key: "_getStatusInfoContent",
                    value: function() {
                        var t = this._config.text.status;
                        if (this._model.potWin) return t.hitPot;
                        if (!this._model.hasSufficientFunds) return t.insufficientFunds;
                        var e = this._model.slot.model;
                        if (this._model.status === E.a.BEFORE_READY && e.scatterGameWinBonus) return t.scatterGameWinMultiplier;
                        var n = this._model.scatterGames,
                            i = this._model.status !== E.a.READY || n.current <= 1,
                            o = this._model.modeType === q.a.GAMBLE || e.hasScatterSelection;
                        if (n.total && n.current && i && !o) return this._createScatterGamesMessage(n);
                        if (e.maxSelectableScatterCount > 0 && !e.isWaitingForResult) return (this._config.text.status.findMaxSelectableScatter || "").replace("%MAX%", e.maxSelectableScatterCount);
                        var r = e.isWaitingForResult || e.isFirstWalk || e.isScatterTransition;
                        return this._model.status === Y.a.READY || r ? t.goodLuck : t.gameOver
                    }
                }, {
                    key: "_createScatterGamesMessage",
                    value: function(t) {
                        var e = t.total,
                            n = t.current,
                            i = this._config.text.status.scatterGames;
                        return (i = i.replace("%CURRENT%", n)).replace("%TOTAL%", e)
                    }
                }, {
                    key: "_createBetChangeHandler",
                    value: function(t, e, n) {
                        return function(i, o) {
                            t.setContent(o), e.setLowTreshold(o), this._updateStatusInfo(n)
                        }
                    }
                }, {
                    key: "_createStatusChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            this._updateStatusInfo(e), this._updateWinStatusVisibility(t, e, this._getAmountToDisplay()), i === E.a.TAKING && this._model.win && this._setWinInstantly(t, e)
                        }
                    }
                }, {
                    key: "_getAmountToDisplay",
                    value: function() {
                        var t = this._model.slot.model;
                        return t.isFirstWalk ? t.walkedAmount : this._model.win
                    }
                }, {
                    key: "_updateWinStatusVisibility",
                    value: function(t, e, n) {
                        return t.visible = n > 0 && this._model.shouldShowWinnings, e.visible = !t.visible, this
                    }
                }, {
                    key: "_createTextCountCompleteHandler",
                    value: function(t, e, n) {
                        return function() {
                            this.emit(G.a.TEXT_COUNT_COMPLETE), this._updateWinStatusVisibility(t, e, n)
                        }
                    }
                }, {
                    key: "_createWinChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            var o = this._model.slot.model;
                            this._model.previousAttributes().win > 0 && o.takenAmount ? this._startWinCountdown(t, e) : this._model.win > 0 && this._setWinInstantly(t, e)
                        }
                    }
                }, {
                    key: "_startWinCountdown",
                    value: function(t, e) {
                        var n = this._createTextCountCompleteHandler(t, e, this._model.win);
                        t.once(G.a.TEXT_COUNT_COMPLETE, n, this), t.setAnimatedContent(this._model.win), t.setStyle("take"), t.visible = !0, e.visible = !t.visible
                    }
                }, {
                    key: "_setWinInstantly",
                    value: function(t, e) {
                        var n = this._getAmountToDisplay();
                        t.setContent(n), this._updateWinStatusVisibility(t, e, n)
                    }
                }, {
                    key: "_createModeChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            switch (n) {
                                case q.a.AG:
                                case q.a.GAMBLE:
                                case q.a.SLOT:
                                    this._addChildren(t);
                                    break;
                                case q.a.PRELOAD:
                                case q.a.SETTINGS:
                                    this._removeChildren(t)
                            }
                        }
                    }
                }, {
                    key: "_createPotsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updatePots(t, n)
                        }
                    }
                }, {
                    key: "_initializePots",
                    value: function(t) {
                        t.forEach(function(t) {
                            var e = It.a.getPotAmount(t.getId());
                            e && t.updatePot(e)
                        })
                    }
                }, {
                    key: "_updatePots",
                    value: function(t, e) {
                        t.forEach(function(t) {
                            var n = e[t.getId()];
                            n && n.amount >= 0 && t.updatePot(n.amount)
                        })
                    }
                }, {
                    key: "_createPotHitsChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updatePotHits(t, n)
                        }
                    }
                }, {
                    key: "_updatePotHits",
                    value: function(t, e) {
                        t.forEach(function(t) {
                            var n = e[t.getId()];
                            n && n.winAmount && (n.self && n.now ? t.displaySelfWin(n.winAmount) : n.self || t.displayLobbyWin(n.winAmount, n.winner))
                        })
                    }
                }, {
                    key: "_removeChildren",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return e.forEach(function(e) {
                            t.removeChild(e)
                        }), e.length
                    }
                }, {
                    key: "_addChildren",
                    value: function() {
                        var t = this,
                            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return e.forEach(function(e) {
                            t.addChild(e)
                        }), e.length
                    }
                }, {
                    key: "_createScatterGamesChangeHandler",
                    value: function(t) {
                        var e = t.statusInfo,
                            n = t.betInfo,
                            i = t.scatterGamesWidget;
                        return function(t, o) {
                            var r = t.previousAttributes().scatterGames.current !== o.current;
                            this._model.slot.model.hasScatterSelection || !r && o.current || this._updateStatusInfo(e), this._model.slot.model.hasScatterSelection && !o.current || this._updateScatterGamesWidget(i), !r && this._model.scatterGames.total || (n.alpha = this._model.scatterGames.total ? .33 : 1)
                        }
                    }
                }, {
                    key: "_updateScatterGamesWidget",
                    value: function(t) {
                        t.visible = Boolean(this._model.scatterGames.current), this._model.status !== E.a.SPINNING && t.setContent(this._model.scatterGames.win || 0);
                        var e = this._model.slot.model.specialSymbolId;
                        return e && t.setSpecialSymbolId(e), t
                    }
                }, {
                    key: "_createWalkedAmountChangeHandler",
                    value: function(t, e) {
                        return function(n, i) {
                            i > 0 && (t.setContent(i), t.pulse(), this._updateWinStatusVisibility(t, e, i))
                        }
                    }
                }, {
                    key: "_createPotWinChangeHandler",
                    value: function(t) {
                        return function(e, n) {
                            this._updateStatusInfo(t)
                        }
                    }
                }, {
                    key: "_handleBetInfoClick",
                    value: function() {
                        this._model.scatterGames.total || this.emit(j.a.BET_SETTINGS_TAP)
                    }
                }, {
                    key: "getScatterGamesWidget",
                    value: function() {
                        return this._scatterGamesWidget
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._scatterGamesWidget = null, U.prototype.destroy.call(this)
                    }
                }]), e
        }(),
        Gt = n(68),
        Mt = n(42),
        Bt = n(27),
        Ft = {
            HIDE: "dialogDisplayEvent.hide"
        };

    function Ht(t) {
        return (Ht = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function Dt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Kt(t, e) {
        return !e || "object" !== Ht(e) && "function" != typeof e ? function(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }

    function Ut(t) {
        return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function Yt(t, e) {
        return (Yt = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }
    var qt = function(t) {
        function e(t, n) {
            var i;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (i = Kt(this, Ut(e).call(this)))._config = t, i._assets = n, i
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && Yt(t, e)
            }(e, ut["a"]),
            function(t, e, n) {
                e && Dt(t.prototype, e), n && Dt(t, n)
            }(e, [{
                key: "showAlert",
                value: function(t, e) {
                    var n = this;
                    this._message && this._hideAlert(), this._message = t;
                    var i = this._createOverlay(),
                        o = this._createAlertBox(t, e),
                        r = this._createKeyListener(e);
                    return this.once(Ft.HIDE, function() {
                        var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                            isPrivateCall: !1
                        }).isPrivateCall;
                        n._clearDialog({
                            alertBox: o,
                            overlay: i,
                            keyListener: r
                        }), n._message = "", t && e && e()
                    }), this.addChild(i), this._centerAlertBox(o), this._addAlertBoxListeners({
                        alertBox: o,
                        keyListener: r,
                        callback: e
                    }), this.addChild(o), this
                }
            }, {
                key: "_hideAlert",
                value: function() {
                    return this.emit(Ft.HIDE, {
                        isPrivateCall: !0
                    }), this
                }
            }, {
                key: "_createOverlay",
                value: function() {
                    var t = this._config.display,
                        e = new i.Graphics;
                    return e.beginFill(0), e.drawRect(0, 0, t.width, t.height), e.endFill(), e.alpha = .7, e
                }
            }, {
                key: "_createAlertBox",
                value: function(t, e) {
                    var n = this._config.text;
                    return new Gt.a({
                        message: t || "",
                        style: n.style.message,
                        setup: n.dialog,
                        type: e ? Mt.a.INTERACTIVE : Mt.a.STATUS,
                        assets: this._assets
                    })
                }
            }, {
                key: "_createKeyListener",
                value: function(t) {
                    return function(e) {
                        (e.keyCode || Number(e.key)) === Bt.a.SPACE && t && t.call()
                    }
                }
            }, {
                key: "_clearDialog",
                value: function(t) {
                    var e = this,
                        n = t.alertBox,
                        i = t.overlay,
                        o = t.keyListener;
                    n.interactive = !1, n.removeAllListeners("click"), n.removeAllListeners("tap"), window.removeEventListener("keydown", o), setTimeout(function() {
                        e.removeChild(n)
                    }, 0), setTimeout(function() {
                        e.removeChild(i)
                    }, 0)
                }
            }, {
                key: "_addAlertBoxListeners",
                value: function(t) {
                    var e = t.alertBox,
                        n = t.keyListener,
                        i = t.callback;
                    i && (e.interactive = !0, this._onClick(e, i)), window.addEventListener("keydown", n)
                }
            }, {
                key: "_centerAlertBox",
                value: function(t) {
                    var e = this._config.display;
                    return t.x = .5 * (e.width - t.width), t.y = .5 * (e.height - t.height), t
                }
            }, {
                key: "hideAlert",
                value: function() {
                    return this.emit(Ft.HIDE), this
                }
            }, {
                key: "hasAlert",
                value: function() {
                    return Boolean(this._message)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._config = null, this._assets = null, ut.a.prototype.destroy.call(this)
                }
            }]), e
    }();

    function Vt(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    var Xt = function() {
            function t(e, n, i) {
                ! function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                }(this, t), this._config = e, this._assets = n, this._layoutAdjuster = i
            }
            return function(t, e, n) {
                e && Vt(t.prototype, e), n && Vt(t, n)
            }(t, [{
                key: "createMainPanel",
                value: function(t) {
                    var e = new Lt(t, this._config, this._assets, this._layoutAdjuster);
                    return this._layoutAdjuster.adjustToMain(e)
                }
            }, {
                key: "createDialogDisplay",
                value: function() {
                    var t = new qt(this._config, this._assets);
                    return this._layoutAdjuster.adjustToMain(t)
                }
            }]), t
        }(),
        zt = n(11),
        Qt = n(14);

    function Jt(t) {
        return (Jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }

    function $t(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function Zt(t) {
        return (Zt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function te(t, e) {
        return (te = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e, t
        })(t, e)
    }

    function ee(t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    var ne = function(t) {
        function e(t) {
            var n, i = t.model,
                o = t.config,
                r = t.assets,
                a = t.layoutAdjuster;
            return function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, e), (n = function(t, e) {
                return !e || "object" !== Jt(e) && "function" != typeof e ? ee(t) : e
            }(this, Zt(e).call(this)))._model = i, n._config = o, n._assets = r, n._layoutAdjuster = a, n._layoutAdjuster.scaleMainView(ee(ee(n))), n._init(), n
        }
        return function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        writable: !0,
                        configurable: !0
                    }
                }), e && te(t, e)
            }(e, i["Container"]),
            function(t, e, n) {
                e && $t(t.prototype, e), n && $t(t, n)
            }(e, [{
                key: "_init",
                value: function() {
                    var t = this._createWorkshop();
                    this._alwaysOnTop = [], this._updateModeView(), this._model.on(L.a.MODE_CHANGE, this._createModeChangeHandler(t), this), this._model.on(L.a.ERROR_CHANGE, this._handleChangeError, this), this._model.on(L.a.SERVER_STATUS_CHANGE, this._handleChangeServerStatus, this), this._addDialogDisplay(t)
                }
            }, {
                key: "_createWorkshop",
                value: function() {
                    return new Xt(this._config, this._assets, this._layoutAdjuster)
                }
            }, {
                key: "_updateModeView",
                value: function() {
                    return this._view && (this._view.removeListener(zt.a.REQUEST_FULLSCREEN, this._handleFullscreenRequest), this._view.removeListener(zt.a.CONTROLS_CHANGE, this._handleControlsChange), this.removeChild(this._view)), this._model.mode && this._model.mode.view && (this._view = this._model.mode.view, this._view.on(zt.a.REQUEST_FULLSCREEN, this._handleFullscreenRequest, this), this._view.on(zt.a.CONTROLS_CHANGE, this._handleControlsChange, this), this.addChild(this._view), this._handleControlsChange(), this.updateInteractionState()), this._view
                }
            }, {
                key: "updateInteractionState",
                value: function() {
                    return this._interactionManager && (this._interactionManager.autoPreventDefault = !p.a.requiresScrolling()), this
                }
            }, {
                key: "_handleControlsChange",
                value: function() {
                    this._view && this._interactionManager && (this._interactionManager.autoPreventDefault || this._view.temporarilyDisableControls())
                }
            }, {
                key: "_handleFullscreenRequest",
                value: function() {
                    this.emit(j.a.REQUEST_FULLSCREEN)
                }
            }, {
                key: "_addFPSMeter",
                value: function() {
                    return this._fpsMeter = new N, this._alwaysOnTop.push(this._fpsMeter), this.addChild(this._fpsMeter), this._fpsMeter
                }
            }, {
                key: "_addDialogDisplay",
                value: function(t) {
                    return this._dialogDisplay = t.createDialogDisplay(), this._alwaysOnTop.push(this._dialogDisplay), this.addChild(this._dialogDisplay), this._dialogDisplay
                }
            }, {
                key: "_createModeChangeHandler",
                value: function(t) {
                    return function(e, n) {
                        n && this._updateMainPanel(t, n.type), this._updateModeView(), this._updateAlwaysOnTop()
                    }
                }
            }, {
                key: "_updateMainPanel",
                value: function(t, e) {
                    if (e === q.a.PRELOAD || this._mainPanel || this._initializeMainPanel(t), this._mainPanel) {
                        var n = [q.a.SLOT, q.a.GAMBLE].indexOf(e) > -1;
                        this._mainPanel.visible = n
                    }
                }
            }, {
                key: "_initializeMainPanel",
                value: function(t) {
                    var e = this;
                    return this._mainPanel = t.createMainPanel(this._model), this._mainPanel.on(j.a.BET_SETTINGS_TAP, function() {
                        e._dialogDisplay.hasAlert() || e.emit(j.a.BET_SETTINGS_TAP)
                    }), this._mainPanel.on(G.a.TEXT_COUNT_COMPLETE, function() {
                        e.emit(j.a.WIN_COUNT_COMPLETE)
                    }), this._alwaysOnTop.unshift(this._mainPanel), this.addChild(this._mainPanel), this._mainPanel
                }
            }, {
                key: "_handleChangeError",
                value: function(t, e) {
                    var n = this;
                    if (e) switch (e.code) {
                        case Qt.a.PLAYER_KICKED_ERROR:
                        case Qt.a.IMPOSSIBLE_ERROR:
                        case Qt.a.LOGIN_REQUIRED_ERROR:
                            this.emit(j.a.CRITICAL_FAULT_CONFIRM);
                            break;
                        default:
                            this.showAlert(e.message, function() {
                                n.emit(j.a.DIALOG_CONFIRM, e)
                            })
                    }
                }
            }, {
                key: "_updateAlwaysOnTop",
                value: function() {
                    var t = this;
                    return this._alwaysOnTop.forEach(function(e) {
                        t.removeChild(e), t.addChild(e)
                    }), this._alwaysOnTop.length
                }
            }, {
                key: "enterFrame",
                value: function() {
                    this._fpsMeter && this._fpsMeter.enterFrame()
                }
            }, {
                key: "showAlert",
                value: function(t, e) {
                    return this._view.disableControls(), this._dialogDisplay.showAlert(t, e), this
                }
            }, {
                key: "hideAlert",
                value: function() {
                    return this._dialogDisplay.hideAlert(), this._view.enableControls(), this
                }
            }, {
                key: "_handleChangeServerStatus",
                value: function(t, e) {
                    switch (e) {
                        case C.a.CONNECTED:
                            this.hideAlert();
                            break;
                        case C.a.DISCONNECTED:
                            this._model.error || this._showDelayedDisconnectMessage()
                    }
                }
            }, {
                key: "_showDelayedDisconnectMessage",
                value: function() {
                    var t = this;
                    clearTimeout(this._disconnectMessageDelay), this._disconnectMessageDelay = setTimeout(function() {
                        t._model.error || t._model.serverStatus !== C.a.DISCONNECTED || t.showAlert(t._config.language.disconnected, function() {
                            t.emit(j.a.DIALOG_CONFIRM, {
                                isCritical: !1,
                                code: Qt.a.SERVER_TIMEOUT_ERROR
                            })
                        })
                    }, 1e3)
                }
            }, {
                key: "switchControlsAlignment",
                value: function() {
                    var t = this._model.slot.view.switchControlsAlignment();
                    this._model.gamble.view.switchControlsAlignment(), this._model.settings.view.switchControlsAlignment(), this._mainPanel && (this._mainPanel.x += t)
                }
            }, {
                key: "setInteractionManager",
                value: function(t) {
                    this._interactionManager = t
                }
            }, {
                key: "addToTop",
                value: function(t) {
                    t.parent !== this._mainPanel && this._mainPanel.addChild(t)
                }
            }, {
                key: "getScatterGamesWidget",
                value: function() {
                    return this._mainPanel.getScatterGamesWidget()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._model.off(), this._model = null, this._config = null, this._assets = null, this._layoutAdjuster = null, this._interactionManager = null, this._alwaysOnTop = null, this._mainPanel && (this._mainPanel.removeAllListeners(), this._mainPanel.destroy(), this._mainPanel = null), this._dialogDisplay && (this._dialogDisplay.removeAllListeners(), this._dialogDisplay.destroy(), this._dialogDisplay = null), this._fpsMeter = null, this._view = null, clearTimeout(this._disconnectMessageDelay), this._disconnectMessageDelay = null, this.removeChildren(), i.Container.prototype.destroy.call(this)
                }
            }]), e
    }();

    function ie(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }
    n.d(e, "a", function() {
        return oe
    });
    var oe = function() {
        function t(e, n) {
            ! function(t, e) {
                if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
            }(this, t), this._Model = A, this._View = n.View || ne, this._Controller = n.Controller || g.a, this._Renderer = n.Renderer || v, this._AssetLibrary = n.AssetLibrary || y, this._LayoutAdjuster = n.LayoutAdjuster || d.a, this._howlerWrapper = n.howler, this._config = e
        }
        return function(t, e, n) {
            e && ie(t.prototype, e), n && ie(t, n)
        }(t, [{
            key: "createModel",
            value: function() {
                return new this._Model
            }
        }, {
            key: "createView",
            value: function(t) {
                var e = t.model,
                    n = t.config,
                    i = t.assets,
                    o = t.layoutAdjuster;
                return new this._View({
                    model: e,
                    config: n || this._config,
                    assets: i,
                    layoutAdjuster: o
                })
            }
        }, {
            key: "createController",
            value: function(t) {
                var e = t.model,
                    n = t.view,
                    i = t.config,
                    o = t.assets,
                    r = t.layoutAdjuster,
                    a = t.authToken,
                    s = t.socket,
                    u = t.exitCallback,
                    l = t.beforeExitCallback,
                    c = t.logService;
                return new this._Controller({
                    model: e,
                    view: n,
                    config: i || this._config,
                    assets: o,
                    layoutAdjuster: r,
                    authToken: a,
                    socket: s,
                    exitCallback: u,
                    beforeExitCallback: l,
                    logService: c
                })
            }
        }, {
            key: "createRenderer",
            value: function(t) {
                return new this._Renderer(t, this._config.display)
            }
        }, {
            key: "createAssetLibrary",
            value: function() {
                return new this._AssetLibrary(this._config.assets, this._howlerWrapper)
            }
        }, {
            key: "createLayoutAdjuster",
            value: function() {
                return new this._LayoutAdjuster(this._config.display)
            }
        }]), t
    }()
}, function(t, e, n) {
    var i = n(46),
        o = n(72),
        r = n(29),
        a = n(53),
        s = 1 / 0,
        u = i ? i.prototype : void 0,
        l = u ? u.toString : void 0;
    t.exports = function t(e) {
        if ("string" == typeof e) return e;
        if (r(e)) return o(e, t) + "";
        if (a(e)) return l ? l.call(e) : "";
        var n = e + "";
        return "0" == n && 1 / e == -s ? "-0" : n
    }
}, function(t, e, n) {
    var i = n(46),
        o = Object.prototype,
        r = o.hasOwnProperty,
        a = o.toString,
        s = i ? i.toStringTag : void 0;
    t.exports = function(t) {
        var e = r.call(t, s),
            n = t[s];
        try {
            t[s] = void 0;
            var i = !0
        } catch (t) {}
        var o = a.call(t);
        return i && (e ? t[s] = n : delete t[s]), o
    }
}, function(t, e) {
    var n = Object.prototype.toString;
    t.exports = function(t) {
        return n.call(t)
    }
}, function(t, e, n) {
    var i = n(54),
        o = n(131),
        r = n(38),
        a = n(97),
        s = /^\[object .+?Constructor\]$/,
        u = Function.prototype,
        l = Object.prototype,
        c = u.toString,
        h = l.hasOwnProperty,
        f = RegExp("^" + c.call(h).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + slotCurrency);
    t.exports = function(t) {
        return !(!r(t) || o(t)) && (i(t) ? f : s).test(a(t))
    }
}, function(t, e, n) {
    var i = n(132),
        o = function() {
            var t = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "");
            return t ? "Symbol(src)_1." + t : ""
        }();
    t.exports = function(t) {
        return !!o && o in t
    }
}, function(t, e, n) {
    var i = n(33)["__core-js_shared__"];
    t.exports = i
}, function(t, e) {
    t.exports = function(t, e) {
        return null == t ? void 0 : t[e]
    }
}, function(t, e, n) {
    var i = n(98),
        o = n(139);
    t.exports = function(t) {
        return i(function(e, n) {
            var i = -1,
                r = n.length,
                a = r > 1 ? n[r - 1] : void 0,
                s = r > 2 ? n[2] : void 0;
            for (a = t.length > 3 && "function" == typeof a ? (r--, a) : void 0, s && o(n[0], n[1], s) && (a = r < 3 ? void 0 : a, r = 1), e = Object(e); ++i < r;) {
                var u = n[i];
                u && t(e, u, i, a)
            }
            return e
        })
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        switch (n.length) {
            case 0:
                return t.call(e);
            case 1:
                return t.call(e, n[0]);
            case 2:
                return t.call(e, n[0], n[1]);
            case 3:
                return t.call(e, n[0], n[1], n[2])
        }
        return t.apply(e, n)
    }
}, function(t, e, n) {
    var i = n(137),
        o = n(96),
        r = n(74),
        a = o ? function(t, e) {
            return o(t, "toString", {
                configurable: !0,
                enumerable: !1,
                value: i(e),
                writable: !0
            })
        } : r;
    t.exports = a
}, function(t, e) {
    t.exports = function(t) {
        return function() {
            return t
        }
    }
}, function(t, e) {
    var n = 800,
        i = 16,
        o = Date.now;
    t.exports = function(t) {
        var e = 0,
            r = 0;
        return function() {
            var a = o(),
                s = i - (a - r);
            if (r = a, s > 0) {
                if (++e >= n) return arguments[0]
            } else e = 0;
            return t.apply(void 0, arguments)
        }
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(55),
        r = n(39),
        a = n(76),
        s = n(38);
    t.exports = function(t, e, n) {
        if (!s(n)) return !1;
        var u = i(e);
        return !!("number" == u ? r(n) && a(e, n.length) : "string" == u && e in n) && o(n[e], t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = Array(t); ++n < t;) i[n] = e(n);
        return i
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(32),
        r = "[object Arguments]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e) {
    t.exports = function() {
        return !1
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(75),
        r = n(32),
        a = {};
    a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0, a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1, t.exports = function(t) {
        return r(t) && o(t.length) && !!a[i(t)]
    }
}, function(t, e, n) {
    var i = n(103)(Object.keys, Object);
    t.exports = i
}, function(t, e, n) {
    var i = n(72),
        o = n(146),
        r = n(193),
        a = n(51),
        s = n(47),
        u = n(202),
        l = n(204),
        c = n(111),
        h = l(function(t, e) {
            var n = {};
            if (null == t) return n;
            var l = !1;
            e = i(e, function(e) {
                return e = a(e, t), l || (l = e.length > 1), e
            }), s(t, c(t), n), l && (n = o(n, 7, u));
            for (var h = e.length; h--;) r(n, e[h]);
            return n
        });
    t.exports = h
}, function(t, e, n) {
    var i = n(104),
        o = n(105),
        r = n(73),
        a = n(169),
        s = n(170),
        u = n(173),
        l = n(174),
        c = n(175),
        h = n(177),
        f = n(109),
        _ = n(111),
        y = n(50),
        d = n(181),
        p = n(182),
        m = n(187),
        v = n(29),
        g = n(57),
        b = n(189),
        S = n(38),
        w = n(191),
        k = n(41),
        E = 1,
        T = 2,
        C = 4,
        O = "[object Arguments]",
        A = "[object Function]",
        P = "[object GeneratorFunction]",
        I = "[object Object]",
        x = {};
    x[O] = x["[object Array]"] = x["[object ArrayBuffer]"] = x["[object DataView]"] = x["[object Boolean]"] = x["[object Date]"] = x["[object Float32Array]"] = x["[object Float64Array]"] = x["[object Int8Array]"] = x["[object Int16Array]"] = x["[object Int32Array]"] = x["[object Map]"] = x["[object Number]"] = x[I] = x["[object RegExp]"] = x["[object Set]"] = x["[object String]"] = x["[object Symbol]"] = x["[object Uint8Array]"] = x["[object Uint8ClampedArray]"] = x["[object Uint16Array]"] = x["[object Uint32Array]"] = !0, x["[object Error]"] = x[A] = x["[object WeakMap]"] = !1, t.exports = function t(e, n, R, W, N, j) {
        var L, G = n & E,
            M = n & T,
            B = n & C;
        if (R && (L = N ? R(e, W, N, j) : R(e)), void 0 !== L) return L;
        if (!S(e)) return e;
        var F = v(e);
        if (F) {
            if (L = d(e), !G) return l(e, L)
        } else {
            var H = y(e),
                D = H == A || H == P;
            if (g(e)) return u(e, G);
            if (H == I || H == O || D && !N) {
                if (L = M || D ? {} : m(e), !G) return M ? h(e, s(L, e)) : c(e, a(L, e))
            } else {
                if (!x[H]) return N ? e : {};
                L = p(e, H, G)
            }
        }
        j || (j = new i);
        var K = j.get(e);
        if (K) return K;
        if (j.set(e, L), w(e)) return e.forEach(function(i) {
            L.add(t(i, n, R, i, e, j))
        }), L;
        if (b(e)) return e.forEach(function(i, o) {
            L.set(o, t(i, n, R, o, e, j))
        }), L;
        var U = B ? M ? _ : f : M ? keysIn : k,
            Y = F ? void 0 : U(e);
        return o(Y || e, function(i, o) {
            Y && (i = e[o = i]), r(L, o, t(i, n, R, o, e, j))
        }), L
    }
}, function(t, e) {
    t.exports = function() {
        this.__data__ = [], this.size = 0
    }
}, function(t, e, n) {
    var i = n(61),
        o = Array.prototype.splice;
    t.exports = function(t) {
        var e = this.__data__,
            n = i(e, t);
        return !(n < 0 || (n == e.length - 1 ? e.pop() : o.call(e, n, 1), --this.size, 0))
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t) {
        var e = this.__data__,
            n = i(e, t);
        return n < 0 ? void 0 : e[n][1]
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t) {
        return i(this.__data__, t) > -1
    }
}, function(t, e, n) {
    var i = n(61);
    t.exports = function(t, e) {
        var n = this.__data__,
            o = i(n, t);
        return o < 0 ? (++this.size, n.push([t, e])) : n[o][1] = e, this
    }
}, function(t, e, n) {
    var i = n(60);
    t.exports = function() {
        this.__data__ = new i, this.size = 0
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = this.__data__,
            n = e.delete(t);
        return this.size = e.size, n
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.get(t)
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}, function(t, e, n) {
    var i = n(60),
        o = n(78),
        r = n(79),
        a = 200;
    t.exports = function(t, e) {
        var n = this.__data__;
        if (n instanceof i) {
            var s = n.__data__;
            if (!o || s.length < a - 1) return s.push([t, e]), this.size = ++n.size, this;
            n = this.__data__ = new r(s)
        }
        return n.set(t, e), this.size = n.size, this
    }
}, function(t, e, n) {
    var i = n(158),
        o = n(60),
        r = n(78);
    t.exports = function() {
        this.size = 0, this.__data__ = {
            hash: new i,
            map: new(r || o),
            string: new i
        }
    }
}, function(t, e, n) {
    var i = n(159),
        o = n(160),
        r = n(161),
        a = n(162),
        s = n(163);

    function u(t) {
        var e = -1,
            n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n;) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    u.prototype.clear = i, u.prototype.delete = o, u.prototype.get = r, u.prototype.has = a, u.prototype.set = s, t.exports = u
}, function(t, e, n) {
    var i = n(62);
    t.exports = function() {
        this.__data__ = i ? i(null) : {}, this.size = 0
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0, e
    }
}, function(t, e, n) {
    var i = n(62),
        o = "__lodash_hash_undefined__",
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        if (i) {
            var n = e[t];
            return n === o ? void 0 : n
        }
        return r.call(e, t) ? e[t] : void 0
    }
}, function(t, e, n) {
    var i = n(62),
        o = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        return i ? void 0 !== e[t] : o.call(e, t)
    }
}, function(t, e, n) {
    var i = n(62),
        o = "__lodash_hash_undefined__";
    t.exports = function(t, e) {
        var n = this.__data__;
        return this.size += this.has(t) ? 0 : 1, n[t] = i && void 0 === e ? o : e, this
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        var e = i(this, t).delete(t);
        return this.size -= e ? 1 : 0, e
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        return i(this, t).get(t)
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t) {
        return i(this, t).has(t)
    }
}, function(t, e, n) {
    var i = n(63);
    t.exports = function(t, e) {
        var n = i(this, t),
            o = n.size;
        return n.set(t, e), this.size += n.size == o ? 0 : 1, this
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(41);
    t.exports = function(t, e) {
        return t && i(e, o(e), t)
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(106);
    t.exports = function(t, e) {
        return t && i(e, o(e), t)
    }
}, function(t, e, n) {
    var i = n(38),
        o = n(49),
        r = n(172),
        a = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!i(t)) return r(t);
        var e = o(t),
            n = [];
        for (var s in t)("constructor" != s || !e && a.call(t, s)) && n.push(s);
        return n
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = [];
        if (null != t)
            for (var n in Object(t)) e.push(n);
        return e
    }
}, function(t, e, n) {
    (function(t) {
        function i(t) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            })(t)
        }
        var o = n(33),
            r = "object" == i(e) && e && !e.nodeType && e,
            a = r && "object" == i(t) && t && !t.nodeType && t,
            s = a && a.exports === r ? o.Buffer : void 0,
            u = s ? s.allocUnsafe : void 0;
        t.exports = function(t, e) {
            if (e) return t.slice();
            var n = t.length,
                i = u ? u(n) : new t.constructor(n);
            return t.copy(i), i
        }
    }).call(this, n(52)(t))
}, function(t, e) {
    t.exports = function(t, e) {
        var n = -1,
            i = t.length;
        for (e || (e = Array(i)); ++n < i;) e[n] = t[n];
        return e
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(80);
    t.exports = function(t, e) {
        return i(t, o(t), e)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = 0, r = []; ++n < i;) {
            var a = t[n];
            e(a, n, t) && (r[o++] = a)
        }
        return r
    }
}, function(t, e, n) {
    var i = n(47),
        o = n(108);
    t.exports = function(t, e) {
        return i(t, o(t), e)
    }
}, function(t, e, n) {
    var i = n(40)(n(33), "DataView");
    t.exports = i
}, function(t, e, n) {
    var i = n(40)(n(33), "Promise");
    t.exports = i
}, function(t, e, n) {
    var i = n(40)(n(33), "WeakMap");
    t.exports = i
}, function(t, e) {
    var n = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = t.length,
            i = new t.constructor(e);
        return e && "string" == typeof t[0] && n.call(t, "index") && (i.index = t.index, i.input = t.input), i
    }
}, function(t, e, n) {
    var i = n(83),
        o = n(183),
        r = n(184),
        a = n(185),
        s = n(186),
        u = "[object Boolean]",
        l = "[object Date]",
        c = "[object Map]",
        h = "[object Number]",
        f = "[object RegExp]",
        _ = "[object Set]",
        y = "[object String]",
        d = "[object Symbol]",
        p = "[object ArrayBuffer]",
        m = "[object DataView]",
        v = "[object Float32Array]",
        g = "[object Float64Array]",
        b = "[object Int8Array]",
        S = "[object Int16Array]",
        w = "[object Int32Array]",
        k = "[object Uint8Array]",
        E = "[object Uint8ClampedArray]",
        T = "[object Uint16Array]",
        C = "[object Uint32Array]";
    t.exports = function(t, e, n) {
        var O = t.constructor;
        switch (e) {
            case p:
                return i(t);
            case u:
            case l:
                return new O(+t);
            case m:
                return o(t, n);
            case v:
            case g:
            case b:
            case S:
            case w:
            case k:
            case E:
            case T:
            case C:
                return s(t, n);
            case c:
                return new O;
            case h:
            case y:
                return new O(t);
            case f:
                return r(t);
            case _:
                return new O;
            case d:
                return a(t)
        }
    }
}, function(t, e, n) {
    var i = n(83);
    t.exports = function(t, e) {
        var n = e ? i(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.byteLength)
    }
}, function(t, e) {
    var n = /\w*$/;
    t.exports = function(t) {
        var e = new t.constructor(t.source, n.exec(t));
        return e.lastIndex = t.lastIndex, e
    }
}, function(t, e, n) {
    var i = n(46),
        o = i ? i.prototype : void 0,
        r = o ? o.valueOf : void 0;
    t.exports = function(t) {
        return r ? Object(r.call(t)) : {}
    }
}, function(t, e, n) {
    var i = n(83);
    t.exports = function(t, e) {
        var n = e ? i(t.buffer) : t.buffer;
        return new t.constructor(n, t.byteOffset, t.length)
    }
}, function(t, e, n) {
    var i = n(188),
        o = n(82),
        r = n(49);
    t.exports = function(t) {
        return "function" != typeof t.constructor || r(t) ? {} : i(o(t))
    }
}, function(t, e, n) {
    var i = n(38),
        o = Object.create,
        r = function() {
            function t() {}
            return function(e) {
                if (!i(e)) return {};
                if (o) return o(e);
                t.prototype = e;
                var n = new t;
                return t.prototype = void 0, n
            }
        }();
    t.exports = r
}, function(t, e, n) {
    var i = n(190),
        o = n(58),
        r = n(59),
        a = r && r.isMap,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(50),
        o = n(32),
        r = "[object Map]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(192),
        o = n(58),
        r = n(59),
        a = r && r.isSet,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(50),
        o = n(32),
        r = "[object Set]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(198),
        r = n(199),
        a = n(64);
    t.exports = function(t, e) {
        return e = i(e, t), null == (t = r(t, e)) || delete t[a(o(e))]
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(29),
        r = n(53),
        a = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        s = /^\w*$/;
    t.exports = function(t, e) {
        if (o(t)) return !1;
        var n = i(t);
        return !("number" != n && "symbol" != n && "boolean" != n && null != t && !r(t)) || s.test(t) || !a.test(t) || null != e && t in Object(e)
    }
}, function(t, e, n) {
    var i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        o = /\\(\\)?/g,
        r = n(196)(function(t) {
            var e = [];
            return 46 === t.charCodeAt(0) && e.push(""), t.replace(i, function(t, n, i, r) {
                e.push(i ? r.replace(o, "$1") : n || t)
            }), e
        });
    t.exports = r
}, function(t, e, n) {
    var i = n(197),
        o = 500;
    t.exports = function(t) {
        var e = i(t, function(t) {
                return n.size === o && n.clear(), t
            }),
            n = e.cache;
        return e
    }
}, function(t, e, n) {
    var i = n(79),
        o = "Expected a function";

    function r(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e) throw new TypeError(o);
        var n = function n() {
            var i = arguments,
                o = e ? e.apply(this, i) : i[0],
                r = n.cache;
            if (r.has(o)) return r.get(o);
            var a = t.apply(this, i);
            return n.cache = r.set(o, a) || r, a
        };
        return n.cache = new(r.Cache || i), n
    }
    r.Cache = i, t.exports = r
}, function(t, e) {
    t.exports = function(t) {
        var e = null == t ? 0 : t.length;
        return e ? t[e - 1] : void 0
    }
}, function(t, e, n) {
    var i = n(200),
        o = n(201);
    t.exports = function(t, e) {
        return e.length < 2 ? t : i(t, o(e, 0, -1))
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(64);
    t.exports = function(t, e) {
        for (var n = 0, r = (e = i(e, t)).length; null != t && n < r;) t = t[o(e[n++])];
        return n && n == r ? t : void 0
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        var i = -1,
            o = t.length;
        e < 0 && (e = -e > o ? 0 : o + e), (n = n > o ? o : n) < 0 && (n += o), o = e > n ? 0 : n - e >>> 0, e >>>= 0;
        for (var r = Array(o); ++i < o;) r[i] = t[i + e];
        return r
    }
}, function(t, e, n) {
    var i = n(203);
    t.exports = function(t) {
        return i(t) ? void 0 : t
    }
}, function(t, e, n) {
    var i = n(37),
        o = n(82),
        r = n(32),
        a = "[object Object]",
        s = Function.prototype,
        u = Object.prototype,
        l = s.toString,
        c = u.hasOwnProperty,
        h = l.call(Object);
    t.exports = function(t) {
        if (!r(t) || i(t) != a) return !1;
        var e = o(t);
        if (null === e) return !0;
        var n = c.call(e, "constructor") && e.constructor;
        return "function" == typeof n && n instanceof n && l.call(n) == h
    }
}, function(t, e, n) {
    var i = n(205),
        o = n(99),
        r = n(100);
    t.exports = function(t) {
        return r(o(t, void 0, i), t + "")
    }
}, function(t, e, n) {
    var i = n(114);
    t.exports = function(t) {
        return null != t && t.length ? i(t, 1) : []
    }
}, function(t, e, n) {
    var i = n(46),
        o = n(56),
        r = n(29),
        a = i ? i.isConcatSpreadable : void 0;
    t.exports = function(t) {
        return r(t) || o(t) || !!(a && t && t[a])
    }
}, function(t, e, n) {
    var i = n(208),
        o = n(71),
        r = /[&<>"']/g,
        a = RegExp(r.source);
    t.exports = function(t) {
        return (t = o(t)) && a.test(t) ? t.replace(r, i) : t
    }
}, function(t, e, n) {
    var i = n(209)({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
    });
    t.exports = i
}, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return null == t ? void 0 : t[e]
        }
    }
}, function(t, e, n) {
    var i = n(115),
        o = n(116);
    t.exports = function(t, e) {
        return t && i(t, o(e))
    }
}, function(t, e, n) {
    var i = n(212)();
    t.exports = i
}, function(t, e) {
    t.exports = function(t) {
        return function(e, n, i) {
            for (var o = -1, r = Object(e), a = i(e), s = a.length; s--;) {
                var u = a[t ? s : ++o];
                if (!1 === n(r[u], u, r)) break
            }
            return e
        }
    }
}, function(t, e, n) {
    var i = n(117),
        o = n(39),
        r = n(118),
        a = n(119),
        s = n(219),
        u = Math.max;
    t.exports = function(t, e, n, l) {
        t = o(t) ? t : s(t), n = n && !l ? a(n) : 0;
        var c = t.length;
        return n < 0 && (n = u(c + n, 0)), r(t) ? n <= c && t.indexOf(e, n) > -1 : !!c && i(t, e, n) > -1
    }
}, function(t, e) {
    t.exports = function(t, e, n, i) {
        for (var o = t.length, r = n + (i ? 1 : -1); i ? r-- : ++r < o;)
            if (e(t[r], r, t)) return r;
        return -1
    }
}, function(t, e) {
    t.exports = function(t) {
        return t != t
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        for (var i = n - 1, o = t.length; ++i < o;)
            if (t[i] === e) return i;
        return -1
    }
}, function(t, e, n) {
    var i = n(218),
        o = 1 / 0,
        r = 1.7976931348623157e308;
    t.exports = function(t) {
        return t ? (t = i(t)) === o || t === -o ? (t < 0 ? -1 : 1) * r : t == t ? t : 0 : 0 === t ? t : 0
    }
}, function(t, e, n) {
    var i = n(38),
        o = n(53),
        r = NaN,
        a = /^\s+|\s+$/g,
        s = /^[-+]0x[0-9a-f]+$/i,
        u = /^0b[01]+$/i,
        l = /^0o[0-7]+$/i,
        c = parseInt;
    t.exports = function(t) {
        if ("number" == typeof t) return t;
        if (o(t)) return r;
        if (i(t)) {
            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = i(e) ? e + "" : e
        }
        if ("string" != typeof t) return 0 === t ? t : +t;
        t = t.replace(a, "");
        var n = u.test(t);
        return n || l.test(t) ? c(t.slice(2), n ? 2 : 8) : s.test(t) ? r : +t
    }
}, function(t, e, n) {
    var i = n(220),
        o = n(41);
    t.exports = function(t) {
        return null == t ? [] : i(t, o(t))
    }
}, function(t, e, n) {
    var i = n(72);
    t.exports = function(t, e) {
        return i(e, function(e) {
            return t[e]
        })
    }
}, function(t, e, n) {
    var i = n(222),
        o = n(58),
        r = n(59),
        a = r && r.isDate,
        s = a ? o(a) : i;
    t.exports = s
}, function(t, e, n) {
    var i = n(37),
        o = n(32),
        r = "[object Date]";
    t.exports = function(t) {
        return o(t) && i(t) == r
    }
}, function(t, e, n) {
    var i = n(224);
    t.exports = function(t, e) {
        return i(t, e)
    }
}, function(t, e, n) {
    var i = n(225),
        o = n(32);
    t.exports = function t(e, n, r, a, s) {
        return e === n || (null == e || null == n || !o(e) && !o(n) ? e != e && n != n : i(e, n, r, a, t, s))
    }
}, function(t, e, n) {
    var i = n(104),
        o = n(120),
        r = n(229),
        a = n(231),
        s = n(50),
        u = n(29),
        l = n(57),
        c = n(77),
        h = 1,
        f = "[object Arguments]",
        _ = "[object Array]",
        y = "[object Object]",
        d = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, p, m, v) {
        var g = u(t),
            b = u(e),
            S = g ? _ : s(t),
            w = b ? _ : s(e),
            k = (S = S == f ? y : S) == y,
            E = (w = w == f ? y : w) == y,
            T = S == w;
        if (T && l(t)) {
            if (!l(e)) return !1;
            g = !0, k = !1
        }
        if (T && !k) return v || (v = new i), g || c(t) ? o(t, e, n, p, m, v) : r(t, e, S, n, p, m, v);
        if (!(n & h)) {
            var C = k && d.call(t, "__wrapped__"),
                O = E && d.call(e, "__wrapped__");
            if (C || O) {
                var A = C ? t.value() : t,
                    P = O ? e.value() : e;
                return v || (v = new i), m(A, P, n, p, v)
            }
        }
        return !!T && (v || (v = new i), a(t, e, n, p, m, v))
    }
}, function(t, e) {
    var n = "__lodash_hash_undefined__";
    t.exports = function(t) {
        return this.__data__.set(t, n), this
    }
}, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i;)
            if (e(t[n], n, t)) return !0;
        return !1
    }
}, function(t, e, n) {
    var i = n(46),
        o = n(113),
        r = n(55),
        a = n(120),
        s = n(230),
        u = n(84),
        l = 1,
        c = 2,
        h = "[object Boolean]",
        f = "[object Date]",
        _ = "[object Error]",
        y = "[object Map]",
        d = "[object Number]",
        p = "[object RegExp]",
        m = "[object Set]",
        v = "[object String]",
        g = "[object Symbol]",
        b = "[object ArrayBuffer]",
        S = "[object DataView]",
        w = i ? i.prototype : void 0,
        k = w ? w.valueOf : void 0;
    t.exports = function(t, e, n, i, w, E, T) {
        switch (n) {
            case S:
                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
                t = t.buffer, e = e.buffer;
            case b:
                return !(t.byteLength != e.byteLength || !E(new o(t), new o(e)));
            case h:
            case f:
            case d:
                return r(+t, +e);
            case _:
                return t.name == e.name && t.message == e.message;
            case p:
            case v:
                return t == e + "";
            case y:
                var C = s;
            case m:
                var O = i & l;
                if (C || (C = u), t.size != e.size && !O) return !1;
                var A = T.get(t);
                if (A) return A == e;
                i |= c, T.set(t, e);
                var P = a(C(t), C(e), i, w, E, T);
                return T.delete(t), P;
            case g:
                if (k) return k.call(t) == k.call(e)
        }
        return !1
    }
}, function(t, e) {
    t.exports = function(t) {
        var e = -1,
            n = Array(t.size);
        return t.forEach(function(t, i) {
            n[++e] = [i, t]
        }), n
    }
}, function(t, e, n) {
    var i = n(109),
        o = 1,
        r = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, a, s, u) {
        var l = n & o,
            c = i(t),
            h = c.length;
        if (h != i(e).length && !l) return !1;
        for (var f = h; f--;) {
            var _ = c[f];
            if (!(l ? _ in e : r.call(e, _))) return !1
        }
        var y = u.get(t);
        if (y && u.get(e)) return y == e;
        var d = !0;
        u.set(t, e), u.set(e, t);
        for (var p = l; ++f < h;) {
            var m = t[_ = c[f]],
                v = e[_];
            if (a) var g = l ? a(v, m, _, e, t, u) : a(m, v, _, t, e, u);
            if (!(void 0 === g ? m === v || s(m, v, n, a, u) : g)) {
                d = !1;
                break
            }
            p || (p = "constructor" == _)
        }
        if (d && !p) {
            var b = t.constructor,
                S = e.constructor;
            b != S && "constructor" in t && "constructor" in e && !("function" == typeof b && b instanceof b && "function" == typeof S && S instanceof S) && (d = !1)
        }
        return u.delete(t), u.delete(e), d
    }
}, function(t, e, n) {
    var i = n(233),
        o = n(234);
    t.exports = function(t, e) {
        return null != t && o(t, e, i)
    }
}, function(t, e) {
    var n = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        return null != t && n.call(t, e)
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(56),
        r = n(29),
        a = n(76),
        s = n(75),
        u = n(64);
    t.exports = function(t, e, n) {
        for (var l = -1, c = (e = i(e, t)).length, h = !1; ++l < c;) {
            var f = u(e[l]);
            if (!(h = null != t && n(t, f))) break;
            t = t[f]
        }
        return h || ++l != c ? h : !!(c = null == t ? 0 : t.length) && s(c) && a(f, c) && (r(t) || o(t))
    }
}, function(t, e, n) {
    var i = n(51),
        o = n(54),
        r = n(64);
    t.exports = function(t, e, n) {
        var a = -1,
            s = (e = i(e, t)).length;
        for (s || (s = 1, t = void 0); ++a < s;) {
            var u = null == t ? void 0 : t[r(e[a])];
            void 0 === u && (a = s, u = n), t = o(u) ? u.call(t) : u
        }
        return t
    }
}, function(t, e, n) {
    var i = n(114),
        o = n(98),
        r = n(237),
        a = n(242),
        s = o(function(t) {
            return r(i(t, 1, a, !0))
        });
    t.exports = s
}, function(t, e, n) {
    var i = n(121),
        o = n(238),
        r = n(239),
        a = n(122),
        s = n(240),
        u = n(84),
        l = 200;
    t.exports = function(t, e, n) {
        var c = -1,
            h = o,
            f = t.length,
            _ = !0,
            y = [],
            d = y;
        if (n) _ = !1, h = r;
        else if (f >= l) {
            var p = e ? null : s(t);
            if (p) return u(p);
            _ = !1, h = a, d = new i
        } else d = e ? [] : y;
        t: for (; ++c < f;) {
            var m = t[c],
                v = e ? e(m) : m;
            if (m = n || 0 !== m ? m : 0, _ && v == v) {
                for (var g = d.length; g--;)
                    if (d[g] === v) continue t;
                e && d.push(v), y.push(m)
            } else h(d, v, n) || (d !== y && d.push(v), y.push(m))
        }
        return y
    }
}, function(t, e, n) {
    var i = n(117);
    t.exports = function(t, e) {
        return !(null == t || !t.length) && i(t, e, 0) > -1
    }
}, function(t, e) {
    t.exports = function(t, e, n) {
        for (var i = -1, o = null == t ? 0 : t.length; ++i < o;)
            if (n(e, t[i])) return !0;
        return !1
    }
}, function(t, e, n) {
    var i = n(112),
        o = n(241),
        r = n(84),
        a = i && 1 / r(new i([, -0]))[1] == 1 / 0 ? function(t) {
            return new i(t)
        } : o;
    t.exports = a
}, function(t, e) {
    t.exports = function() {}
}, function(t, e, n) {
    var i = n(39),
        o = n(32);
    t.exports = function(t) {
        return o(t) && i(t)
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(244),
        r = n(41),
        a = n(246),
        s = n(94),
        u = n(247),
        l = Array.prototype.slice,
        c = n(250),
        h = {
            on: function(t, e, n) {
                return c.eventsApi(this, "on", t, [e, n]) && e ? (this._events || (this._events = {}), (this._events[t] || (this._events[t] = [])).push({
                    callback: e,
                    context: n,
                    ctx: n || this
                }), this) : this
            },
            once: function(t, e, n) {
                if (!c.eventsApi(this, "once", t, [e, n]) || !e) return this;
                var i = this,
                    r = o(function() {
                        i.off(t, r), e.apply(this, arguments)
                    });
                return r._callback = e, this.on(t, r, n)
            },
            off: function(t, e, n) {
                var i, o, a, s, u, l, h, f;
                if (!this._events || !c.eventsApi(this, "off", t, [e, n])) return this;
                if (!t && !e && !n) return this._events = void 0, this;
                for (u = 0, l = (s = t ? [t] : r(this._events)).length; u < l; u++)
                    if (t = s[u], a = this._events[t]) {
                        if (this._events[t] = i = [], e || n)
                            for (h = 0, f = a.length; h < f; h++) o = a[h], (e && e !== o.callback && e !== o.callback._callback || n && n !== o.context) && i.push(o);
                        i.length || delete this._events[t]
                    } return this
            },
            trigger: function(t) {
                if (!this._events) return this;
                var e = l.call(arguments, 1);
                if (!c.eventsApi(this, "trigger", t, e)) return this;
                var n = this._events[t],
                    i = this._events.all;
                return n && c.triggerEvents(n, e), i && c.triggerEvents(i, arguments), this
            },
            stopListening: function(t, e, n) {
                var o = this._listeningTo;
                if (!o) return this;
                var r = !e && !n;
                n || "object" !== i(e) || (n = this), t && ((o = {})[t._listenId] = t);
                var s = this;
                return u(o, function(t, i) {
                    t.off(e, n, s), (r || a(t._events)) && delete s._listeningTo[i]
                }), this
            },
            createEmitter: function(t) {
                return s(t || {}, h)
            },
            listenTo: c.createListenMethod("on"),
            listenToOnce: c.createListenMethod("once"),
            listenToAndRun: function(t, e, n) {
                return this.listenTo.apply(this, arguments), n || "object" !== i(e) || (n = this), n.apply(this), this
            }
        };
    h.bind = h.on, h.unbind = h.off, h.removeListener = h.off, h.removeAllListeners = h.off, h.emit = h.trigger, t.exports = h
}, function(t, e, n) {
    var i = n(245);
    t.exports = function(t) {
        return i(2, t)
    }
}, function(t, e, n) {
    var i = n(119),
        o = "Expected a function";
    t.exports = function(t, e) {
        var n;
        if ("function" != typeof e) throw new TypeError(o);
        return t = i(t),
            function() {
                return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = void 0), n
            }
    }
}, function(t, e, n) {
    var i = n(102),
        o = n(50),
        r = n(56),
        a = n(29),
        s = n(39),
        u = n(57),
        l = n(49),
        c = n(77),
        h = "[object Map]",
        f = "[object Set]",
        _ = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (null == t) return !0;
        if (s(t) && (a(t) || "string" == typeof t || "function" == typeof t.splice || u(t) || c(t) || r(t))) return !t.length;
        var e = o(t);
        if (e == h || e == f) return !t.size;
        if (l(t)) return !i(t).length;
        for (var n in t)
            if (_.call(t, n)) return !1;
        return !0
    }
}, function(t, e, n) {
    var i = n(105),
        o = n(248),
        r = n(116),
        a = n(29);
    t.exports = function(t, e) {
        return (a(t) ? i : o)(t, r(e))
    }
}, function(t, e, n) {
    var i = n(115),
        o = n(249)(i);
    t.exports = o
}, function(t, e, n) {
    var i = n(39);
    t.exports = function(t, e) {
        return function(n, o) {
            if (null == n) return n;
            if (!i(n)) return t(n, o);
            for (var r = n.length, a = e ? r : -1, s = Object(n);
                (e ? a-- : ++a < r) && !1 !== o(s[a], a, s););
            return n
        }
    }
}, function(t, e, n) {
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var o = n(92),
        r = /\s+/;
    e.triggerEvents = function(t, e) {
        var n, i = -1,
            o = t.length,
            r = e[0],
            a = e[1],
            s = e[2];
        switch (e.length) {
            case 0:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx);
                return;
            case 1:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r);
                return;
            case 2:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r, a);
                return;
            case 3:
                for (; ++i < o;)(n = t[i]).callback.call(n.ctx, r, a, s);
                return;
            default:
                for (; ++i < o;)(n = t[i]).callback.apply(n.ctx, e);
                return
        }
    }, e.eventsApi = function(t, e, n, o) {
        if (!n) return !0;
        if ("object" === i(n)) {
            for (var a in n) t[e].apply(t, [a, n[a]].concat(o));
            return !1
        }
        if (r.test(n)) {
            for (var s = n.split(r), u = 0, l = s.length; u < l; u++) t[e].apply(t, [s[u]].concat(o));
            return !1
        }
        return !0
    }, e.createListenMethod = function(t) {
        return function(e, n, r) {
            if (!e) throw new Error("Trying to listenTo event: '" + n + "' but the target object is undefined");
            if ((this._listeningTo || (this._listeningTo = {}))[e._listenId || (e._listenId = o("l"))] = e, r || "object" !== i(n) || (r = this), "function" != typeof e[t]) throw new Error("Trying to listenTo event: '" + n + "' on object: " + e.toString() + " but it does not have an 'on' method so is unbindable");
            return e[t](n, r, this), this
        }
    }
}, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        })(t)
    }
    var i = Array.prototype.slice;

    function o(t) {
        if ("object" !== n(t = t || {})) throw new TypeError("Options must be an object");
        this.storage = {}, this.separator = t.separator || "."
    }
    o.prototype.add = function(t, e) {
        (this.storage[t] || (this.storage[t] = [])).push(e)
    }, o.prototype.remove = function(t) {
        var e, n;
        for (e in this.storage)(n = this.storage[e]).some(function(e, i) {
            if (e === t) return n.splice(i, 1), !0
        })
    }, o.prototype.get = function(t) {
        var e, n = [];
        for (e in this.storage) t && t !== e && 0 !== e.indexOf(t + this.separator) || (n = n.concat(this.storage[e]));
        return n
    }, o.prototype.getGrouped = function(t) {
        var e, n = {};
        for (e in this.storage) t && t !== e && 0 !== e.indexOf(t + this.separator) || (n[e] = i.call(this.storage[e]));
        return n
    }, o.prototype.getAll = function(t) {
        var e, n = {};
        for (e in this.storage) t !== e && 0 !== e.indexOf(t + this.separator) || (n[e] = i.call(this.storage[e]));
        return n
    }, o.prototype.run = function(t, e) {
        var n = i.call(arguments, 2);
        this.get(t).forEach(function(t) {
            t.apply(e || this, n)
        })
    }, t.exports = o
}, function(t, e) {
    t.exports = function(t, e) {
        var n = t.length,
            i = t.indexOf(e) + 1;
        return i > n - 1 && (i = 0), t[i]
    }
}, function(t, e, n) {
    "use strict";
    n.r(e), n.d(e, "init", function() {
        return s
    });
    var i = n(67),
        o = n(123),
        r = n(126),
        a = n(125);
    var s = function(t) {
        var e = t.defaultConfig,
            n = t.specificConfig,
            s = t.authToken,
            u = t.socket,
            l = t.exitCallback,
            c = t.beforeExitCallback,
            h = t.logService,
            f = t.isDemo,
            _ = a.a.merge(e, n),
            y = !!_.server.debug && Boolean(_.server.debug.demo);
        return new o.a({
            workshop: new r.a(_, {
                howler: new i.a
            }),
            authToken: s,
            socket: u,
            exitCallback: l,
            beforeExitCallback: c,
            logService: h,
            isDemo: f || y
        })
    }
}]);